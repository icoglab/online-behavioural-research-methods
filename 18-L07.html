<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>18&nbsp; Lab 7: Spatial Attention – Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./19-dynamic-flow.html" rel="next">
<link href="./17-dynamic-html.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f4f6c4c33169695420a9dce568207992.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
.tabset-fullscreen-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  z-index: 1000;
  padding: 5px 10px;
  background-color: none;
  color: #6c757d;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
}
.tabset-fullscreen-btn:hover {
  background-color: #e9ecef;
  color: #495057;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.panel-tabset').forEach(function(tabset) {
    const btn = document.createElement('button');
    btn.innerHTML = '⛶ Open Code in New Tab';
    btn.className = 'tabset-fullscreen-btn';

    tabset.style.position = 'relative';
    tabset.insertBefore(btn, tabset.firstChild);

    btn.addEventListener('click', function() {
      const clone = tabset.cloneNode(true);
      const cloneBtn = clone.querySelector('.tabset-fullscreen-btn');
      if (cloneBtn) cloneBtn.remove();

      // Get all stylesheets from current page
      const stylesheets = Array.from(document.styleSheets)
        .map(sheet => {
          try {
            if (sheet.href) {
              return `<link rel="stylesheet" href="${sheet.href}">`;
            } else if (sheet.ownerNode) {
              return `<style>${Array.from(sheet.cssRules).map(rule => rule.cssText).join('\n')}</style>`;
            }
          } catch (e) {
            if (sheet.href) return `<link rel="stylesheet" href="${sheet.href}">`;
          }
          return '';
        })
        .join('\n');

      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <html>
          <head>
            <title>Tab Panel View</title>
            ${stylesheets}
            <style>
              body { 
                margin: 20px auto; 
                padding: 20px; 
                max-width: 1200px;
              }
            </style>
          </head>
          <body>
            ${clone.outerHTML}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"><\/script>
          </body>
        </html>
      `);
      newWindow.document.close();
    });
  });
});
</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./17-dynamic-html.html">Unit 7: Dynamic Parameters</a></li><li class="breadcrumb-item"><a href="./18-L07.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 5: Multimedia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-multimedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-L05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 6: Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-data-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Accessing and Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-L06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab 6: Creativity</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 7: Dynamic Parameters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-dynamic-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dynamic Parameters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-L07.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 8: Controlling the Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-dynamic-flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Controlling the Flow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-L08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Lab 8: Cognitive Control</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 9: Skills Checkpoint</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-L09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Lab 9: Working Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 10: Randomization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Randomization in Experimental Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-L10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-L11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 11: Gamification</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-gamification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#research-in-brief-the-posner-cuing-paradigm" id="toc-research-in-brief-the-posner-cuing-paradigm" class="nav-link active" data-scroll-target="#research-in-brief-the-posner-cuing-paradigm"><span class="header-section-number">18.1</span> Research in Brief: The Posner Cuing Paradigm</a>
  <ul class="collapse">
  <li><a href="#the-research-area" id="toc-the-research-area" class="nav-link" data-scroll-target="#the-research-area"><span class="header-section-number">18.1.1</span> The Research Area</a></li>
  <li><a href="#types-of-attention" id="toc-types-of-attention" class="nav-link" data-scroll-target="#types-of-attention"><span class="header-section-number">18.1.2</span> Types of Attention</a></li>
  <li><a href="#the-research-design" id="toc-the-research-design" class="nav-link" data-scroll-target="#the-research-design"><span class="header-section-number">18.1.3</span> The Research Design</a></li>
  <li><a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings"><span class="header-section-number">18.1.4</span> Key Findings</a></li>
  <li><a href="#implications" id="toc-implications" class="nav-link" data-scroll-target="#implications"><span class="header-section-number">18.1.5</span> Implications</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">18.1.6</span> Further Reading</a></li>
  </ul></li>
  <li><a href="#program-a-posner-cuing-task" id="toc-program-a-posner-cuing-task" class="nav-link" data-scroll-target="#program-a-posner-cuing-task"><span class="header-section-number">18.2</span> Program a Posner Cuing Task</a>
  <ul class="collapse">
  <li><a href="#initiate-jspsych" id="toc-initiate-jspsych" class="nav-link" data-scroll-target="#initiate-jspsych"><span class="header-section-number">18.2.1</span> Initiate JsPsych</a></li>
  <li><a href="#create-an-outline" id="toc-create-an-outline" class="nav-link" data-scroll-target="#create-an-outline"><span class="header-section-number">18.2.2</span> Create an Outline</a></li>
  <li><a href="#create-an-html-display" id="toc-create-an-html-display" class="nav-link" data-scroll-target="#create-an-html-display"><span class="header-section-number">18.2.3</span> Create an HTML display</a></li>
  <li><a href="#copy-the-html-across-trials" id="toc-copy-the-html-across-trials" class="nav-link" data-scroll-target="#copy-the-html-across-trials"><span class="header-section-number">18.2.4</span> Copy the HTML across trials</a></li>
  <li><a href="#add-timeline-variables" id="toc-add-timeline-variables" class="nav-link" data-scroll-target="#add-timeline-variables"><span class="header-section-number">18.2.5</span> Add Timeline Variables</a></li>
  <li><a href="#add-cue-and-target-logic" id="toc-add-cue-and-target-logic" class="nav-link" data-scroll-target="#add-cue-and-target-logic"><span class="header-section-number">18.2.6</span> Add Cue and Target Logic</a></li>
  <li><a href="#change-to-75-valid-trials" id="toc-change-to-75-valid-trials" class="nav-link" data-scroll-target="#change-to-75-valid-trials"><span class="header-section-number">18.2.7</span> Change to 75% Valid Trials</a></li>
  <li><a href="#manipulate-cue-duration" id="toc-manipulate-cue-duration" class="nav-link" data-scroll-target="#manipulate-cue-duration"><span class="header-section-number">18.2.8</span> Manipulate Cue Duration</a></li>
  <li><a href="#instructions-styling" id="toc-instructions-styling" class="nav-link" data-scroll-target="#instructions-styling"><span class="header-section-number">18.2.9</span> Instructions &amp; Styling</a></li>
  <li><a href="#adding-feedback" id="toc-adding-feedback" class="nav-link" data-scroll-target="#adding-feedback"><span class="header-section-number">18.2.10</span> Adding Feedback</a></li>
  </ul></li>
  <li><a href="#stretch-goals" id="toc-stretch-goals" class="nav-link" data-scroll-target="#stretch-goals"><span class="header-section-number">18.3</span> Stretch Goals</a>
  <ul class="collapse">
  <li><a href="#add-proper-data-labels" id="toc-add-proper-data-labels" class="nav-link" data-scroll-target="#add-proper-data-labels"><span class="header-section-number">18.3.1</span> Add proper data labels</a></li>
  <li><a href="#create-a-block-of-trials-that-uses-an-endogenous-arrow-cue" id="toc-create-a-block-of-trials-that-uses-an-endogenous-arrow-cue" class="nav-link" data-scroll-target="#create-a-block-of-trials-that-uses-an-endogenous-arrow-cue"><span class="header-section-number">18.3.2</span> Create a block of trials that uses an endogenous arrow cue</a></li>
  <li><a href="#add-additional-feedback-logic" id="toc-add-additional-feedback-logic" class="nav-link" data-scroll-target="#add-additional-feedback-logic"><span class="header-section-number">18.3.3</span> Add Additional Feedback Logic</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/18-L07.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./17-dynamic-html.html">Unit 7: Dynamic Parameters</a></li><li class="breadcrumb-item"><a href="./18-L07.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="research-in-brief-the-posner-cuing-paradigm" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="research-in-brief-the-posner-cuing-paradigm"><span class="header-section-number">18.1</span> Research in Brief: The Posner Cuing Paradigm</h2>
<section id="the-research-area" class="level3" data-number="18.1.1">
<h3 data-number="18.1.1" class="anchored" data-anchor-id="the-research-area"><span class="header-section-number">18.1.1</span> The Research Area</h3>
<p>Attention refers to a family of cognitive mechanisms that combine to help us select, modulate, and sustain focus on information that might be most relevant for behavior. Our ability to process information is capacity-limited, meaning we can handle only small amounts of information at a time. Attention functions as an essential gatekeeper, allowing us to select and prioritize some information over other information when stimuli compete for our processing resources.</p>
<p>Attention research addresses fundamental questions about cognitive control and information processing. How do we decide what to focus on among competing stimuli? Can we prepare our attention for events before they occur? What mechanisms allow us to shift attention efficiently between different locations or objects? Understanding attention has important implications for performance in complex tasks, learning efficiency, and disorders affecting cognitive control.</p>
<p>The study of attention also connects to many practical applications in areas requiring sustained focus and rapid responses, such as air traffic control, driving, medical diagnosis, and educational settings. To investigate these attention mechanisms systematically, researchers have developed experimental paradigms that can isolate and measure different aspects of attentional processing under controlled conditions.</p>
</section>
<section id="types-of-attention" class="level3" data-number="18.1.2">
<h3 data-number="18.1.2" class="anchored" data-anchor-id="types-of-attention"><span class="header-section-number">18.1.2</span> Types of Attention</h3>
<p>Attention operates through several distinct but interconnected systems. Selective attention allows us to focus on relevant information while ignoring distractors, like following a conversation at a noisy party. Divided attention involves simultaneously processing multiple streams of information, such as listening to music while reading. Sustained attention refers to maintaining focus over extended periods, as required during long monitoring tasks.</p>
<p>Spatial attention represents a particularly important form of selective attention that involves directing cognitive resources to specific locations in visual space. Unlike other forms of attention that focus on particular objects or features, spatial attention operates like a mental spotlight that can be moved around the visual field to enhance processing at specific locations. This system allows us to prepare for events that might occur at particular spatial positions, even before any stimuli appear there.</p>
<p>Research distinguishes between two primary mechanisms for controlling spatial attention: endogenous attention that we consciously direct based on our goals and expectations, and exogenous attention that is automatically captured by sudden or salient stimuli in the environment. These systems have different temporal characteristics and serve complementary functions in attention control.</p>
</section>
<section id="the-research-design" class="level3" data-number="18.1.3">
<h3 data-number="18.1.3" class="anchored" data-anchor-id="the-research-design"><span class="header-section-number">18.1.3</span> The Research Design</h3>
<p>The spatial cuing paradigm developed by Posner (1980) uses a within-subjects experimental design to examine how different types of cues influence the allocation of spatial attention. Participants respond to target stimuli that appear at different locations following various types of spatial cues.</p>
<p>Stimulus Presentation: Participants fixate on a central point while viewing a display containing two or more potential target locations, typically boxes positioned to the left and right of fixation. Before the target appears, a cue indicates where the target is likely to appear.</p>
<p>Cue Types: The paradigm employs two distinct cuing conditions. Endogenous cues are symbolic indicators (such as central arrows) that point toward the likely target location. These cues require interpretation and voluntary attention shifts. Exogenous cues are sudden onset stimuli (such as brief flashes or brightening) that appear at the potential target locations themselves, automatically capturing attention.</p>
<p>Task Requirements: Participants must detect or identify target stimuli (such as asterisks or letters) that appear at cued or uncued locations. They respond as quickly as possible while maintaining accuracy, typically by pressing a key when they detect the target.</p>
<p>The design manipulates cue validity: valid trials where cues correctly predict target location (typically 75% of trials), invalid trials where cues incorrectly predict target location, and neutral trials where cues provide no spatial information.</p>
<p>The within-subjects design allows researchers to compare response times across different cuing conditions within the same participants. Each person experiences valid, invalid, and neutral trials for both endogenous and exogenous cues at various cue-target intervals. Each participant acts as their own ‘control’. This approach controls for individual differences in overall response speed and detection ability while isolating the specific effects of spatial cuing on attention allocation.</p>
</section>
<section id="key-findings" class="level3" data-number="18.1.4">
<h3 data-number="18.1.4" class="anchored" data-anchor-id="key-findings"><span class="header-section-number">18.1.4</span> Key Findings</h3>
<p>The within-subjects comparisons have revealed different temporal patterns for endogenous and exogenous spatial attention. Endogenous cuing showed benefits for valid trials (faster responses to targets at cued locations) and costs for invalid trials (slower responses to targets at uncued locations) that developed gradually over 300-500 milliseconds and remained stable for several seconds. This pattern reflects the voluntary, sustained nature of goal-directed attention.</p>
<p>Exogenous cuing produced rapid attention capture with benefits peaking around 150 milliseconds, followed by inhibition of return at longer intervals (typically after 300-500 milliseconds) where responses became slower to targets appearing at previously cued locations. This biphasic pattern reflects the automatic, transient nature of stimulus-driven attention. Inhibition of return may serve an adaptive function by preventing attention from repeatedly returning to the same location during visual search.</p>
<p>The magnitude of cuing effects typically ranges from 20-50 milliseconds for response time differences between valid and invalid trials, with endogenous cues showing larger and more sustained effects than exogenous cues at optimal intervals. These effects remain consistent across participants despite individual differences in overall response speed.</p>
</section>
<section id="implications" class="level3" data-number="18.1.5">
<h3 data-number="18.1.5" class="anchored" data-anchor-id="implications"><span class="header-section-number">18.1.5</span> Implications</h3>
<p>The distinct temporal profiles of endogenous and exogenous cuing provide behavioural evidence for separate attention control systems. This behavioural evidence is supported by neuroimaging and neurophysiology studies showing that endogenous attention involves dorsal frontoparietal networks associated with goal-directed control and requires time to implement but can be maintained strategically. Exogenous attention involves ventral networks associated with stimulus-driven reorienting, showing rapid onset followed by active suppression.</p>
<p>These findings support dual-process theories of attention and the spotlight metaphor of spatial attention, demonstrating that attention can be directed to specific locations in advance of stimulus presentation. The consistent patterns across participants and laboratories suggest these represent fundamental properties of human attention rather than task-specific effects. Inhibition of return may serve an adaptive function by helping us avoid checking the same locations repeatedly when searching for objects, such as when trying to find a friend in a crowd.</p>
<p>The Posner cueing paradigm exemplifies how carefully designed experimental methods can reveal fundamental cognitive mechanisms. Its elegant simplicity allows researchers to isolate specific attention processes while maintaining experimental control, making it a model for how laboratory tasks can provide insights into complex mental operations. The paradigm continues to be widely used across laboratories, generating reliable findings that have built a cumulative knowledge base about spatial attention mechanisms.</p>
</section>
<section id="further-reading" class="level3" data-number="18.1.6">
<h3 data-number="18.1.6" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">18.1.6</span> Further Reading</h3>
<p>Chun, M. M., &amp; Most, S. B. (2021). External attention. In <em>Cognition</em>.</p>
<p>Jensen, M. S., Yao, R., Street, W. N., &amp; Simons, D. J. (2011). Change blindness and inattentional blindness. <em>Wiley Interdisciplinary Reviews: Cognitive Science</em>, 2(5), 529-546.</p>
<p>Most, S. B., Chun, M. M., Widders, D. M., &amp; Zald, D. H. (2005). Attentional rubbernecking: Cognitive control and personality in emotion-induced blindness. <em>Psychonomic Bulletin &amp; Review</em>, 12, 654-661.</p>
<p>Posner, M. I. (1980). Orienting of attention. <em>Quarterly Journal of Experimental Psychology</em>, <em>32</em>(1), 3-25.</p>
<p>Röer, J. P., &amp; Cowan, N. (2021). A preregistered replication and extension of the cocktail party phenomenon: One’s name captures attention, unexpected words do not. <em>Journal of Experimental Psychology: Learning, Memory, and Cognition</em>, 47(2), 234.</p>
</section>
</section>
<section id="program-a-posner-cuing-task" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="program-a-posner-cuing-task"><span class="header-section-number">18.2</span> Program a Posner Cuing Task</h2>
<p>In this exercise, we will program the Posner Cuing task with two spatial locations: left and right sides of the screen. We will focus on creating the exogenous cue condition. On each trial, a cue will flash at either the right or left location, followed by a target X appearing at either the left or right location. The task is to indicate which location the target appears in.</p>
<p>The cue will be 75% valid, meaning that on 75% of trials, the cue indicates the correct location where the target will appear. We will manipulate the stimulus onset asynchrony (SOA), which refers to the time interval between the cue and the target. We will test three different SOAs designed to capture the temporal dynamics of exogenous attention: short (100ms), medium (300ms), and long (800ms).</p>
<p>These specific durations allow us to observe the complete profile of exogenous attention effects. At 100ms, we expect to see automatic attention capture with faster responses to validly cued locations. At 300ms, the initial facilitation effect diminishes.</p>
<p>The initial folder contains the standard jsPsych boilerplate files with no additional components added yet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>📂 L07</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>├──  📄 index.html</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>├──  📄 exp.js</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>├──  📄 style.css</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>└──  📂 jspsych</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="initiate-jspsych" class="level3" data-number="18.2.1">
<h3 data-number="18.2.1" class="anchored" data-anchor-id="initiate-jspsych"><span class="header-section-number">18.2.1</span> Initiate JsPsych</h3>
<p>Let’s begin by initializing jsPsych with the basic setup we typically need. In the HTML index page, all necessary files have been linked: the jsPsych core files, our exp.js file, our style.css file, and the two plugins required for this experiment (the instructions plugin and the HTML keyboard response plugin).</p>
<p>We will add an instructions trial that can be populated with task instructions later, and conclude the experiment with a save data trial to store participant responses.</p>
<div class="cell">
<style type="text/css">
/* CB2 */
[id^="cb2-"]:nth-child(n+5):nth-child(-n+7),  
[id^="cb2-"]:nth-child(n+9):nth-child(-n+11),  
[id^="cb2-"]:nth-child(n+13):nth-child(-n+14),  
[id^="cb2-"]:nth-child(n+18):nth-child(-n+18) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB3 */
[id^="cb3-"]:nth-child(n+1):nth-child(-n+39) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB4 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    </span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb3-11"><a href="#cb3-11"></a>  ]<span class="op">,</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>}</span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb3-27"><a href="#cb3-27"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb3-28"><a href="#cb3-28"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb3-29"><a href="#cb3-29"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb3-30"><a href="#cb3-30"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb3-31"><a href="#cb3-31"></a>    })<span class="op">;</span></span>
<span id="cb3-32"><a href="#cb3-32"></a>  }</span>
<span id="cb3-33"><a href="#cb3-33"></a>}<span class="op">;</span></span>
<span id="cb3-34"><a href="#cb3-34"></a></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb3-36"><a href="#cb3-36"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb3-37"><a href="#cb3-37"></a>  instructions<span class="op">,</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>  saveData</span>
<span id="cb3-39"><a href="#cb3-39"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb4-1"><a href="#cb4-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="demo-container-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="create-an-outline" class="level3" data-number="18.2.2">
<h3 data-number="18.2.2" class="anchored" data-anchor-id="create-an-outline"><span class="header-section-number">18.2.2</span> Create an Outline</h3>
<p>One of the ways I’ll get started on a new programming task is by creating an outline of what needs to happen on every trial.</p>
<p>For the Posner cuing paradigm, we need a (1) fixation (2) cue (3) target. In all three displays there should be two boxes, one on the left and one on the right. The fixation cross won’t have a box around it, but it will stay on screen the entire time.</p>
<p>Here’s how I’d start. Before creating all the complicated displays, I create a simple outline with placeholders. I also added comments inside the timeline to help keep it organized. Remember that the browser does not care about white space and comments are ignored. So I can keep my code organized by labeling the parts of the trial.</p>
<div class="cell">
<style type="text/css">
/* CB5 */

/* CB6 */
[id^="cb6-"]:nth-child(n+15):nth-child(-n+41),
[id^="cb6-"]:nth-child(n+66):nth-child(-n+66) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB7 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    </span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-21"><a href="#cb5-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb6-8"><a href="#cb6-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb6-11"><a href="#cb6-11"></a>  ]<span class="op">,</span></span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>}</span>
<span id="cb6-14"><a href="#cb6-14"></a></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb6-16"><a href="#cb6-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb6-17"><a href="#cb6-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>    {</span>
<span id="cb6-19"><a href="#cb6-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-20"><a href="#cb6-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"fixation"</span><span class="op">,</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb6-22"><a href="#cb6-22"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb6-23"><a href="#cb6-23"></a>    }<span class="op">,</span></span>
<span id="cb6-24"><a href="#cb6-24"></a></span>
<span id="cb6-25"><a href="#cb6-25"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb6-26"><a href="#cb6-26"></a>    {</span>
<span id="cb6-27"><a href="#cb6-27"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-28"><a href="#cb6-28"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"cue"</span><span class="op">,</span></span>
<span id="cb6-29"><a href="#cb6-29"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb6-30"><a href="#cb6-30"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb6-31"><a href="#cb6-31"></a>    }<span class="op">,</span></span>
<span id="cb6-32"><a href="#cb6-32"></a></span>
<span id="cb6-33"><a href="#cb6-33"></a>    <span class="co">// 3. Target</span></span>
<span id="cb6-34"><a href="#cb6-34"></a>    {</span>
<span id="cb6-35"><a href="#cb6-35"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-36"><a href="#cb6-36"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"target"</span><span class="op">,</span></span>
<span id="cb6-37"><a href="#cb6-37"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb6-38"><a href="#cb6-38"></a>    }</span>
<span id="cb6-39"><a href="#cb6-39"></a>  ]</span>
<span id="cb6-40"><a href="#cb6-40"></a></span>
<span id="cb6-41"><a href="#cb6-41"></a>}</span>
<span id="cb6-42"><a href="#cb6-42"></a></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb6-44"><a href="#cb6-44"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-45"><a href="#cb6-45"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb6-46"><a href="#cb6-46"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb6-54"><a href="#cb6-54"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb6-55"><a href="#cb6-55"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb6-56"><a href="#cb6-56"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb6-57"><a href="#cb6-57"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb6-58"><a href="#cb6-58"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb6-59"><a href="#cb6-59"></a>    })<span class="op">;</span></span>
<span id="cb6-60"><a href="#cb6-60"></a>  }</span>
<span id="cb6-61"><a href="#cb6-61"></a>}<span class="op">;</span></span>
<span id="cb6-62"><a href="#cb6-62"></a></span>
<span id="cb6-63"><a href="#cb6-63"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb6-64"><a href="#cb6-64"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-65"><a href="#cb6-65"></a>  instructions<span class="op">,</span></span>
<span id="cb6-66"><a href="#cb6-66"></a>  posnerExo<span class="op">,</span></span>
<span id="cb6-67"><a href="#cb6-67"></a>  saveData</span>
<span id="cb6-68"><a href="#cb6-68"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div id="demo-container-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: &quot;fixation&quot;,\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: &quot;cue&quot;,\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: &quot;target&quot;,\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ]\n\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: &quot;fixation&quot;,
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: &quot;cue&quot;,
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: &quot;target&quot;,
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ]

}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="create-an-html-display" class="level3" data-number="18.2.3">
<h3 data-number="18.2.3" class="anchored" data-anchor-id="create-an-html-display"><span class="header-section-number">18.2.3</span> Create an HTML display</h3>
<p>Now, let’s create our display with three locations: left, center, and right. First, we’ve replaced our <code>stimulus</code> for the target display with a function. Remember that we’re going to need some if-else logic to change where the cue and target appear, so we’ll need a function to do that.</p>
<p>Next, we use flexbox at two levels to achieve the layout we need for the Posner cuing task. I highly recommend reviewing how flexbox works. It is a very convenient way to set to get complex layouts. You can read more about it here: <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" class="external" target="_blank">https://css-tricks.com/snippets/css/a-guide-to-flexbox/</a></p>
<p>Here’s a breakdown of what we’ve done in this step.</p>
<p>The outer container uses <code>display: flex</code> with <code>justify-content: space-between</code> to distribute the three locations evenly across the 600px width. The <code>space-between</code> property pushes the left and right boxes to the edges while centering the middle location. We add <code>margin: 0 auto</code> to center the entire 600px container on the page.</p>
<p>Each of the three locations also uses <code>display: flex</code> with both <code>align-items: center</code> and <code>justify-content: center</code>. This creates perfect centering for any text content within each box. The <code>align-items: center</code> handles vertical centering, while <code>justify-content: center</code> handles horizontal centering.</p>
<p>This nested flexbox approach gives us precise control over both the spacing between locations and the positioning of content within each location, which is essential for the spatial precision required in attention experiments.</p>
<p><strong>Two Notes:</strong> First, keep in mind that I have some intuition about how large the divs should be, but you may go through some trial-and-error before you settle on CSS that you’re happy with. That is perfectly normal.</p>
<p>Second, I decided to write the CSS in the external stylesheet because I know that I am going to have to repeat this code a few times. Therefore, it makes sense to write it once in the stylesheet and refer to the classes in the HTML. There are three classes, one for the container, one for the location boxes, and the third is for the border. I had to separate that out because not all the boxes have borders.</p>
<div class="cell">
<style type="text/css">
/* CB8 */

/* CB9 */
[id^="cb9-"]:nth-child(n+36):nth-child(-n+46) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB10 */
[id^="cb10-"]:nth-child(n+1):nth-child(-n+7),
[id^="cb10-"]:nth-child(n+9):nth-child(-n+15),
[id^="cb10-"]:nth-child(n+17):nth-child(-n+19) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>    </span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb9-8"><a href="#cb9-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb9-11"><a href="#cb9-11"></a>  ]<span class="op">,</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>}</span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>    {</span>
<span id="cb9-19"><a href="#cb9-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"fixation"</span><span class="op">,</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb9-23"><a href="#cb9-23"></a>    }<span class="op">,</span></span>
<span id="cb9-24"><a href="#cb9-24"></a></span>
<span id="cb9-25"><a href="#cb9-25"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>    {</span>
<span id="cb9-27"><a href="#cb9-27"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-28"><a href="#cb9-28"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"cue"</span><span class="op">,</span></span>
<span id="cb9-29"><a href="#cb9-29"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb9-30"><a href="#cb9-30"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb9-31"><a href="#cb9-31"></a>    }<span class="op">,</span></span>
<span id="cb9-32"><a href="#cb9-32"></a></span>
<span id="cb9-33"><a href="#cb9-33"></a>    <span class="co">// 3. Target</span></span>
<span id="cb9-34"><a href="#cb9-34"></a>    {</span>
<span id="cb9-35"><a href="#cb9-35"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-36"><a href="#cb9-36"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb9-37"><a href="#cb9-37"></a>          <span class="kw">let</span> output </span>
<span id="cb9-38"><a href="#cb9-38"></a></span>
<span id="cb9-39"><a href="#cb9-39"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb9-40"><a href="#cb9-40"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;L&lt;/div&gt;</span></span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="vs">                      &lt;div class="posner-location"&gt;C&lt;/div&gt;</span></span>
<span id="cb9-42"><a href="#cb9-42"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;R&lt;/div&gt;</span></span>
<span id="cb9-43"><a href="#cb9-43"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb9-44"><a href="#cb9-44"></a></span>
<span id="cb9-45"><a href="#cb9-45"></a>          <span class="cf">return</span> output</span>
<span id="cb9-46"><a href="#cb9-46"></a>      }<span class="op">,</span></span>
<span id="cb9-47"><a href="#cb9-47"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb9-48"><a href="#cb9-48"></a>    }</span>
<span id="cb9-49"><a href="#cb9-49"></a>  ]</span>
<span id="cb9-50"><a href="#cb9-50"></a></span>
<span id="cb9-51"><a href="#cb9-51"></a>}</span>
<span id="cb9-52"><a href="#cb9-52"></a></span>
<span id="cb9-53"><a href="#cb9-53"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb9-54"><a href="#cb9-54"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-55"><a href="#cb9-55"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb9-56"><a href="#cb9-56"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb9-58"><a href="#cb9-58"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb9-59"><a href="#cb9-59"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb9-60"><a href="#cb9-60"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb9-61"><a href="#cb9-61"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb9-62"><a href="#cb9-62"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb9-63"><a href="#cb9-63"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb9-64"><a href="#cb9-64"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb9-65"><a href="#cb9-65"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb9-66"><a href="#cb9-66"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb9-67"><a href="#cb9-67"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb9-68"><a href="#cb9-68"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb9-69"><a href="#cb9-69"></a>    })<span class="op">;</span></span>
<span id="cb9-70"><a href="#cb9-70"></a>  }</span>
<span id="cb9-71"><a href="#cb9-71"></a>}<span class="op">;</span></span>
<span id="cb9-72"><a href="#cb9-72"></a></span>
<span id="cb9-73"><a href="#cb9-73"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb9-74"><a href="#cb9-74"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb9-75"><a href="#cb9-75"></a>  instructions<span class="op">,</span></span>
<span id="cb9-76"><a href="#cb9-76"></a>  posnerExo<span class="op">,</span></span>
<span id="cb9-77"><a href="#cb9-77"></a>  saveData</span>
<span id="cb9-78"><a href="#cb9-78"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>}</span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>}</span>
<span id="cb10-16"><a href="#cb10-16"></a></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb10-18"><a href="#cb10-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: &quot;fixation&quot;,\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: &quot;cue&quot;,\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;>L</div>\n                      <div class=&quot;posner-location&quot;>C</div>\n                      <div class=&quot;posner-location posner-box&quot;>R</div>\n                    </div>`\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ]\n\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: &quot;fixation&quot;,
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: &quot;cue&quot;,
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;>L</div>
                      <div class=&quot;posner-location&quot;>C</div>
                      <div class=&quot;posner-location posner-box&quot;>R</div>
                    </div>`

          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ]

}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="copy-the-html-across-trials" class="level3" data-number="18.2.4">
<h3 data-number="18.2.4" class="anchored" data-anchor-id="copy-the-html-across-trials"><span class="header-section-number">18.2.4</span> Copy the HTML across trials</h3>
<p>Now that we have a display we’re happy with, let’s copy that across the fixation and cue parts and see how it looks.</p>
<div class="cell">
<style type="text/css">
/* CB11 */

/* CB12 */
[id^="cb12-"]:nth-child(n+20):nth-child(-n+30),
[id^="cb12-"]:nth-child(n+38):nth-child(-n+48) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB13 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>    </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12"></a></span>
<span id="cb11-13"><a href="#cb11-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb12-8"><a href="#cb12-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb12-10"><a href="#cb12-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb12-11"><a href="#cb12-11"></a>  ]<span class="op">,</span></span>
<span id="cb12-12"><a href="#cb12-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb12-13"><a href="#cb12-13"></a>}</span>
<span id="cb12-14"><a href="#cb12-14"></a></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb12-16"><a href="#cb12-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-17"><a href="#cb12-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>    {</span>
<span id="cb12-19"><a href="#cb12-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb12-21"><a href="#cb12-21"></a>          <span class="kw">let</span> output </span>
<span id="cb12-22"><a href="#cb12-22"></a></span>
<span id="cb12-23"><a href="#cb12-23"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb12-24"><a href="#cb12-24"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-25"><a href="#cb12-25"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb12-26"><a href="#cb12-26"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-27"><a href="#cb12-27"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb12-28"><a href="#cb12-28"></a></span>
<span id="cb12-29"><a href="#cb12-29"></a>          <span class="cf">return</span> output</span>
<span id="cb12-30"><a href="#cb12-30"></a>      }<span class="op">,</span></span>
<span id="cb12-31"><a href="#cb12-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb12-32"><a href="#cb12-32"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb12-33"><a href="#cb12-33"></a>    }<span class="op">,</span></span>
<span id="cb12-34"><a href="#cb12-34"></a></span>
<span id="cb12-35"><a href="#cb12-35"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb12-36"><a href="#cb12-36"></a>    {</span>
<span id="cb12-37"><a href="#cb12-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-38"><a href="#cb12-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb12-39"><a href="#cb12-39"></a>          <span class="kw">let</span> output </span>
<span id="cb12-40"><a href="#cb12-40"></a></span>
<span id="cb12-41"><a href="#cb12-41"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb12-42"><a href="#cb12-42"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;L&lt;/div&gt;</span></span>
<span id="cb12-43"><a href="#cb12-43"></a><span class="vs">                      &lt;div class="posner-location"&gt;CUE&lt;/div&gt;</span></span>
<span id="cb12-44"><a href="#cb12-44"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;R&lt;/div&gt;</span></span>
<span id="cb12-45"><a href="#cb12-45"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb12-46"><a href="#cb12-46"></a></span>
<span id="cb12-47"><a href="#cb12-47"></a>          <span class="cf">return</span> output</span>
<span id="cb12-48"><a href="#cb12-48"></a>      }<span class="op">,</span></span>
<span id="cb12-49"><a href="#cb12-49"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb12-50"><a href="#cb12-50"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb12-51"><a href="#cb12-51"></a>    }<span class="op">,</span></span>
<span id="cb12-52"><a href="#cb12-52"></a></span>
<span id="cb12-53"><a href="#cb12-53"></a>    <span class="co">// 3. Target</span></span>
<span id="cb12-54"><a href="#cb12-54"></a>    {</span>
<span id="cb12-55"><a href="#cb12-55"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-56"><a href="#cb12-56"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb12-57"><a href="#cb12-57"></a>          <span class="kw">let</span> output </span>
<span id="cb12-58"><a href="#cb12-58"></a></span>
<span id="cb12-59"><a href="#cb12-59"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb12-60"><a href="#cb12-60"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;L&lt;/div&gt;</span></span>
<span id="cb12-61"><a href="#cb12-61"></a><span class="vs">                      &lt;div class="posner-location"&gt;C&lt;/div&gt;</span></span>
<span id="cb12-62"><a href="#cb12-62"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;R&lt;/div&gt;</span></span>
<span id="cb12-63"><a href="#cb12-63"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb12-64"><a href="#cb12-64"></a></span>
<span id="cb12-65"><a href="#cb12-65"></a>          <span class="cf">return</span> output</span>
<span id="cb12-66"><a href="#cb12-66"></a>      }<span class="op">,</span></span>
<span id="cb12-67"><a href="#cb12-67"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb12-68"><a href="#cb12-68"></a>    }</span>
<span id="cb12-69"><a href="#cb12-69"></a>  ]</span>
<span id="cb12-70"><a href="#cb12-70"></a></span>
<span id="cb12-71"><a href="#cb12-71"></a>}</span>
<span id="cb12-72"><a href="#cb12-72"></a></span>
<span id="cb12-73"><a href="#cb12-73"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb12-74"><a href="#cb12-74"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-75"><a href="#cb12-75"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb12-76"><a href="#cb12-76"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb12-77"><a href="#cb12-77"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb12-78"><a href="#cb12-78"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb12-79"><a href="#cb12-79"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb12-80"><a href="#cb12-80"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb12-81"><a href="#cb12-81"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb12-82"><a href="#cb12-82"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb12-83"><a href="#cb12-83"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb12-84"><a href="#cb12-84"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb12-85"><a href="#cb12-85"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb12-86"><a href="#cb12-86"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb12-87"><a href="#cb12-87"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb12-88"><a href="#cb12-88"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb12-89"><a href="#cb12-89"></a>    })<span class="op">;</span></span>
<span id="cb12-90"><a href="#cb12-90"></a>  }</span>
<span id="cb12-91"><a href="#cb12-91"></a>}<span class="op">;</span></span>
<span id="cb12-92"><a href="#cb12-92"></a></span>
<span id="cb12-93"><a href="#cb12-93"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb12-94"><a href="#cb12-94"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb12-95"><a href="#cb12-95"></a>  instructions<span class="op">,</span></span>
<span id="cb12-96"><a href="#cb12-96"></a>  posnerExo<span class="op">,</span></span>
<span id="cb12-97"><a href="#cb12-97"></a>  saveData</span>
<span id="cb12-98"><a href="#cb12-98"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>}</span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>}</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb13-18"><a href="#cb13-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb13-19"><a href="#cb13-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div id="demo-container-4" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-4" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;>L</div>\n                      <div class=&quot;posner-location&quot;>CUE</div>\n                      <div class=&quot;posner-location posner-box&quot;>R</div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;>L</div>\n                      <div class=&quot;posner-location&quot;>C</div>\n                      <div class=&quot;posner-location posner-box&quot;>R</div>\n                    </div>`\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ]\n\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-4');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-4" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;>L</div>
                      <div class=&quot;posner-location&quot;>CUE</div>
                      <div class=&quot;posner-location posner-box&quot;>R</div>
                    </div>`

          return output
      },
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;>L</div>
                      <div class=&quot;posner-location&quot;>C</div>
                      <div class=&quot;posner-location posner-box&quot;>R</div>
                    </div>`

          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ]

}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-4&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-4&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-timeline-variables" class="level3" data-number="18.2.5">
<h3 data-number="18.2.5" class="anchored" data-anchor-id="add-timeline-variables"><span class="header-section-number">18.2.5</span> Add Timeline Variables</h3>
<p>Before we can add the logic to update the display, we’re going to need our <code>timeline_variables</code> that are going to control the logic.</p>
<p>To control the cue location, we’ll need a timeline variable that indicates left or right. To control the target location, we’ll need a timeline variable that indicates whether it is left or right.</p>
<p>For now, we’re just going to add one for each possible left/right combination.</p>
<div class="cell">
<style type="text/css">
/* CB14 */

/* CB15 */
[id^="cb15-"]:nth-child(n+69):nth-child(-n+76) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB16 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>    </span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb15-8"><a href="#cb15-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb15-11"><a href="#cb15-11"></a>  ]<span class="op">,</span></span>
<span id="cb15-12"><a href="#cb15-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb15-13"><a href="#cb15-13"></a>}</span>
<span id="cb15-14"><a href="#cb15-14"></a></span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb15-18"><a href="#cb15-18"></a>    {</span>
<span id="cb15-19"><a href="#cb15-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-20"><a href="#cb15-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-21"><a href="#cb15-21"></a>          <span class="kw">let</span> output </span>
<span id="cb15-22"><a href="#cb15-22"></a></span>
<span id="cb15-23"><a href="#cb15-23"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb15-24"><a href="#cb15-24"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-25"><a href="#cb15-25"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb15-26"><a href="#cb15-26"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-27"><a href="#cb15-27"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb15-28"><a href="#cb15-28"></a></span>
<span id="cb15-29"><a href="#cb15-29"></a>          <span class="cf">return</span> output</span>
<span id="cb15-30"><a href="#cb15-30"></a>      }<span class="op">,</span></span>
<span id="cb15-31"><a href="#cb15-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb15-32"><a href="#cb15-32"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb15-33"><a href="#cb15-33"></a>    }<span class="op">,</span></span>
<span id="cb15-34"><a href="#cb15-34"></a></span>
<span id="cb15-35"><a href="#cb15-35"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb15-36"><a href="#cb15-36"></a>    {</span>
<span id="cb15-37"><a href="#cb15-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-38"><a href="#cb15-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-39"><a href="#cb15-39"></a>          <span class="kw">let</span> output </span>
<span id="cb15-40"><a href="#cb15-40"></a></span>
<span id="cb15-41"><a href="#cb15-41"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb15-42"><a href="#cb15-42"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;L&lt;/div&gt;</span></span>
<span id="cb15-43"><a href="#cb15-43"></a><span class="vs">                      &lt;div class="posner-location"&gt;CUE&lt;/div&gt;</span></span>
<span id="cb15-44"><a href="#cb15-44"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;R&lt;/div&gt;</span></span>
<span id="cb15-45"><a href="#cb15-45"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb15-46"><a href="#cb15-46"></a></span>
<span id="cb15-47"><a href="#cb15-47"></a>          <span class="cf">return</span> output</span>
<span id="cb15-48"><a href="#cb15-48"></a>      }<span class="op">,</span></span>
<span id="cb15-49"><a href="#cb15-49"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb15-50"><a href="#cb15-50"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb15-51"><a href="#cb15-51"></a>    }<span class="op">,</span></span>
<span id="cb15-52"><a href="#cb15-52"></a></span>
<span id="cb15-53"><a href="#cb15-53"></a>    <span class="co">// 3. Target</span></span>
<span id="cb15-54"><a href="#cb15-54"></a>    {</span>
<span id="cb15-55"><a href="#cb15-55"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-56"><a href="#cb15-56"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-57"><a href="#cb15-57"></a>          <span class="kw">let</span> output </span>
<span id="cb15-58"><a href="#cb15-58"></a></span>
<span id="cb15-59"><a href="#cb15-59"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb15-60"><a href="#cb15-60"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;L&lt;/div&gt;</span></span>
<span id="cb15-61"><a href="#cb15-61"></a><span class="vs">                      &lt;div class="posner-location"&gt;C&lt;/div&gt;</span></span>
<span id="cb15-62"><a href="#cb15-62"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;R&lt;/div&gt;</span></span>
<span id="cb15-63"><a href="#cb15-63"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb15-64"><a href="#cb15-64"></a></span>
<span id="cb15-65"><a href="#cb15-65"></a>          <span class="cf">return</span> output</span>
<span id="cb15-66"><a href="#cb15-66"></a>      }<span class="op">,</span></span>
<span id="cb15-67"><a href="#cb15-67"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb15-68"><a href="#cb15-68"></a>    }</span>
<span id="cb15-69"><a href="#cb15-69"></a>  ]<span class="op">,</span></span>
<span id="cb15-70"><a href="#cb15-70"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-71"><a href="#cb15-71"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span>}<span class="op">,</span></span>
<span id="cb15-72"><a href="#cb15-72"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span>}<span class="op">,</span></span>
<span id="cb15-73"><a href="#cb15-73"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span>}<span class="op">,</span></span>
<span id="cb15-74"><a href="#cb15-74"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span>}</span>
<span id="cb15-75"><a href="#cb15-75"></a>  ]<span class="op">,</span></span>
<span id="cb15-76"><a href="#cb15-76"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb15-77"><a href="#cb15-77"></a>}</span>
<span id="cb15-78"><a href="#cb15-78"></a></span>
<span id="cb15-79"><a href="#cb15-79"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb15-80"><a href="#cb15-80"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-81"><a href="#cb15-81"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb15-82"><a href="#cb15-82"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb15-83"><a href="#cb15-83"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb15-84"><a href="#cb15-84"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb15-85"><a href="#cb15-85"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb15-86"><a href="#cb15-86"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb15-87"><a href="#cb15-87"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb15-88"><a href="#cb15-88"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb15-89"><a href="#cb15-89"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb15-90"><a href="#cb15-90"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-91"><a href="#cb15-91"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb15-92"><a href="#cb15-92"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb15-93"><a href="#cb15-93"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb15-94"><a href="#cb15-94"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb15-95"><a href="#cb15-95"></a>    })<span class="op">;</span></span>
<span id="cb15-96"><a href="#cb15-96"></a>  }</span>
<span id="cb15-97"><a href="#cb15-97"></a>}<span class="op">;</span></span>
<span id="cb15-98"><a href="#cb15-98"></a></span>
<span id="cb15-99"><a href="#cb15-99"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb15-100"><a href="#cb15-100"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb15-101"><a href="#cb15-101"></a>  instructions<span class="op">,</span></span>
<span id="cb15-102"><a href="#cb15-102"></a>  posnerExo<span class="op">,</span></span>
<span id="cb15-103"><a href="#cb15-103"></a>  saveData</span>
<span id="cb15-104"><a href="#cb15-104"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb16-1"><a href="#cb16-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>}</span>
<span id="cb16-8"><a href="#cb16-8"></a></span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb16-10"><a href="#cb16-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-11"><a href="#cb16-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-14"><a href="#cb16-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-15"><a href="#cb16-15"></a>}</span>
<span id="cb16-16"><a href="#cb16-16"></a></span>
<span id="cb16-17"><a href="#cb16-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb16-18"><a href="#cb16-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div id="demo-container-5" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-5" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;>L</div>\n                      <div class=&quot;posner-location&quot;>CUE</div>\n                      <div class=&quot;posner-location posner-box&quot;>R</div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;>L</div>\n                      <div class=&quot;posner-location&quot;>C</div>\n                      <div class=&quot;posner-location posner-box&quot;>R</div>\n                    </div>`\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ],\n  timeline_variables: [\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-5');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-5" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;>L</div>
                      <div class=&quot;posner-location&quot;>CUE</div>
                      <div class=&quot;posner-location posner-box&quot;>R</div>
                    </div>`

          return output
      },
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;>L</div>
                      <div class=&quot;posner-location&quot;>C</div>
                      <div class=&quot;posner-location posner-box&quot;>R</div>
                    </div>`

          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ],
  timeline_variables: [
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-5&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-5&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-cue-and-target-logic" class="level3" data-number="18.2.6">
<h3 data-number="18.2.6" class="anchored" data-anchor-id="add-cue-and-target-logic"><span class="header-section-number">18.2.6</span> Add Cue and Target Logic</h3>
<p>Alright, let’s add our logic! We’ll add some if-else statements inside our cue and target <code>stimulus</code> to change where the cue appears (we’ll use the background color as a cue) and where the target appears (we’ll use an X for the target).</p>
<div class="cell">
<style type="text/css">
/* CB17 */

/* CB18 */
[id^="cb18-"]:nth-child(n+38):nth-child(-n+59),
[id^="cb18-"]:nth-child(n+67):nth-child(-n+88) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB19 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb17-1"><a href="#cb17-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>    </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12"></a></span>
<span id="cb17-13"><a href="#cb17-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb17-21"><a href="#cb17-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb18-8"><a href="#cb18-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb18-11"><a href="#cb18-11"></a>  ]<span class="op">,</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb18-13"><a href="#cb18-13"></a>}</span>
<span id="cb18-14"><a href="#cb18-14"></a></span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb18-16"><a href="#cb18-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb18-17"><a href="#cb18-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb18-18"><a href="#cb18-18"></a>    {</span>
<span id="cb18-19"><a href="#cb18-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-20"><a href="#cb18-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb18-21"><a href="#cb18-21"></a>          <span class="kw">let</span> output </span>
<span id="cb18-22"><a href="#cb18-22"></a></span>
<span id="cb18-23"><a href="#cb18-23"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb18-24"><a href="#cb18-24"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-25"><a href="#cb18-25"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb18-26"><a href="#cb18-26"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-27"><a href="#cb18-27"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb18-28"><a href="#cb18-28"></a></span>
<span id="cb18-29"><a href="#cb18-29"></a>          <span class="cf">return</span> output</span>
<span id="cb18-30"><a href="#cb18-30"></a>      }<span class="op">,</span></span>
<span id="cb18-31"><a href="#cb18-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb18-32"><a href="#cb18-32"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb18-33"><a href="#cb18-33"></a>    }<span class="op">,</span></span>
<span id="cb18-34"><a href="#cb18-34"></a></span>
<span id="cb18-35"><a href="#cb18-35"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb18-36"><a href="#cb18-36"></a>    {</span>
<span id="cb18-37"><a href="#cb18-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-38"><a href="#cb18-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb18-39"><a href="#cb18-39"></a>          <span class="kw">let</span> output </span>
<span id="cb18-40"><a href="#cb18-40"></a>          <span class="kw">let</span> cue_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"cue_location"</span>)</span>
<span id="cb18-41"><a href="#cb18-41"></a>          </span>
<span id="cb18-42"><a href="#cb18-42"></a>          <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb18-43"><a href="#cb18-43"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb18-44"><a href="#cb18-44"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb18-45"><a href="#cb18-45"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb18-46"><a href="#cb18-46"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-47"><a href="#cb18-47"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb18-48"><a href="#cb18-48"></a></span>
<span id="cb18-49"><a href="#cb18-49"></a>          } <span class="cf">else</span> <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb18-50"><a href="#cb18-50"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb18-51"><a href="#cb18-51"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-52"><a href="#cb18-52"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb18-53"><a href="#cb18-53"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb18-54"><a href="#cb18-54"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb18-55"><a href="#cb18-55"></a></span>
<span id="cb18-56"><a href="#cb18-56"></a>          }</span>
<span id="cb18-57"><a href="#cb18-57"></a></span>
<span id="cb18-58"><a href="#cb18-58"></a>          <span class="cf">return</span> output</span>
<span id="cb18-59"><a href="#cb18-59"></a>      }<span class="op">,</span></span>
<span id="cb18-60"><a href="#cb18-60"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb18-61"><a href="#cb18-61"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb18-62"><a href="#cb18-62"></a>    }<span class="op">,</span></span>
<span id="cb18-63"><a href="#cb18-63"></a></span>
<span id="cb18-64"><a href="#cb18-64"></a>    <span class="co">// 3. Target</span></span>
<span id="cb18-65"><a href="#cb18-65"></a>    {</span>
<span id="cb18-66"><a href="#cb18-66"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-67"><a href="#cb18-67"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb18-68"><a href="#cb18-68"></a>         <span class="kw">let</span> output </span>
<span id="cb18-69"><a href="#cb18-69"></a>         <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target_location"</span>)</span>
<span id="cb18-70"><a href="#cb18-70"></a></span>
<span id="cb18-71"><a href="#cb18-71"></a>         <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb18-72"><a href="#cb18-72"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb18-73"><a href="#cb18-73"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb18-74"><a href="#cb18-74"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb18-75"><a href="#cb18-75"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-76"><a href="#cb18-76"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb18-77"><a href="#cb18-77"></a></span>
<span id="cb18-78"><a href="#cb18-78"></a>          } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb18-79"><a href="#cb18-79"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb18-80"><a href="#cb18-80"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-81"><a href="#cb18-81"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb18-82"><a href="#cb18-82"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb18-83"><a href="#cb18-83"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb18-84"><a href="#cb18-84"></a></span>
<span id="cb18-85"><a href="#cb18-85"></a>          }</span>
<span id="cb18-86"><a href="#cb18-86"></a></span>
<span id="cb18-87"><a href="#cb18-87"></a>          <span class="cf">return</span> output</span>
<span id="cb18-88"><a href="#cb18-88"></a>      }<span class="op">,</span></span>
<span id="cb18-89"><a href="#cb18-89"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb18-90"><a href="#cb18-90"></a>    }</span>
<span id="cb18-91"><a href="#cb18-91"></a>  ]<span class="op">,</span></span>
<span id="cb18-92"><a href="#cb18-92"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb18-93"><a href="#cb18-93"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span>}<span class="op">,</span></span>
<span id="cb18-94"><a href="#cb18-94"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span>}<span class="op">,</span></span>
<span id="cb18-95"><a href="#cb18-95"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span>}<span class="op">,</span></span>
<span id="cb18-96"><a href="#cb18-96"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span>}</span>
<span id="cb18-97"><a href="#cb18-97"></a>  ]<span class="op">,</span></span>
<span id="cb18-98"><a href="#cb18-98"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb18-99"><a href="#cb18-99"></a>}</span>
<span id="cb18-100"><a href="#cb18-100"></a></span>
<span id="cb18-101"><a href="#cb18-101"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb18-102"><a href="#cb18-102"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-103"><a href="#cb18-103"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb18-104"><a href="#cb18-104"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb18-105"><a href="#cb18-105"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb18-106"><a href="#cb18-106"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb18-107"><a href="#cb18-107"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb18-108"><a href="#cb18-108"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb18-109"><a href="#cb18-109"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb18-110"><a href="#cb18-110"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb18-111"><a href="#cb18-111"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb18-112"><a href="#cb18-112"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb18-113"><a href="#cb18-113"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb18-114"><a href="#cb18-114"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb18-115"><a href="#cb18-115"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb18-116"><a href="#cb18-116"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb18-117"><a href="#cb18-117"></a>    })<span class="op">;</span></span>
<span id="cb18-118"><a href="#cb18-118"></a>  }</span>
<span id="cb18-119"><a href="#cb18-119"></a>}<span class="op">;</span></span>
<span id="cb18-120"><a href="#cb18-120"></a></span>
<span id="cb18-121"><a href="#cb18-121"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb18-122"><a href="#cb18-122"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb18-123"><a href="#cb18-123"></a>  instructions<span class="op">,</span></span>
<span id="cb18-124"><a href="#cb18-124"></a>  posnerExo<span class="op">,</span></span>
<span id="cb18-125"><a href="#cb18-125"></a>  saveData</span>
<span id="cb18-126"><a href="#cb18-126"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb19-1"><a href="#cb19-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>}</span>
<span id="cb19-8"><a href="#cb19-8"></a></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb19-10"><a href="#cb19-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-15"><a href="#cb19-15"></a>}</span>
<span id="cb19-16"><a href="#cb19-16"></a></span>
<span id="cb19-17"><a href="#cb19-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb19-18"><a href="#cb19-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb19-19"><a href="#cb19-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div id="demo-container-6" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-6" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)\n          \n          if(cue_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(cue_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n         let output \n         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)\n\n         if(target_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(target_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ],\n  timeline_variables: [\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-6');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-6" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 
          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)
          
          if(cue_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(cue_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                      </div>`

          }


          return output
      },
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
         let output 
         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)

         if(target_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(target_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                      </div>`

          }


          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ],
  timeline_variables: [
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-6&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-6&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="change-to-75-valid-trials" class="level3" data-number="18.2.7">
<h3 data-number="18.2.7" class="anchored" data-anchor-id="change-to-75-valid-trials"><span class="header-section-number">18.2.7</span> Change to 75% Valid Trials</h3>
<p>Now that we have the basic setup, we need to add our key manipulations. First, we need to make 75% of the trials “valid”. Valid trials are when the cue is in the same location as the target.</p>
<p>I’m going to add some helpful labels to our timeline variables indicating valid/invalid. Then, I’m going to change the proportion of trials in the simplest way: I’ll make it so that there are 3 valid trials of each type and only 1 invalid trial of each type.</p>
<p>Remember that white space doesn’t matter anywhere, so I also added some comments and formatting to make it easier to read what is happening in the <code>timeline_variables</code>.</p>
<div class="cell">
<style type="text/css">
/* CB20 */

/* CB21 */
[id^="cb21-"]:nth-child(n+93):nth-child(-n+103) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>    </span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12"></a></span>
<span id="cb20-13"><a href="#cb20-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-16"><a href="#cb20-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-19"><a href="#cb20-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-20"><a href="#cb20-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-21"><a href="#cb20-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb21-8"><a href="#cb21-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb21-11"><a href="#cb21-11"></a>  ]<span class="op">,</span></span>
<span id="cb21-12"><a href="#cb21-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-13"><a href="#cb21-13"></a>}</span>
<span id="cb21-14"><a href="#cb21-14"></a></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb21-16"><a href="#cb21-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb21-18"><a href="#cb21-18"></a>    {</span>
<span id="cb21-19"><a href="#cb21-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb21-21"><a href="#cb21-21"></a>          <span class="kw">let</span> output </span>
<span id="cb21-22"><a href="#cb21-22"></a></span>
<span id="cb21-23"><a href="#cb21-23"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb21-24"><a href="#cb21-24"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-25"><a href="#cb21-25"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb21-26"><a href="#cb21-26"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-27"><a href="#cb21-27"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb21-28"><a href="#cb21-28"></a></span>
<span id="cb21-29"><a href="#cb21-29"></a>          <span class="cf">return</span> output</span>
<span id="cb21-30"><a href="#cb21-30"></a>      }<span class="op">,</span></span>
<span id="cb21-31"><a href="#cb21-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>    }<span class="op">,</span></span>
<span id="cb21-34"><a href="#cb21-34"></a></span>
<span id="cb21-35"><a href="#cb21-35"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb21-36"><a href="#cb21-36"></a>    {</span>
<span id="cb21-37"><a href="#cb21-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-38"><a href="#cb21-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb21-39"><a href="#cb21-39"></a>          <span class="kw">let</span> output </span>
<span id="cb21-40"><a href="#cb21-40"></a>          <span class="kw">let</span> cue_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"cue_location"</span>)</span>
<span id="cb21-41"><a href="#cb21-41"></a>          </span>
<span id="cb21-42"><a href="#cb21-42"></a>          <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb21-43"><a href="#cb21-43"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb21-44"><a href="#cb21-44"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb21-45"><a href="#cb21-45"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb21-46"><a href="#cb21-46"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-47"><a href="#cb21-47"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb21-48"><a href="#cb21-48"></a></span>
<span id="cb21-49"><a href="#cb21-49"></a>          } <span class="cf">else</span> <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb21-50"><a href="#cb21-50"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb21-51"><a href="#cb21-51"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-52"><a href="#cb21-52"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb21-53"><a href="#cb21-53"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb21-54"><a href="#cb21-54"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb21-55"><a href="#cb21-55"></a></span>
<span id="cb21-56"><a href="#cb21-56"></a>          }</span>
<span id="cb21-57"><a href="#cb21-57"></a></span>
<span id="cb21-58"><a href="#cb21-58"></a>          <span class="cf">return</span> output</span>
<span id="cb21-59"><a href="#cb21-59"></a>      }<span class="op">,</span></span>
<span id="cb21-60"><a href="#cb21-60"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb21-61"><a href="#cb21-61"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb21-62"><a href="#cb21-62"></a>    }<span class="op">,</span></span>
<span id="cb21-63"><a href="#cb21-63"></a></span>
<span id="cb21-64"><a href="#cb21-64"></a>    <span class="co">// 3. Target</span></span>
<span id="cb21-65"><a href="#cb21-65"></a>    {</span>
<span id="cb21-66"><a href="#cb21-66"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-67"><a href="#cb21-67"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb21-68"><a href="#cb21-68"></a>         <span class="kw">let</span> output </span>
<span id="cb21-69"><a href="#cb21-69"></a>         <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target_location"</span>)</span>
<span id="cb21-70"><a href="#cb21-70"></a></span>
<span id="cb21-71"><a href="#cb21-71"></a>         <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb21-72"><a href="#cb21-72"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb21-73"><a href="#cb21-73"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb21-74"><a href="#cb21-74"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb21-75"><a href="#cb21-75"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-76"><a href="#cb21-76"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb21-77"><a href="#cb21-77"></a></span>
<span id="cb21-78"><a href="#cb21-78"></a>          } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb21-79"><a href="#cb21-79"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb21-80"><a href="#cb21-80"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-81"><a href="#cb21-81"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb21-82"><a href="#cb21-82"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb21-83"><a href="#cb21-83"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb21-84"><a href="#cb21-84"></a></span>
<span id="cb21-85"><a href="#cb21-85"></a>          }</span>
<span id="cb21-86"><a href="#cb21-86"></a></span>
<span id="cb21-87"><a href="#cb21-87"></a>          <span class="cf">return</span> output</span>
<span id="cb21-88"><a href="#cb21-88"></a>      }<span class="op">,</span></span>
<span id="cb21-89"><a href="#cb21-89"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb21-90"><a href="#cb21-90"></a>    }</span>
<span id="cb21-91"><a href="#cb21-91"></a>  ]<span class="op">,</span></span>
<span id="cb21-92"><a href="#cb21-92"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb21-93"><a href="#cb21-93"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb21-94"><a href="#cb21-94"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-95"><a href="#cb21-95"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-96"><a href="#cb21-96"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-97"><a href="#cb21-97"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-98"><a href="#cb21-98"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-99"><a href="#cb21-99"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span>}<span class="op">,</span></span>
<span id="cb21-100"><a href="#cb21-100"></a></span>
<span id="cb21-101"><a href="#cb21-101"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb21-102"><a href="#cb21-102"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span>}<span class="op">,</span></span>
<span id="cb21-103"><a href="#cb21-103"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span>}</span>
<span id="cb21-104"><a href="#cb21-104"></a>  ]<span class="op">,</span></span>
<span id="cb21-105"><a href="#cb21-105"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-106"><a href="#cb21-106"></a>}</span>
<span id="cb21-107"><a href="#cb21-107"></a></span>
<span id="cb21-108"><a href="#cb21-108"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb21-109"><a href="#cb21-109"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-110"><a href="#cb21-110"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb21-111"><a href="#cb21-111"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb21-112"><a href="#cb21-112"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb21-113"><a href="#cb21-113"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb21-114"><a href="#cb21-114"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb21-115"><a href="#cb21-115"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb21-116"><a href="#cb21-116"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb21-117"><a href="#cb21-117"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb21-118"><a href="#cb21-118"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb21-119"><a href="#cb21-119"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-120"><a href="#cb21-120"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb21-121"><a href="#cb21-121"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb21-122"><a href="#cb21-122"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb21-123"><a href="#cb21-123"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb21-124"><a href="#cb21-124"></a>    })<span class="op">;</span></span>
<span id="cb21-125"><a href="#cb21-125"></a>  }</span>
<span id="cb21-126"><a href="#cb21-126"></a>}<span class="op">;</span></span>
<span id="cb21-127"><a href="#cb21-127"></a></span>
<span id="cb21-128"><a href="#cb21-128"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb21-129"><a href="#cb21-129"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb21-130"><a href="#cb21-130"></a>  instructions<span class="op">,</span></span>
<span id="cb21-131"><a href="#cb21-131"></a>  posnerExo<span class="op">,</span></span>
<span id="cb21-132"><a href="#cb21-132"></a>  saveData</span>
<span id="cb21-133"><a href="#cb21-133"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb22-1"><a href="#cb22-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>}</span>
<span id="cb22-8"><a href="#cb22-8"></a></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb22-10"><a href="#cb22-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-15"><a href="#cb22-15"></a>}</span>
<span id="cb22-16"><a href="#cb22-16"></a></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb22-18"><a href="#cb22-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb22-19"><a href="#cb22-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div id="demo-container-7" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-7" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)\n          \n          if(cue_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(cue_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      trial_duration: 300,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n         let output \n         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)\n\n         if(target_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(target_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ],\n  timeline_variables: [\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-7');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-7" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 
          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)
          
          if(cue_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(cue_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                      </div>`

          }


          return output
      },
      trial_duration: 300,
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
         let output 
         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)

         if(target_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(target_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                      </div>`

          }


          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ],
  timeline_variables: [
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-7&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-7&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="manipulate-cue-duration" class="level3" data-number="18.2.8">
<h3 data-number="18.2.8" class="anchored" data-anchor-id="manipulate-cue-duration"><span class="header-section-number">18.2.8</span> Manipulate Cue Duration</h3>
<p>The final thing we need to do is manipulate the cue duration. We’re going to have two different cue durations: 100 and 300 milliseconds.</p>
<p>We’ll need to add a new timeline variable (100 or 300) and we’ll double the trials to make sure we have one of each type.</p>
<p>Keep in mind, we don’t need a function to vary the <code>trial_duration</code>, we just need to make sure our timeline variable is in the correct format (numeric) and refer to it in the parameter using <code>jsPsych.timelineVariable</code>.</p>
<div class="cell">
<style type="text/css">
/* CB23 */

/* CB24 */
[id^="cb24-"]:nth-child(n+60):nth-child(-n+60),
[id^="cb24-"]:nth-child(n+93):nth-child(-n+117) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB25 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-4" role="tab" aria-controls="tabset-8-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb23-1"><a href="#cb23-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8"></a>    </span>
<span id="cb23-9"><a href="#cb23-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-12"><a href="#cb23-12"></a></span>
<span id="cb23-13"><a href="#cb23-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb23-14"><a href="#cb23-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-17"><a href="#cb23-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb23-18"><a href="#cb23-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-19"><a href="#cb23-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-20"><a href="#cb23-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb23-21"><a href="#cb23-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb24-3"><a href="#cb24-3"></a></span>
<span id="cb24-4"><a href="#cb24-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb24-8"><a href="#cb24-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb24-10"><a href="#cb24-10"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the first trial, press "Next"&lt;/p&gt;`</span> </span>
<span id="cb24-11"><a href="#cb24-11"></a>  ]<span class="op">,</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-13"><a href="#cb24-13"></a>}</span>
<span id="cb24-14"><a href="#cb24-14"></a></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb24-16"><a href="#cb24-16"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb24-17"><a href="#cb24-17"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb24-18"><a href="#cb24-18"></a>    {</span>
<span id="cb24-19"><a href="#cb24-19"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-20"><a href="#cb24-20"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-21"><a href="#cb24-21"></a>          <span class="kw">let</span> output </span>
<span id="cb24-22"><a href="#cb24-22"></a></span>
<span id="cb24-23"><a href="#cb24-23"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb24-24"><a href="#cb24-24"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-25"><a href="#cb24-25"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb24-26"><a href="#cb24-26"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-27"><a href="#cb24-27"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb24-28"><a href="#cb24-28"></a></span>
<span id="cb24-29"><a href="#cb24-29"></a>          <span class="cf">return</span> output</span>
<span id="cb24-30"><a href="#cb24-30"></a>      }<span class="op">,</span></span>
<span id="cb24-31"><a href="#cb24-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb24-33"><a href="#cb24-33"></a>    }<span class="op">,</span></span>
<span id="cb24-34"><a href="#cb24-34"></a></span>
<span id="cb24-35"><a href="#cb24-35"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb24-36"><a href="#cb24-36"></a>    {</span>
<span id="cb24-37"><a href="#cb24-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-38"><a href="#cb24-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-39"><a href="#cb24-39"></a>          <span class="kw">let</span> output </span>
<span id="cb24-40"><a href="#cb24-40"></a>          <span class="kw">let</span> cue_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"cue_location"</span>)</span>
<span id="cb24-41"><a href="#cb24-41"></a>          </span>
<span id="cb24-42"><a href="#cb24-42"></a>          <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb24-43"><a href="#cb24-43"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb24-44"><a href="#cb24-44"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb24-45"><a href="#cb24-45"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb24-46"><a href="#cb24-46"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-47"><a href="#cb24-47"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb24-48"><a href="#cb24-48"></a></span>
<span id="cb24-49"><a href="#cb24-49"></a>          } <span class="cf">else</span> <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb24-50"><a href="#cb24-50"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb24-51"><a href="#cb24-51"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-52"><a href="#cb24-52"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb24-53"><a href="#cb24-53"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb24-54"><a href="#cb24-54"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb24-55"><a href="#cb24-55"></a></span>
<span id="cb24-56"><a href="#cb24-56"></a>          }</span>
<span id="cb24-57"><a href="#cb24-57"></a></span>
<span id="cb24-58"><a href="#cb24-58"></a>          <span class="cf">return</span> output</span>
<span id="cb24-59"><a href="#cb24-59"></a>      }<span class="op">,</span></span>
<span id="cb24-60"><a href="#cb24-60"></a>      <span class="dt">trial_duration</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"cue_duration"</span>)<span class="op">,</span></span>
<span id="cb24-61"><a href="#cb24-61"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb24-62"><a href="#cb24-62"></a>    }<span class="op">,</span></span>
<span id="cb24-63"><a href="#cb24-63"></a></span>
<span id="cb24-64"><a href="#cb24-64"></a>    <span class="co">// 3. Target</span></span>
<span id="cb24-65"><a href="#cb24-65"></a>    {</span>
<span id="cb24-66"><a href="#cb24-66"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-67"><a href="#cb24-67"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-68"><a href="#cb24-68"></a>         <span class="kw">let</span> output </span>
<span id="cb24-69"><a href="#cb24-69"></a>         <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target_location"</span>)</span>
<span id="cb24-70"><a href="#cb24-70"></a></span>
<span id="cb24-71"><a href="#cb24-71"></a>         <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb24-72"><a href="#cb24-72"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb24-73"><a href="#cb24-73"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb24-74"><a href="#cb24-74"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb24-75"><a href="#cb24-75"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-76"><a href="#cb24-76"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb24-77"><a href="#cb24-77"></a></span>
<span id="cb24-78"><a href="#cb24-78"></a>          } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb24-79"><a href="#cb24-79"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb24-80"><a href="#cb24-80"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-81"><a href="#cb24-81"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb24-82"><a href="#cb24-82"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb24-83"><a href="#cb24-83"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb24-84"><a href="#cb24-84"></a></span>
<span id="cb24-85"><a href="#cb24-85"></a>          }</span>
<span id="cb24-86"><a href="#cb24-86"></a></span>
<span id="cb24-87"><a href="#cb24-87"></a>          <span class="cf">return</span> output</span>
<span id="cb24-88"><a href="#cb24-88"></a>      }<span class="op">,</span></span>
<span id="cb24-89"><a href="#cb24-89"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb24-90"><a href="#cb24-90"></a>    }</span>
<span id="cb24-91"><a href="#cb24-91"></a>  ]<span class="op">,</span></span>
<span id="cb24-92"><a href="#cb24-92"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb24-93"><a href="#cb24-93"></a>    <span class="co">// 100 ms SOA</span></span>
<span id="cb24-94"><a href="#cb24-94"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb24-95"><a href="#cb24-95"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-96"><a href="#cb24-96"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-97"><a href="#cb24-97"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-98"><a href="#cb24-98"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-99"><a href="#cb24-99"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-100"><a href="#cb24-100"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-101"><a href="#cb24-101"></a></span>
<span id="cb24-102"><a href="#cb24-102"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb24-103"><a href="#cb24-103"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-104"><a href="#cb24-104"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb24-105"><a href="#cb24-105"></a></span>
<span id="cb24-106"><a href="#cb24-106"></a>    <span class="co">// 300 ms SOA</span></span>
<span id="cb24-107"><a href="#cb24-107"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb24-108"><a href="#cb24-108"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-109"><a href="#cb24-109"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-110"><a href="#cb24-110"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-111"><a href="#cb24-111"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-112"><a href="#cb24-112"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-113"><a href="#cb24-113"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-114"><a href="#cb24-114"></a></span>
<span id="cb24-115"><a href="#cb24-115"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb24-116"><a href="#cb24-116"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb24-117"><a href="#cb24-117"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}</span>
<span id="cb24-118"><a href="#cb24-118"></a>  ]<span class="op">,</span></span>
<span id="cb24-119"><a href="#cb24-119"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-120"><a href="#cb24-120"></a>}</span>
<span id="cb24-121"><a href="#cb24-121"></a></span>
<span id="cb24-122"><a href="#cb24-122"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb24-123"><a href="#cb24-123"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-124"><a href="#cb24-124"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb24-125"><a href="#cb24-125"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb24-126"><a href="#cb24-126"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb24-127"><a href="#cb24-127"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb24-128"><a href="#cb24-128"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb24-129"><a href="#cb24-129"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb24-130"><a href="#cb24-130"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb24-131"><a href="#cb24-131"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb24-132"><a href="#cb24-132"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb24-133"><a href="#cb24-133"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-134"><a href="#cb24-134"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb24-135"><a href="#cb24-135"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb24-136"><a href="#cb24-136"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb24-137"><a href="#cb24-137"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb24-138"><a href="#cb24-138"></a>    })<span class="op">;</span></span>
<span id="cb24-139"><a href="#cb24-139"></a>  }</span>
<span id="cb24-140"><a href="#cb24-140"></a>}<span class="op">;</span></span>
<span id="cb24-141"><a href="#cb24-141"></a></span>
<span id="cb24-142"><a href="#cb24-142"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb24-143"><a href="#cb24-143"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb24-144"><a href="#cb24-144"></a>  instructions<span class="op">,</span></span>
<span id="cb24-145"><a href="#cb24-145"></a>  posnerExo<span class="op">,</span></span>
<span id="cb24-146"><a href="#cb24-146"></a>  saveData</span>
<span id="cb24-147"><a href="#cb24-147"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb25-1"><a href="#cb25-1"></a> <span class="fu">.posner-container</span> {</span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-7"><a href="#cb25-7"></a>}</span>
<span id="cb25-8"><a href="#cb25-8"></a></span>
<span id="cb25-9"><a href="#cb25-9"></a><span class="fu">.posner-location</span> {</span>
<span id="cb25-10"><a href="#cb25-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-11"><a href="#cb25-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-12"><a href="#cb25-12"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-13"><a href="#cb25-13"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-14"><a href="#cb25-14"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-15"><a href="#cb25-15"></a>}</span>
<span id="cb25-16"><a href="#cb25-16"></a></span>
<span id="cb25-17"><a href="#cb25-17"></a><span class="fu">.posner-box</span> {</span>
<span id="cb25-18"><a href="#cb25-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></span>
<span id="cb25-19"><a href="#cb25-19"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-4-tab">
<div id="demo-container-8" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-8" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      .posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid black;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)\n          \n          if(cue_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(cue_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n         let output \n         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)\n\n         if(target_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(target_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ],\n  timeline_variables: [\n    // 100 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100},\n\n    // 300 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-8');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-8" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      .posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid black;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,
    `<p>When you are ready to begin the first trial, press &quot;Next&quot;</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 
          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)
          
          if(cue_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(cue_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                      </div>`

          }


          return output
      },
      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
         let output 
         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)

         if(target_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(target_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                      </div>`

          }


          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ],
  timeline_variables: [
    // 100 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100},

    // 300 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-8&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-8&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="instructions-styling" class="level3" data-number="18.2.9">
<h3 data-number="18.2.9" class="anchored" data-anchor-id="instructions-styling"><span class="header-section-number">18.2.9</span> Instructions &amp; Styling</h3>
<p>Let’s add some proper instructions and change the styling of the experiment to have a dark background with off-white text. Note that I had to change the border color to match the text. This was simple because I just needed to change it in my external stylesheet once.</p>
<div class="cell">
<style type="text/css">
/* CB26 */

/* CB27 */
[id^="cb27-"]:nth-child(n+8):nth-child(-n+22) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB28 */
[id^="cb28-"]:nth-child(n+1):nth-child(-n+4),
[id^="cb28-"]:nth-child(n+23):nth-child(-n+23) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-4" role="tab" aria-controls="tabset-9-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb26-1"><a href="#cb26-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>    </span>
<span id="cb26-9"><a href="#cb26-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12"></a></span>
<span id="cb26-13"><a href="#cb26-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb26-14"><a href="#cb26-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb26-18"><a href="#cb26-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-20"><a href="#cb26-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-21"><a href="#cb26-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb27-3"><a href="#cb27-3"></a></span>
<span id="cb27-4"><a href="#cb27-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb27-6"><a href="#cb27-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-7"><a href="#cb27-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb27-8"><a href="#cb27-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a>    <span class="vs">`&lt;p&gt;On every trial, you will see a fixation point and two boxes&lt;/p&gt;</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="vs">     &lt;p&gt;A target symbol  ("X") will be presented in either the left or right box.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb27-13"><a href="#cb27-13"></a></span>
<span id="cb27-14"><a href="#cb27-14"></a>    <span class="vs">`&lt;p&gt;Press the left key ("A") if the X appears in the left box.&lt;/p&gt;</span></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="vs">     &lt;p&gt;Press the right key ("L") if the X appears in the right box.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb27-16"><a href="#cb27-16"></a></span>
<span id="cb27-17"><a href="#cb27-17"></a>    <span class="vs">`&lt;p&gt;Every trial, you will also see a yellow box appear, which is a cue. &lt;/p&gt;</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="vs">     &lt;p&gt;Do not respond to the yellow box, just ignore it!&lt;/p&gt;</span></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="vs">     &lt;p&gt;Only respond to the X, using the left and right keys.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb27-20"><a href="#cb27-20"></a></span>
<span id="cb27-21"><a href="#cb27-21"></a>    <span class="vs">`&lt;p&gt;Try to respond as quickly and as accurately as possible.&lt;/p&gt;</span></span>
<span id="cb27-22"><a href="#cb27-22"></a><span class="vs">    &lt;p&gt;When you are ready to begin the first trial, press "Next".&lt;/p&gt;`</span> </span>
<span id="cb27-23"><a href="#cb27-23"></a>  ]<span class="op">,</span></span>
<span id="cb27-24"><a href="#cb27-24"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb27-25"><a href="#cb27-25"></a>}</span>
<span id="cb27-26"><a href="#cb27-26"></a></span>
<span id="cb27-27"><a href="#cb27-27"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb27-28"><a href="#cb27-28"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb27-29"><a href="#cb27-29"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb27-30"><a href="#cb27-30"></a>    {</span>
<span id="cb27-31"><a href="#cb27-31"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-32"><a href="#cb27-32"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-33"><a href="#cb27-33"></a>          <span class="kw">let</span> output </span>
<span id="cb27-34"><a href="#cb27-34"></a></span>
<span id="cb27-35"><a href="#cb27-35"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb27-36"><a href="#cb27-36"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-37"><a href="#cb27-37"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-39"><a href="#cb27-39"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb27-40"><a href="#cb27-40"></a></span>
<span id="cb27-41"><a href="#cb27-41"></a>          <span class="cf">return</span> output</span>
<span id="cb27-42"><a href="#cb27-42"></a>      }<span class="op">,</span></span>
<span id="cb27-43"><a href="#cb27-43"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb27-44"><a href="#cb27-44"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb27-45"><a href="#cb27-45"></a>    }<span class="op">,</span></span>
<span id="cb27-46"><a href="#cb27-46"></a></span>
<span id="cb27-47"><a href="#cb27-47"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb27-48"><a href="#cb27-48"></a>    {</span>
<span id="cb27-49"><a href="#cb27-49"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-50"><a href="#cb27-50"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-51"><a href="#cb27-51"></a>          <span class="kw">let</span> output </span>
<span id="cb27-52"><a href="#cb27-52"></a>          <span class="kw">let</span> cue_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"cue_location"</span>)</span>
<span id="cb27-53"><a href="#cb27-53"></a>          </span>
<span id="cb27-54"><a href="#cb27-54"></a>          <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb27-55"><a href="#cb27-55"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb27-56"><a href="#cb27-56"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb27-57"><a href="#cb27-57"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb27-58"><a href="#cb27-58"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-59"><a href="#cb27-59"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb27-60"><a href="#cb27-60"></a></span>
<span id="cb27-61"><a href="#cb27-61"></a>          } <span class="cf">else</span> <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb27-62"><a href="#cb27-62"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb27-63"><a href="#cb27-63"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-64"><a href="#cb27-64"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb27-65"><a href="#cb27-65"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb27-66"><a href="#cb27-66"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb27-67"><a href="#cb27-67"></a></span>
<span id="cb27-68"><a href="#cb27-68"></a>          }</span>
<span id="cb27-69"><a href="#cb27-69"></a></span>
<span id="cb27-70"><a href="#cb27-70"></a>          <span class="cf">return</span> output</span>
<span id="cb27-71"><a href="#cb27-71"></a>      }<span class="op">,</span></span>
<span id="cb27-72"><a href="#cb27-72"></a>      <span class="dt">trial_duration</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"cue_duration"</span>)<span class="op">,</span></span>
<span id="cb27-73"><a href="#cb27-73"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb27-74"><a href="#cb27-74"></a>    }<span class="op">,</span></span>
<span id="cb27-75"><a href="#cb27-75"></a></span>
<span id="cb27-76"><a href="#cb27-76"></a>    <span class="co">// 3. Target</span></span>
<span id="cb27-77"><a href="#cb27-77"></a>    {</span>
<span id="cb27-78"><a href="#cb27-78"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-79"><a href="#cb27-79"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-80"><a href="#cb27-80"></a>         <span class="kw">let</span> output </span>
<span id="cb27-81"><a href="#cb27-81"></a>         <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target_location"</span>)</span>
<span id="cb27-82"><a href="#cb27-82"></a></span>
<span id="cb27-83"><a href="#cb27-83"></a>         <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb27-84"><a href="#cb27-84"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb27-85"><a href="#cb27-85"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb27-86"><a href="#cb27-86"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb27-87"><a href="#cb27-87"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-88"><a href="#cb27-88"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb27-89"><a href="#cb27-89"></a></span>
<span id="cb27-90"><a href="#cb27-90"></a>          } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb27-91"><a href="#cb27-91"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb27-92"><a href="#cb27-92"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-93"><a href="#cb27-93"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb27-94"><a href="#cb27-94"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb27-95"><a href="#cb27-95"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb27-96"><a href="#cb27-96"></a></span>
<span id="cb27-97"><a href="#cb27-97"></a>          }</span>
<span id="cb27-98"><a href="#cb27-98"></a></span>
<span id="cb27-99"><a href="#cb27-99"></a>          <span class="cf">return</span> output</span>
<span id="cb27-100"><a href="#cb27-100"></a>      }<span class="op">,</span></span>
<span id="cb27-101"><a href="#cb27-101"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb27-102"><a href="#cb27-102"></a>    }</span>
<span id="cb27-103"><a href="#cb27-103"></a>  ]<span class="op">,</span></span>
<span id="cb27-104"><a href="#cb27-104"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb27-105"><a href="#cb27-105"></a>    <span class="co">// 100 ms SOA</span></span>
<span id="cb27-106"><a href="#cb27-106"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb27-107"><a href="#cb27-107"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-108"><a href="#cb27-108"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-109"><a href="#cb27-109"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-110"><a href="#cb27-110"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-111"><a href="#cb27-111"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-112"><a href="#cb27-112"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-113"><a href="#cb27-113"></a></span>
<span id="cb27-114"><a href="#cb27-114"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb27-115"><a href="#cb27-115"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-116"><a href="#cb27-116"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span>}<span class="op">,</span></span>
<span id="cb27-117"><a href="#cb27-117"></a></span>
<span id="cb27-118"><a href="#cb27-118"></a>    <span class="co">// 300 ms SOA</span></span>
<span id="cb27-119"><a href="#cb27-119"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb27-120"><a href="#cb27-120"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-121"><a href="#cb27-121"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-122"><a href="#cb27-122"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-123"><a href="#cb27-123"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-124"><a href="#cb27-124"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-125"><a href="#cb27-125"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-126"><a href="#cb27-126"></a></span>
<span id="cb27-127"><a href="#cb27-127"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb27-128"><a href="#cb27-128"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}<span class="op">,</span></span>
<span id="cb27-129"><a href="#cb27-129"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span>}</span>
<span id="cb27-130"><a href="#cb27-130"></a>  ]<span class="op">,</span></span>
<span id="cb27-131"><a href="#cb27-131"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb27-132"><a href="#cb27-132"></a>}</span>
<span id="cb27-133"><a href="#cb27-133"></a></span>
<span id="cb27-134"><a href="#cb27-134"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb27-135"><a href="#cb27-135"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-136"><a href="#cb27-136"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb27-137"><a href="#cb27-137"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb27-138"><a href="#cb27-138"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb27-139"><a href="#cb27-139"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb27-140"><a href="#cb27-140"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb27-141"><a href="#cb27-141"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb27-142"><a href="#cb27-142"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb27-143"><a href="#cb27-143"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb27-144"><a href="#cb27-144"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb27-145"><a href="#cb27-145"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-146"><a href="#cb27-146"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb27-147"><a href="#cb27-147"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb27-148"><a href="#cb27-148"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb27-149"><a href="#cb27-149"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb27-150"><a href="#cb27-150"></a>    })<span class="op">;</span></span>
<span id="cb27-151"><a href="#cb27-151"></a>  }</span>
<span id="cb27-152"><a href="#cb27-152"></a>}<span class="op">;</span></span>
<span id="cb27-153"><a href="#cb27-153"></a></span>
<span id="cb27-154"><a href="#cb27-154"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb27-155"><a href="#cb27-155"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb27-156"><a href="#cb27-156"></a>  instructions<span class="op">,</span></span>
<span id="cb27-157"><a href="#cb27-157"></a>  posnerExo<span class="op">,</span></span>
<span id="cb27-158"><a href="#cb27-158"></a>  saveData</span>
<span id="cb27-159"><a href="#cb27-159"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb28-1"><a href="#cb28-1"></a> body {</span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a1a1a</span><span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>}</span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="fu">.posner-container</span> {</span>
<span id="cb28-7"><a href="#cb28-7"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-8"><a href="#cb28-8"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb28-9"><a href="#cb28-9"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-10"><a href="#cb28-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb28-11"><a href="#cb28-11"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-12"><a href="#cb28-12"></a>}</span>
<span id="cb28-13"><a href="#cb28-13"></a></span>
<span id="cb28-14"><a href="#cb28-14"></a><span class="fu">.posner-location</span> {</span>
<span id="cb28-15"><a href="#cb28-15"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-16"><a href="#cb28-16"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-17"><a href="#cb28-17"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-18"><a href="#cb28-18"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-19"><a href="#cb28-19"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-20"><a href="#cb28-20"></a>}</span>
<span id="cb28-21"><a href="#cb28-21"></a></span>
<span id="cb28-22"><a href="#cb28-22"></a><span class="fu">.posner-box</span> {</span>
<span id="cb28-23"><a href="#cb28-23"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#e0e0e0</span><span class="op">;</span></span>
<span id="cb28-24"><a href="#cb28-24"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-4-tab">
<div id="demo-container-9" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-9" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      body {\n  background-color: #1a1a1a;\n  color: #e0e0e0\n}\n\n.posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid #e0e0e0;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n\n    `<p>On every trial, you will see a fixation point and two boxes</p>\n     <p>A target symbol  (&quot;X&quot;) will be presented in either the left or right box.</p>`,\n\n    `<p>Press the left key (&quot;A&quot;) if the X appears in the left box.</p>\n     <p>Press the right key (&quot;L&quot;) if the X appears in the right box.</p>`,\n\n    `<p>Every trial, you will also see a yellow box appear, which is a cue. </p>\n     <p>Do not respond to the yellow box, just ignore it!</p>\n     <p>Only respond to the X, using the left and right keys.</p>`,\n\n    `<p>Try to respond as quickly and as accurately as possible.</p>\n    <p>When you are ready to begin the first trial, press &quot;Next&quot;.</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)\n          \n          if(cue_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(cue_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n         let output \n         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)\n\n         if(target_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(target_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    }\n  ],\n  timeline_variables: [\n    // 100 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100},\n\n    // 300 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-9');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-9" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      body {
  background-color: #1a1a1a;
  color: #e0e0e0
}

.posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid #e0e0e0;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,

    `<p>On every trial, you will see a fixation point and two boxes</p>
     <p>A target symbol  (&quot;X&quot;) will be presented in either the left or right box.</p>`,

    `<p>Press the left key (&quot;A&quot;) if the X appears in the left box.</p>
     <p>Press the right key (&quot;L&quot;) if the X appears in the right box.</p>`,

    `<p>Every trial, you will also see a yellow box appear, which is a cue. </p>
     <p>Do not respond to the yellow box, just ignore it!</p>
     <p>Only respond to the X, using the left and right keys.</p>`,

    `<p>Try to respond as quickly and as accurately as possible.</p>
    <p>When you are ready to begin the first trial, press &quot;Next&quot;.</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 
          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)
          
          if(cue_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(cue_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                      </div>`

          }


          return output
      },
      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
         let output 
         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)

         if(target_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(target_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                      </div>`

          }


          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    }
  ],
  timeline_variables: [
    // 100 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100},

    // 300 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-9&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-9&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="adding-feedback" class="level3" data-number="18.2.10">
<h3 data-number="18.2.10" class="anchored" data-anchor-id="adding-feedback"><span class="header-section-number">18.2.10</span> Adding Feedback</h3>
<p>To add feedback text that says ‘correct!’ or ‘incorrect!’, we’ll need to add a few things. First, our <code>timeline_variables</code> is missing a label for the correct response. We’ll need that to determine accuracy.</p>
<p>Then, I added a new trial part after the target and, unlike what we’ve done before, I determine the accuracy in the stimulus function. Since it’s a function, we have the freedom to run our logic here instead.</p>
<p>Finally, I added if-else logic to change the output depending on the accuracy.</p>
<div class="cell">
<style type="text/css">
/* CB29 */

/* CB30 */
[id^="cb30-"]:nth-child(n+104):nth-child(-n+129),
[id^="cb30-"]:nth-child(n+134):nth-child(-n+156) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB31 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-4" role="tab" aria-controls="tabset-10-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb29-1"><a href="#cb29-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 7: Attention<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>    </span>
<span id="cb29-9"><a href="#cb29-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-11"><a href="#cb29-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-12"><a href="#cb29-12"></a></span>
<span id="cb29-13"><a href="#cb29-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb29-15"><a href="#cb29-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb29-16"><a href="#cb29-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb29-17"><a href="#cb29-17"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb29-18"><a href="#cb29-18"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-19"><a href="#cb29-19"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb29-20"><a href="#cb29-20"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb29-21"><a href="#cb29-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb30-1"><a href="#cb30-1"></a> <span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb30-3"><a href="#cb30-3"></a></span>
<span id="cb30-4"><a href="#cb30-4"></a> <span class="co">// 2. Define our trials</span></span>
<span id="cb30-5"><a href="#cb30-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb30-6"><a href="#cb30-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb30-7"><a href="#cb30-7"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb30-8"><a href="#cb30-8"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb30-10"><a href="#cb30-10"></a></span>
<span id="cb30-11"><a href="#cb30-11"></a>    <span class="vs">`&lt;p&gt;On every trial, you will see a fixation point and two boxes&lt;/p&gt;</span></span>
<span id="cb30-12"><a href="#cb30-12"></a><span class="vs">     &lt;p&gt;A target symbol  ("X") will be presented in either the left or right box.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb30-13"><a href="#cb30-13"></a></span>
<span id="cb30-14"><a href="#cb30-14"></a>    <span class="vs">`&lt;p&gt;Press the left key ("A") if the X appears in the left box.&lt;/p&gt;</span></span>
<span id="cb30-15"><a href="#cb30-15"></a><span class="vs">     &lt;p&gt;Press the right key ("L") if the X appears in the right box.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb30-16"><a href="#cb30-16"></a></span>
<span id="cb30-17"><a href="#cb30-17"></a>    <span class="vs">`&lt;p&gt;Every trial, you will also see a yellow box appear, which is a cue. &lt;/p&gt;</span></span>
<span id="cb30-18"><a href="#cb30-18"></a><span class="vs">     &lt;p&gt;Do not respond to the yellow box, just ignore it!&lt;/p&gt;</span></span>
<span id="cb30-19"><a href="#cb30-19"></a><span class="vs">     &lt;p&gt;Only respond to the X, using the left and right keys.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb30-20"><a href="#cb30-20"></a></span>
<span id="cb30-21"><a href="#cb30-21"></a>    <span class="vs">`&lt;p&gt;Try to respond as quickly and as accurately as possible.&lt;/p&gt;</span></span>
<span id="cb30-22"><a href="#cb30-22"></a><span class="vs">    &lt;p&gt;When you are ready to begin the first trial, press "Next".&lt;/p&gt;`</span> </span>
<span id="cb30-23"><a href="#cb30-23"></a>  ]<span class="op">,</span></span>
<span id="cb30-24"><a href="#cb30-24"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb30-25"><a href="#cb30-25"></a>}</span>
<span id="cb30-26"><a href="#cb30-26"></a></span>
<span id="cb30-27"><a href="#cb30-27"></a><span class="kw">const</span> posnerExo <span class="op">=</span> {</span>
<span id="cb30-28"><a href="#cb30-28"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb30-29"><a href="#cb30-29"></a>    <span class="co">// 1. Fixation</span></span>
<span id="cb30-30"><a href="#cb30-30"></a>    {</span>
<span id="cb30-31"><a href="#cb30-31"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-32"><a href="#cb30-32"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-33"><a href="#cb30-33"></a>          <span class="kw">let</span> output </span>
<span id="cb30-34"><a href="#cb30-34"></a></span>
<span id="cb30-35"><a href="#cb30-35"></a>          output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb30-36"><a href="#cb30-36"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-37"><a href="#cb30-37"></a><span class="vs">                      &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb30-38"><a href="#cb30-38"></a><span class="vs">                      &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-39"><a href="#cb30-39"></a><span class="vs">                    &lt;/div&gt;`</span></span>
<span id="cb30-40"><a href="#cb30-40"></a></span>
<span id="cb30-41"><a href="#cb30-41"></a>          <span class="cf">return</span> output</span>
<span id="cb30-42"><a href="#cb30-42"></a>      }<span class="op">,</span></span>
<span id="cb30-43"><a href="#cb30-43"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb30-44"><a href="#cb30-44"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb30-45"><a href="#cb30-45"></a>    }<span class="op">,</span></span>
<span id="cb30-46"><a href="#cb30-46"></a></span>
<span id="cb30-47"><a href="#cb30-47"></a>    <span class="co">// 2. Cue</span></span>
<span id="cb30-48"><a href="#cb30-48"></a>    {</span>
<span id="cb30-49"><a href="#cb30-49"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-50"><a href="#cb30-50"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-51"><a href="#cb30-51"></a>          <span class="kw">let</span> output </span>
<span id="cb30-52"><a href="#cb30-52"></a>          <span class="kw">let</span> cue_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"cue_location"</span>)</span>
<span id="cb30-53"><a href="#cb30-53"></a>          </span>
<span id="cb30-54"><a href="#cb30-54"></a>          <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb30-55"><a href="#cb30-55"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb30-56"><a href="#cb30-56"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb30-57"><a href="#cb30-57"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb30-58"><a href="#cb30-58"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-59"><a href="#cb30-59"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb30-60"><a href="#cb30-60"></a></span>
<span id="cb30-61"><a href="#cb30-61"></a>          } <span class="cf">else</span> <span class="cf">if</span>(cue_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb30-62"><a href="#cb30-62"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb30-63"><a href="#cb30-63"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-64"><a href="#cb30-64"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb30-65"><a href="#cb30-65"></a><span class="vs">                        &lt;div class="posner-location posner-box" style="background-color: yellow "&gt;&lt;/div&gt;</span></span>
<span id="cb30-66"><a href="#cb30-66"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb30-67"><a href="#cb30-67"></a></span>
<span id="cb30-68"><a href="#cb30-68"></a>          }</span>
<span id="cb30-69"><a href="#cb30-69"></a></span>
<span id="cb30-70"><a href="#cb30-70"></a>          <span class="cf">return</span> output</span>
<span id="cb30-71"><a href="#cb30-71"></a>      }<span class="op">,</span></span>
<span id="cb30-72"><a href="#cb30-72"></a>      <span class="dt">trial_duration</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"cue_duration"</span>)<span class="op">,</span></span>
<span id="cb30-73"><a href="#cb30-73"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb30-74"><a href="#cb30-74"></a>    }<span class="op">,</span></span>
<span id="cb30-75"><a href="#cb30-75"></a></span>
<span id="cb30-76"><a href="#cb30-76"></a>    <span class="co">// 3. Target</span></span>
<span id="cb30-77"><a href="#cb30-77"></a>    {</span>
<span id="cb30-78"><a href="#cb30-78"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-79"><a href="#cb30-79"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-80"><a href="#cb30-80"></a>         <span class="kw">let</span> output </span>
<span id="cb30-81"><a href="#cb30-81"></a>         <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target_location"</span>)</span>
<span id="cb30-82"><a href="#cb30-82"></a></span>
<span id="cb30-83"><a href="#cb30-83"></a>         <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"left"</span>){</span>
<span id="cb30-84"><a href="#cb30-84"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb30-85"><a href="#cb30-85"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb30-86"><a href="#cb30-86"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb30-87"><a href="#cb30-87"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-88"><a href="#cb30-88"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb30-89"><a href="#cb30-89"></a></span>
<span id="cb30-90"><a href="#cb30-90"></a>          } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">===</span> <span class="st">"right"</span>){</span>
<span id="cb30-91"><a href="#cb30-91"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="posner-container"&gt;</span></span>
<span id="cb30-92"><a href="#cb30-92"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-93"><a href="#cb30-93"></a><span class="vs">                        &lt;div class="posner-location"&gt;+&lt;/div&gt;</span></span>
<span id="cb30-94"><a href="#cb30-94"></a><span class="vs">                        &lt;div class="posner-location posner-box"&gt;X&lt;/div&gt;</span></span>
<span id="cb30-95"><a href="#cb30-95"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb30-96"><a href="#cb30-96"></a></span>
<span id="cb30-97"><a href="#cb30-97"></a>          }</span>
<span id="cb30-98"><a href="#cb30-98"></a></span>
<span id="cb30-99"><a href="#cb30-99"></a>          <span class="cf">return</span> output</span>
<span id="cb30-100"><a href="#cb30-100"></a>      }<span class="op">,</span></span>
<span id="cb30-101"><a href="#cb30-101"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]</span>
<span id="cb30-102"><a href="#cb30-102"></a>    }<span class="op">,</span></span>
<span id="cb30-103"><a href="#cb30-103"></a></span>
<span id="cb30-104"><a href="#cb30-104"></a>    <span class="co">// 4. Feedback</span></span>
<span id="cb30-105"><a href="#cb30-105"></a>    {</span>
<span id="cb30-106"><a href="#cb30-106"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-107"><a href="#cb30-107"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-108"><a href="#cb30-108"></a>          <span class="co">// get the response from the last trial</span></span>
<span id="cb30-109"><a href="#cb30-109"></a>          <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb30-110"><a href="#cb30-110"></a>          <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb30-111"><a href="#cb30-111"></a></span>
<span id="cb30-112"><a href="#cb30-112"></a>          <span class="co">// determine if the last response matches the correct response</span></span>
<span id="cb30-113"><a href="#cb30-113"></a>          <span class="kw">let</span> correct_response <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb30-114"><a href="#cb30-114"></a>          <span class="kw">let</span> accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> correct_response)</span>
<span id="cb30-115"><a href="#cb30-115"></a>      </span>
<span id="cb30-116"><a href="#cb30-116"></a>         <span class="co">// change output depending on accuracy</span></span>
<span id="cb30-117"><a href="#cb30-117"></a>         <span class="cf">if</span>(accuracy){</span>
<span id="cb30-118"><a href="#cb30-118"></a>            output <span class="op">=</span> <span class="vs">`&lt;p style="color: ForestGreen; font-size: 48px;"&gt;Correct!&lt;/p&gt;`</span></span>
<span id="cb30-119"><a href="#cb30-119"></a></span>
<span id="cb30-120"><a href="#cb30-120"></a>          } <span class="cf">else</span> {</span>
<span id="cb30-121"><a href="#cb30-121"></a>            output <span class="op">=</span> <span class="vs">`&lt;p style="color: LightCoral; font-size: 48px;"&gt;Incorrect!&lt;/p&gt;`</span></span>
<span id="cb30-122"><a href="#cb30-122"></a></span>
<span id="cb30-123"><a href="#cb30-123"></a>          }</span>
<span id="cb30-124"><a href="#cb30-124"></a></span>
<span id="cb30-125"><a href="#cb30-125"></a>          <span class="cf">return</span> output</span>
<span id="cb30-126"><a href="#cb30-126"></a>      }<span class="op">,</span></span>
<span id="cb30-127"><a href="#cb30-127"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1500</span><span class="op">,</span></span>
<span id="cb30-128"><a href="#cb30-128"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb30-129"><a href="#cb30-129"></a>    }</span>
<span id="cb30-130"><a href="#cb30-130"></a>  ]<span class="op">,</span></span>
<span id="cb30-131"><a href="#cb30-131"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb30-132"><a href="#cb30-132"></a>    <span class="co">// 100 ms SOA</span></span>
<span id="cb30-133"><a href="#cb30-133"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb30-134"><a href="#cb30-134"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-135"><a href="#cb30-135"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-136"><a href="#cb30-136"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-137"><a href="#cb30-137"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-138"><a href="#cb30-138"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-139"><a href="#cb30-139"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-140"><a href="#cb30-140"></a></span>
<span id="cb30-141"><a href="#cb30-141"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb30-142"><a href="#cb30-142"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-143"><a href="#cb30-143"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-144"><a href="#cb30-144"></a></span>
<span id="cb30-145"><a href="#cb30-145"></a>    <span class="co">// 300 ms SOA</span></span>
<span id="cb30-146"><a href="#cb30-146"></a>    <span class="co">// valid trials 75%</span></span>
<span id="cb30-147"><a href="#cb30-147"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-148"><a href="#cb30-148"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-149"><a href="#cb30-149"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-150"><a href="#cb30-150"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-151"><a href="#cb30-151"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}<span class="op">,</span></span>
<span id="cb30-152"><a href="#cb30-152"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"valid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-153"><a href="#cb30-153"></a></span>
<span id="cb30-154"><a href="#cb30-154"></a>    <span class="co">// invalid trials 25%</span></span>
<span id="cb30-155"><a href="#cb30-155"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>}<span class="op">,</span></span>
<span id="cb30-156"><a href="#cb30-156"></a>    {<span class="dt">cue_location</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span> <span class="dt">target_location</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span> <span class="dt">validity</span><span class="op">:</span> <span class="st">"invalid"</span><span class="op">,</span> <span class="dt">cue_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>}</span>
<span id="cb30-157"><a href="#cb30-157"></a>  ]<span class="op">,</span></span>
<span id="cb30-158"><a href="#cb30-158"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb30-159"><a href="#cb30-159"></a>}</span>
<span id="cb30-160"><a href="#cb30-160"></a></span>
<span id="cb30-161"><a href="#cb30-161"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb30-162"><a href="#cb30-162"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-163"><a href="#cb30-163"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb30-164"><a href="#cb30-164"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb30-165"><a href="#cb30-165"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb30-166"><a href="#cb30-166"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb30-167"><a href="#cb30-167"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb30-168"><a href="#cb30-168"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb30-169"><a href="#cb30-169"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb30-170"><a href="#cb30-170"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb30-171"><a href="#cb30-171"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb30-172"><a href="#cb30-172"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb30-173"><a href="#cb30-173"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb30-174"><a href="#cb30-174"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb30-175"><a href="#cb30-175"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb30-176"><a href="#cb30-176"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"attention_data.csv"</span>)<span class="op">;</span></span>
<span id="cb30-177"><a href="#cb30-177"></a>    })<span class="op">;</span></span>
<span id="cb30-178"><a href="#cb30-178"></a>  }</span>
<span id="cb30-179"><a href="#cb30-179"></a>}<span class="op">;</span></span>
<span id="cb30-180"><a href="#cb30-180"></a></span>
<span id="cb30-181"><a href="#cb30-181"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb30-182"><a href="#cb30-182"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb30-183"><a href="#cb30-183"></a>  instructions<span class="op">,</span></span>
<span id="cb30-184"><a href="#cb30-184"></a>  posnerExo<span class="op">,</span></span>
<span id="cb30-185"><a href="#cb30-185"></a>  saveData</span>
<span id="cb30-186"><a href="#cb30-186"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb31-1"><a href="#cb31-1"></a> body {</span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a1a1a</span><span class="op">;</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span></span>
<span id="cb31-4"><a href="#cb31-4"></a>}</span>
<span id="cb31-5"><a href="#cb31-5"></a></span>
<span id="cb31-6"><a href="#cb31-6"></a><span class="fu">.posner-container</span> {</span>
<span id="cb31-7"><a href="#cb31-7"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-8"><a href="#cb31-8"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">space-between</span><span class="op">;</span></span>
<span id="cb31-9"><a href="#cb31-9"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb31-11"><a href="#cb31-11"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-12"><a href="#cb31-12"></a>}</span>
<span id="cb31-13"><a href="#cb31-13"></a></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="fu">.posner-location</span> {</span>
<span id="cb31-15"><a href="#cb31-15"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-16"><a href="#cb31-16"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-17"><a href="#cb31-17"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-18"><a href="#cb31-18"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-19"><a href="#cb31-19"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-20"><a href="#cb31-20"></a>}</span>
<span id="cb31-21"><a href="#cb31-21"></a></span>
<span id="cb31-22"><a href="#cb31-22"></a><span class="fu">.posner-box</span> {</span>
<span id="cb31-23"><a href="#cb31-23"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#e0e0e0</span><span class="op">;</span></span>
<span id="cb31-24"><a href="#cb31-24"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-4-tab">
<div id="demo-container-10" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-10" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      body {\n  background-color: #1a1a1a;\n  color: #e0e0e0\n}\n\n.posner-container {\n  display: flex;\n  justify-content: space-between;\n  width: 600px;\n  margin: 0 auto;\n  font-size: 48px;\n}\n\n.posner-location {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.posner-box {\n  border: 2px solid #e0e0e0;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n// 2. Define our trials\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions</p>`,\n\n    `<p>On every trial, you will see a fixation point and two boxes</p>\n     <p>A target symbol  (&quot;X&quot;) will be presented in either the left or right box.</p>`,\n\n    `<p>Press the left key (&quot;A&quot;) if the X appears in the left box.</p>\n     <p>Press the right key (&quot;L&quot;) if the X appears in the right box.</p>`,\n\n    `<p>Every trial, you will also see a yellow box appear, which is a cue. </p>\n     <p>Do not respond to the yellow box, just ignore it!</p>\n     <p>Only respond to the X, using the left and right keys.</p>`,\n\n    `<p>Try to respond as quickly and as accurately as possible.</p>\n    <p>When you are ready to begin the first trial, press &quot;Next&quot;.</p>` \n  ],\n  show_clickable_nav: true\n}\n\nconst posnerExo = {\n  timeline: [\n    // 1. Fixation\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n\n          output = `<div class=&quot;posner-container&quot;>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                      <div class=&quot;posner-location&quot;>+</div>\n                      <div class=&quot;posner-location posner-box&quot;></div>\n                    </div>`\n\n          return output\n      },\n      trial_duration: 1000,\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 2. Cue\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          let output \n          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)\n          \n          if(cue_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(cue_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),\n      choices: &quot;NO_KEYS&quot;\n    },\n\n    // 3. Target\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n         let output \n         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)\n\n         if(target_location === &quot;left&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                      </div>`\n\n          } else if(target_location === &quot;right&quot;){\n            output = `<div class=&quot;posner-container&quot;>\n                        <div class=&quot;posner-location posner-box&quot;></div>\n                        <div class=&quot;posner-location&quot;>+</div>\n                        <div class=&quot;posner-location posner-box&quot;>X</div>\n                      </div>`\n\n          }\n\n\n          return output\n      },\n      choices: [&quot;a&quot;, &quot;l&quot;]\n    },\n\n    // 4. Feedback\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: function(){\n          // get the response from the last trial\n          let last_trial = jsPsych.data.get().last(1).values()\n          let last_response = last_trial[0].response\n\n          // determine if the last response matches the correct response\n          let correct_response = jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;)\n          let accuracy = jsPsych.pluginAPI.compareKeys(last_response, correct_response)\n      \n         // change output depending on accuracy\n         if(accuracy){\n            output = `<p style=&quot;color: ForestGreen; font-size: 48px;&quot;>Correct!</p>`\n\n          } else {\n            output = `<p style=&quot;color: LightCoral; font-size: 48px;&quot;>Incorrect!</p>`\n\n          }\n\n          return output\n      },\n      trial_duration: 1500,\n      choices: &quot;NO_KEYS&quot;\n    }\n  ],\n  timeline_variables: [\n    // 100 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},\n\n    // 300 ms SOA\n    // valid trials 75%\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},\n    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},\n\n    // invalid trials 25%\n    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},\n    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300, correct_response: &quot;a&quot;}\n  ],\n  randomize_order: true\n}\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);\n    });\n  }\n};\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  instructions,\n  posnerExo,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-10');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-10" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      body {
  background-color: #1a1a1a;
  color: #e0e0e0
}

.posner-container {
  display: flex;
  justify-content: space-between;
  width: 600px;
  margin: 0 auto;
  font-size: 48px;
}

.posner-location {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.posner-box {
  border: 2px solid #e0e0e0;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});

// 2. Define our trials
const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions</p>`,

    `<p>On every trial, you will see a fixation point and two boxes</p>
     <p>A target symbol  (&quot;X&quot;) will be presented in either the left or right box.</p>`,

    `<p>Press the left key (&quot;A&quot;) if the X appears in the left box.</p>
     <p>Press the right key (&quot;L&quot;) if the X appears in the right box.</p>`,

    `<p>Every trial, you will also see a yellow box appear, which is a cue. </p>
     <p>Do not respond to the yellow box, just ignore it!</p>
     <p>Only respond to the X, using the left and right keys.</p>`,

    `<p>Try to respond as quickly and as accurately as possible.</p>
    <p>When you are ready to begin the first trial, press &quot;Next&quot;.</p>` 
  ],
  show_clickable_nav: true
}

const posnerExo = {
  timeline: [
    // 1. Fixation
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 

          output = `<div class=&quot;posner-container&quot;>
                      <div class=&quot;posner-location posner-box&quot;></div>
                      <div class=&quot;posner-location&quot;>+</div>
                      <div class=&quot;posner-location posner-box&quot;></div>
                    </div>`

          return output
      },
      trial_duration: 1000,
      choices: &quot;NO_KEYS&quot;
    },

    // 2. Cue
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          let output 
          let cue_location = jsPsych.evaluateTimelineVariable(&quot;cue_location&quot;)
          
          if(cue_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(cue_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot; style=&quot;background-color: yellow &quot;></div>
                      </div>`

          }


          return output
      },
      trial_duration: jsPsych.timelineVariable(&quot;cue_duration&quot;),
      choices: &quot;NO_KEYS&quot;
    },

    // 3. Target
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
         let output 
         let target_location = jsPsych.evaluateTimelineVariable(&quot;target_location&quot;)

         if(target_location === &quot;left&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;></div>
                      </div>`

          } else if(target_location === &quot;right&quot;){
            output = `<div class=&quot;posner-container&quot;>
                        <div class=&quot;posner-location posner-box&quot;></div>
                        <div class=&quot;posner-location&quot;>+</div>
                        <div class=&quot;posner-location posner-box&quot;>X</div>
                      </div>`

          }


          return output
      },
      choices: [&quot;a&quot;, &quot;l&quot;]
    },

    // 4. Feedback
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function(){
          // get the response from the last trial
          let last_trial = jsPsych.data.get().last(1).values()
          let last_response = last_trial[0].response

          // determine if the last response matches the correct response
          let correct_response = jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;)
          let accuracy = jsPsych.pluginAPI.compareKeys(last_response, correct_response)
      
         // change output depending on accuracy
         if(accuracy){
            output = `<p style=&quot;color: ForestGreen; font-size: 48px;&quot;>Correct!</p>`

          } else {
            output = `<p style=&quot;color: LightCoral; font-size: 48px;&quot;>Incorrect!</p>`

          }

          return output
      },
      trial_duration: 1500,
      choices: &quot;NO_KEYS&quot;
    }
  ],
  timeline_variables: [
    // 100 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 100, correct_response: &quot;l&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 100, correct_response: &quot;a&quot;},

    // 300 ms SOA
    // valid trials 75%
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},
    {cue_location: &quot;left&quot;, target_location: &quot;left&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;a&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;right&quot;, validity: &quot;valid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},

    // invalid trials 25%
    {cue_location: &quot;left&quot;, target_location: &quot;right&quot;, validity: &quot;invalid&quot;, cue_duration: 300, correct_response: &quot;l&quot;},
    {cue_location: &quot;right&quot;, target_location: &quot;left&quot;, validity: &quot;invalid&quot;, cue_duration: 300, correct_response: &quot;a&quot;}
  ],
  randomize_order: true
}

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;attention_data.csv&quot;);
    });
  }
};

// 3. Run jsPsych with our trials
jsPsych.run([
  instructions,
  posnerExo,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-10&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-10&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stretch-goals" class="level2" data-number="18.3">
<h2 data-number="18.3" class="anchored" data-anchor-id="stretch-goals"><span class="header-section-number">18.3</span> Stretch Goals</h2>
<section id="add-proper-data-labels" class="level3" data-number="18.3.1">
<h3 data-number="18.3.1" class="anchored" data-anchor-id="add-proper-data-labels"><span class="header-section-number">18.3.1</span> Add proper data labels</h3>
<p>Add data labels for:</p>
<ul>
<li>all the <code>timeline_variables</code></li>
<li><code>task_type</code> (e.g., instructions, posner, saveData)</li>
<li><code>trial_part</code> (e.g., fixation, cue, target)</li>
</ul>
</section>
<section id="create-a-block-of-trials-that-uses-an-endogenous-arrow-cue" class="level3" data-number="18.3.2">
<h3 data-number="18.3.2" class="anchored" data-anchor-id="create-a-block-of-trials-that-uses-an-endogenous-arrow-cue"><span class="header-section-number">18.3.2</span> Create a block of trials that uses an endogenous arrow cue</h3>
<p>In the endogenous version of the task, there is not yellow box that flashes. Instead, an arrow at the center of the screen points left or right.</p>
<p>Create another block of trials called <code>posnerEndo</code> that is identical to the exogenous block, except that an arrow is used as a cue instead of the yellow box.</p>
<p>There are HTML codes for a variety of symbols, including arrows. To insert a right arrow like this <code>➡</code>, you can insert this HTML code <code>&amp;#10145;</code></p>
<p>For a left arrow,<code>⬅</code> you can use <code>&amp;#11013;</code>.</p>
</section>
<section id="add-additional-feedback-logic" class="level3" data-number="18.3.3">
<h3 data-number="18.3.3" class="anchored" data-anchor-id="add-additional-feedback-logic"><span class="header-section-number">18.3.3</span> Add Additional Feedback Logic</h3>
<p>Update the trial feedback to emphasize speed. If they were accurate, but took longer than 1000ms to respond, then the feedback should be “Too Slow! Respond Faster” in a “PaleVioletRed” color.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./17-dynamic-html.html" class="pagination-link" aria-label="Dynamic Parameters">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dynamic Parameters</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./19-dynamic-flow.html" class="pagination-link" aria-label="Controlling the Flow">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Controlling the Flow</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/18-L07.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>