<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>25&nbsp; Gamification in Behavioural Research – Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./26-L12.html" rel="next">
<link href="./24-L11.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f4f6c4c33169695420a9dce568207992.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
.tabset-fullscreen-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  z-index: 1000;
  padding: 5px 10px;
  background-color: none;
  color: #6c757d;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
}
.tabset-fullscreen-btn:hover {
  background-color: #e9ecef;
  color: #495057;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.panel-tabset').forEach(function(tabset) {
    const btn = document.createElement('button');
    btn.innerHTML = '⛶ Open Code in New Tab';
    btn.className = 'tabset-fullscreen-btn';

    tabset.style.position = 'relative';
    tabset.insertBefore(btn, tabset.firstChild);

    btn.addEventListener('click', function() {
      const clone = tabset.cloneNode(true);
      const cloneBtn = clone.querySelector('.tabset-fullscreen-btn');
      if (cloneBtn) cloneBtn.remove();

      // Get all stylesheets from current page
      const stylesheets = Array.from(document.styleSheets)
        .map(sheet => {
          try {
            if (sheet.href) {
              return `<link rel="stylesheet" href="${sheet.href}">`;
            } else if (sheet.ownerNode) {
              return `<style>${Array.from(sheet.cssRules).map(rule => rule.cssText).join('\n')}</style>`;
            }
          } catch (e) {
            if (sheet.href) return `<link rel="stylesheet" href="${sheet.href}">`;
          }
          return '';
        })
        .join('\n');

      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <html>
          <head>
            <title>Tab Panel View</title>
            ${stylesheets}
            <style>
              body { 
                margin: 20px auto; 
                padding: 20px; 
                max-width: 1200px;
              }
            </style>
          </head>
          <body>
            ${clone.outerHTML}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"><\/script>
          </body>
        </html>
      `);
      newWindow.document.close();
    });
  });
});
</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./25-gamification.html">Unit 11: Gamification</a></li><li class="breadcrumb-item"><a href="./25-gamification.html"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 5: Multimedia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-multimedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-L05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 6: Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-data-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Accessing and Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-L06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab 6: Creativity</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 7: Dynamic Parameters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-dynamic-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dynamic Parameters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-L07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 8: Controlling the Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-dynamic-flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Controlling the Flow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-L08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Lab 8: Cognitive Control</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 9: Skills Checkpoint</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-L09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Lab 9: Working Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 10: Randomization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Randomization in Experimental Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-L10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-L11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 11: Gamification</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-gamification.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./26-L12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">25.1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#what-makes-games-engaging" id="toc-what-makes-games-engaging" class="nav-link" data-scroll-target="#what-makes-games-engaging"><span class="header-section-number">25.1.1</span> What Makes Games Engaging?</a></li>
  <li><a href="#a-framework-for-implementation" id="toc-a-framework-for-implementation" class="nav-link" data-scroll-target="#a-framework-for-implementation"><span class="header-section-number">25.1.2</span> A Framework for Implementation</a></li>
  <li><a href="#two-approaches-to-gamified-research" id="toc-two-approaches-to-gamified-research" class="nav-link" data-scroll-target="#two-approaches-to-gamified-research"><span class="header-section-number">25.1.3</span> Two Approaches to Gamified Research</a></li>
  <li><a href="#the-ecological-validity-vs.-experimental-control-trade-off" id="toc-the-ecological-validity-vs.-experimental-control-trade-off" class="nav-link" data-scroll-target="#the-ecological-validity-vs.-experimental-control-trade-off"><span class="header-section-number">25.1.4</span> The Ecological Validity vs.&nbsp;Experimental Control Trade-Off</a></li>
  <li><a href="#implementing-gamification-in-jspsych" id="toc-implementing-gamification-in-jspsych" class="nav-link" data-scroll-target="#implementing-gamification-in-jspsych"><span class="header-section-number">25.1.5</span> Implementing Gamification in jsPsych</a></li>
  </ul></li>
  <li><a href="#the-game-display" id="toc-the-game-display" class="nav-link" data-scroll-target="#the-game-display"><span class="header-section-number">25.2</span> The Game Display</a>
  <ul class="collapse">
  <li><a href="#creating-a-persistent-game-display" id="toc-creating-a-persistent-game-display" class="nav-link" data-scroll-target="#creating-a-persistent-game-display"><span class="header-section-number">25.2.1</span> Creating a Persistent Game Display</a></li>
  <li><a href="#updating-the-game-display" id="toc-updating-the-game-display" class="nav-link" data-scroll-target="#updating-the-game-display"><span class="header-section-number">25.2.2</span> Updating the Game Display</a></li>
  <li><a href="#example-1-updating-the-score" id="toc-example-1-updating-the-score" class="nav-link" data-scroll-target="#example-1-updating-the-score"><span class="header-section-number">25.2.3</span> Example 1: Updating the Score</a></li>
  <li><a href="#example-2-updating-a-health-bar" id="toc-example-2-updating-a-health-bar" class="nav-link" data-scroll-target="#example-2-updating-a-health-bar"><span class="header-section-number">25.2.4</span> Example 2: Updating a Health Bar</a></li>
  <li><a href="#example-3-updating-a-progress-bar" id="toc-example-3-updating-a-progress-bar" class="nav-link" data-scroll-target="#example-3-updating-a-progress-bar"><span class="header-section-number">25.2.5</span> Example 3: Updating a Progress Bar</a></li>
  <li><a href="#setting-up-and-clearing-the-display" id="toc-setting-up-and-clearing-the-display" class="nav-link" data-scroll-target="#setting-up-and-clearing-the-display"><span class="header-section-number">25.2.6</span> Setting Up and Clearing the Display</a></li>
  </ul></li>
  <li><a href="#animating-css-properties" id="toc-animating-css-properties" class="nav-link" data-scroll-target="#animating-css-properties"><span class="header-section-number">25.3</span> Animating CSS Properties</a>
  <ul class="collapse">
  <li><a href="#css-transitions" id="toc-css-transitions" class="nav-link" data-scroll-target="#css-transitions"><span class="header-section-number">25.3.1</span> CSS Transitions</a></li>
  <li><a href="#css-keyframe-animations" id="toc-css-keyframe-animations" class="nav-link" data-scroll-target="#css-keyframe-animations"><span class="header-section-number">25.3.2</span> CSS Keyframe Animations</a></li>
  <li><a href="#animation-resources" id="toc-animation-resources" class="nav-link" data-scroll-target="#animation-resources"><span class="header-section-number">25.3.3</span> Animation Resources</a></li>
  <li><a href="#adding-css-animations-to-jspsych" id="toc-adding-css-animations-to-jspsych" class="nav-link" data-scroll-target="#adding-css-animations-to-jspsych"><span class="header-section-number">25.3.4</span> Adding CSS Animations to jsPsych</a></li>
  </ul></li>
  <li><a href="#animating-sprites" id="toc-animating-sprites" class="nav-link" data-scroll-target="#animating-sprites"><span class="header-section-number">25.4</span> Animating Sprites</a>
  <ul class="collapse">
  <li><a href="#single-animation-sprite-sheet" id="toc-single-animation-sprite-sheet" class="nav-link" data-scroll-target="#single-animation-sprite-sheet"><span class="header-section-number">25.4.1</span> Single Animation Sprite Sheet</a></li>
  <li><a href="#multi-animation-sprite-sheet" id="toc-multi-animation-sprite-sheet" class="nav-link" data-scroll-target="#multi-animation-sprite-sheet"><span class="header-section-number">25.4.2</span> Multi-Animation Sprite Sheet</a></li>
  <li><a href="#separate-image-files" id="toc-separate-image-files" class="nav-link" data-scroll-target="#separate-image-files"><span class="header-section-number">25.4.3</span> Separate Image Files</a></li>
  <li><a href="#adding-sprite-animations-to-jspsych" id="toc-adding-sprite-animations-to-jspsych" class="nav-link" data-scroll-target="#adding-sprite-animations-to-jspsych"><span class="header-section-number">25.4.4</span> Adding Sprite Animations to jsPsych</a></li>
  </ul></li>
  <li><a href="#animating-backgrounds" id="toc-animating-backgrounds" class="nav-link" data-scroll-target="#animating-backgrounds"><span class="header-section-number">25.5</span> Animating Backgrounds</a>
  <ul class="collapse">
  <li><a href="#scrolling-backgrounds" id="toc-scrolling-backgrounds" class="nav-link" data-scroll-target="#scrolling-backgrounds"><span class="header-section-number">25.5.1</span> Scrolling Backgrounds</a></li>
  <li><a href="#parallax-effects" id="toc-parallax-effects" class="nav-link" data-scroll-target="#parallax-effects"><span class="header-section-number">25.5.2</span> Parallax Effects</a></li>
  <li><a href="#scaling-background-images" id="toc-scaling-background-images" class="nav-link" data-scroll-target="#scaling-background-images"><span class="header-section-number">25.5.3</span> Scaling Background Images</a></li>
  <li><a href="#adding-scrolling-backgrounds-to-jspsych" id="toc-adding-scrolling-backgrounds-to-jspsych" class="nav-link" data-scroll-target="#adding-scrolling-backgrounds-to-jspsych"><span class="header-section-number">25.5.4</span> Adding Scrolling Backgrounds to jsPsych</a></li>
  </ul></li>
  <li><a href="#sound-effects-and-music" id="toc-sound-effects-and-music" class="nav-link" data-scroll-target="#sound-effects-and-music"><span class="header-section-number">25.6</span> Sound Effects and Music</a>
  <ul class="collapse">
  <li><a href="#creating-an-audio-element" id="toc-creating-an-audio-element" class="nav-link" data-scroll-target="#creating-an-audio-element"><span class="header-section-number">25.6.1</span> Creating an Audio Element</a></li>
  <li><a href="#audio-properties" id="toc-audio-properties" class="nav-link" data-scroll-target="#audio-properties"><span class="header-section-number">25.6.2</span> Audio Properties</a></li>
  <li><a href="#controlling-audio-playback" id="toc-controlling-audio-playback" class="nav-link" data-scroll-target="#controlling-audio-playback"><span class="header-section-number">25.6.3</span> Controlling Audio Playback</a></li>
  <li><a href="#adding-audio-elements-to-jspsych" id="toc-adding-audio-elements-to-jspsych" class="nav-link" data-scroll-target="#adding-audio-elements-to-jspsych"><span class="header-section-number">25.6.4</span> Adding Audio Elements to jsPsych</a></li>
  </ul></li>
  <li><a href="#gameplay-mechanics-for-cognitive-experiments" id="toc-gameplay-mechanics-for-cognitive-experiments" class="nav-link" data-scroll-target="#gameplay-mechanics-for-cognitive-experiments"><span class="header-section-number">25.7</span> Gameplay Mechanics for Cognitive Experiments</a>
  <ul class="collapse">
  <li><a href="#scoring-systems" id="toc-scoring-systems" class="nav-link" data-scroll-target="#scoring-systems"><span class="header-section-number">25.7.1</span> Scoring Systems</a></li>
  <li><a href="#progress-tracking" id="toc-progress-tracking" class="nav-link" data-scroll-target="#progress-tracking"><span class="header-section-number">25.7.2</span> Progress Tracking</a></li>
  <li><a href="#adaptive-difficulty" id="toc-adaptive-difficulty" class="nav-link" data-scroll-target="#adaptive-difficulty"><span class="header-section-number">25.7.3</span> Adaptive Difficulty</a></li>
  <li><a href="#time-pressure" id="toc-time-pressure" class="nav-link" data-scroll-target="#time-pressure"><span class="header-section-number">25.7.4</span> Time Pressure</a></li>
  <li><a href="#streak-and-combo-systems" id="toc-streak-and-combo-systems" class="nav-link" data-scroll-target="#streak-and-combo-systems"><span class="header-section-number">25.7.5</span> Streak and Combo Systems</a></li>
  <li><a href="#lives-and-continues" id="toc-lives-and-continues" class="nav-link" data-scroll-target="#lives-and-continues"><span class="header-section-number">25.7.6</span> Lives and Continues</a></li>
  <li><a href="#milestone-rewards" id="toc-milestone-rewards" class="nav-link" data-scroll-target="#milestone-rewards"><span class="header-section-number">25.7.7</span> Milestone Rewards</a></li>
  <li><a href="#leaderboards-and-social-comparison" id="toc-leaderboards-and-social-comparison" class="nav-link" data-scroll-target="#leaderboards-and-social-comparison"><span class="header-section-number">25.7.8</span> Leaderboards and Social Comparison</a></li>
  <li><a href="#resource-management-systems" id="toc-resource-management-systems" class="nav-link" data-scroll-target="#resource-management-systems"><span class="header-section-number">25.7.9</span> Resource Management Systems</a></li>
  <li><a href="#risk-reward-trade-offs" id="toc-risk-reward-trade-offs" class="nav-link" data-scroll-target="#risk-reward-trade-offs"><span class="header-section-number">25.7.10</span> Risk-Reward Trade-offs</a></li>
  <li><a href="#dynamic-events-and-surprises" id="toc-dynamic-events-and-surprises" class="nav-link" data-scroll-target="#dynamic-events-and-surprises"><span class="header-section-number">25.7.11</span> Dynamic Events and Surprises</a></li>
  <li><a href="#meta-progression-systems" id="toc-meta-progression-systems" class="nav-link" data-scroll-target="#meta-progression-systems"><span class="header-section-number">25.7.12</span> Meta-Progression Systems</a></li>
  </ul></li>
  <li><a href="#game-asset-resources" id="toc-game-asset-resources" class="nav-link" data-scroll-target="#game-asset-resources"><span class="header-section-number">25.8</span> Game Asset Resources</a>
  <ul class="collapse">
  <li><a href="#css-animations" id="toc-css-animations" class="nav-link" data-scroll-target="#css-animations"><span class="header-section-number">25.8.1</span> CSS Animations</a></li>
  <li><a href="#visual-assets" id="toc-visual-assets" class="nav-link" data-scroll-target="#visual-assets"><span class="header-section-number">25.8.2</span> Visual Assets</a></li>
  <li><a href="#audio-assets" id="toc-audio-assets" class="nav-link" data-scroll-target="#audio-assets"><span class="header-section-number">25.8.3</span> Audio Assets</a></li>
  <li><a href="#copyright-and-attribution-guidelines" id="toc-copyright-and-attribution-guidelines" class="nav-link" data-scroll-target="#copyright-and-attribution-guidelines"><span class="header-section-number">25.8.4</span> Copyright and Attribution Guidelines</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/25-gamification.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./25-gamification.html">Unit 11: Gamification</a></li><li class="breadcrumb-item"><a href="./25-gamification.html"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled" title="learning goals">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
learning goals
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li>Understand core gamification principles and their application to cognitive experimental design</li>
<li>Create persistent game displays featuring score indicators, health meters, and progression bars</li>
<li>Implement real-time updates for dynamic game display elements</li>
<li>Animate visual elements using CSS transitions and sprite sheet techniques</li>
<li>Integrate audio feedback through sound effects and background music</li>
</ol>
</div>
</div>
</div>
<section id="introduction" class="level2" data-number="25.1">
<h2 data-number="25.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">25.1</span> Introduction</h2>
<p>Gamification refers to the application of game design elements to non-game contexts. In cognitive psychology and behavioral research, we typically prioritize experimental control, stripping away task features that might influence behavior beyond our experimental manipulation. This approach yields simple, monotonous tasks that often cause participant boredom, inattention, and dropout. This is particularly a problem in online settings where distractions abound and experimenters are absent.</p>
<p>Beyond engagement problems, there’s a deeper concern about ecological validity. Our sterile, unengaging tasks may only capture cognition in contexts where participants are bored and unmotivated, missing how people behave when genuinely engaged. We risk studying an impoverished version of human cognition rather than cognition as it operates in natural, motivated contexts.</p>
<p>Gamification addresses these challenges by making research participation more intrinsically rewarding. However, effective gamification requires understanding both the psychological principles that make games engaging and the practical considerations of implementing these principles without compromising scientific rigor.</p>
<section id="what-makes-games-engaging" class="level3" data-number="25.1.1">
<h3 data-number="25.1.1" class="anchored" data-anchor-id="what-makes-games-engaging"><span class="header-section-number">25.1.1</span> What Makes Games Engaging?</h3>
<p>A game is a system in which players engage in a challenge defined by rules, interactivity, and feedback, resulting in quantifiable outcomes that provoke emotional reactions (Kankanhalli et al., 2012). Gamification strategically borrows these elements to transform otherwise mundane tasks into more compelling experiences.</p>
<p>The effectiveness of gamification rests on Self-Determination Theory (Ryan &amp; Deci, 2000), which identifies three fundamental psychological needs: competence (feeling effective), autonomy (having meaningful choices), and relatedness (social connection). Well-designed gamification satisfies these needs through appropriate game elements. For instance, progress bars and leveling systems provide competence feedback, branching narratives offer autonomy, and leaderboards create social connection through comparison.</p>
<p>Research demonstrates that gamification significantly increases engagement in online programs (Looyestyn et al., 2017) and can improve data quality by maintaining participant attention (Bailey et al., 2015). However, not all gamification is equally effective. Simple reward systems like points and badges tend to lose their motivational power over time as novelty wears off, while elements that tap into intrinsic motivation, such as interesting narratives or genuine challenges, maintain engagement longer.</p>
</section>
<section id="a-framework-for-implementation" class="level3" data-number="25.1.2">
<h3 data-number="25.1.2" class="anchored" data-anchor-id="a-framework-for-implementation"><span class="header-section-number">25.1.2</span> A Framework for Implementation</h3>
<p>Toda et al.&nbsp;(2019) organized game elements into five dimensions that provide a useful framework for thinking about implementation: Performance/Measurement, Social, Ecological, Personal, and Fictional. Rather than treating these as separate categories, effective gamification typically combines elements across dimensions to create cohesive experiences.</p>
<section id="performance-and-feedback-systems" class="level4" data-number="25.1.2.1">
<h4 data-number="25.1.2.1" class="anchored" data-anchor-id="performance-and-feedback-systems"><span class="header-section-number">25.1.2.1</span> Performance and Feedback Systems</h4>
<p>The most straightforward gamification approach involves adding performance tracking and feedback to existing tasks. Points systems quantify progress, levels create hierarchical advancement, badges mark achievements, and progress bars visualize completion. These elements are relatively easy to implement and provide immediate benefits for participant motivation.</p>
<p>Consider a standard survey that takes 20 minutes to complete. Participants often wonder how much longer they have, leading to frustration and abandonment. Adding a progress bar addresses this uncertainty, while awarding points for each completed section provides a sense of accomplishment. Breaking the survey into “levels” with badges for completion creates additional motivation milestones.</p>
<p>Implementation considerations: Performance systems work best when they provide meaningful information rather than arbitrary numbers. Points should map to actual progress, levels should represent genuine skill or completion milestones, and badges should mark significant achievements. Overly generous reward systems can feel patronizing, while overly stingy ones fail to motivate.</p>
</section>
<section id="social-dynamics" class="level4" data-number="25.1.2.2">
<h4 data-number="25.1.2.2" class="anchored" data-anchor-id="social-dynamics"><span class="header-section-number">25.1.2.2</span> Social Dynamics</h4>
<p>Humans are fundamentally social creatures, and leveraging social comparison and cooperation can dramatically increase engagement. Leaderboards create competition by ranking participants, team-based challenges enable cooperation, and social sharing allows participants to broadcast their achievements.</p>
<p>The HIVE platform exemplifies social gamification in research (Neville et al., 2020). Participants use smartphones to control dots on a shared display, allowing researchers to study conformity and group decision-making in real-time. By making other participants’ choices visible, the platform transforms individual decision-making into a social experience, enabling research questions that would be impossible to address with traditional paradigms.</p>
<p>Implementation considerations: Social elements require careful ethical consideration. Public leaderboards can demotivate low performers, potentially biasing your sample toward high achievers. Consider showing only top performers or using relative rankings (e.g., “You’re in the top 25%”) rather than absolute positions. For cooperation mechanics, ensure that individual contributions can still be measured for analysis purposes.</p>
</section>
<section id="environmental-design" class="level4" data-number="25.1.2.3">
<h4 data-number="25.1.2.3" class="anchored" data-anchor-id="environmental-design"><span class="header-section-number">25.1.2.3</span> Environmental Design</h4>
<p>The ecological dimension encompasses how the game environment itself shapes behavior. Time pressure creates urgency, randomness introduces unpredictability, scarcity makes rewards more valuable, and resource constraints force strategic choices. These elements can be powerful tools for maintaining engagement and studying decision-making under different conditions.</p>
<p>FunMaths, developed by Professor Diana Laurillard, demonstrates ecological gamification in educational research. The game teaches arithmetic to children with dyscalculia by having them manipulate virtual beads to match target numbers. The game continuously adapts difficulty to each child’s ability level, ensuring tasks remain challenging but achievable. When children correctly solve problems, the beads disappear in a satisfying visual effect—immediate feedback that reinforces learning.</p>
<p>Implementation considerations: Environmental elements directly affect the behaviors you’re measuring, so they must be chosen carefully. Time pressure, for instance, fundamentally changes decision-making processes. If your research question concerns deliberative reasoning, adding time pressure would be counterproductive. However, if you’re studying decisions under stress, time pressure becomes a key experimental manipulation rather than just a motivational tool.</p>
</section>
<section id="personalization-and-experience" class="level4" data-number="25.1.2.4">
<h4 data-number="25.1.2.4" class="anchored" data-anchor-id="personalization-and-experience"><span class="header-section-number">25.1.2.4</span> Personalization and Experience</h4>
<p>The personal dimension focuses on individual user experience: Is the task novel or repetitive? Simple or challenging? Aesthetically pleasing? These elements operate more subtly than points or badges but can be more powerful for sustaining long-term engagement because they tap into intrinsic rather than extrinsic motivation.</p>
<p>Treasure Collector, developed by Professor Nikolaus Steinbeis, transformed the classic Go/No-Go task (which tests attention and response inhibition) into an adventure game where children train executive function. Participants choose their own avatars and encounter varied scenarios—digging for treasure, stealing gold from dragons, or driving while avoiding ice. This variety prevents the repetition fatigue that typically limits training studies. Children completed approximately 4,000 trials over eight weeks and reported still enjoying the game—an impossible achievement with traditional paradigms.</p>
<p>Implementation considerations: Personalization requires additional development effort but pays off in engagement. Allow participants to customize avatars, choose difficulty levels, or select preferred themes. Vary task presentation even when the underlying structure remains constant. Use appealing visual and audio feedback. These elements require more sophisticated programming but create experiences that participants genuinely enjoy rather than merely tolerate.</p>
</section>
<section id="narrative-context" class="level4" data-number="25.1.2.5">
<h4 data-number="25.1.2.5" class="anchored" data-anchor-id="narrative-context"><span class="header-section-number">25.1.2.5</span> Narrative Context</h4>
<p>The fictional dimension embeds tasks within stories, providing meaning and context that transform abstract exercises into purposeful activities. In narrative-driven gamification, participants may be unaware they’re performing a research task at all—they’re simply playing a game that happens to generate research data.</p>
<p>Sea Hero Quest exemplifies this approach. Disguised as a mobile navigation game, it actually measures spatial cognition to aid dementia research. Players navigate boats through virtual waterways, collecting checkpoints and avoiding obstacles. The game has collected data from 4.3 million players representing over 117 years of equivalent lab time—data that would have cost over £10 million to collect through traditional recruitment. Players participated not for payment but because the game was genuinely entertaining.</p>
<p>Implementation considerations: Narrative gamification requires the most development effort but offers the greatest potential for large-scale data collection and sustained engagement. The story must be coherent and compelling, not just window dressing. Tasks should feel like natural parts of the narrative rather than arbitrary interruptions. This approach works best when you can design the research question around the game mechanics rather than trying to force existing paradigms into a narrative framework.</p>
</section>
</section>
<section id="two-approaches-to-gamified-research" class="level3" data-number="25.1.3">
<h3 data-number="25.1.3" class="anchored" data-anchor-id="two-approaches-to-gamified-research"><span class="header-section-number">25.1.3</span> Two Approaches to Gamified Research</h3>
<p>When incorporating gamification into behavioral research, you face a fundamental design choice: should you start with a game and extract measurements, or start with an established experimental task and add game elements? Each approach involves distinct trade-offs between engagement, experimental control, and scientific validity.</p>
<section id="starting-with-a-game-adding-measurement" class="level4" data-number="25.1.3.1">
<h4 data-number="25.1.3.1" class="anchored" data-anchor-id="starting-with-a-game-adding-measurement"><span class="header-section-number">25.1.3.1</span> Starting with a Game, Adding Measurement</h4>
<p>In this approach, you design or identify an engaging game, then determine what cognitive processes it measures. This approach is observational in nature. Rather than explicitly manipulating something about the task, you examine conditions naturally arise from playing the game. For instance, if you were interested in task-switching you might identify a game that frequently asks participants to switch between game contexts (e.g., in a strategy game game that could include moving units versus resource allocation in another menu). Then, you would analyze performance data following a task switch, versus repetition. It is observational in nature, because you do not experimentally control when, or how often they switch, you simply observe their behaviour and measure performance.</p>
<p>There a numerous examples of researchers using this approach successfully. Thompson et al.&nbsp;(2016) analyzed gameplay data from StarCraft 2 to study motor skill learning across the lifespan, examining how hundreds of thousands of players developed expertise in a complex real-time strategy game. Sea Hero Quest took this further by designing a mobile navigation game specifically to measure spatial cognition for dementia research, collecting data from 4.3 million voluntary players.</p>
<p>The primary advantage is maximal ecological validity and engagement. Participants play because they want to, generating massive datasets at minimal cost. The task feels natural rather than artificial, potentially revealing how cognitive processes operate in realistic contexts.</p>
<p>However, establishing construct validity is challenging since you must prove your game measures what you think it measures through extensive validation against traditional paradigms. Experimental control suffers because game mechanics optimize for engagement rather than scientific precision. You cannot easily manipulate specific variables while holding others constant, and the game’s complexity makes it difficult to isolate which features drive observed effects.</p>
</section>
<section id="starting-with-a-task-adding-game-elements" class="level4" data-number="25.1.3.2">
<h4 data-number="25.1.3.2" class="anchored" data-anchor-id="starting-with-a-task-adding-game-elements"><span class="header-section-number">25.1.3.2</span> Starting with a Task, Adding Game Elements</h4>
<p>This approach begins with an established experimental paradigm and layers game elements on top. Thirkettle et al.&nbsp;(2018) gamified standard cognitive tasks by adding scoring systems, visual feedback, and progression mechanics while maintaining the core experimental structure. This preserves construct validity, since you know exactly what you’re measuring, while improving participant engagement.</p>
<p>You maintain experimental control and can manipulate variables systematically. Development is incremental: start with a working task and add game elements progressively, testing each addition’s impact. You can directly compare gamified and non-gamified versions to quantify benefits. If elements introduce confounds, you can remove them without abandoning the project.</p>
<p>The limitation is that engagement gains can be more modest. Adding points to a boring task makes it less boring but doesn’t create something people play voluntarily. There’s also risk of superficial gamification where game elements that feel tacked on may annoy rather than engage participants.</p>
<p>Some research occupies a middle position. Mitroff et al.&nbsp;developed Airport Scanner, a mobile game requiring players to identify prohibited items in baggage. This is essentially a visual search task disguised as a game. The game was engaging enough to attract voluntary players while maintaining sufficient experimental control to test hypotheses about attention and expertise.</p>
</section>
</section>
<section id="the-ecological-validity-vs.-experimental-control-trade-off" class="level3" data-number="25.1.4">
<h3 data-number="25.1.4" class="anchored" data-anchor-id="the-ecological-validity-vs.-experimental-control-trade-off"><span class="header-section-number">25.1.4</span> The Ecological Validity vs.&nbsp;Experimental Control Trade-Off</h3>
<p>These approaches represent a continuum trading ecological validity for experimental control. Purpose-built games offer high ecological validity but sacrifice precise control needed to test specific hypotheses. Enhanced experimental tasks maintain control but may not generalize as well to real-world behavior.</p>
<p>Which approach is “better” depends on your research goals. Testing a specific theory about cognitive mechanisms requires the control of enhanced experimental tasks. Studying how processes operate in naturalistic settings may justify game-based approaches despite their complexity.</p>
</section>
<section id="implementing-gamification-in-jspsych" class="level3" data-number="25.1.5">
<h3 data-number="25.1.5" class="anchored" data-anchor-id="implementing-gamification-in-jspsych"><span class="header-section-number">25.1.5</span> Implementing Gamification in jsPsych</h3>
<p>This chapter focuses on starting with established experimental paradigms and adding game elements. There are countless ways to gamify cognitive tasks, from adding simple point systems to including elaborate narratives with branching storylines. Rather than prescribing specific gamification strategies, we’ll focus on the fundamental programming techniques you need to implement whatever gamification approach suits your research. In the following sections, you’ll learn how to build persistent game interfaces, create engaging visual and audio feedback, implement time pressure and adaptive difficulty, and combine these elements into cohesive gamified experiments. Each technique can be applied independently or combined to create increasingly sophisticated experiences while maintaining experimental validity.</p>
</section>
</section>
<section id="the-game-display" class="level2" data-number="25.2">
<h2 data-number="25.2" class="anchored" data-anchor-id="the-game-display"><span class="header-section-number">25.2</span> The Game Display</h2>
<section id="creating-a-persistent-game-display" class="level3" data-number="25.2.1">
<h3 data-number="25.2.1" class="anchored" data-anchor-id="creating-a-persistent-game-display"><span class="header-section-number">25.2.1</span> Creating a Persistent Game Display</h3>
<p>By default, jsPsych inserts trials directly into the document body, replacing the entire display content as trials change. This works well for traditional experiments but creates problems for gamification. Games typically maintain persistent interface elements like score counters, health bars, timers, progress indicators that remain visible while the core gameplay changes. To achieve this in jsPsych, we need to rethink how we structure our display.</p>
<p>The solution is to create our own custom HTML structure and tell jsPsych to insert trials into a specific element within that structure, leaving the rest of our interface untouched. We control where jsPsych displays trials through the initialization function:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>     {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb1-3"><a href="#cb1-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The initialization function accepts parameters as an object with key-value pairs. By setting <code>display_element</code> to <code>'jspsych-game-display'</code>, we instruct jsPsych to look for an HTML element with the id <code>jspsych-game-display</code> and insert trials inside that element rather than directly into the body.</p>
<p>Now we can edit our <code>index.html</code> to include custom HTML structure:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    </span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14"></a></span>
<span id="cb2-15"><a href="#cb2-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a></span>
<span id="cb2-20"><a href="#cb2-20"></a>  <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>My Game Display<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb2-24"><a href="#cb2-24"></a>  </span>
<span id="cb2-25"><a href="#cb2-25"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb2-26"><a href="#cb2-26"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-27"><a href="#cb2-27"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>With this structure, the jsPsych experiment renders inside the <code>jspsych-game-display</code> div, while other HTML elements remain untouched. The <code>&lt;h1&gt;</code> header, for instance, stays visible throughout the experiment regardless of what jsPsych displays.</p>
<p>Since you’ve added custom HTML outside jsPsych’s control, you’re responsible for styling these elements. jsPsych’s default CSS only applies to content it generates. You’ll need custom CSS to ensure your display is properly centered and formatted. For example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb3-1"><a href="#cb3-1"></a>body {</span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>}</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="pp">#game-display</span> {</span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">300</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>}</span>
<span id="cb3-15"><a href="#cb3-15"></a></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="pp">#jspsych-game-display</span> {</span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb3-20"><a href="#cb3-20"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can see this example here, with our code from the Flanker task:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>    </span>
<span id="cb4-9"><a href="#cb4-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14"></a></span>
<span id="cb4-15"><a href="#cb4-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a>  <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>My Game Display<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb4-24"><a href="#cb4-24"></a>  </span>
<span id="cb4-25"><a href="#cb4-25"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb4-26"><a href="#cb4-26"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-29"><a href="#cb4-29"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1"></a> </span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">// ============================================</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">// ============================================</span></span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb5-7"><a href="#cb5-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb5-8"><a href="#cb5-8"></a>                ) </span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">// ============================================</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">// Welcome</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">// ============================================</span></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb5-15"><a href="#cb5-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>}</span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">// ============================================</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">// ============================================</span></span>
<span id="cb5-23"><a href="#cb5-23"></a></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="co">// fixation</span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb5-26"><a href="#cb5-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb5-29"><a href="#cb5-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb5-30"><a href="#cb5-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb5-31"><a href="#cb5-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb5-32"><a href="#cb5-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>    }</span>
<span id="cb5-34"><a href="#cb5-34"></a>}</span>
<span id="cb5-35"><a href="#cb5-35"></a></span>
<span id="cb5-36"><a href="#cb5-36"></a><span class="co">// stimulus</span></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb5-38"><a href="#cb5-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb5-39"><a href="#cb5-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb5-40"><a href="#cb5-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb5-41"><a href="#cb5-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb5-42"><a href="#cb5-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb5-43"><a href="#cb5-43"></a></span>
<span id="cb5-44"><a href="#cb5-44"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb5-45"><a href="#cb5-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb5-46"><a href="#cb5-46"></a><span class="vs">            &lt;p style="margin: 0; font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb5-47"><a href="#cb5-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb5-48"><a href="#cb5-48"></a><span class="vs">            &lt;/p&gt;`</span><span class="op">;</span></span>
<span id="cb5-49"><a href="#cb5-49"></a></span>
<span id="cb5-50"><a href="#cb5-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb5-51"><a href="#cb5-51"></a>    }<span class="op">,</span></span>
<span id="cb5-52"><a href="#cb5-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb5-53"><a href="#cb5-53"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb5-54"><a href="#cb5-54"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb5-55"><a href="#cb5-55"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb5-56"><a href="#cb5-56"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb5-57"><a href="#cb5-57"></a>    }<span class="op">,</span></span>
<span id="cb5-58"><a href="#cb5-58"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb5-59"><a href="#cb5-59"></a>        <span class="co">// store accuracy</span></span>
<span id="cb5-60"><a href="#cb5-60"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb5-61"><a href="#cb5-61"></a>    }</span>
<span id="cb5-62"><a href="#cb5-62"></a>}</span>
<span id="cb5-63"><a href="#cb5-63"></a></span>
<span id="cb5-64"><a href="#cb5-64"></a><span class="co">// exp timeline</span></span>
<span id="cb5-65"><a href="#cb5-65"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb5-66"><a href="#cb5-66"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb5-67"><a href="#cb5-67"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb5-68"><a href="#cb5-68"></a>        exp_stimulus</span>
<span id="cb5-69"><a href="#cb5-69"></a>    ]<span class="op">,</span></span>
<span id="cb5-70"><a href="#cb5-70"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb5-71"><a href="#cb5-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb5-72"><a href="#cb5-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb5-73"><a href="#cb5-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb5-74"><a href="#cb5-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb5-75"><a href="#cb5-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb5-76"><a href="#cb5-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb5-77"><a href="#cb5-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb5-78"><a href="#cb5-78"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb5-79"><a href="#cb5-79"></a>    ]<span class="op">,</span></span>
<span id="cb5-80"><a href="#cb5-80"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb5-81"><a href="#cb5-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb5-82"><a href="#cb5-82"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb5-83"><a href="#cb5-83"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb5-84"><a href="#cb5-84"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb5-85"><a href="#cb5-85"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb5-86"><a href="#cb5-86"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb5-87"><a href="#cb5-87"></a>    }</span>
<span id="cb5-88"><a href="#cb5-88"></a>}<span class="op">;</span></span>
<span id="cb5-89"><a href="#cb5-89"></a></span>
<span id="cb5-90"><a href="#cb5-90"></a></span>
<span id="cb5-91"><a href="#cb5-91"></a><span class="co">// ============================================</span></span>
<span id="cb5-92"><a href="#cb5-92"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb5-93"><a href="#cb5-93"></a><span class="co">// ============================================</span></span>
<span id="cb5-94"><a href="#cb5-94"></a></span>
<span id="cb5-95"><a href="#cb5-95"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb5-96"><a href="#cb5-96"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb5-97"><a href="#cb5-97"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb5-98"><a href="#cb5-98"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb5-99"><a href="#cb5-99"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb5-100"><a href="#cb5-100"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb5-101"><a href="#cb5-101"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb5-102"><a href="#cb5-102"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb5-103"><a href="#cb5-103"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb5-104"><a href="#cb5-104"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb5-105"><a href="#cb5-105"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb5-106"><a href="#cb5-106"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb5-107"><a href="#cb5-107"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb5-108"><a href="#cb5-108"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb5-109"><a href="#cb5-109"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb5-110"><a href="#cb5-110"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb5-111"><a href="#cb5-111"></a>    })<span class="op">;</span></span>
<span id="cb5-112"><a href="#cb5-112"></a>  }<span class="op">,</span></span>
<span id="cb5-113"><a href="#cb5-113"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb5-114"><a href="#cb5-114"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb5-115"><a href="#cb5-115"></a>  }</span>
<span id="cb5-116"><a href="#cb5-116"></a>}<span class="op">;</span></span>
<span id="cb5-117"><a href="#cb5-117"></a></span>
<span id="cb5-118"><a href="#cb5-118"></a><span class="co">// ============================================</span></span>
<span id="cb5-119"><a href="#cb5-119"></a><span class="co">// Run jsPsych </span></span>
<span id="cb5-120"><a href="#cb5-120"></a><span class="co">// ============================================</span></span>
<span id="cb5-121"><a href="#cb5-121"></a></span>
<span id="cb5-122"><a href="#cb5-122"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb5-123"><a href="#cb5-123"></a>  welcome<span class="op">,</span></span>
<span id="cb5-124"><a href="#cb5-124"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb5-125"><a href="#cb5-125"></a>  saveData</span>
<span id="cb5-126"><a href="#cb5-126"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb6-1"><a href="#cb6-1"></a> body {</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">90</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>}</span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="pp">#game-display</span> {</span>
<span id="cb6-11"><a href="#cb6-11"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb6-13"><a href="#cb6-13"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">250</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb6-14"><a href="#cb6-14"></a>}</span>
<span id="cb6-15"><a href="#cb6-15"></a></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="pp">#jspsych-game-display</span> {</span>
<span id="cb6-17"><a href="#cb6-17"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb6-20"><a href="#cb6-20"></a>}</span>
<span id="cb6-21"><a href="#cb6-21"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="demo-container-game-display-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-height: 90vh;\n  margin: 0;\n}\n\n#game-display {\n  margin: 0 auto;\n  width: 400px;\n  height: 250px;\n}\n\n#jspsych-game-display {\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n  <h1>My Game Display</h1>\n  <div id=&quot;game-display&quot;>\n      <div id=&quot;jspsych-game-display&quot;> </div>\n  </div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <p style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </p>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  min-height: 90vh;
  margin: 0;
}

#game-display {
  margin: 0 auto;
  width: 400px;
  height: 250px;
}

#jspsych-game-display {
  margin: 0 auto;
  width: 100%;
  height: 100%;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:300px'>
  <h1>My Game Display</h1>
  <div id=&quot;game-display&quot;>
      <div id=&quot;jspsych-game-display&quot;> </div>
  </div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <p style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </p>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>The real power of this approach becomes apparent when we create more sophisticated layouts. Games typically need space around the central display for interface elements like scores, health indicators, timers, and maps. We can achieve this using CSS Grid or Flexbox layouts.</p>
<p>Here’s an example using CSS Grid to create a game interface with persistent elements surrounding the jsPsych display:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>    </span>
<span id="cb7-9"><a href="#cb7-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-14"><a href="#cb7-14"></a></span>
<span id="cb7-15"><a href="#cb7-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb7-19"><a href="#cb7-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb7-20"><a href="#cb7-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb7-21"><a href="#cb7-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-22"><a href="#cb7-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-23"><a href="#cb7-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-24"><a href="#cb7-24"></a>      </span>
<span id="cb7-25"><a href="#cb7-25"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-28"><a href="#cb7-28"></a>      </span>
<span id="cb7-29"><a href="#cb7-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-30"><a href="#cb7-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-31"><a href="#cb7-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-32"><a href="#cb7-32"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-33"><a href="#cb7-33"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-34"><a href="#cb7-34"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb7-35"><a href="#cb7-35"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb7-36"><a href="#cb7-36"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb7-37"><a href="#cb7-37"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb7-38"><a href="#cb7-38"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1"></a> </span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">// ============================================</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">// ============================================</span></span>
<span id="cb8-5"><a href="#cb8-5"></a></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb8-7"><a href="#cb8-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb8-8"><a href="#cb8-8"></a>                ) </span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">// ============================================</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">// Welcome</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">// ============================================</span></span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb8-15"><a href="#cb8-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb8-16"><a href="#cb8-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>}</span>
<span id="cb8-19"><a href="#cb8-19"></a></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">// ============================================</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">// ============================================</span></span>
<span id="cb8-23"><a href="#cb8-23"></a></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">// fixation</span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb8-26"><a href="#cb8-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb8-27"><a href="#cb8-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb8-28"><a href="#cb8-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb8-29"><a href="#cb8-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb8-30"><a href="#cb8-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb8-31"><a href="#cb8-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb8-32"><a href="#cb8-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb8-33"><a href="#cb8-33"></a>    }</span>
<span id="cb8-34"><a href="#cb8-34"></a>}</span>
<span id="cb8-35"><a href="#cb8-35"></a></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="co">// stimulus</span></span>
<span id="cb8-37"><a href="#cb8-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb8-38"><a href="#cb8-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb8-39"><a href="#cb8-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb8-40"><a href="#cb8-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb8-41"><a href="#cb8-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb8-42"><a href="#cb8-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb8-43"><a href="#cb8-43"></a></span>
<span id="cb8-44"><a href="#cb8-44"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb8-45"><a href="#cb8-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb8-46"><a href="#cb8-46"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb8-47"><a href="#cb8-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb8-48"><a href="#cb8-48"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb8-49"><a href="#cb8-49"></a></span>
<span id="cb8-50"><a href="#cb8-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb8-51"><a href="#cb8-51"></a>    }<span class="op">,</span></span>
<span id="cb8-52"><a href="#cb8-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb8-53"><a href="#cb8-53"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb8-54"><a href="#cb8-54"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb8-55"><a href="#cb8-55"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb8-56"><a href="#cb8-56"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb8-57"><a href="#cb8-57"></a>    }<span class="op">,</span></span>
<span id="cb8-58"><a href="#cb8-58"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb8-59"><a href="#cb8-59"></a>        <span class="co">// store accuracy</span></span>
<span id="cb8-60"><a href="#cb8-60"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb8-61"><a href="#cb8-61"></a>    }</span>
<span id="cb8-62"><a href="#cb8-62"></a>}</span>
<span id="cb8-63"><a href="#cb8-63"></a></span>
<span id="cb8-64"><a href="#cb8-64"></a><span class="co">// exp timeline</span></span>
<span id="cb8-65"><a href="#cb8-65"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb8-66"><a href="#cb8-66"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb8-67"><a href="#cb8-67"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb8-68"><a href="#cb8-68"></a>        exp_stimulus</span>
<span id="cb8-69"><a href="#cb8-69"></a>    ]<span class="op">,</span></span>
<span id="cb8-70"><a href="#cb8-70"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb8-71"><a href="#cb8-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb8-72"><a href="#cb8-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb8-73"><a href="#cb8-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb8-74"><a href="#cb8-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb8-75"><a href="#cb8-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb8-76"><a href="#cb8-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb8-77"><a href="#cb8-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb8-78"><a href="#cb8-78"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb8-79"><a href="#cb8-79"></a>    ]<span class="op">,</span></span>
<span id="cb8-80"><a href="#cb8-80"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-81"><a href="#cb8-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb8-82"><a href="#cb8-82"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb8-83"><a href="#cb8-83"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb8-84"><a href="#cb8-84"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb8-85"><a href="#cb8-85"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb8-86"><a href="#cb8-86"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb8-87"><a href="#cb8-87"></a>    }</span>
<span id="cb8-88"><a href="#cb8-88"></a>}<span class="op">;</span></span>
<span id="cb8-89"><a href="#cb8-89"></a></span>
<span id="cb8-90"><a href="#cb8-90"></a></span>
<span id="cb8-91"><a href="#cb8-91"></a><span class="co">// ============================================</span></span>
<span id="cb8-92"><a href="#cb8-92"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb8-93"><a href="#cb8-93"></a><span class="co">// ============================================</span></span>
<span id="cb8-94"><a href="#cb8-94"></a></span>
<span id="cb8-95"><a href="#cb8-95"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb8-96"><a href="#cb8-96"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb8-97"><a href="#cb8-97"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb8-98"><a href="#cb8-98"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb8-99"><a href="#cb8-99"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb8-100"><a href="#cb8-100"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb8-101"><a href="#cb8-101"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb8-102"><a href="#cb8-102"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb8-103"><a href="#cb8-103"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb8-104"><a href="#cb8-104"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb8-105"><a href="#cb8-105"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb8-106"><a href="#cb8-106"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb8-107"><a href="#cb8-107"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb8-108"><a href="#cb8-108"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb8-109"><a href="#cb8-109"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb8-110"><a href="#cb8-110"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb8-111"><a href="#cb8-111"></a>    })<span class="op">;</span></span>
<span id="cb8-112"><a href="#cb8-112"></a>  }<span class="op">,</span></span>
<span id="cb8-113"><a href="#cb8-113"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb8-114"><a href="#cb8-114"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb8-115"><a href="#cb8-115"></a>  }</span>
<span id="cb8-116"><a href="#cb8-116"></a>}<span class="op">;</span></span>
<span id="cb8-117"><a href="#cb8-117"></a></span>
<span id="cb8-118"><a href="#cb8-118"></a><span class="co">// ============================================</span></span>
<span id="cb8-119"><a href="#cb8-119"></a><span class="co">// Run jsPsych </span></span>
<span id="cb8-120"><a href="#cb8-120"></a><span class="co">// ============================================</span></span>
<span id="cb8-121"><a href="#cb8-121"></a></span>
<span id="cb8-122"><a href="#cb8-122"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb8-123"><a href="#cb8-123"></a>  welcome<span class="op">,</span></span>
<span id="cb8-124"><a href="#cb8-124"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb8-125"><a href="#cb8-125"></a>  saveData</span>
<span id="cb8-126"><a href="#cb8-126"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb9-1"><a href="#cb9-1"></a> body {</span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>}</span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>}</span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="fu">.grid</span> {</span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb9-23"><a href="#cb9-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-24"><a href="#cb9-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-25"><a href="#cb9-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-27"><a href="#cb9-27"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-28"><a href="#cb9-28"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb9-29"><a href="#cb9-29"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb9-30"><a href="#cb9-30"></a></span>
<span id="cb9-31"><a href="#cb9-31"></a>}</span>
<span id="cb9-32"><a href="#cb9-32"></a></span>
<span id="cb9-33"><a href="#cb9-33"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb9-34"><a href="#cb9-34"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb9-35"><a href="#cb9-35"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb9-36"><a href="#cb9-36"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb9-38"><a href="#cb9-38"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb9-39"><a href="#cb9-39"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb9-40"><a href="#cb9-40"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb9-42"><a href="#cb9-42"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb9-43"><a href="#cb9-43"></a></span>
<span id="cb9-44"><a href="#cb9-44"></a><span class="co">/* Grid area color assignments */</span></span>
<span id="cb9-45"><a href="#cb9-45"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">1</span><span class="in">)</span> {</span>
<span id="cb9-46"><a href="#cb9-46"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-47"><a href="#cb9-47"></a>}</span>
<span id="cb9-48"><a href="#cb9-48"></a></span>
<span id="cb9-49"><a href="#cb9-49"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">2</span><span class="in">)</span> {</span>
<span id="cb9-50"><a href="#cb9-50"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-51"><a href="#cb9-51"></a>}</span>
<span id="cb9-52"><a href="#cb9-52"></a></span>
<span id="cb9-53"><a href="#cb9-53"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">3</span><span class="in">)</span> {</span>
<span id="cb9-54"><a href="#cb9-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-55"><a href="#cb9-55"></a>}</span>
<span id="cb9-56"><a href="#cb9-56"></a></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">4</span><span class="in">)</span> {</span>
<span id="cb9-58"><a href="#cb9-58"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-59"><a href="#cb9-59"></a>}</span>
<span id="cb9-60"><a href="#cb9-60"></a></span>
<span id="cb9-61"><a href="#cb9-61"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">5</span><span class="in">)</span> {</span>
<span id="cb9-62"><a href="#cb9-62"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-63"><a href="#cb9-63"></a>}</span>
<span id="cb9-64"><a href="#cb9-64"></a></span>
<span id="cb9-65"><a href="#cb9-65"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">6</span><span class="in">)</span> {</span>
<span id="cb9-66"><a href="#cb9-66"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-67"><a href="#cb9-67"></a>}</span>
<span id="cb9-68"><a href="#cb9-68"></a></span>
<span id="cb9-69"><a href="#cb9-69"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">7</span><span class="in">)</span> {</span>
<span id="cb9-70"><a href="#cb9-70"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-71"><a href="#cb9-71"></a>}</span>
<span id="cb9-72"><a href="#cb9-72"></a></span>
<span id="cb9-73"><a href="#cb9-73"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">8</span><span class="in">)</span> {</span>
<span id="cb9-74"><a href="#cb9-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-75"><a href="#cb9-75"></a>}</span>
<span id="cb9-76"><a href="#cb9-76"></a></span>
<span id="cb9-77"><a href="#cb9-77"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div<span class="in">:nth-child(</span><span class="dv">9</span><span class="dt">n</span> <span class="op">+</span> <span class="dv">9</span><span class="in">)</span> {</span>
<span id="cb9-78"><a href="#cb9-78"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb9-79"><a href="#cb9-79"></a>}</span>
<span id="cb9-80"><a href="#cb9-80"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div id="demo-container-game-display-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* Grid area color assignments */\n.grid > div:nth-child(9n + 1) {\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.grid > div:nth-child(9n + 2) {\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.grid > div:nth-child(9n + 3) {\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.grid > div:nth-child(9n + 4) {\n  background: rgba(102, 255, 102, 0.4);\n}\n\n.grid > div:nth-child(9n + 5) {\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.grid > div:nth-child(9n + 6) {\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.grid > div:nth-child(9n + 7) {\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.grid > div:nth-child(9n + 8) {\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.grid > div:nth-child(9n + 9) {\n  background: rgba(132, 112, 255, 0.4);\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>top-left</div>\n    <div class=&quot;top&quot;>top</div>\n    <div class=&quot;top-right&quot;>top-right</div>\n    \n    <div class=&quot;left&quot;>left</div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;>center</div>\n    <div class=&quot;right&quot;>right</div>\n    \n    <div class=&quot;bottom-left&quot;>bottom-left</div>\n    <div class=&quot;bottom&quot;>bottom</div>\n    <div class=&quot;bottom-right&quot;>bottom-right</div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* Grid area color assignments */
.grid > div:nth-child(9n + 1) {
  background: rgba(255, 102, 102, 0.4);
}

.grid > div:nth-child(9n + 2) {
  background: rgba(255, 204, 102, 0.4);
}

.grid > div:nth-child(9n + 3) {
  background: rgba(255, 255, 102, 0.4);
}

.grid > div:nth-child(9n + 4) {
  background: rgba(102, 255, 102, 0.4);
}

.grid > div:nth-child(9n + 5) {
  background: rgba(102, 102, 255, 0.4);
}

.grid > div:nth-child(9n + 6) {
  background: rgba(204, 102, 255, 0.4);
}

.grid > div:nth-child(9n + 7) {
  background: rgba(255, 102, 255, 0.4);
}

.grid > div:nth-child(9n + 8) {
  background: rgba(84, 255, 159, 0.4);
}

.grid > div:nth-child(9n + 9) {
  background: rgba(132, 112, 255, 0.4);
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>top-left</div>
    <div class=&quot;top&quot;>top</div>
    <div class=&quot;top-right&quot;>top-right</div>
    
    <div class=&quot;left&quot;>left</div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;>center</div>
    <div class=&quot;right&quot;>right</div>
    
    <div class=&quot;bottom-left&quot;>bottom-left</div>
    <div class=&quot;bottom&quot;>bottom</div>
    <div class=&quot;bottom-right&quot;>bottom-right</div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>This creates a complete game interface with header, sidebars, and footer that remain persistent while jsPsych trials change in the central display area. You can now populate these persistent elements with game information that updates dynamically as participants progress through your experiment.</p>
<p>The key insight is that once you separate jsPsych’s display area from your overall page structure, you gain complete control over the participant’s visual experience. You can create interfaces that look and feel like games while maintaining the experimental rigor of jsPsych underneath. In the following sections, we’ll explore how to make these persistent elements dynamic, updating them in response to participant performance and creating truly engaging gamified experiences.</p>
<p>Now let’s see something more polished. Here’s an arcade-style game interface that wraps our Flanker task in a retro gaming aesthetic:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb10-1"><a href="#cb10-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>    </span>
<span id="cb10-9"><a href="#cb10-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-12"><a href="#cb10-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-14"><a href="#cb10-14"></a></span>
<span id="cb10-15"><a href="#cb10-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb10-17"><a href="#cb10-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb10-21"><a href="#cb10-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb10-22"><a href="#cb10-22"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-23"><a href="#cb10-23"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-24"><a href="#cb10-24"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-25"><a href="#cb10-25"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-26"><a href="#cb10-26"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-27"><a href="#cb10-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>PSYCH QUEST<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-29"><a href="#cb10-29"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-30"><a href="#cb10-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb10-31"><a href="#cb10-31"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-32"><a href="#cb10-32"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HI-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-33"><a href="#cb10-33"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>999999<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-34"><a href="#cb10-34"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-35"><a href="#cb10-35"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-36"><a href="#cb10-36"></a>  </span>
<span id="cb10-37"><a href="#cb10-37"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span></span>
<span id="cb10-38"><a href="#cb10-38"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"lives-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-39"><a href="#cb10-39"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>LIVES<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-40"><a href="#cb10-40"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"hearts"</span><span class="dt">&gt;</span>❤️ ❤️ ❤️<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-41"><a href="#cb10-41"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-42"><a href="#cb10-42"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-43"><a href="#cb10-43"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-44"><a href="#cb10-44"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span></span>
<span id="cb10-45"><a href="#cb10-45"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"level-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>LEVEL<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-47"><a href="#cb10-47"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"level-number"</span><span class="dt">&gt;</span>01<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-48"><a href="#cb10-48"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-49"><a href="#cb10-49"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>  </span>
<span id="cb10-51"><a href="#cb10-51"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span></span>
<span id="cb10-52"><a href="#cb10-52"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"coin-slot"</span><span class="dt">&gt;</span></span>
<span id="cb10-53"><a href="#cb10-53"></a>          INSERT COIN</span>
<span id="cb10-54"><a href="#cb10-54"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-55"><a href="#cb10-55"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-56"><a href="#cb10-56"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span></span>
<span id="cb10-57"><a href="#cb10-57"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"controls-hint"</span><span class="dt">&gt;</span></span>
<span id="cb10-58"><a href="#cb10-58"></a>          Shoot the Center Target! (A for <span class="er">&lt;</span> and L for &gt;)</span>
<span id="cb10-59"><a href="#cb10-59"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-60"><a href="#cb10-60"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-61"><a href="#cb10-61"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span></span>
<span id="cb10-62"><a href="#cb10-62"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"credit-display"</span><span class="dt">&gt;</span></span>
<span id="cb10-63"><a href="#cb10-63"></a>          CREDITS: 5</span>
<span id="cb10-64"><a href="#cb10-64"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-65"><a href="#cb10-65"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-66"><a href="#cb10-66"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-67"><a href="#cb10-67"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-68"><a href="#cb10-68"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb10-69"><a href="#cb10-69"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb10-70"><a href="#cb10-70"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb10-71"><a href="#cb10-71"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb10-72"><a href="#cb10-72"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a> </span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">// ============================================</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">// ============================================</span></span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb11-7"><a href="#cb11-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb11-8"><a href="#cb11-8"></a>                ) </span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">// ============================================</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">// Welcome</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">// ============================================</span></span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb11-15"><a href="#cb11-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb11-16"><a href="#cb11-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb11-17"><a href="#cb11-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>}</span>
<span id="cb11-19"><a href="#cb11-19"></a></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">// ============================================</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="co">// ============================================</span></span>
<span id="cb11-23"><a href="#cb11-23"></a></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="co">// fixation</span></span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb11-26"><a href="#cb11-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb11-27"><a href="#cb11-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb11-28"><a href="#cb11-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb11-29"><a href="#cb11-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb11-30"><a href="#cb11-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb11-31"><a href="#cb11-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb11-32"><a href="#cb11-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>    }</span>
<span id="cb11-34"><a href="#cb11-34"></a>}</span>
<span id="cb11-35"><a href="#cb11-35"></a></span>
<span id="cb11-36"><a href="#cb11-36"></a><span class="co">// stimulus</span></span>
<span id="cb11-37"><a href="#cb11-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb11-38"><a href="#cb11-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb11-39"><a href="#cb11-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb11-40"><a href="#cb11-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb11-41"><a href="#cb11-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb11-42"><a href="#cb11-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb11-43"><a href="#cb11-43"></a></span>
<span id="cb11-44"><a href="#cb11-44"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb11-45"><a href="#cb11-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb11-46"><a href="#cb11-46"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb11-47"><a href="#cb11-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb11-48"><a href="#cb11-48"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb11-49"><a href="#cb11-49"></a></span>
<span id="cb11-50"><a href="#cb11-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb11-51"><a href="#cb11-51"></a>    }<span class="op">,</span></span>
<span id="cb11-52"><a href="#cb11-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb11-53"><a href="#cb11-53"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb11-54"><a href="#cb11-54"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb11-55"><a href="#cb11-55"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb11-56"><a href="#cb11-56"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb11-57"><a href="#cb11-57"></a>    }<span class="op">,</span></span>
<span id="cb11-58"><a href="#cb11-58"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb11-59"><a href="#cb11-59"></a>        <span class="co">// store accuracy</span></span>
<span id="cb11-60"><a href="#cb11-60"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb11-61"><a href="#cb11-61"></a>    }</span>
<span id="cb11-62"><a href="#cb11-62"></a>}</span>
<span id="cb11-63"><a href="#cb11-63"></a></span>
<span id="cb11-64"><a href="#cb11-64"></a><span class="co">// exp timeline</span></span>
<span id="cb11-65"><a href="#cb11-65"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb11-66"><a href="#cb11-66"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb11-67"><a href="#cb11-67"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb11-68"><a href="#cb11-68"></a>        exp_stimulus</span>
<span id="cb11-69"><a href="#cb11-69"></a>    ]<span class="op">,</span></span>
<span id="cb11-70"><a href="#cb11-70"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb11-71"><a href="#cb11-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb11-72"><a href="#cb11-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb11-73"><a href="#cb11-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb11-74"><a href="#cb11-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb11-75"><a href="#cb11-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb11-76"><a href="#cb11-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb11-77"><a href="#cb11-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb11-78"><a href="#cb11-78"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb11-79"><a href="#cb11-79"></a>    ]<span class="op">,</span></span>
<span id="cb11-80"><a href="#cb11-80"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb11-81"><a href="#cb11-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb11-82"><a href="#cb11-82"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb11-83"><a href="#cb11-83"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb11-84"><a href="#cb11-84"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb11-85"><a href="#cb11-85"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb11-86"><a href="#cb11-86"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb11-87"><a href="#cb11-87"></a>    }</span>
<span id="cb11-88"><a href="#cb11-88"></a>}<span class="op">;</span></span>
<span id="cb11-89"><a href="#cb11-89"></a></span>
<span id="cb11-90"><a href="#cb11-90"></a></span>
<span id="cb11-91"><a href="#cb11-91"></a><span class="co">// ============================================</span></span>
<span id="cb11-92"><a href="#cb11-92"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb11-93"><a href="#cb11-93"></a><span class="co">// ============================================</span></span>
<span id="cb11-94"><a href="#cb11-94"></a></span>
<span id="cb11-95"><a href="#cb11-95"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb11-96"><a href="#cb11-96"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb11-97"><a href="#cb11-97"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb11-98"><a href="#cb11-98"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb11-99"><a href="#cb11-99"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb11-100"><a href="#cb11-100"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb11-101"><a href="#cb11-101"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb11-102"><a href="#cb11-102"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb11-103"><a href="#cb11-103"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb11-104"><a href="#cb11-104"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb11-105"><a href="#cb11-105"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb11-106"><a href="#cb11-106"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb11-107"><a href="#cb11-107"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb11-108"><a href="#cb11-108"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb11-109"><a href="#cb11-109"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb11-110"><a href="#cb11-110"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb11-111"><a href="#cb11-111"></a>    })<span class="op">;</span></span>
<span id="cb11-112"><a href="#cb11-112"></a>  }<span class="op">,</span></span>
<span id="cb11-113"><a href="#cb11-113"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb11-114"><a href="#cb11-114"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb11-115"><a href="#cb11-115"></a>  }</span>
<span id="cb11-116"><a href="#cb11-116"></a>}<span class="op">;</span></span>
<span id="cb11-117"><a href="#cb11-117"></a></span>
<span id="cb11-118"><a href="#cb11-118"></a><span class="co">// ============================================</span></span>
<span id="cb11-119"><a href="#cb11-119"></a><span class="co">// Run jsPsych </span></span>
<span id="cb11-120"><a href="#cb11-120"></a><span class="co">// ============================================</span></span>
<span id="cb11-121"><a href="#cb11-121"></a></span>
<span id="cb11-122"><a href="#cb11-122"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb11-123"><a href="#cb11-123"></a>  welcome<span class="op">,</span></span>
<span id="cb11-124"><a href="#cb11-124"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb11-125"><a href="#cb11-125"></a>  saveData</span>
<span id="cb11-126"><a href="#cb11-126"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb12-1"><a href="#cb12-1"></a> <span class="im">@import</span> <span class="fu">url(</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>body {</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb12-10"><a href="#cb12-10"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11"></a>}</span>
<span id="cb12-12"><a href="#cb12-12"></a></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="fu">.game-display</span> {</span>
<span id="cb12-14"><a href="#cb12-14"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-16"><a href="#cb12-16"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="cn">#1a1a2e</span><span class="op">;</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff6b35</span><span class="op">;</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>  <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb12-21"><a href="#cb12-21"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">107</span><span class="op">,</span> <span class="dv">53</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb12-22"><a href="#cb12-22"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">40</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">107</span><span class="op">,</span> <span class="dv">53</span><span class="op">,</span> <span class="dv">0.3</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb12-23"><a href="#cb12-23"></a>    <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">60</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-24"><a href="#cb12-24"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-25"><a href="#cb12-25"></a>}</span>
<span id="cb12-26"><a href="#cb12-26"></a></span>
<span id="cb12-27"><a href="#cb12-27"></a><span class="fu">.grid</span> {</span>
<span id="cb12-28"><a href="#cb12-28"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb12-29"><a href="#cb12-29"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb12-30"><a href="#cb12-30"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb12-31"><a href="#cb12-31"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-32"><a href="#cb12-32"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-33"><a href="#cb12-33"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb12-34"><a href="#cb12-34"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb12-35"><a href="#cb12-35"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-36"><a href="#cb12-36"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-37"><a href="#cb12-37"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-38"><a href="#cb12-38"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-39"><a href="#cb12-39"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-40"><a href="#cb12-40"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb12-41"><a href="#cb12-41"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb12-42"><a href="#cb12-42"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-43"><a href="#cb12-43"></a>}</span>
<span id="cb12-44"><a href="#cb12-44"></a></span>
<span id="cb12-45"><a href="#cb12-45"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb12-46"><a href="#cb12-46"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb12-47"><a href="#cb12-47"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb12-48"><a href="#cb12-48"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb12-49"><a href="#cb12-49"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb12-50"><a href="#cb12-50"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb12-51"><a href="#cb12-51"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb12-52"><a href="#cb12-52"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb12-53"><a href="#cb12-53"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb12-54"><a href="#cb12-54"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb12-55"><a href="#cb12-55"></a></span>
<span id="cb12-56"><a href="#cb12-56"></a><span class="co">/* Arcade styling for all sections */</span></span>
<span id="cb12-57"><a href="#cb12-57"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div {</span>
<span id="cb12-58"><a href="#cb12-58"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="cn">#16213e</span><span class="op">;</span></span>
<span id="cb12-59"><a href="#cb12-59"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#0f3460</span><span class="op">;</span></span>
<span id="cb12-60"><a href="#cb12-60"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-61"><a href="#cb12-61"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-62"><a href="#cb12-62"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-63"><a href="#cb12-63"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-64"><a href="#cb12-64"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb12-65"><a href="#cb12-65"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb12-66"><a href="#cb12-66"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-67"><a href="#cb12-67"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-68"><a href="#cb12-68"></a>  <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-69"><a href="#cb12-69"></a>}</span>
<span id="cb12-70"><a href="#cb12-70"></a></span>
<span id="cb12-71"><a href="#cb12-71"></a><span class="co">/* Center jsPsych display - keep clean */</span></span>
<span id="cb12-72"><a href="#cb12-72"></a><span class="fu">.center</span> {</span>
<span id="cb12-73"><a href="#cb12-73"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="cn">#000</span><span class="op">;</span></span>
<span id="cb12-74"><a href="#cb12-74"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb12-75"><a href="#cb12-75"></a>  <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb12-76"><a href="#cb12-76"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb12-77"><a href="#cb12-77"></a>    <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">30</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-78"><a href="#cb12-78"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#fff</span><span class="op">;</span></span>
<span id="cb12-79"><a href="#cb12-79"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb12-80"><a href="#cb12-80"></a>}</span>
<span id="cb12-81"><a href="#cb12-81"></a></span>
<span id="cb12-82"><a href="#cb12-82"></a><span class="co">/* Top section - Title */</span></span>
<span id="cb12-83"><a href="#cb12-83"></a><span class="fu">.game-title</span> {</span>
<span id="cb12-84"><a href="#cb12-84"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-85"><a href="#cb12-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff6b35</span><span class="op">;</span></span>
<span id="cb12-86"><a href="#cb12-86"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-87"><a href="#cb12-87"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb12-88"><a href="#cb12-88"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span></span>
<span id="cb12-89"><a href="#cb12-89"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span></span>
<span id="cb12-90"><a href="#cb12-90"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">;</span></span>
<span id="cb12-91"><a href="#cb12-91"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">glow 2</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">alternate</span><span class="op">;</span></span>
<span id="cb12-92"><a href="#cb12-92"></a>}</span>
<span id="cb12-93"><a href="#cb12-93"></a></span>
<span id="cb12-94"><a href="#cb12-94"></a><span class="im">@keyframes</span> glow {</span>
<span id="cb12-95"><a href="#cb12-95"></a>  <span class="dv">from</span> { <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">;</span> }</span>
<span id="cb12-96"><a href="#cb12-96"></a>  <span class="dv">to</span> { <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">30</span><span class="dt">px</span> <span class="cn">#ff6b35</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">;</span> }</span>
<span id="cb12-97"><a href="#cb12-97"></a>}</span>
<span id="cb12-98"><a href="#cb12-98"></a></span>
<span id="cb12-99"><a href="#cb12-99"></a><span class="co">/* Score displays */</span></span>
<span id="cb12-100"><a href="#cb12-100"></a><span class="fu">.score-display</span> {</span>
<span id="cb12-101"><a href="#cb12-101"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-102"><a href="#cb12-102"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb12-103"><a href="#cb12-103"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-104"><a href="#cb12-104"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-105"><a href="#cb12-105"></a>}</span>
<span id="cb12-106"><a href="#cb12-106"></a></span>
<span id="cb12-107"><a href="#cb12-107"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb12-108"><a href="#cb12-108"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-109"><a href="#cb12-109"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-110"><a href="#cb12-110"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-111"><a href="#cb12-111"></a>}</span>
<span id="cb12-112"><a href="#cb12-112"></a></span>
<span id="cb12-113"><a href="#cb12-113"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb12-114"><a href="#cb12-114"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-115"><a href="#cb12-115"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb12-116"><a href="#cb12-116"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb12-117"><a href="#cb12-117"></a>}</span>
<span id="cb12-118"><a href="#cb12-118"></a></span>
<span id="cb12-119"><a href="#cb12-119"></a><span class="co">/* Lives display */</span></span>
<span id="cb12-120"><a href="#cb12-120"></a><span class="fu">.lives-display</span> {</span>
<span id="cb12-121"><a href="#cb12-121"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-122"><a href="#cb12-122"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb12-123"><a href="#cb12-123"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-124"><a href="#cb12-124"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-125"><a href="#cb12-125"></a>}</span>
<span id="cb12-126"><a href="#cb12-126"></a></span>
<span id="cb12-127"><a href="#cb12-127"></a><span class="fu">.lives-display</span> <span class="fu">.label</span> {</span>
<span id="cb12-128"><a href="#cb12-128"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-129"><a href="#cb12-129"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff6b9d</span><span class="op">;</span></span>
<span id="cb12-130"><a href="#cb12-130"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff6b9d</span><span class="op">;</span></span>
<span id="cb12-131"><a href="#cb12-131"></a>}</span>
<span id="cb12-132"><a href="#cb12-132"></a></span>
<span id="cb12-133"><a href="#cb12-133"></a><span class="fu">.hearts</span> {</span>
<span id="cb12-134"><a href="#cb12-134"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-135"><a href="#cb12-135"></a>  <span class="kw">filter</span><span class="ch">:</span> <span class="fu">drop-shadow(</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff0066</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-136"><a href="#cb12-136"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-137"><a href="#cb12-137"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb12-138"><a href="#cb12-138"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-139"><a href="#cb12-139"></a>}</span>
<span id="cb12-140"><a href="#cb12-140"></a></span>
<span id="cb12-141"><a href="#cb12-141"></a><span class="co">/* Level display */</span></span>
<span id="cb12-142"><a href="#cb12-142"></a><span class="fu">.level-display</span> {</span>
<span id="cb12-143"><a href="#cb12-143"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb12-144"><a href="#cb12-144"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb12-145"><a href="#cb12-145"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-146"><a href="#cb12-146"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-147"><a href="#cb12-147"></a>}</span>
<span id="cb12-148"><a href="#cb12-148"></a></span>
<span id="cb12-149"><a href="#cb12-149"></a><span class="fu">.level-display</span> <span class="fu">.label</span> {</span>
<span id="cb12-150"><a href="#cb12-150"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-151"><a href="#cb12-151"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00d9ff</span><span class="op">;</span></span>
<span id="cb12-152"><a href="#cb12-152"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#00d9ff</span><span class="op">;</span></span>
<span id="cb12-153"><a href="#cb12-153"></a>}</span>
<span id="cb12-154"><a href="#cb12-154"></a></span>
<span id="cb12-155"><a href="#cb12-155"></a><span class="fu">.level-number</span> {</span>
<span id="cb12-156"><a href="#cb12-156"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-157"><a href="#cb12-157"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00d9ff</span><span class="op">;</span></span>
<span id="cb12-158"><a href="#cb12-158"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00d9ff</span><span class="op">;</span></span>
<span id="cb12-159"><a href="#cb12-159"></a>}</span>
<span id="cb12-160"><a href="#cb12-160"></a></span>
<span id="cb12-161"><a href="#cb12-161"></a><span class="co">/* Bottom section */</span></span>
<span id="cb12-162"><a href="#cb12-162"></a><span class="fu">.coin-slot</span> {</span>
<span id="cb12-163"><a href="#cb12-163"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-164"><a href="#cb12-164"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-165"><a href="#cb12-165"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-166"><a href="#cb12-166"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">blink 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb12-167"><a href="#cb12-167"></a>}</span>
<span id="cb12-168"><a href="#cb12-168"></a></span>
<span id="cb12-169"><a href="#cb12-169"></a><span class="im">@keyframes</span> blink {</span>
<span id="cb12-170"><a href="#cb12-170"></a>  <span class="dv">0%</span><span class="op">,</span> <span class="dv">49%</span> { <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span> }</span>
<span id="cb12-171"><a href="#cb12-171"></a>  <span class="dv">50%</span><span class="op">,</span> <span class="dv">100%</span> { <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.3</span><span class="op">;</span> }</span>
<span id="cb12-172"><a href="#cb12-172"></a>}</span>
<span id="cb12-173"><a href="#cb12-173"></a></span>
<span id="cb12-174"><a href="#cb12-174"></a><span class="fu">.controls-hint</span> {</span>
<span id="cb12-175"><a href="#cb12-175"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-176"><a href="#cb12-176"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#888</span><span class="op">;</span></span>
<span id="cb12-177"><a href="#cb12-177"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb12-178"><a href="#cb12-178"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb12-179"><a href="#cb12-179"></a>  <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb12-180"><a href="#cb12-180"></a>}</span>
<span id="cb12-181"><a href="#cb12-181"></a></span>
<span id="cb12-182"><a href="#cb12-182"></a><span class="fu">.credit-display</span> {</span>
<span id="cb12-183"><a href="#cb12-183"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-184"><a href="#cb12-184"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-185"><a href="#cb12-185"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb12-186"><a href="#cb12-186"></a>}</span>
<span id="cb12-187"><a href="#cb12-187"></a></span>
<span id="cb12-188"><a href="#cb12-188"></a><span class="co">/* Scanline effect overlay */</span></span>
<span id="cb12-189"><a href="#cb12-189"></a><span class="fu">.game-display</span><span class="in">::before</span> {</span>
<span id="cb12-190"><a href="#cb12-190"></a>  <span class="kw">content</span><span class="ch">:</span> <span class="st">''</span><span class="op">;</span></span>
<span id="cb12-191"><a href="#cb12-191"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb12-192"><a href="#cb12-192"></a>  <span class="kw">top</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-193"><a href="#cb12-193"></a>  <span class="kw">left</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-194"><a href="#cb12-194"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb12-195"><a href="#cb12-195"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb12-196"><a href="#cb12-196"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">repeating-linear-gradient(</span></span>
<span id="cb12-197"><a href="#cb12-197"></a>    <span class="dv">0</span><span class="dt">deg</span><span class="op">,</span></span>
<span id="cb12-198"><a href="#cb12-198"></a>    <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.15</span><span class="fu">)</span><span class="op">,</span></span>
<span id="cb12-199"><a href="#cb12-199"></a>    <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.15</span><span class="fu">)</span> <span class="dv">1</span><span class="dt">px</span><span class="op">,</span></span>
<span id="cb12-200"><a href="#cb12-200"></a>    <span class="dv">transparent</span> <span class="dv">1</span><span class="dt">px</span><span class="op">,</span></span>
<span id="cb12-201"><a href="#cb12-201"></a>    <span class="dv">transparent</span> <span class="dv">2</span><span class="dt">px</span></span>
<span id="cb12-202"><a href="#cb12-202"></a>  <span class="fu">)</span><span class="op">;</span></span>
<span id="cb12-203"><a href="#cb12-203"></a>  <span class="kw">pointer-events</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb12-204"><a href="#cb12-204"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb12-205"><a href="#cb12-205"></a>}</span>
<span id="cb12-206"><a href="#cb12-206"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-game-display-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      @import url(&quot;https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap&quot;);\n\nbody {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n  background: #0a0a0a;\n  font-family: &quot;Press Start 2P&quot;, cursive;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n  background: #1a1a2e;\n  border: 8px solid #ff6b35;\n  border-radius: 20px;\n  box-shadow: \n    0 0 20px rgba(255, 107, 53, 0.5),\n    0 0 40px rgba(255, 107, 53, 0.3),\n    inset 0 0 60px rgba(0, 0, 0, 0.5);\n  padding: 5px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n  gap: 5px;\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* Arcade styling for all sections */\n.grid > div {\n  background: #16213e;\n  border: 3px solid #0f3460;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #00ff41;\n  text-shadow: 0 0 10px #00ff41;\n  font-size: 14px;\n  padding: 10px;\n  box-shadow: inset 0 0 20px rgba(0, 255, 65, 0.1);\n}\n\n/* Center jsPsych display - keep clean */\n.center {\n  background: #000;\n  border: 4px solid #00ff41;\n  box-shadow: \n    0 0 20px rgba(0, 255, 65, 0.4),\n    inset 0 0 30px rgba(0, 255, 65, 0.1);\n  color: #fff;\n  text-shadow: none;\n}\n\n/* Top section - Title */\n.game-title {\n  font-size: 24px;\n  color: #ff6b35;\n  text-align: center;\n  text-shadow: \n    0 0 10px #ff6b35,\n    0 0 20px #ff6b35,\n    2px 2px 0 #000;\n  animation: glow 2s ease-in-out infinite alternate;\n}\n\n@keyframes glow {\n  from { text-shadow: 0 0 10px #ff6b35, 0 0 20px #ff6b35, 2px 2px 0 #000; }\n  to { text-shadow: 0 0 20px #ff6b35, 0 0 30px #ff6b35, 2px 2px 0 #000; }\n}\n\n/* Score displays */\n.score-display {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 8px;\n  color: #ffd700;\n  text-shadow: 0 0 5px #ffd700;\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: 0 0 10px #00ff41;\n}\n\n/* Lives display */\n.lives-display {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.lives-display .label {\n  font-size: 8px;\n  color: #ff6b9d;\n  text-shadow: 0 0 5px #ff6b9d;\n}\n\n.hearts {\n  font-size: 16px;\n  filter: drop-shadow(0 0 5px #ff0066);\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n/* Level display */\n.level-display {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.level-display .label {\n  font-size: 8px;\n  color: #00d9ff;\n  text-shadow: 0 0 5px #00d9ff;\n}\n\n.level-number {\n  font-size: 24px;\n  color: #00d9ff;\n  text-shadow: 0 0 10px #00d9ff;\n}\n\n/* Bottom section */\n.coin-slot {\n  font-size: 8px;\n  color: #ffd700;\n  text-shadow: 0 0 8px #ffd700;\n  animation: blink 1.5s ease-in-out infinite;\n}\n\n@keyframes blink {\n  0%, 49% { opacity: 1; }\n  50%, 100% { opacity: 0.3; }\n}\n\n.controls-hint {\n  font-size: 8px;\n  color: #888;\n  text-shadow: none;\n  text-align: center;\n  line-height: 1.6;\n}\n\n.credit-display {\n  font-size: 8px;\n  color: #ffd700;\n  text-shadow: 0 0 8px #ffd700;\n}\n\n/* Scanline effect overlay */\n.game-display::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: repeating-linear-gradient(\n    0deg,\n    rgba(0, 0, 0, 0.15),\n    rgba(0, 0, 0, 0.15) 1px,\n    transparent 1px,\n    transparent 2px\n  );\n  pointer-events: none;\n  border-radius: 20px;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n      <div class=&quot;score-display&quot;>\n        <div class=&quot;label&quot;>SCORE</div>\n        <div class=&quot;value&quot;>000000</div>\n      </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <div class=&quot;game-title&quot;>PSYCH QUEST</div>\n    </div>\n    <div class=&quot;top-right&quot;>\n      <div class=&quot;score-display&quot;>\n        <div class=&quot;label&quot;>HI-SCORE</div>\n        <div class=&quot;value&quot;>999999</div>\n      </div>\n    </div>\n\n    <div class=&quot;left&quot;>\n      <div class=&quot;lives-display&quot;>\n        <div class=&quot;label&quot;>LIVES</div>\n        <div class=&quot;hearts&quot;>\n          <span>❤️</span>\n          <span>❤️</span>\n          <span>🖤</span>\n        </div>\n      </div>\n    </div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;>\n      <div class=&quot;level-display&quot;>\n        <div class=&quot;label&quot;>LEVEL</div>\n        <div class=&quot;level-number&quot;>01</div>\n      </div>\n    </div>\n\n    <div class=&quot;bottom-left&quot;>\n      <div class=&quot;coin-slot&quot;>\n        INSERT COIN\n      </div>\n    </div>\n    <div class=&quot;bottom&quot;>\n      <div class=&quot;controls-hint&quot;>\n        Shoot the Center Target! (A for < and L for >)\n      </div>\n    </div>\n    <div class=&quot;bottom-right&quot;>\n      <div class=&quot;credit-display&quot;>\n        CREDITS: 5\n      </div>\n    </div>\n  </div>\n</div>\n<!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      @import url(&quot;https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap&quot;);

body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  background: #0a0a0a;
  font-family: &quot;Press Start 2P&quot;, cursive;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
  background: #1a1a2e;
  border: 8px solid #ff6b35;
  border-radius: 20px;
  box-shadow: 
    0 0 20px rgba(255, 107, 53, 0.5),
    0 0 40px rgba(255, 107, 53, 0.3),
    inset 0 0 60px rgba(0, 0, 0, 0.5);
  padding: 5px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
  gap: 5px;
}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* Arcade styling for all sections */
.grid > div {
  background: #16213e;
  border: 3px solid #0f3460;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #00ff41;
  text-shadow: 0 0 10px #00ff41;
  font-size: 14px;
  padding: 10px;
  box-shadow: inset 0 0 20px rgba(0, 255, 65, 0.1);
}

/* Center jsPsych display - keep clean */
.center {
  background: #000;
  border: 4px solid #00ff41;
  box-shadow: 
    0 0 20px rgba(0, 255, 65, 0.4),
    inset 0 0 30px rgba(0, 255, 65, 0.1);
  color: #fff;
  text-shadow: none;
}

/* Top section - Title */
.game-title {
  font-size: 24px;
  color: #ff6b35;
  text-align: center;
  text-shadow: 
    0 0 10px #ff6b35,
    0 0 20px #ff6b35,
    2px 2px 0 #000;
  animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
  from { text-shadow: 0 0 10px #ff6b35, 0 0 20px #ff6b35, 2px 2px 0 #000; }
  to { text-shadow: 0 0 20px #ff6b35, 0 0 30px #ff6b35, 2px 2px 0 #000; }
}

/* Score displays */
.score-display {
  display: flex;
  flex-direction: column;
  gap: 8px;
  text-align: center;
}

.score-display .label {
  font-size: 8px;
  color: #ffd700;
  text-shadow: 0 0 5px #ffd700;
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 0 0 10px #00ff41;
}

/* Lives display */
.lives-display {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.lives-display .label {
  font-size: 8px;
  color: #ff6b9d;
  text-shadow: 0 0 5px #ff6b9d;
}

.hearts {
  font-size: 16px;
  filter: drop-shadow(0 0 5px #ff0066);
  display: flex;
  flex-direction: column;
  gap: 5px;
}

/* Level display */
.level-display {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.level-display .label {
  font-size: 8px;
  color: #00d9ff;
  text-shadow: 0 0 5px #00d9ff;
}

.level-number {
  font-size: 24px;
  color: #00d9ff;
  text-shadow: 0 0 10px #00d9ff;
}

/* Bottom section */
.coin-slot {
  font-size: 8px;
  color: #ffd700;
  text-shadow: 0 0 8px #ffd700;
  animation: blink 1.5s ease-in-out infinite;
}

@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0.3; }
}

.controls-hint {
  font-size: 8px;
  color: #888;
  text-shadow: none;
  text-align: center;
  line-height: 1.6;
}

.credit-display {
  font-size: 8px;
  color: #ffd700;
  text-shadow: 0 0 8px #ffd700;
}

/* Scanline effect overlay */
.game-display::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  border-radius: 20px;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:425px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
      <div class=&quot;score-display&quot;>
        <div class=&quot;label&quot;>SCORE</div>
        <div class=&quot;value&quot;>000000</div>
      </div>
    </div>
    <div class=&quot;top&quot;>
      <div class=&quot;game-title&quot;>PSYCH QUEST</div>
    </div>
    <div class=&quot;top-right&quot;>
      <div class=&quot;score-display&quot;>
        <div class=&quot;label&quot;>HI-SCORE</div>
        <div class=&quot;value&quot;>999999</div>
      </div>
    </div>

    <div class=&quot;left&quot;>
      <div class=&quot;lives-display&quot;>
        <div class=&quot;label&quot;>LIVES</div>
        <div class=&quot;hearts&quot;>
          <span>❤️</span>
          <span>❤️</span>
          <span>🖤</span>
        </div>
      </div>
    </div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;>
      <div class=&quot;level-display&quot;>
        <div class=&quot;label&quot;>LEVEL</div>
        <div class=&quot;level-number&quot;>01</div>
      </div>
    </div>

    <div class=&quot;bottom-left&quot;>
      <div class=&quot;coin-slot&quot;>
        INSERT COIN
      </div>
    </div>
    <div class=&quot;bottom&quot;>
      <div class=&quot;controls-hint&quot;>
        Shoot the Center Target! (A for < and L for >)
      </div>
    </div>
    <div class=&quot;bottom-right&quot;>
      <div class=&quot;credit-display&quot;>
        CREDITS: 5
      </div>
    </div>
  </div>
</div>
<!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="425px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>This arcade-style interface transforms the same Flanker task into something that feels like a retro video game. The persistent elements like score, high score, lives, and level remain visible while the jsPsych trials change in the center screen area. The styling uses gradients, shadows, and glowing effects to create an arcade aesthetic that is a bit more engaging than default display.</p>
<p>Of course, this final example has some complex HTML and CSS that you may not fully understand, the important takeaway is that once you separate jsPsych’s display area from your overall page structure, you gain complete control over the participant’s visual experience. You can create interfaces ranging from minimal and professional to elaborate and playful, all while maintaining the experimental rigor of jsPsych underneath. In the following sections, we’ll explore how to make these persistent elements dynamic, updating them in response to participant performance.</p>
</section>
<section id="updating-the-game-display" class="level3" data-number="25.2.2">
<h3 data-number="25.2.2" class="anchored" data-anchor-id="updating-the-game-display"><span class="header-section-number">25.2.2</span> Updating the Game Display</h3>
<p>Now that we have a persistent display structure, we need to make it dynamic so that it can update scores, lives, timers, and other game elements as participants progress through the experiment. To accomplish this, we need to understand how JavaScript interacts with HTML elements on the page.</p>
<p>When a web browser loads an HTML page, it creates a Document Object Model (DOM). The DOM is a tree-like representation of all the HTML elements on the page. JavaScript can access and manipulate this DOM to change what appears on screen without reloading the page.</p>
<p>Think of the DOM as a live connection between your JavaScript code and what participants see. When you change something in the DOM, the browser immediately updates the display. This is how we can update a score counter or health bar in real-time as participants complete trials.</p>
<p>To modify an HTML element, we first need to tell JavaScript which element we want to change. We do this using <code>document.querySelector()</code>, which searches the DOM for an element matching a specific selector.</p>
<p>The most common way to select elements is by their id attribute. Recall that in HTML, we can give elements unique identifiers:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb13-1"><a href="#cb13-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In JavaScript, we can select this element using:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#score-display'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice the <code>#</code> symbol before the id name. This tells <code>querySelector()</code> to look for an element with that specific id. The function returns a reference to that element, which we store in a variable (here called <code>scoreElement</code>).</p>
<p>You can also select elements by other attributes:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">// Select by class (note the . prefix)</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">let</span> button <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'.start-button'</span>)<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">// Select by element type</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="kw">let</span> firstDiv <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'div'</span>)<span class="op">;</span></span>
<span id="cb15-6"><a href="#cb15-6"></a></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="co">// Select by more complex CSS selectors</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="kw">let</span> specificElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'div.game-info#score'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Important:</strong> <code>querySelector()</code> returns only the first element that matches your selector. If you need to select multiple elements, use <code>querySelectorAll()</code> instead, which returns a list of all matching elements.</p>
<p>Once you’ve selected an element, you can change what it displays using the textContent property:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#score-display'</span>)<span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">'100'</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This changes the text inside the element from whatever it was before to ‘100’. The change happens immediately so participants will see the updated score on their screen right after you modify the element.</p>
<p>You can also use <code>innerHTML</code> if you want to include HTML formatting:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">let</span> livesElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#lives'</span>)<span class="op">;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>livesElement<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">'❤️ ❤️ ❤️'</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note: Use <code>textContent</code> for plain text and <code>innerHTML</code> when you need to include HTML tags or special characters. Be cautious with <code>innerHTML</code> if you’re inserting user-provided content, as it can create security vulnerabilities.</p>
<p>You can also modify an element’s CSS styling through JavaScript using the style property:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#score-display'</span>)<span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="st">'gold'</span><span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontSize</span> <span class="op">=</span> <span class="st">'32px'</span><span class="op">;</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontWeight</span> <span class="op">=</span> <span class="st">'bold'</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that CSS property names with hyphens (like font-size) become camelCase in JavaScript (like fontSize).</p>
<p>Now that we understand the basic principles for updating the DOM, we can apply those from within jsPsych. Recall that we can use the <code>on_finish</code> function to run any code we want after the trial finishes. Before, we used that to update our data. However, we can also use that function to update the DOM to change the score. We could do something like this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">let</span> trial <span class="op">=</span> {</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychKeyboardResponse<span class="op">,</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">"r"</span>]<span class="op">,</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb19-6"><a href="#cb19-6"></a>    <span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#score-display'</span>)<span class="op">;</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>    </span>
<span id="cb19-8"><a href="#cb19-8"></a>    scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">"1000"</span></span>
<span id="cb19-9"><a href="#cb19-9"></a>    </span>
<span id="cb19-10"><a href="#cb19-10"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="st">'gold'</span><span class="op">;</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontSize</span> <span class="op">=</span> <span class="st">'32px'</span><span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontWeight</span> <span class="op">=</span> <span class="st">'bold'</span><span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>  }</span>
<span id="cb19-14"><a href="#cb19-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This would immediately update the score display to gold text with “1000”. One missing piece of this puzzle is that we’ll also need to <strong>track</strong> the score across trials. That is, in order to add or subtract from the score, we’ll need to know what the current score is in real-time. We’ve done something similar to this before when we tracked the number missed trials in the previous chapters:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1"></a><span class="co">// track the current score</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="kw">let</span> trial <span class="op">=</span> {</span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychKeyboardResponse<span class="op">,</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">"r"</span>]<span class="op">,</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">'#score-display'</span>)<span class="op">;</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>    </span>
<span id="cb20-11"><a href="#cb20-11"></a>    <span class="co">// add to the score after they have responded</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>    scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb20-13"><a href="#cb20-13"></a>    </span>
<span id="cb20-14"><a href="#cb20-14"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="st">'gold'</span><span class="op">;</span></span>
<span id="cb20-15"><a href="#cb20-15"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontSize</span> <span class="op">=</span> <span class="st">'32px'</span><span class="op">;</span></span>
<span id="cb20-16"><a href="#cb20-16"></a>    scoreElement<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">fontWeight</span> <span class="op">=</span> <span class="st">'bold'</span><span class="op">;</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>  }</span>
<span id="cb20-18"><a href="#cb20-18"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now our score is dynamic! It starts at 0 and adds 100 points after they respond in this trial.</p>
</section>
<section id="example-1-updating-the-score" class="level3" data-number="25.2.3">
<h3 data-number="25.2.3" class="anchored" data-anchor-id="example-1-updating-the-score"><span class="header-section-number">25.2.3</span> Example 1: Updating the Score</h3>
<p>Let’s create a full example now using the simple grid display from above. I’ll update the score in the top-right grid position, adding points if they are correct and subtracting points if they are incorrect.</p>
<p>Note that I’m updating the <code>index.html</code>, <code>style.css</code>, and <code>exp.js</code> files here.</p>
<div class="cell">
<style type="text/css">
[id^="cb21-"]:nth-child(n+22):nth-child(-n+24),  
[id^="cb22-"]:nth-child(n+10):nth-child(-n+16),  
[id^="cb22-"]:nth-child(n+70):nth-child(-n+81),  
[id^="cb23-"]:nth-child(n+77):nth-child(-n+82) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb21-1"><a href="#cb21-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>    </span>
<span id="cb21-9"><a href="#cb21-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb21-12"><a href="#cb21-12"></a></span>
<span id="cb21-13"><a href="#cb21-13"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb21-14"><a href="#cb21-14"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb21-16"><a href="#cb21-16"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb21-18"><a href="#cb21-18"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb21-19"><a href="#cb21-19"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb21-22"><a href="#cb21-22"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb21-23"><a href="#cb21-23"></a>          <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb21-24"><a href="#cb21-24"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-25"><a href="#cb21-25"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-26"><a href="#cb21-26"></a>      </span>
<span id="cb21-27"><a href="#cb21-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-28"><a href="#cb21-28"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-29"><a href="#cb21-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-30"><a href="#cb21-30"></a>      </span>
<span id="cb21-31"><a href="#cb21-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-34"><a href="#cb21-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-35"><a href="#cb21-35"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb21-36"><a href="#cb21-36"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb21-37"><a href="#cb21-37"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb21-38"><a href="#cb21-38"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb21-39"><a href="#cb21-39"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb21-40"><a href="#cb21-40"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1"></a> </span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co">// ============================================</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co">// ============================================</span></span>
<span id="cb22-5"><a href="#cb22-5"></a></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb22-7"><a href="#cb22-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb22-8"><a href="#cb22-8"></a>                ) </span>
<span id="cb22-9"><a href="#cb22-9"></a></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="co">// ============================================</span></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co">// Trackers</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="co">// ============================================</span></span>
<span id="cb22-13"><a href="#cb22-13"></a></span>
<span id="cb22-14"><a href="#cb22-14"></a><span class="co">// current score</span></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-16"><a href="#cb22-16"></a></span>
<span id="cb22-17"><a href="#cb22-17"></a></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="co">// ============================================</span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="co">// Welcome</span></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="co">// ============================================</span></span>
<span id="cb22-21"><a href="#cb22-21"></a></span>
<span id="cb22-22"><a href="#cb22-22"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb22-23"><a href="#cb22-23"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb22-24"><a href="#cb22-24"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb22-25"><a href="#cb22-25"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb22-26"><a href="#cb22-26"></a>}</span>
<span id="cb22-27"><a href="#cb22-27"></a></span>
<span id="cb22-28"><a href="#cb22-28"></a><span class="co">// ============================================</span></span>
<span id="cb22-29"><a href="#cb22-29"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb22-30"><a href="#cb22-30"></a><span class="co">// ============================================</span></span>
<span id="cb22-31"><a href="#cb22-31"></a></span>
<span id="cb22-32"><a href="#cb22-32"></a><span class="co">// fixation</span></span>
<span id="cb22-33"><a href="#cb22-33"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb22-34"><a href="#cb22-34"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb22-35"><a href="#cb22-35"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb22-36"><a href="#cb22-36"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb22-37"><a href="#cb22-37"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb22-38"><a href="#cb22-38"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb22-39"><a href="#cb22-39"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb22-40"><a href="#cb22-40"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb22-41"><a href="#cb22-41"></a>    }</span>
<span id="cb22-42"><a href="#cb22-42"></a>}</span>
<span id="cb22-43"><a href="#cb22-43"></a></span>
<span id="cb22-44"><a href="#cb22-44"></a><span class="co">// stimulus</span></span>
<span id="cb22-45"><a href="#cb22-45"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb22-46"><a href="#cb22-46"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb22-47"><a href="#cb22-47"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb22-48"><a href="#cb22-48"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb22-49"><a href="#cb22-49"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb22-50"><a href="#cb22-50"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb22-51"><a href="#cb22-51"></a></span>
<span id="cb22-52"><a href="#cb22-52"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb22-53"><a href="#cb22-53"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb22-54"><a href="#cb22-54"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb22-55"><a href="#cb22-55"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb22-56"><a href="#cb22-56"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb22-57"><a href="#cb22-57"></a></span>
<span id="cb22-58"><a href="#cb22-58"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb22-59"><a href="#cb22-59"></a>    }<span class="op">,</span></span>
<span id="cb22-60"><a href="#cb22-60"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb22-61"><a href="#cb22-61"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb22-62"><a href="#cb22-62"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb22-63"><a href="#cb22-63"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb22-64"><a href="#cb22-64"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb22-65"><a href="#cb22-65"></a>    }<span class="op">,</span></span>
<span id="cb22-66"><a href="#cb22-66"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb22-67"><a href="#cb22-67"></a>        <span class="co">// store accuracy</span></span>
<span id="cb22-68"><a href="#cb22-68"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb22-69"><a href="#cb22-69"></a></span>
<span id="cb22-70"><a href="#cb22-70"></a>        <span class="co">// get score element</span></span>
<span id="cb22-71"><a href="#cb22-71"></a>        <span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score-display"</span>)</span>
<span id="cb22-72"><a href="#cb22-72"></a></span>
<span id="cb22-73"><a href="#cb22-73"></a>        <span class="co">// update score</span></span>
<span id="cb22-74"><a href="#cb22-74"></a>        <span class="cf">if</span>(data<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb22-75"><a href="#cb22-75"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">10</span></span>
<span id="cb22-76"><a href="#cb22-76"></a>        } <span class="cf">else</span> {</span>
<span id="cb22-77"><a href="#cb22-77"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">10</span></span>
<span id="cb22-78"><a href="#cb22-78"></a>        }</span>
<span id="cb22-79"><a href="#cb22-79"></a></span>
<span id="cb22-80"><a href="#cb22-80"></a>        <span class="co">// update score element</span></span>
<span id="cb22-81"><a href="#cb22-81"></a>        scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> score</span>
<span id="cb22-82"><a href="#cb22-82"></a>    }</span>
<span id="cb22-83"><a href="#cb22-83"></a>}</span>
<span id="cb22-84"><a href="#cb22-84"></a></span>
<span id="cb22-85"><a href="#cb22-85"></a><span class="co">// exp timeline</span></span>
<span id="cb22-86"><a href="#cb22-86"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb22-87"><a href="#cb22-87"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb22-88"><a href="#cb22-88"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb22-89"><a href="#cb22-89"></a>        exp_stimulus</span>
<span id="cb22-90"><a href="#cb22-90"></a>    ]<span class="op">,</span></span>
<span id="cb22-91"><a href="#cb22-91"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb22-92"><a href="#cb22-92"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb22-93"><a href="#cb22-93"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb22-94"><a href="#cb22-94"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb22-95"><a href="#cb22-95"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb22-96"><a href="#cb22-96"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb22-97"><a href="#cb22-97"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb22-98"><a href="#cb22-98"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb22-99"><a href="#cb22-99"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb22-100"><a href="#cb22-100"></a>    ]<span class="op">,</span></span>
<span id="cb22-101"><a href="#cb22-101"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb22-102"><a href="#cb22-102"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb22-103"><a href="#cb22-103"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb22-104"><a href="#cb22-104"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb22-105"><a href="#cb22-105"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb22-106"><a href="#cb22-106"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb22-107"><a href="#cb22-107"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb22-108"><a href="#cb22-108"></a>    }</span>
<span id="cb22-109"><a href="#cb22-109"></a>}<span class="op">;</span></span>
<span id="cb22-110"><a href="#cb22-110"></a></span>
<span id="cb22-111"><a href="#cb22-111"></a></span>
<span id="cb22-112"><a href="#cb22-112"></a><span class="co">// ============================================</span></span>
<span id="cb22-113"><a href="#cb22-113"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb22-114"><a href="#cb22-114"></a><span class="co">// ============================================</span></span>
<span id="cb22-115"><a href="#cb22-115"></a></span>
<span id="cb22-116"><a href="#cb22-116"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb22-117"><a href="#cb22-117"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb22-118"><a href="#cb22-118"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb22-119"><a href="#cb22-119"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb22-120"><a href="#cb22-120"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb22-121"><a href="#cb22-121"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb22-122"><a href="#cb22-122"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb22-123"><a href="#cb22-123"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb22-124"><a href="#cb22-124"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb22-125"><a href="#cb22-125"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb22-126"><a href="#cb22-126"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb22-127"><a href="#cb22-127"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb22-128"><a href="#cb22-128"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb22-129"><a href="#cb22-129"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb22-130"><a href="#cb22-130"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb22-131"><a href="#cb22-131"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb22-132"><a href="#cb22-132"></a>    })<span class="op">;</span></span>
<span id="cb22-133"><a href="#cb22-133"></a>  }<span class="op">,</span></span>
<span id="cb22-134"><a href="#cb22-134"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb22-135"><a href="#cb22-135"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb22-136"><a href="#cb22-136"></a>  }</span>
<span id="cb22-137"><a href="#cb22-137"></a>}<span class="op">;</span></span>
<span id="cb22-138"><a href="#cb22-138"></a></span>
<span id="cb22-139"><a href="#cb22-139"></a><span class="co">// ============================================</span></span>
<span id="cb22-140"><a href="#cb22-140"></a><span class="co">// Run jsPsych </span></span>
<span id="cb22-141"><a href="#cb22-141"></a><span class="co">// ============================================</span></span>
<span id="cb22-142"><a href="#cb22-142"></a></span>
<span id="cb22-143"><a href="#cb22-143"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb22-144"><a href="#cb22-144"></a>  welcome<span class="op">,</span></span>
<span id="cb22-145"><a href="#cb22-145"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb22-146"><a href="#cb22-146"></a>  saveData</span>
<span id="cb22-147"><a href="#cb22-147"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb23-1"><a href="#cb23-1"></a> body {</span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>}</span>
<span id="cb23-8"><a href="#cb23-8"></a></span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb23-10"><a href="#cb23-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb23-12"><a href="#cb23-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb23-13"><a href="#cb23-13"></a>}</span>
<span id="cb23-14"><a href="#cb23-14"></a></span>
<span id="cb23-15"><a href="#cb23-15"></a><span class="fu">.grid</span> {</span>
<span id="cb23-16"><a href="#cb23-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb23-17"><a href="#cb23-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb23-18"><a href="#cb23-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb23-19"><a href="#cb23-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-20"><a href="#cb23-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-21"><a href="#cb23-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb23-22"><a href="#cb23-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb23-23"><a href="#cb23-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb23-24"><a href="#cb23-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb23-25"><a href="#cb23-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb23-26"><a href="#cb23-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb23-27"><a href="#cb23-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb23-28"><a href="#cb23-28"></a>  </span>
<span id="cb23-29"><a href="#cb23-29"></a>}</span>
<span id="cb23-30"><a href="#cb23-30"></a></span>
<span id="cb23-31"><a href="#cb23-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb23-32"><a href="#cb23-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb23-33"><a href="#cb23-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb23-34"><a href="#cb23-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-35"><a href="#cb23-35"></a>}</span>
<span id="cb23-36"><a href="#cb23-36"></a></span>
<span id="cb23-37"><a href="#cb23-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb23-38"><a href="#cb23-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb23-39"><a href="#cb23-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-40"><a href="#cb23-40"></a>}</span>
<span id="cb23-41"><a href="#cb23-41"></a></span>
<span id="cb23-42"><a href="#cb23-42"></a><span class="fu">.top</span> {</span>
<span id="cb23-43"><a href="#cb23-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb23-44"><a href="#cb23-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-45"><a href="#cb23-45"></a>}</span>
<span id="cb23-46"><a href="#cb23-46"></a></span>
<span id="cb23-47"><a href="#cb23-47"></a><span class="fu">.center</span> {</span>
<span id="cb23-48"><a href="#cb23-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-49"><a href="#cb23-49"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-50"><a href="#cb23-50"></a>}</span>
<span id="cb23-51"><a href="#cb23-51"></a></span>
<span id="cb23-52"><a href="#cb23-52"></a><span class="fu">.left</span> {</span>
<span id="cb23-53"><a href="#cb23-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb23-54"><a href="#cb23-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-55"><a href="#cb23-55"></a>}</span>
<span id="cb23-56"><a href="#cb23-56"></a></span>
<span id="cb23-57"><a href="#cb23-57"></a><span class="fu">.right</span> {</span>
<span id="cb23-58"><a href="#cb23-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb23-59"><a href="#cb23-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-60"><a href="#cb23-60"></a>}</span>
<span id="cb23-61"><a href="#cb23-61"></a></span>
<span id="cb23-62"><a href="#cb23-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb23-63"><a href="#cb23-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb23-64"><a href="#cb23-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-65"><a href="#cb23-65"></a>}</span>
<span id="cb23-66"><a href="#cb23-66"></a></span>
<span id="cb23-67"><a href="#cb23-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb23-68"><a href="#cb23-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb23-69"><a href="#cb23-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-70"><a href="#cb23-70"></a>}</span>
<span id="cb23-71"><a href="#cb23-71"></a></span>
<span id="cb23-72"><a href="#cb23-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb23-73"><a href="#cb23-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb23-74"><a href="#cb23-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb23-75"><a href="#cb23-75"></a>}</span>
<span id="cb23-76"><a href="#cb23-76"></a></span>
<span id="cb23-77"><a href="#cb23-77"></a><span class="pp">#score-container</span> {</span>
<span id="cb23-78"><a href="#cb23-78"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb23-79"><a href="#cb23-79"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-80"><a href="#cb23-80"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-81"><a href="#cb23-81"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb23-82"><a href="#cb23-82"></a>}</span>
<span id="cb23-83"><a href="#cb23-83"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div id="demo-container-game-display-ex-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-ex-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n  \n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n#score-container {\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n      <div id=&quot;score-container&quot;>\n        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>\n      </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// current score\nlet score = 0\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n\n        // get score element\n        let scoreElement = document.querySelector(&quot;#score-display&quot;)\n\n        // update score\n        if(data.correct){\n          score = score + 10\n        } else {\n          score = score - 10\n        }\n\n        // update score element\n        scoreElement.textContent = score\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-ex-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-ex-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
  
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

#score-container {
  display: flex;
  text-align: center;
  align-items: center;
  justify-content: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
      <div id=&quot;score-container&quot;>
        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>
      </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// current score
let score = 0


// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)

        // get score element
        let scoreElement = document.querySelector(&quot;#score-display&quot;)

        // update score
        if(data.correct){
          score = score + 10
        } else {
          score = score - 10
        }

        // update score element
        scoreElement.textContent = score
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-ex-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-ex-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-2-updating-a-health-bar" class="level3" data-number="25.2.4">
<h3 data-number="25.2.4" class="anchored" data-anchor-id="example-2-updating-a-health-bar"><span class="header-section-number">25.2.4</span> Example 2: Updating a Health Bar</h3>
<p>We can easily expand on those basic principles to update anything we want. For instance, we could create a health bar and remove health whenever they make an error:</p>
<div class="cell">
<style type="text/css">
[id^="cb24-"]:nth-child(n+22):nth-child(-n+28),
[id^="cb25-"]:nth-child(n+10):nth-child(-n+16),
[id^="cb25-"]:nth-child(n+70):nth-child(-n+96),
[id^="cb26-"]:nth-child(n+77):nth-child(-n+103) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb24-1"><a href="#cb24-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>    </span>
<span id="cb24-9"><a href="#cb24-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb24-10"><a href="#cb24-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-11"><a href="#cb24-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-13"><a href="#cb24-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-14"><a href="#cb24-14"></a></span>
<span id="cb24-15"><a href="#cb24-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb24-16"><a href="#cb24-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb24-17"><a href="#cb24-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb24-18"><a href="#cb24-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb24-19"><a href="#cb24-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb24-20"><a href="#cb24-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>  </span>
<span id="cb24-22"><a href="#cb24-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-container"</span><span class="dt">&gt;</span></span>
<span id="cb24-23"><a href="#cb24-23"></a>        <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HEALTH<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb24-24"><a href="#cb24-24"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-bar"</span><span class="dt">&gt;</span></span>
<span id="cb24-25"><a href="#cb24-25"></a>            <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-fill"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-26"><a href="#cb24-26"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-27"><a href="#cb24-27"></a>          <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-text"</span><span class="dt">&gt;</span>100/100<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb24-28"><a href="#cb24-28"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-29"><a href="#cb24-29"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-30"><a href="#cb24-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-31"><a href="#cb24-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>    </span>
<span id="cb24-33"><a href="#cb24-33"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-34"><a href="#cb24-34"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-35"><a href="#cb24-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-36"><a href="#cb24-36"></a>    </span>
<span id="cb24-37"><a href="#cb24-37"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-38"><a href="#cb24-38"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-39"><a href="#cb24-39"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-40"><a href="#cb24-40"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-41"><a href="#cb24-41"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb24-42"><a href="#cb24-42"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb24-43"><a href="#cb24-43"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb24-44"><a href="#cb24-44"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb24-45"><a href="#cb24-45"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb24-46"><a href="#cb24-46"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1"></a> </span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co">// ============================================</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="co">// ============================================</span></span>
<span id="cb25-5"><a href="#cb25-5"></a></span>
<span id="cb25-6"><a href="#cb25-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb25-7"><a href="#cb25-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb25-8"><a href="#cb25-8"></a>                ) </span>
<span id="cb25-9"><a href="#cb25-9"></a></span>
<span id="cb25-10"><a href="#cb25-10"></a><span class="co">// ============================================</span></span>
<span id="cb25-11"><a href="#cb25-11"></a><span class="co">// Trackers</span></span>
<span id="cb25-12"><a href="#cb25-12"></a><span class="co">// ============================================</span></span>
<span id="cb25-13"><a href="#cb25-13"></a></span>
<span id="cb25-14"><a href="#cb25-14"></a><span class="co">// current health</span></span>
<span id="cb25-15"><a href="#cb25-15"></a><span class="kw">let</span> health <span class="op">=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb25-16"><a href="#cb25-16"></a></span>
<span id="cb25-17"><a href="#cb25-17"></a></span>
<span id="cb25-18"><a href="#cb25-18"></a><span class="co">// ============================================</span></span>
<span id="cb25-19"><a href="#cb25-19"></a><span class="co">// Welcome</span></span>
<span id="cb25-20"><a href="#cb25-20"></a><span class="co">// ============================================</span></span>
<span id="cb25-21"><a href="#cb25-21"></a></span>
<span id="cb25-22"><a href="#cb25-22"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb25-23"><a href="#cb25-23"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb25-24"><a href="#cb25-24"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb25-25"><a href="#cb25-25"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb25-26"><a href="#cb25-26"></a>}</span>
<span id="cb25-27"><a href="#cb25-27"></a></span>
<span id="cb25-28"><a href="#cb25-28"></a><span class="co">// ============================================</span></span>
<span id="cb25-29"><a href="#cb25-29"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb25-30"><a href="#cb25-30"></a><span class="co">// ============================================</span></span>
<span id="cb25-31"><a href="#cb25-31"></a></span>
<span id="cb25-32"><a href="#cb25-32"></a><span class="co">// fixation</span></span>
<span id="cb25-33"><a href="#cb25-33"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb25-34"><a href="#cb25-34"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb25-35"><a href="#cb25-35"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb25-36"><a href="#cb25-36"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb25-37"><a href="#cb25-37"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb25-38"><a href="#cb25-38"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb25-39"><a href="#cb25-39"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb25-40"><a href="#cb25-40"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb25-41"><a href="#cb25-41"></a>    }</span>
<span id="cb25-42"><a href="#cb25-42"></a>}</span>
<span id="cb25-43"><a href="#cb25-43"></a></span>
<span id="cb25-44"><a href="#cb25-44"></a><span class="co">// stimulus</span></span>
<span id="cb25-45"><a href="#cb25-45"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb25-46"><a href="#cb25-46"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb25-47"><a href="#cb25-47"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb25-48"><a href="#cb25-48"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb25-49"><a href="#cb25-49"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb25-50"><a href="#cb25-50"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb25-51"><a href="#cb25-51"></a></span>
<span id="cb25-52"><a href="#cb25-52"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb25-53"><a href="#cb25-53"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb25-54"><a href="#cb25-54"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb25-55"><a href="#cb25-55"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb25-56"><a href="#cb25-56"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb25-57"><a href="#cb25-57"></a></span>
<span id="cb25-58"><a href="#cb25-58"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb25-59"><a href="#cb25-59"></a>    }<span class="op">,</span></span>
<span id="cb25-60"><a href="#cb25-60"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb25-61"><a href="#cb25-61"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb25-62"><a href="#cb25-62"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb25-63"><a href="#cb25-63"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb25-64"><a href="#cb25-64"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb25-65"><a href="#cb25-65"></a>    }<span class="op">,</span></span>
<span id="cb25-66"><a href="#cb25-66"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb25-67"><a href="#cb25-67"></a>        <span class="co">// store accuracy</span></span>
<span id="cb25-68"><a href="#cb25-68"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb25-69"><a href="#cb25-69"></a>                </span>
<span id="cb25-70"><a href="#cb25-70"></a>        <span class="co">// Select the health display elements</span></span>
<span id="cb25-71"><a href="#cb25-71"></a>        <span class="kw">let</span> healthFill <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-fill"</span>)<span class="op">;</span></span>
<span id="cb25-72"><a href="#cb25-72"></a>        <span class="kw">let</span> healthText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-text"</span>)<span class="op">;</span></span>
<span id="cb25-73"><a href="#cb25-73"></a></span>
<span id="cb25-74"><a href="#cb25-74"></a>        <span class="co">// only remove health if incorrect</span></span>
<span id="cb25-75"><a href="#cb25-75"></a>        <span class="cf">if</span>(<span class="op">!</span>data<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb25-76"><a href="#cb25-76"></a>            health <span class="op">=</span> health <span class="op">-</span> <span class="dv">25</span></span>
<span id="cb25-77"><a href="#cb25-77"></a></span>
<span id="cb25-78"><a href="#cb25-78"></a>            <span class="cf">if</span>(health <span class="op">&lt;</span> <span class="dv">0</span>){</span>
<span id="cb25-79"><a href="#cb25-79"></a>               health <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-80"><a href="#cb25-80"></a>            }</span>
<span id="cb25-81"><a href="#cb25-81"></a>            </span>
<span id="cb25-82"><a href="#cb25-82"></a>            <span class="co">// Update the visual bar</span></span>
<span id="cb25-83"><a href="#cb25-83"></a>            healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"%"</span><span class="op">;</span></span>
<span id="cb25-84"><a href="#cb25-84"></a>          </span>
<span id="cb25-85"><a href="#cb25-85"></a>            <span class="co">// Update the text display</span></span>
<span id="cb25-86"><a href="#cb25-86"></a>            healthText<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"/100"</span></span>
<span id="cb25-87"><a href="#cb25-87"></a>          </span>
<span id="cb25-88"><a href="#cb25-88"></a>            <span class="co">// Change color based on health level</span></span>
<span id="cb25-89"><a href="#cb25-89"></a>            <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">60</span>) {</span>
<span id="cb25-90"><a href="#cb25-90"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #2ecc71, #27ae60)"</span><span class="op">;</span></span>
<span id="cb25-91"><a href="#cb25-91"></a>            } <span class="cf">else</span> <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">30</span>) {</span>
<span id="cb25-92"><a href="#cb25-92"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #f39c12, #e67e22)"</span><span class="op">;</span></span>
<span id="cb25-93"><a href="#cb25-93"></a>            } <span class="cf">else</span> {</span>
<span id="cb25-94"><a href="#cb25-94"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #e74c3c, #c0392b)"</span><span class="op">;</span></span>
<span id="cb25-95"><a href="#cb25-95"></a>            }</span>
<span id="cb25-96"><a href="#cb25-96"></a>        }     </span>
<span id="cb25-97"><a href="#cb25-97"></a>    }</span>
<span id="cb25-98"><a href="#cb25-98"></a>}</span>
<span id="cb25-99"><a href="#cb25-99"></a></span>
<span id="cb25-100"><a href="#cb25-100"></a><span class="co">// exp timeline</span></span>
<span id="cb25-101"><a href="#cb25-101"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb25-102"><a href="#cb25-102"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb25-103"><a href="#cb25-103"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb25-104"><a href="#cb25-104"></a>        exp_stimulus</span>
<span id="cb25-105"><a href="#cb25-105"></a>    ]<span class="op">,</span></span>
<span id="cb25-106"><a href="#cb25-106"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb25-107"><a href="#cb25-107"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb25-108"><a href="#cb25-108"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb25-109"><a href="#cb25-109"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb25-110"><a href="#cb25-110"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb25-111"><a href="#cb25-111"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb25-112"><a href="#cb25-112"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb25-113"><a href="#cb25-113"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb25-114"><a href="#cb25-114"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb25-115"><a href="#cb25-115"></a>    ]<span class="op">,</span></span>
<span id="cb25-116"><a href="#cb25-116"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb25-117"><a href="#cb25-117"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb25-118"><a href="#cb25-118"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb25-119"><a href="#cb25-119"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb25-120"><a href="#cb25-120"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb25-121"><a href="#cb25-121"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb25-122"><a href="#cb25-122"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb25-123"><a href="#cb25-123"></a>    }</span>
<span id="cb25-124"><a href="#cb25-124"></a>}<span class="op">;</span></span>
<span id="cb25-125"><a href="#cb25-125"></a></span>
<span id="cb25-126"><a href="#cb25-126"></a></span>
<span id="cb25-127"><a href="#cb25-127"></a><span class="co">// ============================================</span></span>
<span id="cb25-128"><a href="#cb25-128"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb25-129"><a href="#cb25-129"></a><span class="co">// ============================================</span></span>
<span id="cb25-130"><a href="#cb25-130"></a></span>
<span id="cb25-131"><a href="#cb25-131"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb25-132"><a href="#cb25-132"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb25-133"><a href="#cb25-133"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb25-134"><a href="#cb25-134"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb25-135"><a href="#cb25-135"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb25-136"><a href="#cb25-136"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb25-137"><a href="#cb25-137"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb25-138"><a href="#cb25-138"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb25-139"><a href="#cb25-139"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb25-140"><a href="#cb25-140"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb25-141"><a href="#cb25-141"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb25-142"><a href="#cb25-142"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb25-143"><a href="#cb25-143"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb25-144"><a href="#cb25-144"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb25-145"><a href="#cb25-145"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb25-146"><a href="#cb25-146"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb25-147"><a href="#cb25-147"></a>    })<span class="op">;</span></span>
<span id="cb25-148"><a href="#cb25-148"></a>  }<span class="op">,</span></span>
<span id="cb25-149"><a href="#cb25-149"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb25-150"><a href="#cb25-150"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb25-151"><a href="#cb25-151"></a>  }</span>
<span id="cb25-152"><a href="#cb25-152"></a>}<span class="op">;</span></span>
<span id="cb25-153"><a href="#cb25-153"></a></span>
<span id="cb25-154"><a href="#cb25-154"></a><span class="co">// ============================================</span></span>
<span id="cb25-155"><a href="#cb25-155"></a><span class="co">// Run jsPsych </span></span>
<span id="cb25-156"><a href="#cb25-156"></a><span class="co">// ============================================</span></span>
<span id="cb25-157"><a href="#cb25-157"></a></span>
<span id="cb25-158"><a href="#cb25-158"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb25-159"><a href="#cb25-159"></a>  welcome<span class="op">,</span></span>
<span id="cb25-160"><a href="#cb25-160"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb25-161"><a href="#cb25-161"></a>  saveData</span>
<span id="cb25-162"><a href="#cb25-162"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb26-1"><a href="#cb26-1"></a> body {</span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>}</span>
<span id="cb26-8"><a href="#cb26-8"></a></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb26-10"><a href="#cb26-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-12"><a href="#cb26-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>}</span>
<span id="cb26-14"><a href="#cb26-14"></a></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="fu">.grid</span> {</span>
<span id="cb26-16"><a href="#cb26-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb26-18"><a href="#cb26-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-20"><a href="#cb26-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb26-22"><a href="#cb26-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb26-23"><a href="#cb26-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb26-24"><a href="#cb26-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb26-25"><a href="#cb26-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb26-26"><a href="#cb26-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb26-27"><a href="#cb26-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb26-28"><a href="#cb26-28"></a>   </span>
<span id="cb26-29"><a href="#cb26-29"></a>}</span>
<span id="cb26-30"><a href="#cb26-30"></a></span>
<span id="cb26-31"><a href="#cb26-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb26-32"><a href="#cb26-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb26-33"><a href="#cb26-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb26-34"><a href="#cb26-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-35"><a href="#cb26-35"></a>}</span>
<span id="cb26-36"><a href="#cb26-36"></a></span>
<span id="cb26-37"><a href="#cb26-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb26-38"><a href="#cb26-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb26-39"><a href="#cb26-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-40"><a href="#cb26-40"></a>}</span>
<span id="cb26-41"><a href="#cb26-41"></a></span>
<span id="cb26-42"><a href="#cb26-42"></a><span class="fu">.top</span> {</span>
<span id="cb26-43"><a href="#cb26-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb26-44"><a href="#cb26-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-45"><a href="#cb26-45"></a>}</span>
<span id="cb26-46"><a href="#cb26-46"></a></span>
<span id="cb26-47"><a href="#cb26-47"></a><span class="fu">.center</span> {</span>
<span id="cb26-48"><a href="#cb26-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb26-49"><a href="#cb26-49"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-50"><a href="#cb26-50"></a>}</span>
<span id="cb26-51"><a href="#cb26-51"></a></span>
<span id="cb26-52"><a href="#cb26-52"></a><span class="fu">.left</span> {</span>
<span id="cb26-53"><a href="#cb26-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb26-54"><a href="#cb26-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-55"><a href="#cb26-55"></a>}</span>
<span id="cb26-56"><a href="#cb26-56"></a></span>
<span id="cb26-57"><a href="#cb26-57"></a><span class="fu">.right</span> {</span>
<span id="cb26-58"><a href="#cb26-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb26-59"><a href="#cb26-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-60"><a href="#cb26-60"></a>}</span>
<span id="cb26-61"><a href="#cb26-61"></a></span>
<span id="cb26-62"><a href="#cb26-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb26-63"><a href="#cb26-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb26-64"><a href="#cb26-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-65"><a href="#cb26-65"></a>}</span>
<span id="cb26-66"><a href="#cb26-66"></a></span>
<span id="cb26-67"><a href="#cb26-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb26-68"><a href="#cb26-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb26-69"><a href="#cb26-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-70"><a href="#cb26-70"></a>}</span>
<span id="cb26-71"><a href="#cb26-71"></a></span>
<span id="cb26-72"><a href="#cb26-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb26-73"><a href="#cb26-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb26-74"><a href="#cb26-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb26-75"><a href="#cb26-75"></a>}</span>
<span id="cb26-76"><a href="#cb26-76"></a></span>
<span id="cb26-77"><a href="#cb26-77"></a><span class="pp">#health-container</span> {</span>
<span id="cb26-78"><a href="#cb26-78"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-79"><a href="#cb26-79"></a>}</span>
<span id="cb26-80"><a href="#cb26-80"></a></span>
<span id="cb26-81"><a href="#cb26-81"></a><span class="fu">.label</span> {</span>
<span id="cb26-82"><a href="#cb26-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-83"><a href="#cb26-83"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb26-84"><a href="#cb26-84"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-85"><a href="#cb26-85"></a>}</span>
<span id="cb26-86"><a href="#cb26-86"></a></span>
<span id="cb26-87"><a href="#cb26-87"></a><span class="pp">#health-bar</span> {</span>
<span id="cb26-88"><a href="#cb26-88"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb26-89"><a href="#cb26-89"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-90"><a href="#cb26-90"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb26-91"><a href="#cb26-91"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb26-92"><a href="#cb26-92"></a>}</span>
<span id="cb26-93"><a href="#cb26-93"></a></span>
<span id="cb26-94"><a href="#cb26-94"></a><span class="pp">#health-fill</span> {</span>
<span id="cb26-95"><a href="#cb26-95"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb26-96"><a href="#cb26-96"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb26-97"><a href="#cb26-97"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#e74c3c</span><span class="op">;</span></span>
<span id="cb26-98"><a href="#cb26-98"></a>}</span>
<span id="cb26-99"><a href="#cb26-99"></a></span>
<span id="cb26-100"><a href="#cb26-100"></a><span class="pp">#health-text</span> {</span>
<span id="cb26-101"><a href="#cb26-101"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb26-102"><a href="#cb26-102"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb26-103"><a href="#cb26-103"></a>}</span>
<span id="cb26-104"><a href="#cb26-104"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div id="demo-container-game-display-ex-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-ex-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n#health-container {\n  padding: 8px;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n#health-bar {\n  width: 100%;\n  height: 10px;\n  background-color: #ddd;\n  border: 2px solid #333;\n}\n\n#health-fill {\n  height: 100%;\n  width: 100%;\n  background-color: #e74c3c;\n}\n\n#health-text {\n  font-size: 14px;\n  text-align: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>  \n      <div id=&quot;health-container&quot;>\n          <div id=&quot;health-bar&quot;>\n            <div id=&quot;health-fill&quot;></div>\n          </div>\n          <span id=&quot;health-text&quot;>100/100</span>\n        </div>\n    </div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;></div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// current health\nlet health = 100;\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n                \n        // Select the health display elements\n        let healthFill = document.querySelector(&quot;#health-fill&quot;);\n        let healthText = document.querySelector(&quot;#health-text&quot;);\n\n        // only remove health if incorrect\n        if(!data.correct){\n            health = health - 25\n\n            if(health < 0){\n               health = 0\n            }\n            \n            // Update the visual bar\n            healthFill.style.width = health + &quot;%&quot;;\n          \n            // Update the text display\n            healthText.textContent = health + &quot;/100&quot;\n          \n            // Change color based on health level\n            if (health > 60) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;\n            } else if (health > 30) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;\n            } else {\n              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;\n            }\n        }     \n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-ex-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-ex-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

#health-container {
  padding: 8px;
}

.label {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 5px;
}

#health-bar {
  width: 100%;
  height: 10px;
  background-color: #ddd;
  border: 2px solid #333;
}

#health-fill {
  height: 100%;
  width: 100%;
  background-color: #e74c3c;
}

#health-text {
  font-size: 14px;
  text-align: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>  
      <div id=&quot;health-container&quot;>
          <div id=&quot;health-bar&quot;>
            <div id=&quot;health-fill&quot;></div>
          </div>
          <span id=&quot;health-text&quot;>100/100</span>
        </div>
    </div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;></div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// current health
let health = 100;


// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
                
        // Select the health display elements
        let healthFill = document.querySelector(&quot;#health-fill&quot;);
        let healthText = document.querySelector(&quot;#health-text&quot;);

        // only remove health if incorrect
        if(!data.correct){
            health = health - 25

            if(health < 0){
               health = 0
            }
            
            // Update the visual bar
            healthFill.style.width = health + &quot;%&quot;;
          
            // Update the text display
            healthText.textContent = health + &quot;/100&quot;
          
            // Change color based on health level
            if (health > 60) {
              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;
            } else if (health > 30) {
              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;
            } else {
              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;
            }
        }     
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-ex-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-ex-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-3-updating-a-progress-bar" class="level3" data-number="25.2.5">
<h3 data-number="25.2.5" class="anchored" data-anchor-id="example-3-updating-a-progress-bar"><span class="header-section-number">25.2.5</span> Example 3: Updating a Progress Bar</h3>
<div class="cell">
<style type="text/css">
[id^="cb27-"]:nth-child(n+32):nth-child(-n+38),  
[id^="cb28-"]:nth-child(n+10):nth-child(-n+16), 
[id^="cb28-"]:nth-child(n+70):nth-child(-n+82),
[id^="cb29-"]:nth-child(n+77):nth-child(-n+103) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb27-1"><a href="#cb27-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-7"><a href="#cb27-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb27-8"><a href="#cb27-8"></a>    </span>
<span id="cb27-9"><a href="#cb27-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb27-10"><a href="#cb27-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-12"><a href="#cb27-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-13"><a href="#cb27-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-14"><a href="#cb27-14"></a></span>
<span id="cb27-15"><a href="#cb27-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb27-16"><a href="#cb27-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb27-20"><a href="#cb27-20"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb27-21"><a href="#cb27-21"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb27-22"><a href="#cb27-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-23"><a href="#cb27-23"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-24"><a href="#cb27-24"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-25"><a href="#cb27-25"></a>    </span>
<span id="cb27-26"><a href="#cb27-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-27"><a href="#cb27-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-28"><a href="#cb27-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-29"><a href="#cb27-29"></a>    </span>
<span id="cb27-30"><a href="#cb27-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-31"><a href="#cb27-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span></span>
<span id="cb27-32"><a href="#cb27-32"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"progress-container"</span><span class="dt">&gt;</span></span>
<span id="cb27-33"><a href="#cb27-33"></a>          <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>PROGRESS<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb27-34"><a href="#cb27-34"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"progress-bar"</span><span class="dt">&gt;</span></span>
<span id="cb27-35"><a href="#cb27-35"></a>            <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"progress-fill"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-36"><a href="#cb27-36"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-37"><a href="#cb27-37"></a>          <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"progress-text"</span><span class="dt">&gt;</span>0/8<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb27-38"><a href="#cb27-38"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-39"><a href="#cb27-39"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-40"><a href="#cb27-40"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-41"><a href="#cb27-41"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-42"><a href="#cb27-42"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-43"><a href="#cb27-43"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb27-44"><a href="#cb27-44"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb27-45"><a href="#cb27-45"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb27-46"><a href="#cb27-46"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb27-47"><a href="#cb27-47"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb28-1"><a href="#cb28-1"></a> </span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co">// ============================================</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co">// ============================================</span></span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb28-7"><a href="#cb28-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb28-8"><a href="#cb28-8"></a>                ) </span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="co">// ============================================</span></span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="co">// Trackers</span></span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="co">// ============================================</span></span>
<span id="cb28-13"><a href="#cb28-13"></a></span>
<span id="cb28-14"><a href="#cb28-14"></a><span class="co">// progress variables</span></span>
<span id="cb28-15"><a href="#cb28-15"></a><span class="kw">let</span> totalTrials <span class="op">=</span> <span class="dv">8</span><span class="op">;</span></span>
<span id="cb28-16"><a href="#cb28-16"></a><span class="kw">let</span> currentTrial <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-17"><a href="#cb28-17"></a></span>
<span id="cb28-18"><a href="#cb28-18"></a><span class="co">// ============================================</span></span>
<span id="cb28-19"><a href="#cb28-19"></a><span class="co">// Welcome</span></span>
<span id="cb28-20"><a href="#cb28-20"></a><span class="co">// ============================================</span></span>
<span id="cb28-21"><a href="#cb28-21"></a></span>
<span id="cb28-22"><a href="#cb28-22"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb28-23"><a href="#cb28-23"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb28-24"><a href="#cb28-24"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb28-25"><a href="#cb28-25"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb28-26"><a href="#cb28-26"></a>}</span>
<span id="cb28-27"><a href="#cb28-27"></a></span>
<span id="cb28-28"><a href="#cb28-28"></a><span class="co">// ============================================</span></span>
<span id="cb28-29"><a href="#cb28-29"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb28-30"><a href="#cb28-30"></a><span class="co">// ============================================</span></span>
<span id="cb28-31"><a href="#cb28-31"></a></span>
<span id="cb28-32"><a href="#cb28-32"></a><span class="co">// fixation</span></span>
<span id="cb28-33"><a href="#cb28-33"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb28-34"><a href="#cb28-34"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb28-35"><a href="#cb28-35"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb28-36"><a href="#cb28-36"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb28-37"><a href="#cb28-37"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb28-38"><a href="#cb28-38"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb28-39"><a href="#cb28-39"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb28-40"><a href="#cb28-40"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb28-41"><a href="#cb28-41"></a>    }</span>
<span id="cb28-42"><a href="#cb28-42"></a>}</span>
<span id="cb28-43"><a href="#cb28-43"></a></span>
<span id="cb28-44"><a href="#cb28-44"></a><span class="co">// stimulus</span></span>
<span id="cb28-45"><a href="#cb28-45"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb28-46"><a href="#cb28-46"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb28-47"><a href="#cb28-47"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb28-48"><a href="#cb28-48"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb28-49"><a href="#cb28-49"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb28-50"><a href="#cb28-50"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb28-51"><a href="#cb28-51"></a></span>
<span id="cb28-52"><a href="#cb28-52"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb28-53"><a href="#cb28-53"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb28-54"><a href="#cb28-54"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb28-55"><a href="#cb28-55"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb28-56"><a href="#cb28-56"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb28-57"><a href="#cb28-57"></a></span>
<span id="cb28-58"><a href="#cb28-58"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb28-59"><a href="#cb28-59"></a>    }<span class="op">,</span></span>
<span id="cb28-60"><a href="#cb28-60"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb28-61"><a href="#cb28-61"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb28-62"><a href="#cb28-62"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb28-63"><a href="#cb28-63"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb28-64"><a href="#cb28-64"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb28-65"><a href="#cb28-65"></a>    }<span class="op">,</span></span>
<span id="cb28-66"><a href="#cb28-66"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb28-67"><a href="#cb28-67"></a>      <span class="co">// store accuracy</span></span>
<span id="cb28-68"><a href="#cb28-68"></a>      data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb28-69"><a href="#cb28-69"></a></span>
<span id="cb28-70"><a href="#cb28-70"></a>      <span class="co">// Select progress elements</span></span>
<span id="cb28-71"><a href="#cb28-71"></a>      <span class="kw">let</span> progressFill <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#progress-fill"</span>)<span class="op">;</span></span>
<span id="cb28-72"><a href="#cb28-72"></a>      <span class="kw">let</span> progressText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#progress-text"</span>)<span class="op">;</span></span>
<span id="cb28-73"><a href="#cb28-73"></a>    </span>
<span id="cb28-74"><a href="#cb28-74"></a>      <span class="co">// Calculate percentage remaining</span></span>
<span id="cb28-75"><a href="#cb28-75"></a>      currentTrial <span class="op">=</span> currentTrial <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb28-76"><a href="#cb28-76"></a></span>
<span id="cb28-77"><a href="#cb28-77"></a>      <span class="kw">let</span> progressPercent <span class="op">=</span> (currentTrial <span class="op">/</span> totalTrials) <span class="op">*</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb28-78"><a href="#cb28-78"></a>    </span>
<span id="cb28-79"><a href="#cb28-79"></a>      <span class="co">// Update the visual bar</span></span>
<span id="cb28-80"><a href="#cb28-80"></a>      progressFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> progressPercent <span class="op">+</span> <span class="st">"%"</span><span class="op">;</span></span>
<span id="cb28-81"><a href="#cb28-81"></a>    </span>
<span id="cb28-82"><a href="#cb28-82"></a>      <span class="co">// Update the text display</span></span>
<span id="cb28-83"><a href="#cb28-83"></a>      progressText<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> currentTrial <span class="op">+</span> <span class="st">"/"</span> <span class="op">+</span> totalTrials<span class="op">;</span></span>
<span id="cb28-84"><a href="#cb28-84"></a></span>
<span id="cb28-85"><a href="#cb28-85"></a>    }</span>
<span id="cb28-86"><a href="#cb28-86"></a>}</span>
<span id="cb28-87"><a href="#cb28-87"></a></span>
<span id="cb28-88"><a href="#cb28-88"></a><span class="co">// exp timeline</span></span>
<span id="cb28-89"><a href="#cb28-89"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb28-90"><a href="#cb28-90"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb28-91"><a href="#cb28-91"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb28-92"><a href="#cb28-92"></a>        exp_stimulus</span>
<span id="cb28-93"><a href="#cb28-93"></a>    ]<span class="op">,</span></span>
<span id="cb28-94"><a href="#cb28-94"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb28-95"><a href="#cb28-95"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb28-96"><a href="#cb28-96"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb28-97"><a href="#cb28-97"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb28-98"><a href="#cb28-98"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb28-99"><a href="#cb28-99"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb28-100"><a href="#cb28-100"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb28-101"><a href="#cb28-101"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb28-102"><a href="#cb28-102"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb28-103"><a href="#cb28-103"></a>    ]<span class="op">,</span></span>
<span id="cb28-104"><a href="#cb28-104"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb28-105"><a href="#cb28-105"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb28-106"><a href="#cb28-106"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb28-107"><a href="#cb28-107"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb28-108"><a href="#cb28-108"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb28-109"><a href="#cb28-109"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb28-110"><a href="#cb28-110"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb28-111"><a href="#cb28-111"></a>    }</span>
<span id="cb28-112"><a href="#cb28-112"></a>}<span class="op">;</span></span>
<span id="cb28-113"><a href="#cb28-113"></a></span>
<span id="cb28-114"><a href="#cb28-114"></a></span>
<span id="cb28-115"><a href="#cb28-115"></a><span class="co">// ============================================</span></span>
<span id="cb28-116"><a href="#cb28-116"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb28-117"><a href="#cb28-117"></a><span class="co">// ============================================</span></span>
<span id="cb28-118"><a href="#cb28-118"></a></span>
<span id="cb28-119"><a href="#cb28-119"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb28-120"><a href="#cb28-120"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb28-121"><a href="#cb28-121"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb28-122"><a href="#cb28-122"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb28-123"><a href="#cb28-123"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb28-124"><a href="#cb28-124"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb28-125"><a href="#cb28-125"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb28-126"><a href="#cb28-126"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb28-127"><a href="#cb28-127"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb28-128"><a href="#cb28-128"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb28-129"><a href="#cb28-129"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb28-130"><a href="#cb28-130"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb28-131"><a href="#cb28-131"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb28-132"><a href="#cb28-132"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb28-133"><a href="#cb28-133"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb28-134"><a href="#cb28-134"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb28-135"><a href="#cb28-135"></a>    })<span class="op">;</span></span>
<span id="cb28-136"><a href="#cb28-136"></a>  }<span class="op">,</span></span>
<span id="cb28-137"><a href="#cb28-137"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb28-138"><a href="#cb28-138"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb28-139"><a href="#cb28-139"></a>  }</span>
<span id="cb28-140"><a href="#cb28-140"></a>}<span class="op">;</span></span>
<span id="cb28-141"><a href="#cb28-141"></a></span>
<span id="cb28-142"><a href="#cb28-142"></a><span class="co">// ============================================</span></span>
<span id="cb28-143"><a href="#cb28-143"></a><span class="co">// Run jsPsych </span></span>
<span id="cb28-144"><a href="#cb28-144"></a><span class="co">// ============================================</span></span>
<span id="cb28-145"><a href="#cb28-145"></a></span>
<span id="cb28-146"><a href="#cb28-146"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb28-147"><a href="#cb28-147"></a>  welcome<span class="op">,</span></span>
<span id="cb28-148"><a href="#cb28-148"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb28-149"><a href="#cb28-149"></a>  saveData</span>
<span id="cb28-150"><a href="#cb28-150"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb29-1"><a href="#cb29-1"></a> body {</span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb29-7"><a href="#cb29-7"></a>}</span>
<span id="cb29-8"><a href="#cb29-8"></a></span>
<span id="cb29-9"><a href="#cb29-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb29-10"><a href="#cb29-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb29-11"><a href="#cb29-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-12"><a href="#cb29-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-13"><a href="#cb29-13"></a>}</span>
<span id="cb29-14"><a href="#cb29-14"></a></span>
<span id="cb29-15"><a href="#cb29-15"></a><span class="fu">.grid</span> {</span>
<span id="cb29-16"><a href="#cb29-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb29-17"><a href="#cb29-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb29-18"><a href="#cb29-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb29-19"><a href="#cb29-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-20"><a href="#cb29-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-21"><a href="#cb29-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb29-22"><a href="#cb29-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb29-23"><a href="#cb29-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb29-24"><a href="#cb29-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb29-25"><a href="#cb29-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb29-26"><a href="#cb29-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb29-27"><a href="#cb29-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb29-28"><a href="#cb29-28"></a>   </span>
<span id="cb29-29"><a href="#cb29-29"></a>}</span>
<span id="cb29-30"><a href="#cb29-30"></a></span>
<span id="cb29-31"><a href="#cb29-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb29-32"><a href="#cb29-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb29-33"><a href="#cb29-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb29-34"><a href="#cb29-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-35"><a href="#cb29-35"></a>}</span>
<span id="cb29-36"><a href="#cb29-36"></a></span>
<span id="cb29-37"><a href="#cb29-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb29-38"><a href="#cb29-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb29-39"><a href="#cb29-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-40"><a href="#cb29-40"></a>}</span>
<span id="cb29-41"><a href="#cb29-41"></a></span>
<span id="cb29-42"><a href="#cb29-42"></a><span class="fu">.top</span> {</span>
<span id="cb29-43"><a href="#cb29-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb29-44"><a href="#cb29-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-45"><a href="#cb29-45"></a>}</span>
<span id="cb29-46"><a href="#cb29-46"></a></span>
<span id="cb29-47"><a href="#cb29-47"></a><span class="fu">.center</span> {</span>
<span id="cb29-48"><a href="#cb29-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb29-49"><a href="#cb29-49"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-50"><a href="#cb29-50"></a>}</span>
<span id="cb29-51"><a href="#cb29-51"></a></span>
<span id="cb29-52"><a href="#cb29-52"></a><span class="fu">.left</span> {</span>
<span id="cb29-53"><a href="#cb29-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb29-54"><a href="#cb29-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-55"><a href="#cb29-55"></a>}</span>
<span id="cb29-56"><a href="#cb29-56"></a></span>
<span id="cb29-57"><a href="#cb29-57"></a><span class="fu">.right</span> {</span>
<span id="cb29-58"><a href="#cb29-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb29-59"><a href="#cb29-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-60"><a href="#cb29-60"></a>}</span>
<span id="cb29-61"><a href="#cb29-61"></a></span>
<span id="cb29-62"><a href="#cb29-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb29-63"><a href="#cb29-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb29-64"><a href="#cb29-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-65"><a href="#cb29-65"></a>}</span>
<span id="cb29-66"><a href="#cb29-66"></a></span>
<span id="cb29-67"><a href="#cb29-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb29-68"><a href="#cb29-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb29-69"><a href="#cb29-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-70"><a href="#cb29-70"></a>}</span>
<span id="cb29-71"><a href="#cb29-71"></a></span>
<span id="cb29-72"><a href="#cb29-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb29-73"><a href="#cb29-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb29-74"><a href="#cb29-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb29-75"><a href="#cb29-75"></a>}</span>
<span id="cb29-76"><a href="#cb29-76"></a></span>
<span id="cb29-77"><a href="#cb29-77"></a><span class="fu">.label</span> {</span>
<span id="cb29-78"><a href="#cb29-78"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-79"><a href="#cb29-79"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb29-80"><a href="#cb29-80"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-81"><a href="#cb29-81"></a>}</span>
<span id="cb29-82"><a href="#cb29-82"></a></span>
<span id="cb29-83"><a href="#cb29-83"></a><span class="pp">#progress-container</span> {</span>
<span id="cb29-84"><a href="#cb29-84"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-85"><a href="#cb29-85"></a>}</span>
<span id="cb29-86"><a href="#cb29-86"></a></span>
<span id="cb29-87"><a href="#cb29-87"></a><span class="pp">#progress-bar</span> {</span>
<span id="cb29-88"><a href="#cb29-88"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb29-89"><a href="#cb29-89"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-90"><a href="#cb29-90"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb29-91"><a href="#cb29-91"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb29-92"><a href="#cb29-92"></a>}</span>
<span id="cb29-93"><a href="#cb29-93"></a></span>
<span id="cb29-94"><a href="#cb29-94"></a><span class="pp">#progress-fill</span> {</span>
<span id="cb29-95"><a href="#cb29-95"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb29-96"><a href="#cb29-96"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb29-97"><a href="#cb29-97"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#3498db</span><span class="op">;</span></span>
<span id="cb29-98"><a href="#cb29-98"></a>}</span>
<span id="cb29-99"><a href="#cb29-99"></a></span>
<span id="cb29-100"><a href="#cb29-100"></a><span class="pp">#progress-text</span> {</span>
<span id="cb29-101"><a href="#cb29-101"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb29-102"><a href="#cb29-102"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb29-103"><a href="#cb29-103"></a>}</span>
<span id="cb29-104"><a href="#cb29-104"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div id="demo-container-game-display-ex-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-ex-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.label {\n  font-size: 12px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n#progress-container {\n  padding: 10px;\n}\n\n#progress-bar {\n  width: 100%;\n  height: 10px;\n  background-color: #ddd;\n  border: 2px solid #333;\n}\n\n#progress-fill {\n  height: 100%;\n  width: 0%;\n  background-color: #3498db;\n}\n\n#progress-text {\n  font-size: 14px;\n  text-align: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>  \n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;></div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;>\n        <div id=&quot;progress-container&quot;>\n          <span class=&quot;label&quot;>PROGRESS</span>\n          <div id=&quot;progress-bar&quot;>\n            <div id=&quot;progress-fill&quot;></div>\n          </div>\n          <span id=&quot;progress-text&quot;>0/8</span>\n        </div>\n    </div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// progress variables\nlet totalTrials = 8;\nlet currentTrial = 0;\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n      // store accuracy\n      data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n\n      // Select progress elements\n      let progressFill = document.querySelector(&quot;#progress-fill&quot;);\n      let progressText = document.querySelector(&quot;#progress-text&quot;);\n    \n      // Calculate percentage remaining\n      currentTrial = currentTrial + 1\n\n      let progressPercent = (currentTrial / totalTrials) * 100;\n    \n      // Update the visual bar\n      progressFill.style.width = progressPercent + &quot;%&quot;;\n    \n      // Update the text display\n      progressText.textContent = currentTrial + &quot;/&quot; + totalTrials;\n\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-ex-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-ex-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.label {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 5px;
}

#progress-container {
  padding: 10px;
}

#progress-bar {
  width: 100%;
  height: 10px;
  background-color: #ddd;
  border: 2px solid #333;
}

#progress-fill {
  height: 100%;
  width: 0%;
  background-color: #3498db;
}

#progress-text {
  font-size: 14px;
  text-align: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>  
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;></div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;>
        <div id=&quot;progress-container&quot;>
          <span class=&quot;label&quot;>PROGRESS</span>
          <div id=&quot;progress-bar&quot;>
            <div id=&quot;progress-fill&quot;></div>
          </div>
          <span id=&quot;progress-text&quot;>0/8</span>
        </div>
    </div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// progress variables
let totalTrials = 8;
let currentTrial = 0;

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
      // store accuracy
      data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)

      // Select progress elements
      let progressFill = document.querySelector(&quot;#progress-fill&quot;);
      let progressText = document.querySelector(&quot;#progress-text&quot;);
    
      // Calculate percentage remaining
      currentTrial = currentTrial + 1

      let progressPercent = (currentTrial / totalTrials) * 100;
    
      // Update the visual bar
      progressFill.style.width = progressPercent + &quot;%&quot;;
    
      // Update the text display
      progressText.textContent = currentTrial + &quot;/&quot; + totalTrials;

    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-ex-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-ex-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="setting-up-and-clearing-the-display" class="level3" data-number="25.2.6">
<h3 data-number="25.2.6" class="anchored" data-anchor-id="setting-up-and-clearing-the-display"><span class="header-section-number">25.2.6</span> Setting Up and Clearing the Display</h3>
<p>In the examples above, game elements like health bars and score displays appear immediately when the experiment launches. This works well when your experiment begins directly with trials, but often you’ll want more control over when these elements appear and disappear.</p>
<p>Consider a typical experiment structure: you start with instruction screens, then move to the main task with game elements, and finally show debriefing or results. You don’t want score indicators visible during instructions, and you don’t want game interface elements cluttering the screen during debriefing. Managing when elements appear and disappear creates a cleaner, more professional experience.</p>
<p>We can control display elements using jsPsych’s timeline callbacks: <code>on_timeline_start</code> and <code>on_timeline_finish.</code> As their names suggest, <code>on_timeline_start</code> executes immediately before a timeline begins, while <code>on_timeline_finish</code> executes immediately after the final trial in that timeline completes.</p>
<p>These callbacks let us add game elements right before they’re needed and remove them when they’re no longer relevant. This approach keeps your display clean and prevents confusion about which phase of the experiment participants are in.</p>
<section id="adding-elements-at-timeline-start" class="level4" data-number="25.2.6.1">
<h4 data-number="25.2.6.1" class="anchored" data-anchor-id="adding-elements-at-timeline-start"><span class="header-section-number">25.2.6.1</span> Adding Elements at Timeline Start</h4>
<p>Let’s look at an example where we start with empty grid areas and populate them when the main task begins.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb30-1"><a href="#cb30-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-6"><a href="#cb30-6"></a>    </span>
<span id="cb30-7"><a href="#cb30-7"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-8"><a href="#cb30-8"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-10"><a href="#cb30-10"></a>    </span>
<span id="cb30-11"><a href="#cb30-11"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-12"><a href="#cb30-12"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-13"><a href="#cb30-13"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-14"><a href="#cb30-14"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-15"><a href="#cb30-15"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice the <code>top-left</code> and <code>top-right</code> divs are empty! There is no health bar or score display yet. We’ll add those elements programmatically:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb31-1"><a href="#cb31-1"></a><span class="co">// exp timeline</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb31-4"><a href="#cb31-4"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb31-5"><a href="#cb31-5"></a>        exp_stimulus</span>
<span id="cb31-6"><a href="#cb31-6"></a>    ]<span class="op">,</span></span>
<span id="cb31-7"><a href="#cb31-7"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [<span class="co">/* timeline variables */</span>]<span class="op">,</span></span>
<span id="cb31-8"><a href="#cb31-8"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb31-9"><a href="#cb31-9"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb31-10"><a href="#cb31-10"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb31-11"><a href="#cb31-11"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb31-12"><a href="#cb31-12"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb31-13"><a href="#cb31-13"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb31-14"><a href="#cb31-14"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb31-15"><a href="#cb31-15"></a>    }<span class="op">,</span></span>
<span id="cb31-16"><a href="#cb31-16"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb31-17"><a href="#cb31-17"></a>        <span class="co">// get top-left element</span></span>
<span id="cb31-18"><a href="#cb31-18"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb31-19"><a href="#cb31-19"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">` &lt;div id="health-container"&gt;</span></span>
<span id="cb31-20"><a href="#cb31-20"></a><span class="vs">                               &lt;div id="health-bar"&gt;</span></span>
<span id="cb31-21"><a href="#cb31-21"></a><span class="vs">                                  &lt;div id="health-fill"&gt;&lt;/div&gt;</span></span>
<span id="cb31-22"><a href="#cb31-22"></a><span class="vs">                                &lt;/div&gt;</span></span>
<span id="cb31-23"><a href="#cb31-23"></a><span class="vs">                                &lt;span id="health-text"&gt;100/100&lt;/span&gt;</span></span>
<span id="cb31-24"><a href="#cb31-24"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb31-25"><a href="#cb31-25"></a></span>
<span id="cb31-26"><a href="#cb31-26"></a>        <span class="co">// get top-right element</span></span>
<span id="cb31-27"><a href="#cb31-27"></a>        <span class="kw">let</span> topRight <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-right"</span>)</span>
<span id="cb31-28"><a href="#cb31-28"></a>        topRight<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;div id="score-container"&gt;</span></span>
<span id="cb31-29"><a href="#cb31-29"></a><span class="vs">                                  &lt;p&gt; SCORE: &lt;span id="score-display"&gt;0&lt;/span&gt; &lt;/p&gt;</span></span>
<span id="cb31-30"><a href="#cb31-30"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb31-31"><a href="#cb31-31"></a></span>
<span id="cb31-32"><a href="#cb31-32"></a>    }</span>
<span id="cb31-33"><a href="#cb31-33"></a>}<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>By setting the innerHTML property, we insert HTML content into the selected elements. This completely replaces whatever was inside those divs (in this case, nothing) with our game interface elements. The health bar and score display now appear exactly when the main task timeline begins.</p>
</section>
<section id="removing-elements-at-timeline-finish" class="level4" data-number="25.2.6.2">
<h4 data-number="25.2.6.2" class="anchored" data-anchor-id="removing-elements-at-timeline-finish"><span class="header-section-number">25.2.6.2</span> Removing Elements at Timeline Finish</h4>
<p>After the task completes, we should clean up these elements to prepare for the next phase:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb32-1"><a href="#cb32-1"></a><span class="co">// exp timeline</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb32-4"><a href="#cb32-4"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>        exp_stimulus</span>
<span id="cb32-6"><a href="#cb32-6"></a>    ]<span class="op">,</span></span>
<span id="cb32-7"><a href="#cb32-7"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [<span class="co">/* timeline variables */</span>]<span class="op">,</span></span>
<span id="cb32-8"><a href="#cb32-8"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb32-9"><a href="#cb32-9"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb32-10"><a href="#cb32-10"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb32-11"><a href="#cb32-11"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb32-12"><a href="#cb32-12"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb32-13"><a href="#cb32-13"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb32-14"><a href="#cb32-14"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb32-15"><a href="#cb32-15"></a>    }<span class="op">,</span></span>
<span id="cb32-16"><a href="#cb32-16"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb32-17"><a href="#cb32-17"></a>        <span class="co">// get top-left element</span></span>
<span id="cb32-18"><a href="#cb32-18"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb32-19"><a href="#cb32-19"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">` &lt;div id="health-container"&gt;</span></span>
<span id="cb32-20"><a href="#cb32-20"></a><span class="vs">                               &lt;div id="health-bar"&gt;</span></span>
<span id="cb32-21"><a href="#cb32-21"></a><span class="vs">                                  &lt;div id="health-fill"&gt;&lt;/div&gt;</span></span>
<span id="cb32-22"><a href="#cb32-22"></a><span class="vs">                                &lt;/div&gt;</span></span>
<span id="cb32-23"><a href="#cb32-23"></a><span class="vs">                                &lt;span id="health-text"&gt;100/100&lt;/span&gt;</span></span>
<span id="cb32-24"><a href="#cb32-24"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb32-25"><a href="#cb32-25"></a></span>
<span id="cb32-26"><a href="#cb32-26"></a>        <span class="co">// get top-right element</span></span>
<span id="cb32-27"><a href="#cb32-27"></a>        <span class="kw">let</span> topRight <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-right"</span>)</span>
<span id="cb32-28"><a href="#cb32-28"></a>        topRight<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;div id="score-container"&gt;</span></span>
<span id="cb32-29"><a href="#cb32-29"></a><span class="vs">                                  &lt;p&gt; SCORE: &lt;span id="score-display"&gt;0&lt;/span&gt; &lt;/p&gt;</span></span>
<span id="cb32-30"><a href="#cb32-30"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb32-31"><a href="#cb32-31"></a></span>
<span id="cb32-32"><a href="#cb32-32"></a>    }<span class="op">,</span></span>
<span id="cb32-33"><a href="#cb32-33"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb32-34"><a href="#cb32-34"></a>        <span class="co">// clear the top left and top right displays</span></span>
<span id="cb32-35"><a href="#cb32-35"></a>        <span class="co">// get top-left element</span></span>
<span id="cb32-36"><a href="#cb32-36"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb32-37"><a href="#cb32-37"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb32-38"><a href="#cb32-38"></a></span>
<span id="cb32-39"><a href="#cb32-39"></a>        <span class="co">// get top-right element</span></span>
<span id="cb32-40"><a href="#cb32-40"></a>        <span class="kw">let</span> topRight <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-right"</span>)</span>
<span id="cb32-41"><a href="#cb32-41"></a>        topRight<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb32-42"><a href="#cb32-42"></a>    }</span>
<span id="cb32-43"><a href="#cb32-43"></a>}<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Setting <code>innerHTML</code> to an empty string (<code>""</code>) removes all content from those divs, leaving them blank. This cleanup is important because it provides visual clarity so participants aren’t confused by game elements appearing during non-game phases. It also creates clean transitions where each phase of your experiment starts with a fresh display, prevents errors where subsequent code might accidentally try to update elements that should no longer be visible, and gives the experiment a polished and professional presentation.</p>
<p>When working with dynamic display elements, add elements only when needed rather than showing game interfaces during instructions or debriefing. Always clean up by removing elements when a timeline finishes to prevent clutter. Consider resetting game variables like score and health in on_timeline_start if you’re running multiple blocks. Finally, test your transitions to verify that elements appear and disappear at the right times.</p>
<p>This pattern of adding and removing elements gives you complete control over your experiment’s visual presentation, allowing you to create distinct phases that feel appropriate for each stage of the participant’s experience.</p>
</section>
<section id="full-example" class="level4" data-number="25.2.6.3">
<h4 data-number="25.2.6.3" class="anchored" data-anchor-id="full-example"><span class="header-section-number">25.2.6.3</span> Full Example</h4>
<p>Here’s the full example code that starts with the clear display, adds the health bar and score indicator for the flanker trials, then removes them at the end:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb33-1"><a href="#cb33-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb33-4"><a href="#cb33-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb33-5"><a href="#cb33-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb33-6"><a href="#cb33-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-7"><a href="#cb33-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb33-8"><a href="#cb33-8"></a>    </span>
<span id="cb33-9"><a href="#cb33-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb33-10"><a href="#cb33-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-11"><a href="#cb33-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-12"><a href="#cb33-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-13"><a href="#cb33-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-14"><a href="#cb33-14"></a></span>
<span id="cb33-15"><a href="#cb33-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb33-16"><a href="#cb33-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb33-17"><a href="#cb33-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb33-18"><a href="#cb33-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb33-19"><a href="#cb33-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb33-20"><a href="#cb33-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb33-21"><a href="#cb33-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>  </span>
<span id="cb33-22"><a href="#cb33-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-container"</span><span class="dt">&gt;</span></span>
<span id="cb33-23"><a href="#cb33-23"></a>        <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HEALTH<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb33-24"><a href="#cb33-24"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-bar"</span><span class="dt">&gt;</span></span>
<span id="cb33-25"><a href="#cb33-25"></a>            <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-fill"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-26"><a href="#cb33-26"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-27"><a href="#cb33-27"></a>          <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-text"</span><span class="dt">&gt;</span>100/100<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb33-28"><a href="#cb33-28"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-29"><a href="#cb33-29"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-30"><a href="#cb33-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-31"><a href="#cb33-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb33-32"><a href="#cb33-32"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb33-33"><a href="#cb33-33"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-34"><a href="#cb33-34"></a>    </span>
<span id="cb33-35"><a href="#cb33-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-36"><a href="#cb33-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-37"><a href="#cb33-37"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-38"><a href="#cb33-38"></a>    </span>
<span id="cb33-39"><a href="#cb33-39"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-40"><a href="#cb33-40"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-41"><a href="#cb33-41"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-42"><a href="#cb33-42"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-43"><a href="#cb33-43"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-44"><a href="#cb33-44"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb33-45"><a href="#cb33-45"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb33-46"><a href="#cb33-46"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb33-47"><a href="#cb33-47"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb33-48"><a href="#cb33-48"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb34-1"><a href="#cb34-1"></a> </span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="co">// ============================================</span></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="co">// ============================================</span></span>
<span id="cb34-5"><a href="#cb34-5"></a></span>
<span id="cb34-6"><a href="#cb34-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb34-7"><a href="#cb34-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb34-8"><a href="#cb34-8"></a>                ) </span>
<span id="cb34-9"><a href="#cb34-9"></a></span>
<span id="cb34-10"><a href="#cb34-10"></a><span class="co">// ============================================</span></span>
<span id="cb34-11"><a href="#cb34-11"></a><span class="co">// Trackers</span></span>
<span id="cb34-12"><a href="#cb34-12"></a><span class="co">// ============================================</span></span>
<span id="cb34-13"><a href="#cb34-13"></a></span>
<span id="cb34-14"><a href="#cb34-14"></a><span class="co">// current score</span></span>
<span id="cb34-15"><a href="#cb34-15"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb34-16"><a href="#cb34-16"></a></span>
<span id="cb34-17"><a href="#cb34-17"></a><span class="co">// current health</span></span>
<span id="cb34-18"><a href="#cb34-18"></a><span class="kw">let</span> health <span class="op">=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb34-19"><a href="#cb34-19"></a></span>
<span id="cb34-20"><a href="#cb34-20"></a></span>
<span id="cb34-21"><a href="#cb34-21"></a><span class="co">// ============================================</span></span>
<span id="cb34-22"><a href="#cb34-22"></a><span class="co">// Welcome</span></span>
<span id="cb34-23"><a href="#cb34-23"></a><span class="co">// ============================================</span></span>
<span id="cb34-24"><a href="#cb34-24"></a></span>
<span id="cb34-25"><a href="#cb34-25"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb34-26"><a href="#cb34-26"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb34-27"><a href="#cb34-27"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb34-28"><a href="#cb34-28"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb34-29"><a href="#cb34-29"></a>}</span>
<span id="cb34-30"><a href="#cb34-30"></a></span>
<span id="cb34-31"><a href="#cb34-31"></a><span class="co">// ============================================</span></span>
<span id="cb34-32"><a href="#cb34-32"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb34-33"><a href="#cb34-33"></a><span class="co">// ============================================</span></span>
<span id="cb34-34"><a href="#cb34-34"></a></span>
<span id="cb34-35"><a href="#cb34-35"></a><span class="co">// fixation</span></span>
<span id="cb34-36"><a href="#cb34-36"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb34-37"><a href="#cb34-37"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb34-38"><a href="#cb34-38"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb34-39"><a href="#cb34-39"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb34-40"><a href="#cb34-40"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb34-41"><a href="#cb34-41"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb34-42"><a href="#cb34-42"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb34-43"><a href="#cb34-43"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb34-44"><a href="#cb34-44"></a>    }</span>
<span id="cb34-45"><a href="#cb34-45"></a>}</span>
<span id="cb34-46"><a href="#cb34-46"></a></span>
<span id="cb34-47"><a href="#cb34-47"></a><span class="co">// stimulus</span></span>
<span id="cb34-48"><a href="#cb34-48"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb34-49"><a href="#cb34-49"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb34-50"><a href="#cb34-50"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb34-51"><a href="#cb34-51"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb34-52"><a href="#cb34-52"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb34-53"><a href="#cb34-53"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb34-54"><a href="#cb34-54"></a></span>
<span id="cb34-55"><a href="#cb34-55"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb34-56"><a href="#cb34-56"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb34-57"><a href="#cb34-57"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb34-58"><a href="#cb34-58"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb34-59"><a href="#cb34-59"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb34-60"><a href="#cb34-60"></a></span>
<span id="cb34-61"><a href="#cb34-61"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb34-62"><a href="#cb34-62"></a>    }<span class="op">,</span></span>
<span id="cb34-63"><a href="#cb34-63"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb34-64"><a href="#cb34-64"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb34-65"><a href="#cb34-65"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb34-66"><a href="#cb34-66"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb34-67"><a href="#cb34-67"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb34-68"><a href="#cb34-68"></a>    }<span class="op">,</span></span>
<span id="cb34-69"><a href="#cb34-69"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb34-70"><a href="#cb34-70"></a>        <span class="co">// store accuracy</span></span>
<span id="cb34-71"><a href="#cb34-71"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb34-72"><a href="#cb34-72"></a></span>
<span id="cb34-73"><a href="#cb34-73"></a>        <span class="co">// get score element</span></span>
<span id="cb34-74"><a href="#cb34-74"></a>        <span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score-display"</span>)</span>
<span id="cb34-75"><a href="#cb34-75"></a></span>
<span id="cb34-76"><a href="#cb34-76"></a>        <span class="co">// only add score on correct response</span></span>
<span id="cb34-77"><a href="#cb34-77"></a>        <span class="cf">if</span>(data<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb34-78"><a href="#cb34-78"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">10</span></span>
<span id="cb34-79"><a href="#cb34-79"></a>        } </span>
<span id="cb34-80"><a href="#cb34-80"></a></span>
<span id="cb34-81"><a href="#cb34-81"></a>        <span class="co">// update score element</span></span>
<span id="cb34-82"><a href="#cb34-82"></a>        scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> score</span>
<span id="cb34-83"><a href="#cb34-83"></a></span>
<span id="cb34-84"><a href="#cb34-84"></a>                </span>
<span id="cb34-85"><a href="#cb34-85"></a>        <span class="co">// Select the health display elements</span></span>
<span id="cb34-86"><a href="#cb34-86"></a>        <span class="kw">let</span> healthFill <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-fill"</span>)<span class="op">;</span></span>
<span id="cb34-87"><a href="#cb34-87"></a>        <span class="kw">let</span> healthText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-text"</span>)<span class="op">;</span></span>
<span id="cb34-88"><a href="#cb34-88"></a></span>
<span id="cb34-89"><a href="#cb34-89"></a>        <span class="co">// only remove health if incorrect</span></span>
<span id="cb34-90"><a href="#cb34-90"></a>        <span class="cf">if</span>(<span class="op">!</span>data<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb34-91"><a href="#cb34-91"></a>            health <span class="op">=</span> health <span class="op">-</span> <span class="dv">25</span></span>
<span id="cb34-92"><a href="#cb34-92"></a></span>
<span id="cb34-93"><a href="#cb34-93"></a>            <span class="cf">if</span>(health <span class="op">&lt;</span> <span class="dv">0</span>){</span>
<span id="cb34-94"><a href="#cb34-94"></a>               health <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb34-95"><a href="#cb34-95"></a>            }</span>
<span id="cb34-96"><a href="#cb34-96"></a>            </span>
<span id="cb34-97"><a href="#cb34-97"></a>            <span class="co">// Update the visual bar</span></span>
<span id="cb34-98"><a href="#cb34-98"></a>            healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"%"</span><span class="op">;</span></span>
<span id="cb34-99"><a href="#cb34-99"></a>          </span>
<span id="cb34-100"><a href="#cb34-100"></a>            <span class="co">// Update the text display</span></span>
<span id="cb34-101"><a href="#cb34-101"></a>            healthText<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"/100"</span></span>
<span id="cb34-102"><a href="#cb34-102"></a>          </span>
<span id="cb34-103"><a href="#cb34-103"></a>            <span class="co">// Change color based on health level</span></span>
<span id="cb34-104"><a href="#cb34-104"></a>            <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">60</span>) {</span>
<span id="cb34-105"><a href="#cb34-105"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #2ecc71, #27ae60)"</span><span class="op">;</span></span>
<span id="cb34-106"><a href="#cb34-106"></a>            } <span class="cf">else</span> <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">30</span>) {</span>
<span id="cb34-107"><a href="#cb34-107"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #f39c12, #e67e22)"</span><span class="op">;</span></span>
<span id="cb34-108"><a href="#cb34-108"></a>            } <span class="cf">else</span> {</span>
<span id="cb34-109"><a href="#cb34-109"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #e74c3c, #c0392b)"</span><span class="op">;</span></span>
<span id="cb34-110"><a href="#cb34-110"></a>            }</span>
<span id="cb34-111"><a href="#cb34-111"></a></span>
<span id="cb34-112"><a href="#cb34-112"></a>        }     </span>
<span id="cb34-113"><a href="#cb34-113"></a></span>
<span id="cb34-114"><a href="#cb34-114"></a>        </span>
<span id="cb34-115"><a href="#cb34-115"></a></span>
<span id="cb34-116"><a href="#cb34-116"></a>    }</span>
<span id="cb34-117"><a href="#cb34-117"></a>}</span>
<span id="cb34-118"><a href="#cb34-118"></a></span>
<span id="cb34-119"><a href="#cb34-119"></a><span class="co">// exp timeline</span></span>
<span id="cb34-120"><a href="#cb34-120"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb34-121"><a href="#cb34-121"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb34-122"><a href="#cb34-122"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb34-123"><a href="#cb34-123"></a>        exp_stimulus</span>
<span id="cb34-124"><a href="#cb34-124"></a>    ]<span class="op">,</span></span>
<span id="cb34-125"><a href="#cb34-125"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb34-126"><a href="#cb34-126"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb34-127"><a href="#cb34-127"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb34-128"><a href="#cb34-128"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb34-129"><a href="#cb34-129"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb34-130"><a href="#cb34-130"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb34-131"><a href="#cb34-131"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb34-132"><a href="#cb34-132"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb34-133"><a href="#cb34-133"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb34-134"><a href="#cb34-134"></a>    ]<span class="op">,</span></span>
<span id="cb34-135"><a href="#cb34-135"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb34-136"><a href="#cb34-136"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb34-137"><a href="#cb34-137"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb34-138"><a href="#cb34-138"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb34-139"><a href="#cb34-139"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb34-140"><a href="#cb34-140"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb34-141"><a href="#cb34-141"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb34-142"><a href="#cb34-142"></a>    }<span class="op">,</span></span>
<span id="cb34-143"><a href="#cb34-143"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb34-144"><a href="#cb34-144"></a>        <span class="co">// get top-left element</span></span>
<span id="cb34-145"><a href="#cb34-145"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb34-146"><a href="#cb34-146"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">` &lt;div id="health-container"&gt;</span></span>
<span id="cb34-147"><a href="#cb34-147"></a><span class="vs">                               &lt;div id="health-bar"&gt;</span></span>
<span id="cb34-148"><a href="#cb34-148"></a><span class="vs">                                  &lt;div id="health-fill"&gt;&lt;/div&gt;</span></span>
<span id="cb34-149"><a href="#cb34-149"></a><span class="vs">                                &lt;/div&gt;</span></span>
<span id="cb34-150"><a href="#cb34-150"></a><span class="vs">                                &lt;span id="health-text"&gt;100/100&lt;/span&gt;</span></span>
<span id="cb34-151"><a href="#cb34-151"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb34-152"><a href="#cb34-152"></a></span>
<span id="cb34-153"><a href="#cb34-153"></a>        <span class="co">// get top-right element</span></span>
<span id="cb34-154"><a href="#cb34-154"></a>        <span class="kw">let</span> topRight <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-right"</span>)</span>
<span id="cb34-155"><a href="#cb34-155"></a>        topRight<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;div id="score-container"&gt;</span></span>
<span id="cb34-156"><a href="#cb34-156"></a><span class="vs">                                  &lt;p&gt; SCORE: &lt;span id="score-display"&gt;0&lt;/span&gt; &lt;/p&gt;</span></span>
<span id="cb34-157"><a href="#cb34-157"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb34-158"><a href="#cb34-158"></a></span>
<span id="cb34-159"><a href="#cb34-159"></a>    }<span class="op">,</span></span>
<span id="cb34-160"><a href="#cb34-160"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb34-161"><a href="#cb34-161"></a>        <span class="co">// clear the top left and top right displays</span></span>
<span id="cb34-162"><a href="#cb34-162"></a>        <span class="co">// get top-left element</span></span>
<span id="cb34-163"><a href="#cb34-163"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb34-164"><a href="#cb34-164"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb34-165"><a href="#cb34-165"></a></span>
<span id="cb34-166"><a href="#cb34-166"></a>        <span class="co">// get top-right element</span></span>
<span id="cb34-167"><a href="#cb34-167"></a>        <span class="kw">let</span> topRight <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-right"</span>)</span>
<span id="cb34-168"><a href="#cb34-168"></a>        topRight<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb34-169"><a href="#cb34-169"></a>    }</span>
<span id="cb34-170"><a href="#cb34-170"></a>}<span class="op">;</span></span>
<span id="cb34-171"><a href="#cb34-171"></a></span>
<span id="cb34-172"><a href="#cb34-172"></a></span>
<span id="cb34-173"><a href="#cb34-173"></a><span class="co">// ============================================</span></span>
<span id="cb34-174"><a href="#cb34-174"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb34-175"><a href="#cb34-175"></a><span class="co">// ============================================</span></span>
<span id="cb34-176"><a href="#cb34-176"></a></span>
<span id="cb34-177"><a href="#cb34-177"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb34-178"><a href="#cb34-178"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb34-179"><a href="#cb34-179"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb34-180"><a href="#cb34-180"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb34-181"><a href="#cb34-181"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb34-182"><a href="#cb34-182"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb34-183"><a href="#cb34-183"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb34-184"><a href="#cb34-184"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb34-185"><a href="#cb34-185"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb34-186"><a href="#cb34-186"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb34-187"><a href="#cb34-187"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb34-188"><a href="#cb34-188"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb34-189"><a href="#cb34-189"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb34-190"><a href="#cb34-190"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb34-191"><a href="#cb34-191"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb34-192"><a href="#cb34-192"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb34-193"><a href="#cb34-193"></a>    })<span class="op">;</span></span>
<span id="cb34-194"><a href="#cb34-194"></a>  }<span class="op">,</span></span>
<span id="cb34-195"><a href="#cb34-195"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb34-196"><a href="#cb34-196"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb34-197"><a href="#cb34-197"></a>  }</span>
<span id="cb34-198"><a href="#cb34-198"></a>}<span class="op">;</span></span>
<span id="cb34-199"><a href="#cb34-199"></a></span>
<span id="cb34-200"><a href="#cb34-200"></a><span class="co">// ============================================</span></span>
<span id="cb34-201"><a href="#cb34-201"></a><span class="co">// Run jsPsych </span></span>
<span id="cb34-202"><a href="#cb34-202"></a><span class="co">// ============================================</span></span>
<span id="cb34-203"><a href="#cb34-203"></a></span>
<span id="cb34-204"><a href="#cb34-204"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb34-205"><a href="#cb34-205"></a>  welcome<span class="op">,</span></span>
<span id="cb34-206"><a href="#cb34-206"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb34-207"><a href="#cb34-207"></a>  saveData</span>
<span id="cb34-208"><a href="#cb34-208"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb35-1"><a href="#cb35-1"></a> body {</span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb35-6"><a href="#cb35-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb35-7"><a href="#cb35-7"></a>}</span>
<span id="cb35-8"><a href="#cb35-8"></a></span>
<span id="cb35-9"><a href="#cb35-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb35-10"><a href="#cb35-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-12"><a href="#cb35-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-13"><a href="#cb35-13"></a>}</span>
<span id="cb35-14"><a href="#cb35-14"></a></span>
<span id="cb35-15"><a href="#cb35-15"></a><span class="fu">.grid</span> {</span>
<span id="cb35-16"><a href="#cb35-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb35-17"><a href="#cb35-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb35-18"><a href="#cb35-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb35-19"><a href="#cb35-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-20"><a href="#cb35-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-21"><a href="#cb35-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb35-22"><a href="#cb35-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb35-23"><a href="#cb35-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb35-24"><a href="#cb35-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb35-25"><a href="#cb35-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb35-26"><a href="#cb35-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb35-27"><a href="#cb35-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb35-28"><a href="#cb35-28"></a>   </span>
<span id="cb35-29"><a href="#cb35-29"></a>}</span>
<span id="cb35-30"><a href="#cb35-30"></a></span>
<span id="cb35-31"><a href="#cb35-31"></a></span>
<span id="cb35-32"><a href="#cb35-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb35-33"><a href="#cb35-33"></a><span class="fu">.top-left</span> {</span>
<span id="cb35-34"><a href="#cb35-34"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb35-35"><a href="#cb35-35"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-36"><a href="#cb35-36"></a>}</span>
<span id="cb35-37"><a href="#cb35-37"></a></span>
<span id="cb35-38"><a href="#cb35-38"></a><span class="fu">.top-right</span> {</span>
<span id="cb35-39"><a href="#cb35-39"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb35-40"><a href="#cb35-40"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-41"><a href="#cb35-41"></a>}</span>
<span id="cb35-42"><a href="#cb35-42"></a></span>
<span id="cb35-43"><a href="#cb35-43"></a><span class="fu">.top</span> {</span>
<span id="cb35-44"><a href="#cb35-44"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb35-45"><a href="#cb35-45"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-46"><a href="#cb35-46"></a>}</span>
<span id="cb35-47"><a href="#cb35-47"></a></span>
<span id="cb35-48"><a href="#cb35-48"></a><span class="fu">.center</span> {</span>
<span id="cb35-49"><a href="#cb35-49"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-50"><a href="#cb35-50"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-51"><a href="#cb35-51"></a>}</span>
<span id="cb35-52"><a href="#cb35-52"></a></span>
<span id="cb35-53"><a href="#cb35-53"></a><span class="fu">.left</span> {</span>
<span id="cb35-54"><a href="#cb35-54"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb35-55"><a href="#cb35-55"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-56"><a href="#cb35-56"></a>}</span>
<span id="cb35-57"><a href="#cb35-57"></a></span>
<span id="cb35-58"><a href="#cb35-58"></a><span class="fu">.right</span> {</span>
<span id="cb35-59"><a href="#cb35-59"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb35-60"><a href="#cb35-60"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-61"><a href="#cb35-61"></a>}</span>
<span id="cb35-62"><a href="#cb35-62"></a></span>
<span id="cb35-63"><a href="#cb35-63"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb35-64"><a href="#cb35-64"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb35-65"><a href="#cb35-65"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-66"><a href="#cb35-66"></a>}</span>
<span id="cb35-67"><a href="#cb35-67"></a></span>
<span id="cb35-68"><a href="#cb35-68"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb35-69"><a href="#cb35-69"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb35-70"><a href="#cb35-70"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-71"><a href="#cb35-71"></a>}</span>
<span id="cb35-72"><a href="#cb35-72"></a></span>
<span id="cb35-73"><a href="#cb35-73"></a><span class="fu">.bottom</span> {</span>
<span id="cb35-74"><a href="#cb35-74"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb35-75"><a href="#cb35-75"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb35-76"><a href="#cb35-76"></a>}</span>
<span id="cb35-77"><a href="#cb35-77"></a></span>
<span id="cb35-78"><a href="#cb35-78"></a><span class="pp">#score-container</span> {</span>
<span id="cb35-79"><a href="#cb35-79"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb35-80"><a href="#cb35-80"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-81"><a href="#cb35-81"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-82"><a href="#cb35-82"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-83"><a href="#cb35-83"></a>}</span>
<span id="cb35-84"><a href="#cb35-84"></a></span>
<span id="cb35-85"><a href="#cb35-85"></a><span class="pp">#health-container</span> {</span>
<span id="cb35-86"><a href="#cb35-86"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-87"><a href="#cb35-87"></a>}</span>
<span id="cb35-88"><a href="#cb35-88"></a></span>
<span id="cb35-89"><a href="#cb35-89"></a><span class="fu">.label</span> {</span>
<span id="cb35-90"><a href="#cb35-90"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-91"><a href="#cb35-91"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb35-92"><a href="#cb35-92"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-93"><a href="#cb35-93"></a>}</span>
<span id="cb35-94"><a href="#cb35-94"></a></span>
<span id="cb35-95"><a href="#cb35-95"></a><span class="pp">#health-bar</span> {</span>
<span id="cb35-96"><a href="#cb35-96"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb35-97"><a href="#cb35-97"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-98"><a href="#cb35-98"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb35-99"><a href="#cb35-99"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb35-100"><a href="#cb35-100"></a>}</span>
<span id="cb35-101"><a href="#cb35-101"></a></span>
<span id="cb35-102"><a href="#cb35-102"></a><span class="pp">#health-fill</span> {</span>
<span id="cb35-103"><a href="#cb35-103"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb35-104"><a href="#cb35-104"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb35-105"><a href="#cb35-105"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#e74c3c</span><span class="op">;</span></span>
<span id="cb35-106"><a href="#cb35-106"></a>}</span>
<span id="cb35-107"><a href="#cb35-107"></a></span>
<span id="cb35-108"><a href="#cb35-108"></a><span class="pp">#health-text</span> {</span>
<span id="cb35-109"><a href="#cb35-109"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb35-110"><a href="#cb35-110"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb35-111"><a href="#cb35-111"></a>}</span>
<span id="cb35-112"><a href="#cb35-112"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div id="demo-container-game-display-ex-4" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-game-display-ex-4" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n#score-container {\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n}\n\n#health-container {\n  padding: 8px;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n#health-bar {\n  width: 100%;\n  height: 10px;\n  background-color: #ddd;\n  border: 2px solid #333;\n}\n\n#health-fill {\n  height: 100%;\n  width: 100%;\n  background-color: #e74c3c;\n}\n\n#health-text {\n  font-size: 14px;\n  text-align: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>  \n    </div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// current score\nlet score = 0\n\n// current health\nlet health = 100;\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n\n        // get score element\n        let scoreElement = document.querySelector(&quot;#score-display&quot;)\n\n        // only add score on correct response\n        if(data.correct){\n          score = score + 10\n        } \n\n        // update score element\n        scoreElement.textContent = score\n\n                \n        // Select the health display elements\n        let healthFill = document.querySelector(&quot;#health-fill&quot;);\n        let healthText = document.querySelector(&quot;#health-text&quot;);\n\n        // only remove health if incorrect\n        if(!data.correct){\n            health = health - 25\n\n            if(health < 0){\n               health = 0\n            }\n            \n            // Update the visual bar\n            healthFill.style.width = health + &quot;%&quot;;\n          \n            // Update the text display\n            healthText.textContent = health + &quot;/100&quot;\n          \n            // Change color based on health level\n            if (health > 60) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;\n            } else if (health > 30) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;\n            } else {\n              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;\n            }\n\n        }     \n\n        \n\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        // get top-left element\n        let topLeft = document.querySelector(&quot;.top-left&quot;)\n        topLeft.innerHTML = ` <div id=&quot;health-container&quot;>\n                               <div id=&quot;health-bar&quot;>\n                                  <div id=&quot;health-fill&quot;></div>\n                                </div>\n                                <span id=&quot;health-text&quot;>100/100</span>\n                              </div>`\n\n        // get top-right element\n        let topRight = document.querySelector(&quot;.top-right&quot;)\n        topRight.innerHTML = `<div id=&quot;score-container&quot;>\n                                  <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>\n                              </div>`\n\n    },\n    on_timeline_finish: function(){\n        // clear the top left and top right displays\n        // get top-left element\n        let topLeft = document.querySelector(&quot;.top-left&quot;)\n        topLeft.innerHTML = &quot;&quot;\n\n        // get top-right element\n        let topRight = document.querySelector(&quot;.top-right&quot;)\n        topRight.innerHTML = &quot;&quot;\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-game-display-ex-4');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-game-display-ex-4" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}


/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

#score-container {
  display: flex;
  text-align: center;
  align-items: center;
  justify-content: center;
}

#health-container {
  padding: 8px;
}

.label {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 5px;
}

#health-bar {
  width: 100%;
  height: 10px;
  background-color: #ddd;
  border: 2px solid #333;
}

#health-fill {
  height: 100%;
  width: 100%;
  background-color: #e74c3c;
}

#health-text {
  font-size: 14px;
  text-align: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>  
    </div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// current score
let score = 0

// current health
let health = 100;


// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)

        // get score element
        let scoreElement = document.querySelector(&quot;#score-display&quot;)

        // only add score on correct response
        if(data.correct){
          score = score + 10
        } 

        // update score element
        scoreElement.textContent = score

                
        // Select the health display elements
        let healthFill = document.querySelector(&quot;#health-fill&quot;);
        let healthText = document.querySelector(&quot;#health-text&quot;);

        // only remove health if incorrect
        if(!data.correct){
            health = health - 25

            if(health < 0){
               health = 0
            }
            
            // Update the visual bar
            healthFill.style.width = health + &quot;%&quot;;
          
            // Update the text display
            healthText.textContent = health + &quot;/100&quot;
          
            // Change color based on health level
            if (health > 60) {
              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;
            } else if (health > 30) {
              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;
            } else {
              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;
            }

        }     

        

    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        // get top-left element
        let topLeft = document.querySelector(&quot;.top-left&quot;)
        topLeft.innerHTML = ` <div id=&quot;health-container&quot;>
                               <div id=&quot;health-bar&quot;>
                                  <div id=&quot;health-fill&quot;></div>
                                </div>
                                <span id=&quot;health-text&quot;>100/100</span>
                              </div>`

        // get top-right element
        let topRight = document.querySelector(&quot;.top-right&quot;)
        topRight.innerHTML = `<div id=&quot;score-container&quot;>
                                  <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>
                              </div>`

    },
    on_timeline_finish: function(){
        // clear the top left and top right displays
        // get top-left element
        let topLeft = document.querySelector(&quot;.top-left&quot;)
        topLeft.innerHTML = &quot;&quot;

        // get top-right element
        let topRight = document.querySelector(&quot;.top-right&quot;)
        topRight.innerHTML = &quot;&quot;
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-game-display-ex-4&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-game-display-ex-4&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>You’ll notice in this example, the starting HTML does not contain the health bar or the score indicator. The top-left and top-right html elements are empty. Within the <code>on_timeline_start</code> function, I’ve inserted the health and score HTML into the <code>innerHTML</code> property of the divs. By doing so, I write over anything that is inside <code>.top-left</code> and <code>.top-right</code> with the HTML I’ve provided.</p>
<p>Within the <code>on_timeline_finish</code> function I’ve replaced the <code>innerHTML</code> with <code>""</code>, which clears the HTML contents of those DIVs (it is the same as saying “replace the inner HTML with nothing).</p>
<p>For elements that you do not want to persist across trials/phases, it is good practice to clear them at the end of the timeline.</p>
</section>
</section>
</section>
<section id="animating-css-properties" class="level2" data-number="25.3">
<h2 data-number="25.3" class="anchored" data-anchor-id="animating-css-properties"><span class="header-section-number">25.3</span> Animating CSS Properties</h2>
<p>Animations can transform a sterile cognitive task into an engaging game-like experience. However, not all animations serve the same purpose in experimental design. We can distinguish between two types: functional animations and feedback animations.</p>
<p>Functional animations are integral to the experimental paradigm itself. These animations define the task structure and are necessary for the experiment to work. For example, in a multiple object tracking (MOT) task, circles must move smoothly across the screen while participants track target objects. The animation isn’t decorative—it is the task. Similarly, in a visual search task where items rotate or change position, these movements are part of the experimental manipulation you’re measuring.</p>
<p>Feedback animations, by contrast, enhance engagement without changing the core task. These animations provide visual flourishes that signal events like correct responses, point gains, or level completion. An explosion effect after a correct answer, a coin that flies toward a score counter, or text that briefly pulses and fades. These animations make the experience more game-like without altering what you’re measuring. While not strictly necessary for data collection, feedback animations can significantly improve participant motivation and reduce dropout rates.</p>
<p>This section focuses primarily on feedback animations. Functional animations often require complex JavaScript libraries or custom physics engines that are beyond the scope of this chapter. Feedback animations, however, can be implemented with straightforward CSS and basic JavaScript, making them accessible tools for enhancing your experiments.</p>
<p>CSS animations provide a simple way to create smooth visual feedback without complex programming. By defining how properties change over time, you can create effects like fading text, sliding elements, or pulsing colors that respond to participant actions.</p>
<section id="css-transitions" class="level3" data-number="25.3.1">
<h3 data-number="25.3.1" class="anchored" data-anchor-id="css-transitions"><span class="header-section-number">25.3.1</span> CSS Transitions</h3>
<p>The simplest form of animation uses CSS transitions, which smoothly interpolate between two states. You can attach a <code>transition</code> to a particular CSS property, and when that property changes, it smoothly transitions between the two points. For example, I can set the <code>opacity</code> property to <code>ease</code> between the changes and take <code>0.5s</code> (seconds) to change between them like this:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">.transition-box</span> {</span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="co">/* Other CSS */</span></span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">opacity 0.5</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, if I set the <code>opacity</code> to 1, then change it to 0, it will animate the transition between them. Hover over or click the boxes to see different transition effects, including opacity.</p>
<p>First, see what happens when there are no transitions set:</p>
<style>
.transition-demo {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin: 20px 0;
}

.transition-box {
  width: 100px;
  height: 100px;
  background-color: #3498db;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  cursor: pointer;
  border-radius: 8px;
}


.box-opacity:hover {
  opacity: 0.3;
}

.box-transform:hover {
  transform: scale(1.3);
}


.box-color:hover {
  background-color: #e74c3c;
}



.box-multiple:hover {
  transform: rotate(45deg) scale(1.2);
  background-color: #2ecc71;
  border-radius: 50%;
}
</style>

<div class="transition-demo">
  <div class="transition-box box-opacity">Fade</div>
  <div class="transition-box box-transform">Scale</div>
  <div class="transition-box box-color">Color</div>
  <div class="transition-box box-multiple">Multi</div>
</div>
<p>Then, see what happens when we set the transition animation for each change:</p>
<style>
.transition-demo-2 {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin: 20px 0;
}

.transition-box-2 {
  width: 100px;
  height: 100px;
  background-color: #3498db;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  cursor: pointer;
  border-radius: 8px;
}

.box-opacity-2 {
  transition: opacity 0.5s ease;
}

.box-opacity-2:hover {
  opacity: 0.3;
}

.box-transform-2 {
  transition: transform 0.3s ease;
}

.box-transform-2:hover {
  transform: scale(1.3);
}

.box-color-2 {
  transition: background-color 0.4s ease;
}

.box-color-2:hover {
  background-color: #e74c3c;
}

.box-multiple-2 {
  transition: transform 0.3s ease, 
              background-color 0.3s ease,
              border-radius 0.3s ease;
}

.box-multiple-2:hover {
  transform: rotate(45deg) scale(1.2);
  background-color: #2ecc71;
  border-radius: 50%;
}
</style>

<div class="transition-demo-2">
  <div class="transition-box-2 box-opacity-2">Fade</div>
  <div class="transition-box-2 box-transform-2">Scale</div>
  <div class="transition-box-2 box-color-2">Color</div>
  <div class="transition-box-2 box-multiple-2">Multi</div>
</div>
<p>Transitions work on any CSS property that has numeric values. Here are some commonly animated properties:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb37-1"><a href="#cb37-1"></a><span class="co">/* When the element's state changes, it animates smoothly */</span></span>
<span id="cb37-2"><a href="#cb37-2"></a></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="co">/* Animate Opacity */</span></span>
<span id="cb37-4"><a href="#cb37-4"></a><span class="fu">.animated-fade</span> {</span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.3</span><span class="op">;</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">opacity 0.5</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb37-7"><a href="#cb37-7"></a>}</span>
<span id="cb37-8"><a href="#cb37-8"></a></span>
<span id="cb37-9"><a href="#cb37-9"></a><span class="co">/* Animate Movement */</span></span>
<span id="cb37-10"><a href="#cb37-10"></a><span class="fu">.animated-move</span> {</span>
<span id="cb37-11"><a href="#cb37-11"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">100</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-12"><a href="#cb37-12"></a>}</span>
<span id="cb37-13"><a href="#cb37-13"></a></span>
<span id="cb37-14"><a href="#cb37-14"></a><span class="co">/* Animate Color Changes */</span></span>
<span id="cb37-15"><a href="#cb37-15"></a><span class="fu">.animated-highlighted</span> {</span>
<span id="cb37-16"><a href="#cb37-16"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">yellow</span><span class="op">;</span></span>
<span id="cb37-17"><a href="#cb37-17"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">background-color 0.4</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb37-18"><a href="#cb37-18"></a>}</span>
<span id="cb37-19"><a href="#cb37-19"></a></span>
<span id="cb37-20"><a href="#cb37-20"></a><span class="co">/* Animate Multiple Properties */</span></span>
<span id="cb37-21"><a href="#cb37-21"></a><span class="fu">.animated-multiple</span> {</span>
<span id="cb37-22"><a href="#cb37-22"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">opacity 0.5</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">,</span></span>
<span id="cb37-23"><a href="#cb37-23"></a>              <span class="dv">transform 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">,</span></span>
<span id="cb37-24"><a href="#cb37-24"></a>              <span class="dv">background-color 0.4</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb37-25"><a href="#cb37-25"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The transition syntax follows the pattern: <code>property duration timing-function</code>. Common timing functions include <code>ease</code> (slow start and end), <code>linear</code> (constant speed), <code>ease-in</code> (slow start), and <code>ease-out</code> (slow end).</p>
<p>Of course, in order for the transition animation to occur, you need to change the CSS property. In the above examples, we set the animations to trigger when you hover over them. For each box, we set a property, <code>opacity: 1</code> with a transition animation <code>transition: opacity 0.5s ease;</code>, then we change the property when someone hovers over them. In the opacity case, we change it to <code>0.3</code> an and when you’re not hovering it goes back to <code>1</code>.</p>
<p>Here is the CSS for those examples:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb38-1"><a href="#cb38-1"></a><span class="co">/* Animate changes to opacity */</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="fu">.box-opacity</span> {</span>
<span id="cb38-3"><a href="#cb38-3"></a>  <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="dv">transition</span>: <span class="dv">opacity 0.5</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb38-5"><a href="#cb38-5"></a>}</span>
<span id="cb38-6"><a href="#cb38-6"></a></span>
<span id="cb38-7"><a href="#cb38-7"></a><span class="fu">.box-opacity</span><span class="in">:hover</span> {</span>
<span id="cb38-8"><a href="#cb38-8"></a>  <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.3</span><span class="op">;</span></span>
<span id="cb38-9"><a href="#cb38-9"></a>}</span>
<span id="cb38-10"><a href="#cb38-10"></a></span>
<span id="cb38-11"><a href="#cb38-11"></a><span class="co">/* Animate changes to the size of the box */</span></span>
<span id="cb38-12"><a href="#cb38-12"></a><span class="fu">.box-transform</span> {</span>
<span id="cb38-13"><a href="#cb38-13"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb38-14"><a href="#cb38-14"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb38-15"><a href="#cb38-15"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">transform 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb38-16"><a href="#cb38-16"></a>}</span>
<span id="cb38-17"><a href="#cb38-17"></a></span>
<span id="cb38-18"><a href="#cb38-18"></a><span class="fu">.box-transform</span><span class="in">:hover</span> {</span>
<span id="cb38-19"><a href="#cb38-19"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1.3</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb38-20"><a href="#cb38-20"></a>}</span>
<span id="cb38-21"><a href="#cb38-21"></a></span>
<span id="cb38-22"><a href="#cb38-22"></a><span class="co">/* Animate changes to the color */</span></span>
<span id="cb38-23"><a href="#cb38-23"></a><span class="fu">.box-color</span> {</span>
<span id="cb38-24"><a href="#cb38-24"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#3498db</span><span class="op">;</span></span>
<span id="cb38-25"><a href="#cb38-25"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">background-color 0.4</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb38-26"><a href="#cb38-26"></a>}</span>
<span id="cb38-27"><a href="#cb38-27"></a></span>
<span id="cb38-28"><a href="#cb38-28"></a><span class="fu">.box-color</span><span class="in">:hover</span> {</span>
<span id="cb38-29"><a href="#cb38-29"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#e74c3c</span><span class="op">;</span></span>
<span id="cb38-30"><a href="#cb38-30"></a>}</span>
<span id="cb38-31"><a href="#cb38-31"></a></span>
<span id="cb38-32"><a href="#cb38-32"></a><span class="co">/* Animate multiple properties at once */</span></span>
<span id="cb38-33"><a href="#cb38-33"></a><span class="fu">.box-multiple</span> {</span>
<span id="cb38-34"><a href="#cb38-34"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb38-35"><a href="#cb38-35"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb38-36"><a href="#cb38-36"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb38-37"><a href="#cb38-37"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#3498db</span><span class="op">;</span></span>
<span id="cb38-38"><a href="#cb38-38"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">transform 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">,</span> </span>
<span id="cb38-39"><a href="#cb38-39"></a>              <span class="dv">background-color 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">,</span></span>
<span id="cb38-40"><a href="#cb38-40"></a>              <span class="dv">border-radius 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb38-41"><a href="#cb38-41"></a>}</span>
<span id="cb38-42"><a href="#cb38-42"></a></span>
<span id="cb38-43"><a href="#cb38-43"></a><span class="fu">.box-multiple</span><span class="in">:hover</span> {</span>
<span id="cb38-44"><a href="#cb38-44"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">45</span><span class="dt">deg</span><span class="fu">)</span> <span class="fu">scale(</span><span class="dv">1.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb38-45"><a href="#cb38-45"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#2ecc71</span><span class="op">;</span></span>
<span id="cb38-46"><a href="#cb38-46"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">50</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb38-47"><a href="#cb38-47"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In all those cases, you can see that we set some transition property for each box, defining which property we want to animate and how. Then in the <code>:hover</code> section, we change that property. When the property changes it does so with the transition.</p>
</section>
<section id="css-keyframe-animations" class="level3" data-number="25.3.2">
<h3 data-number="25.3.2" class="anchored" data-anchor-id="css-keyframe-animations"><span class="header-section-number">25.3.2</span> CSS Keyframe Animations</h3>
<p>For more complex animations that involve multiple stages, CSS <code>keyframes</code> let you define specific states at different points in time. Unlike transitions that only animate between two states (start and end), <code>keyframes</code> allow you to specify what should happen at any point during the animation.</p>
<p>Click the button to trigger different animation effects:</p>
<style>
.keyframe-demo {
  text-align: center;
  margin: 20px 0;
}

.animation-container {
  position: relative;
  width: 400px;
  height: 200px;
  background-color: #ecf0f1;
  border: 2px solid #34495e;
  margin: 20px auto;
  border-radius: 8px;
  overflow: hidden;
}

.animated-element {
  position: absolute;
  width: 60px;
  height: 60px;
  background-color: #3498db;
  border-radius: 8px;
  top: 70px;
  left: 170px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}

@keyframes bounce {
  0% { 
    transform: translateY(0);
    animation-timing-function: ease-in;
  }
  25% {
    transform: translateY(-80px);
    animation-timing-function: ease-out;
  }
  50% {
    transform: translateY(0);
    animation-timing-function: ease-in;
  }
  65% {
    transform: translateY(-40px);
    animation-timing-function: ease-out;
  }
  80% {
    transform: translateY(0);
    animation-timing-function: ease-in;
  }
  90% {
    transform: translateY(-15px);
    animation-timing-function: ease-out;
  }
  100% { 
    transform: translateY(0); 
  }
}


@keyframes spin {
  0% { 
    transform: rotate(0deg); 
  }
  100% { 
    transform: rotate(360deg); 
  }
}

@keyframes pulse {
  0%, 100% { 
    transform: scale(1); 
    background-color: #3498db;
  }
  50% { 
    transform: scale(1.3); 
    background-color: #e74c3c;
  }
}

@keyframes slideAcross {
  0% { 
    left: -60px; 
  }
  100% { 
    left: 400px; 
  }
}

.animated-element.bouncing {
  animation: bounce 1s ease infinite;
}

.animated-element.spinning {
  animation: spin 1s linear infinite;
}

.animated-element.pulsing {
  animation: pulse 0.8s ease infinite;
}

.animated-element.sliding {
  animation: slideAcross 2s linear infinite;
}

.demo-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 10px;
}

.demo-button {
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
}

.demo-button:hover {
  background-color: #2980b9;
}

.demo-button:active {
  transform: scale(0.95);
}
</style>

<div class="keyframe-demo">
  <div class="animation-container">
    <div class="animated-element" id="keyframe-element">Box</div>
  </div>
  <div class="demo-buttons">
    <button class="demo-button" onclick="setAnimation('bouncing')">Bounce</button>
    <button class="demo-button" onclick="setAnimation('spinning')">Spin</button>
    <button class="demo-button" onclick="setAnimation('pulsing')">Pulse</button>
    <button class="demo-button" onclick="setAnimation('sliding')">Slide</button>
    <button class="demo-button" onclick="setAnimation('')">Stop</button>
  </div>
</div>

<script>
function setAnimation(animClass) {
  const element = document.getElementById('keyframe-element');
  element.className = 'animated-element';
  if (animClass) {
    element.classList.add(animClass);
  }
}
</script>
<p>The <code>@keyframes</code> rule defines the animation sequence. You specify percentages representing points in the animation timeline, with 0% being the start and 100% being the end. At each percentage, you define which CSS properties should have which values:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb39-1"><a href="#cb39-1"></a><span class="im">@keyframes</span> fadeInOut {</span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="dv">0%</span> {</span>
<span id="cb39-3"><a href="#cb39-3"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.5</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb39-5"><a href="#cb39-5"></a>  }</span>
<span id="cb39-6"><a href="#cb39-6"></a>  <span class="dv">50%</span> {</span>
<span id="cb39-7"><a href="#cb39-7"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb39-8"><a href="#cb39-8"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb39-9"><a href="#cb39-9"></a>  }</span>
<span id="cb39-10"><a href="#cb39-10"></a>  <span class="dv">100%</span> {</span>
<span id="cb39-11"><a href="#cb39-11"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-12"><a href="#cb39-12"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.5</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb39-13"><a href="#cb39-13"></a>  }</span>
<span id="cb39-14"><a href="#cb39-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This animation has three stages: it starts invisible and small (0%), becomes fully visible and slightly enlarged at the midpoint (50%), then fades out and shrinks again by the end (100%). The browser automatically interpolates the property values between these keyframes, creating smooth transitions.</p>
<p>To apply this animation to an element, use the animation property:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">.feedback-text</span> {</span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">fadeInOut 1</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The animation property is shorthand that combines several sub-properties:</p>
<ul>
<li>animation-name: Which keyframe animation to use (<code>fadeInOut</code>)</li>
<li>animation-duration: How long the animation takes (<code>1s</code>)</li>
<li>animation-timing-function: How the animation progresses (<code>ease</code>)</li>
</ul>
<p>You can also specify additional properties:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">.feedback-text</span> {</span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">fadeInOut 1</span><span class="dt">s</span> <span class="dv">ease</span> <span class="dv">0.5</span><span class="dt">s</span> <span class="dv">infinite</span> <span class="dv">alternate</span><span class="op">;</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This adds:</p>
<ul>
<li>animation-delay: Wait 0.5 seconds before starting</li>
<li>animation-iteration-count: Repeat infinitely (or use a number like 3)</li>
<li>animation-direction: Alternate between forward and reverse on each iteration</li>
</ul>
<p>The animation-timing-function controls the pacing. Common values include <code>ease</code> (slow start and end), <code>linear</code> (constant speed), <code>ease-in</code> (slow start), <code>ease-out</code> (slow end), and <code>ease-in-out</code> (slow start and end). You can also use <code>cubic-bezier()</code> for custom timing curves.</p>
<p>One important detail: <code>keyframes</code> define the animation sequence, but they don’t specify timing between individual keyframes. The timing function applies to the entire animation duration. If you want different timing between keyframes, you can specify animation-timing-function within individual keyframe blocks:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb42-1"><a href="#cb42-1"></a><span class="im">@keyframes</span> bounce {</span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="dv">0%</span> { </span>
<span id="cb42-3"><a href="#cb42-3"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>    <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>  }</span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="dv">50%</span> {</span>
<span id="cb42-7"><a href="#cb42-7"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-80</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb42-8"><a href="#cb42-8"></a>    <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb42-9"><a href="#cb42-9"></a>  }</span>
<span id="cb42-10"><a href="#cb42-10"></a>  <span class="dv">100%</span> { </span>
<span id="cb42-11"><a href="#cb42-11"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span> </span>
<span id="cb42-12"><a href="#cb42-12"></a>  }</span>
<span id="cb42-13"><a href="#cb42-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This creates a more realistic bounce by using ease-in (accelerating) as the element rises and ease-out (decelerating) as it falls.</p>
<p>Keyframe animations are perfect for temporary feedback messages, attention-grabbing effects, and any animation that needs to progress through multiple distinct stages.</p>
</section>
<section id="animation-resources" class="level3" data-number="25.3.3">
<h3 data-number="25.3.3" class="anchored" data-anchor-id="animation-resources"><span class="header-section-number">25.3.3</span> Animation Resources</h3>
<p>Okay, that’s a lot to take in and a lot to remember. Luckily, you don’t always have to build your animations from scratch. There are a number of online that resources that provide CSS for different animations.</p>
<p>One I like to use is <a href="https://animista.net" class="external" target="_blank">https://animista.net</a>. Animista is a website that shows you different CSS animations and allows you to change them using the interface, then copy the code.</p>
<p>For instance, you if you were to navigate to <a href="https://animista.net/play/entrances/bounce-in" class="external" target="_blank">https://animista.net/play/entrances/bounce-in</a>, you’ll see a ‘bounce in’ animation. You can play with the settings in the interface to get an animation you are happy with. Once you’ve settled on the animation settings you can press the ‘generate code’ button, which looks like <code>{·}</code> on the right side of the screen.</p>
<p>You’ll then see two snippets of code. The first one is the class that you’ll put in your CSS stylesheet. You’ll apply this class to the element you want to animate and the second snippet is the keyframe animation details. You’ll need to copy both of those snippets of code into your stylesheet:</p>
<div class="dual-scroll-container">
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">.bounce-in-top</span> {</span>
<span id="cb43-2"><a href="#cb43-2"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">bounce-in-top 1.1</span><span class="dt">s</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">bounce-in-top 1.1</span><span class="dt">s</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>}</span>
<span id="cb43-5"><a href="#cb43-5"></a></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb43-7"><a href="#cb43-7"></a><span class="co"> * Generated by Animista on 2025-10-18 10:8:43</span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb43-9"><a href="#cb43-9"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb43-10"><a href="#cb43-10"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb43-11"><a href="#cb43-11"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb43-12"><a href="#cb43-12"></a></span>
<span id="cb43-13"><a href="#cb43-13"></a><span class="co">/**</span></span>
<span id="cb43-14"><a href="#cb43-14"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb43-15"><a href="#cb43-15"></a><span class="co"> * animation bounce-in-top</span></span>
<span id="cb43-16"><a href="#cb43-16"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb43-17"><a href="#cb43-17"></a><span class="co"> */</span></span>
<span id="cb43-18"><a href="#cb43-18"></a><span class="im">@-webkit-keyframes</span> bounce-in-top {</span>
<span id="cb43-19"><a href="#cb43-19"></a>  0% {</span>
<span id="cb43-20"><a href="#cb43-20"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-500</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-21"><a href="#cb43-21"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-500</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-22"><a href="#cb43-22"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-23"><a href="#cb43-23"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-24"><a href="#cb43-24"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb43-25"><a href="#cb43-25"></a>  }</span>
<span id="cb43-26"><a href="#cb43-26"></a>  38% {</span>
<span id="cb43-27"><a href="#cb43-27"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-28"><a href="#cb43-28"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-29"><a href="#cb43-29"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-30"><a href="#cb43-30"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-31"><a href="#cb43-31"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb43-32"><a href="#cb43-32"></a>  }</span>
<span id="cb43-33"><a href="#cb43-33"></a>  55% {</span>
<span id="cb43-34"><a href="#cb43-34"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-65</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-35"><a href="#cb43-35"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-65</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-36"><a href="#cb43-36"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-37"><a href="#cb43-37"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-38"><a href="#cb43-38"></a>  }</span>
<span id="cb43-39"><a href="#cb43-39"></a>  72% {</span>
<span id="cb43-40"><a href="#cb43-40"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-41"><a href="#cb43-41"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-42"><a href="#cb43-42"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-43"><a href="#cb43-43"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-44"><a href="#cb43-44"></a>  }</span>
<span id="cb43-45"><a href="#cb43-45"></a>  81% {</span>
<span id="cb43-46"><a href="#cb43-46"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-28</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-47"><a href="#cb43-47"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-28</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-48"><a href="#cb43-48"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-49"><a href="#cb43-49"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-50"><a href="#cb43-50"></a>  }</span>
<span id="cb43-51"><a href="#cb43-51"></a>  90% {</span>
<span id="cb43-52"><a href="#cb43-52"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-53"><a href="#cb43-53"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-54"><a href="#cb43-54"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-55"><a href="#cb43-55"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-56"><a href="#cb43-56"></a>  }</span>
<span id="cb43-57"><a href="#cb43-57"></a>  95% {</span>
<span id="cb43-58"><a href="#cb43-58"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-59"><a href="#cb43-59"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-60"><a href="#cb43-60"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-61"><a href="#cb43-61"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-62"><a href="#cb43-62"></a>  }</span>
<span id="cb43-63"><a href="#cb43-63"></a>  100% {</span>
<span id="cb43-64"><a href="#cb43-64"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-65"><a href="#cb43-65"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-66"><a href="#cb43-66"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-67"><a href="#cb43-67"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-68"><a href="#cb43-68"></a>  }</span>
<span id="cb43-69"><a href="#cb43-69"></a>}</span>
<span id="cb43-70"><a href="#cb43-70"></a><span class="im">@keyframes</span> bounce-in-top {</span>
<span id="cb43-71"><a href="#cb43-71"></a>  <span class="dv">0%</span> {</span>
<span id="cb43-72"><a href="#cb43-72"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-500</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-73"><a href="#cb43-73"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-500</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-74"><a href="#cb43-74"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-75"><a href="#cb43-75"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-76"><a href="#cb43-76"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb43-77"><a href="#cb43-77"></a>  }</span>
<span id="cb43-78"><a href="#cb43-78"></a>  <span class="dv">38%</span> {</span>
<span id="cb43-79"><a href="#cb43-79"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-80"><a href="#cb43-80"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-81"><a href="#cb43-81"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-82"><a href="#cb43-82"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-83"><a href="#cb43-83"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb43-84"><a href="#cb43-84"></a>  }</span>
<span id="cb43-85"><a href="#cb43-85"></a>  <span class="dv">55%</span> {</span>
<span id="cb43-86"><a href="#cb43-86"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-65</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-87"><a href="#cb43-87"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-65</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-88"><a href="#cb43-88"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-89"><a href="#cb43-89"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-90"><a href="#cb43-90"></a>  }</span>
<span id="cb43-91"><a href="#cb43-91"></a>  <span class="dv">72%</span> {</span>
<span id="cb43-92"><a href="#cb43-92"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-93"><a href="#cb43-93"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-94"><a href="#cb43-94"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-95"><a href="#cb43-95"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-96"><a href="#cb43-96"></a>  }</span>
<span id="cb43-97"><a href="#cb43-97"></a>  <span class="dv">81%</span> {</span>
<span id="cb43-98"><a href="#cb43-98"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-28</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-99"><a href="#cb43-99"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-28</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-100"><a href="#cb43-100"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-101"><a href="#cb43-101"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-102"><a href="#cb43-102"></a>  }</span>
<span id="cb43-103"><a href="#cb43-103"></a>  <span class="dv">90%</span> {</span>
<span id="cb43-104"><a href="#cb43-104"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-105"><a href="#cb43-105"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-106"><a href="#cb43-106"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-107"><a href="#cb43-107"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-108"><a href="#cb43-108"></a>  }</span>
<span id="cb43-109"><a href="#cb43-109"></a>  <span class="dv">95%</span> {</span>
<span id="cb43-110"><a href="#cb43-110"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-111"><a href="#cb43-111"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-112"><a href="#cb43-112"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-113"><a href="#cb43-113"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb43-114"><a href="#cb43-114"></a>  }</span>
<span id="cb43-115"><a href="#cb43-115"></a>  <span class="dv">100%</span> {</span>
<span id="cb43-116"><a href="#cb43-116"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-117"><a href="#cb43-117"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateY(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb43-118"><a href="#cb43-118"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-119"><a href="#cb43-119"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb43-120"><a href="#cb43-120"></a>  }</span>
<span id="cb43-121"><a href="#cb43-121"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, you can apply to an HTML element by assigning the class:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb44-1"><a href="#cb44-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"animation-container"</span><span class="dt">&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"animated-element bounce-in-top"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"keyframe-element"</span><span class="dt">&gt;</span>Box<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can try the bounce in animation here, by clicking the button below:</p>
<style>
.keyframe-demo-2 {
  text-align: center;
  margin: 20px 0;
}

.animation-container-2 {
  position: relative;
  width: 400px;
  height: 200px;
  background-color: #ecf0f1;
  border: 2px solid #34495e;
  margin: 20px auto;
  border-radius: 8px;
  overflow: hidden;
}

.animated-element-2 {
  position: absolute;
  width: 60px;
  height: 60px;
  background-color: #3498db;
  border-radius: 8px;
  top: 70px;
  left: 170px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}


/* ----------------------------------------------
 * Generated by Animista on 2025-10-18 10:8:43
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation bounce-in-top
 * ----------------------------------------
 */
@-webkit-keyframes bounce-in-top {
  0% {
    -webkit-transform: translateY(-500px);
            transform: translateY(-500px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
    opacity: 0;
  }
  38% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
    opacity: 1;
  }
  55% {
    -webkit-transform: translateY(-65px);
            transform: translateY(-65px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  72% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  81% {
    -webkit-transform: translateY(-28px);
            transform: translateY(-28px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  90% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  95% {
    -webkit-transform: translateY(-8px);
            transform: translateY(-8px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes bounce-in-top {
  0% {
    -webkit-transform: translateY(-500px);
            transform: translateY(-500px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
    opacity: 0;
  }
  38% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
    opacity: 1;
  }
  55% {
    -webkit-transform: translateY(-65px);
            transform: translateY(-65px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  72% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  81% {
    -webkit-transform: translateY(-28px);
            transform: translateY(-28px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  90% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  95% {
    -webkit-transform: translateY(-8px);
            transform: translateY(-8px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  100% {
    -webkit-transform: translateY(0);
            transform: translateY(0);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}


.newBounce {
   -webkit-animation: bounce-in-top 1.1s both;
    animation: bounce-in-top 1.1s both;
}

.demo-buttons-2 {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 10px;
}

.demo-button-2 {
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
}

.demo-button-2:hover {
  background-color: #2980b9;
}

.demo-button-2:active {
  transform: scale(0.95);
}
</style>

<div class="keyframe-demo-2">
  <div class="animation-container-2">
    <div class="animated-element-2" id="keyframe-element-2">Box</div>
  </div>
  <div class="demo-buttons-2">
    <button class="demo-button-2" onclick="setAnimation2('newBounce')">Bounce In</button>
  </div>
</div>

<script>
function setAnimation2(animClass) {
  const element = document.getElementById('keyframe-element-2');

  // Remove the class if it exists
  if (element.classList.contains(animClass)) {
    element.classList.remove(animClass);

    // Force reflow to restart animation
    void element.offsetWidth;
  }

  // Add the class
  if (animClass) {
    element.classList.add(animClass);
  }
}
</script>
</section>
<section id="adding-css-animations-to-jspsych" class="level3" data-number="25.3.4">
<h3 data-number="25.3.4" class="anchored" data-anchor-id="adding-css-animations-to-jspsych"><span class="header-section-number">25.3.4</span> Adding CSS Animations to jsPsych</h3>
<p>In all the previous examples, the CSS animations were triggered by pressing a button or hovering over an element. This is because the animation happens when as soon as the CSS class is applied. So, if you open a page with the <code>bounce-in-top</code> class given to an element, the bounce in animation will trigger right when the page loads.</p>
<p>Typically, we’ll want some control over when the animation happens. We can control it by using JavaScript to add the CSS class when we want the animation to happen. In fact, that’s what we were doing with the button. I wrote a short JavaScript function that would add the class to the element when you pressed the button. Let’s explore how we can trigger animations within the context of jsPsych.</p>
<section id="example-1-animating-the-healthprogress-bars" class="level4" data-number="25.3.4.1">
<h4 data-number="25.3.4.1" class="anchored" data-anchor-id="example-1-animating-the-healthprogress-bars"><span class="header-section-number">25.3.4.1</span> Example 1: Animating the Health/Progress Bars</h4>
<p>Let’s return to our game display example where we included a health and progress bar. In both those cases, we had an element that was filled with a color and changed width when we wanted to update it.</p>
<p>This is a perfect place to add a transition animation. We can add a <code>transition</code> to our CSS so that when that property changes, it interpolates between them to smoothly transition from one state to another another.</p>
<div class="cell">
<style type="text/css">
[id^="cb47-"]:nth-child(n+106):nth-child(-n+107),
[id^="cb47-"]:nth-child(n+130):nth-child(-n+130) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-4" role="tab" aria-controls="tabset-8-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="sourceCode" id="cb45"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb45-1"><a href="#cb45-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb45-6"><a href="#cb45-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-7"><a href="#cb45-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb45-8"><a href="#cb45-8"></a>    </span>
<span id="cb45-9"><a href="#cb45-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb45-10"><a href="#cb45-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-11"><a href="#cb45-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-12"><a href="#cb45-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-13"><a href="#cb45-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-14"><a href="#cb45-14"></a></span>
<span id="cb45-15"><a href="#cb45-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb45-16"><a href="#cb45-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb45-17"><a href="#cb45-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb45-18"><a href="#cb45-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb45-19"><a href="#cb45-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb45-20"><a href="#cb45-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb45-21"><a href="#cb45-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>  </span>
<span id="cb45-22"><a href="#cb45-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-container"</span><span class="dt">&gt;</span></span>
<span id="cb45-23"><a href="#cb45-23"></a>        <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HEALTH<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb45-24"><a href="#cb45-24"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-bar"</span><span class="dt">&gt;</span></span>
<span id="cb45-25"><a href="#cb45-25"></a>            <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-fill"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-26"><a href="#cb45-26"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-27"><a href="#cb45-27"></a>          <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"health-text"</span><span class="dt">&gt;</span>100/100<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb45-28"><a href="#cb45-28"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-29"><a href="#cb45-29"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-30"><a href="#cb45-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-31"><a href="#cb45-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb45-32"><a href="#cb45-32"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb45-33"><a href="#cb45-33"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-34"><a href="#cb45-34"></a>    </span>
<span id="cb45-35"><a href="#cb45-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-36"><a href="#cb45-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-37"><a href="#cb45-37"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-38"><a href="#cb45-38"></a>    </span>
<span id="cb45-39"><a href="#cb45-39"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-40"><a href="#cb45-40"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-41"><a href="#cb45-41"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-42"><a href="#cb45-42"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-43"><a href="#cb45-43"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-44"><a href="#cb45-44"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb45-45"><a href="#cb45-45"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb45-46"><a href="#cb45-46"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb45-47"><a href="#cb45-47"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb45-48"><a href="#cb45-48"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb46"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb46-1"><a href="#cb46-1"></a> </span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="co">// ============================================</span></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="co">// ============================================</span></span>
<span id="cb46-5"><a href="#cb46-5"></a></span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb46-7"><a href="#cb46-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb46-8"><a href="#cb46-8"></a>                ) </span>
<span id="cb46-9"><a href="#cb46-9"></a></span>
<span id="cb46-10"><a href="#cb46-10"></a><span class="co">// ============================================</span></span>
<span id="cb46-11"><a href="#cb46-11"></a><span class="co">// Trackers</span></span>
<span id="cb46-12"><a href="#cb46-12"></a><span class="co">// ============================================</span></span>
<span id="cb46-13"><a href="#cb46-13"></a></span>
<span id="cb46-14"><a href="#cb46-14"></a><span class="co">// current health</span></span>
<span id="cb46-15"><a href="#cb46-15"></a><span class="kw">let</span> health <span class="op">=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb46-16"><a href="#cb46-16"></a></span>
<span id="cb46-17"><a href="#cb46-17"></a><span class="co">// progress variables</span></span>
<span id="cb46-18"><a href="#cb46-18"></a><span class="kw">let</span> totalTrials <span class="op">=</span> <span class="dv">8</span><span class="op">;</span></span>
<span id="cb46-19"><a href="#cb46-19"></a><span class="kw">let</span> currentTrial <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb46-20"><a href="#cb46-20"></a></span>
<span id="cb46-21"><a href="#cb46-21"></a><span class="co">// ============================================</span></span>
<span id="cb46-22"><a href="#cb46-22"></a><span class="co">// Welcome</span></span>
<span id="cb46-23"><a href="#cb46-23"></a><span class="co">// ============================================</span></span>
<span id="cb46-24"><a href="#cb46-24"></a></span>
<span id="cb46-25"><a href="#cb46-25"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb46-26"><a href="#cb46-26"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb46-27"><a href="#cb46-27"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb46-28"><a href="#cb46-28"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb46-29"><a href="#cb46-29"></a>}</span>
<span id="cb46-30"><a href="#cb46-30"></a></span>
<span id="cb46-31"><a href="#cb46-31"></a><span class="co">// ============================================</span></span>
<span id="cb46-32"><a href="#cb46-32"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb46-33"><a href="#cb46-33"></a><span class="co">// ============================================</span></span>
<span id="cb46-34"><a href="#cb46-34"></a></span>
<span id="cb46-35"><a href="#cb46-35"></a><span class="co">// fixation</span></span>
<span id="cb46-36"><a href="#cb46-36"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb46-37"><a href="#cb46-37"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb46-38"><a href="#cb46-38"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb46-39"><a href="#cb46-39"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb46-40"><a href="#cb46-40"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb46-41"><a href="#cb46-41"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb46-42"><a href="#cb46-42"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb46-43"><a href="#cb46-43"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb46-44"><a href="#cb46-44"></a>    }</span>
<span id="cb46-45"><a href="#cb46-45"></a>}</span>
<span id="cb46-46"><a href="#cb46-46"></a></span>
<span id="cb46-47"><a href="#cb46-47"></a><span class="co">// stimulus</span></span>
<span id="cb46-48"><a href="#cb46-48"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb46-49"><a href="#cb46-49"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb46-50"><a href="#cb46-50"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb46-51"><a href="#cb46-51"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb46-52"><a href="#cb46-52"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb46-53"><a href="#cb46-53"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb46-54"><a href="#cb46-54"></a></span>
<span id="cb46-55"><a href="#cb46-55"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb46-56"><a href="#cb46-56"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb46-57"><a href="#cb46-57"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb46-58"><a href="#cb46-58"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb46-59"><a href="#cb46-59"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb46-60"><a href="#cb46-60"></a></span>
<span id="cb46-61"><a href="#cb46-61"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb46-62"><a href="#cb46-62"></a>    }<span class="op">,</span></span>
<span id="cb46-63"><a href="#cb46-63"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb46-64"><a href="#cb46-64"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb46-65"><a href="#cb46-65"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb46-66"><a href="#cb46-66"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb46-67"><a href="#cb46-67"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb46-68"><a href="#cb46-68"></a>    }<span class="op">,</span></span>
<span id="cb46-69"><a href="#cb46-69"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb46-70"><a href="#cb46-70"></a>        <span class="co">// store accuracy</span></span>
<span id="cb46-71"><a href="#cb46-71"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb46-72"><a href="#cb46-72"></a>                </span>
<span id="cb46-73"><a href="#cb46-73"></a>        <span class="co">// Select the health display elements</span></span>
<span id="cb46-74"><a href="#cb46-74"></a>        <span class="kw">let</span> healthFill <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-fill"</span>)<span class="op">;</span></span>
<span id="cb46-75"><a href="#cb46-75"></a>        <span class="kw">let</span> healthText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#health-text"</span>)<span class="op">;</span></span>
<span id="cb46-76"><a href="#cb46-76"></a></span>
<span id="cb46-77"><a href="#cb46-77"></a>        <span class="co">// only remove health if incorrect</span></span>
<span id="cb46-78"><a href="#cb46-78"></a>        <span class="cf">if</span>(<span class="op">!</span>data<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb46-79"><a href="#cb46-79"></a>            health <span class="op">=</span> health <span class="op">-</span> <span class="dv">25</span></span>
<span id="cb46-80"><a href="#cb46-80"></a></span>
<span id="cb46-81"><a href="#cb46-81"></a>            <span class="cf">if</span>(health <span class="op">&lt;</span> <span class="dv">0</span>){</span>
<span id="cb46-82"><a href="#cb46-82"></a>               health <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb46-83"><a href="#cb46-83"></a>            }</span>
<span id="cb46-84"><a href="#cb46-84"></a>            </span>
<span id="cb46-85"><a href="#cb46-85"></a>            <span class="co">// Update the visual bar</span></span>
<span id="cb46-86"><a href="#cb46-86"></a>            healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"%"</span><span class="op">;</span></span>
<span id="cb46-87"><a href="#cb46-87"></a>          </span>
<span id="cb46-88"><a href="#cb46-88"></a>            <span class="co">// Update the text display</span></span>
<span id="cb46-89"><a href="#cb46-89"></a>            healthText<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> health <span class="op">+</span> <span class="st">"/100"</span></span>
<span id="cb46-90"><a href="#cb46-90"></a>          </span>
<span id="cb46-91"><a href="#cb46-91"></a>            <span class="co">// Change color based on health level</span></span>
<span id="cb46-92"><a href="#cb46-92"></a>            <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">60</span>) {</span>
<span id="cb46-93"><a href="#cb46-93"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #2ecc71, #27ae60)"</span><span class="op">;</span></span>
<span id="cb46-94"><a href="#cb46-94"></a>            } <span class="cf">else</span> <span class="cf">if</span> (health <span class="op">&gt;</span> <span class="dv">30</span>) {</span>
<span id="cb46-95"><a href="#cb46-95"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #f39c12, #e67e22)"</span><span class="op">;</span></span>
<span id="cb46-96"><a href="#cb46-96"></a>            } <span class="cf">else</span> {</span>
<span id="cb46-97"><a href="#cb46-97"></a>              healthFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="st">"linear-gradient(90deg, #e74c3c, #c0392b)"</span><span class="op">;</span></span>
<span id="cb46-98"><a href="#cb46-98"></a>            }</span>
<span id="cb46-99"><a href="#cb46-99"></a></span>
<span id="cb46-100"><a href="#cb46-100"></a>        }     </span>
<span id="cb46-101"><a href="#cb46-101"></a></span>
<span id="cb46-102"><a href="#cb46-102"></a>        <span class="co">// Select progress elements</span></span>
<span id="cb46-103"><a href="#cb46-103"></a>        <span class="kw">let</span> progressFill <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#progress-fill"</span>)<span class="op">;</span></span>
<span id="cb46-104"><a href="#cb46-104"></a>        <span class="kw">let</span> progressText <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#progress-text"</span>)<span class="op">;</span></span>
<span id="cb46-105"><a href="#cb46-105"></a>      </span>
<span id="cb46-106"><a href="#cb46-106"></a>        <span class="co">// Calculate percentage remaining</span></span>
<span id="cb46-107"><a href="#cb46-107"></a>        currentTrial <span class="op">=</span> currentTrial <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb46-108"><a href="#cb46-108"></a>  </span>
<span id="cb46-109"><a href="#cb46-109"></a>        <span class="kw">let</span> progressPercent <span class="op">=</span> (currentTrial <span class="op">/</span> totalTrials) <span class="op">*</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb46-110"><a href="#cb46-110"></a>      </span>
<span id="cb46-111"><a href="#cb46-111"></a>        <span class="co">// Update the visual bar</span></span>
<span id="cb46-112"><a href="#cb46-112"></a>        progressFill<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">width</span> <span class="op">=</span> progressPercent <span class="op">+</span> <span class="st">"%"</span><span class="op">;</span></span>
<span id="cb46-113"><a href="#cb46-113"></a>      </span>
<span id="cb46-114"><a href="#cb46-114"></a>        <span class="co">// Update the text display</span></span>
<span id="cb46-115"><a href="#cb46-115"></a>        progressText<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> currentTrial <span class="op">+</span> <span class="st">"/"</span> <span class="op">+</span> totalTrials<span class="op">;</span></span>
<span id="cb46-116"><a href="#cb46-116"></a></span>
<span id="cb46-117"><a href="#cb46-117"></a>    }</span>
<span id="cb46-118"><a href="#cb46-118"></a>}</span>
<span id="cb46-119"><a href="#cb46-119"></a></span>
<span id="cb46-120"><a href="#cb46-120"></a><span class="co">// exp timeline</span></span>
<span id="cb46-121"><a href="#cb46-121"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb46-122"><a href="#cb46-122"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb46-123"><a href="#cb46-123"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb46-124"><a href="#cb46-124"></a>        exp_stimulus</span>
<span id="cb46-125"><a href="#cb46-125"></a>    ]<span class="op">,</span></span>
<span id="cb46-126"><a href="#cb46-126"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb46-127"><a href="#cb46-127"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb46-128"><a href="#cb46-128"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb46-129"><a href="#cb46-129"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb46-130"><a href="#cb46-130"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb46-131"><a href="#cb46-131"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb46-132"><a href="#cb46-132"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb46-133"><a href="#cb46-133"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb46-134"><a href="#cb46-134"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb46-135"><a href="#cb46-135"></a>    ]<span class="op">,</span></span>
<span id="cb46-136"><a href="#cb46-136"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb46-137"><a href="#cb46-137"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb46-138"><a href="#cb46-138"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb46-139"><a href="#cb46-139"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb46-140"><a href="#cb46-140"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb46-141"><a href="#cb46-141"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb46-142"><a href="#cb46-142"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb46-143"><a href="#cb46-143"></a>    }<span class="op">,</span></span>
<span id="cb46-144"><a href="#cb46-144"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb46-145"><a href="#cb46-145"></a>        <span class="co">// get top-left element</span></span>
<span id="cb46-146"><a href="#cb46-146"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb46-147"><a href="#cb46-147"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">` &lt;div id="health-container"&gt;</span></span>
<span id="cb46-148"><a href="#cb46-148"></a><span class="vs">                               &lt;div id="health-bar"&gt;</span></span>
<span id="cb46-149"><a href="#cb46-149"></a><span class="vs">                                  &lt;div id="health-fill"&gt;&lt;/div&gt;</span></span>
<span id="cb46-150"><a href="#cb46-150"></a><span class="vs">                                &lt;/div&gt;</span></span>
<span id="cb46-151"><a href="#cb46-151"></a><span class="vs">                                &lt;span id="health-text"&gt;100/100&lt;/span&gt;</span></span>
<span id="cb46-152"><a href="#cb46-152"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb46-153"><a href="#cb46-153"></a></span>
<span id="cb46-154"><a href="#cb46-154"></a>        <span class="co">// get top-right element</span></span>
<span id="cb46-155"><a href="#cb46-155"></a>        <span class="kw">let</span> bottom <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".bottom"</span>)</span>
<span id="cb46-156"><a href="#cb46-156"></a>        bottom<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;div id="progress-container"&gt;</span></span>
<span id="cb46-157"><a href="#cb46-157"></a><span class="vs">                                &lt;span class="label"&gt;PROGRESS&lt;/span&gt;</span></span>
<span id="cb46-158"><a href="#cb46-158"></a><span class="vs">                                &lt;div id="progress-bar"&gt;</span></span>
<span id="cb46-159"><a href="#cb46-159"></a><span class="vs">                                  &lt;div id="progress-fill"&gt;&lt;/div&gt;</span></span>
<span id="cb46-160"><a href="#cb46-160"></a><span class="vs">                                &lt;/div&gt;</span></span>
<span id="cb46-161"><a href="#cb46-161"></a><span class="vs">                                &lt;span id="progress-text"&gt;0/8&lt;/span&gt;</span></span>
<span id="cb46-162"><a href="#cb46-162"></a><span class="vs">                              &lt;/div&gt;`</span></span>
<span id="cb46-163"><a href="#cb46-163"></a></span>
<span id="cb46-164"><a href="#cb46-164"></a>    }<span class="op">,</span></span>
<span id="cb46-165"><a href="#cb46-165"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb46-166"><a href="#cb46-166"></a>        <span class="co">// clear the top left and top right displays</span></span>
<span id="cb46-167"><a href="#cb46-167"></a>        <span class="co">// get top-left element</span></span>
<span id="cb46-168"><a href="#cb46-168"></a>        <span class="kw">let</span> topLeft <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".top-left"</span>)</span>
<span id="cb46-169"><a href="#cb46-169"></a>        topLeft<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb46-170"><a href="#cb46-170"></a></span>
<span id="cb46-171"><a href="#cb46-171"></a>        <span class="co">// get bottom element</span></span>
<span id="cb46-172"><a href="#cb46-172"></a>        <span class="kw">let</span> bottom <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".bottom"</span>)</span>
<span id="cb46-173"><a href="#cb46-173"></a>        bottom<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb46-174"><a href="#cb46-174"></a>    }</span>
<span id="cb46-175"><a href="#cb46-175"></a>}<span class="op">;</span></span>
<span id="cb46-176"><a href="#cb46-176"></a></span>
<span id="cb46-177"><a href="#cb46-177"></a></span>
<span id="cb46-178"><a href="#cb46-178"></a><span class="co">// ============================================</span></span>
<span id="cb46-179"><a href="#cb46-179"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb46-180"><a href="#cb46-180"></a><span class="co">// ============================================</span></span>
<span id="cb46-181"><a href="#cb46-181"></a></span>
<span id="cb46-182"><a href="#cb46-182"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb46-183"><a href="#cb46-183"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb46-184"><a href="#cb46-184"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb46-185"><a href="#cb46-185"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb46-186"><a href="#cb46-186"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb46-187"><a href="#cb46-187"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb46-188"><a href="#cb46-188"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb46-189"><a href="#cb46-189"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb46-190"><a href="#cb46-190"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb46-191"><a href="#cb46-191"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb46-192"><a href="#cb46-192"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb46-193"><a href="#cb46-193"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb46-194"><a href="#cb46-194"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb46-195"><a href="#cb46-195"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb46-196"><a href="#cb46-196"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb46-197"><a href="#cb46-197"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb46-198"><a href="#cb46-198"></a>    })<span class="op">;</span></span>
<span id="cb46-199"><a href="#cb46-199"></a>  }<span class="op">,</span></span>
<span id="cb46-200"><a href="#cb46-200"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb46-201"><a href="#cb46-201"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb46-202"><a href="#cb46-202"></a>  }</span>
<span id="cb46-203"><a href="#cb46-203"></a>}<span class="op">;</span></span>
<span id="cb46-204"><a href="#cb46-204"></a></span>
<span id="cb46-205"><a href="#cb46-205"></a><span class="co">// ============================================</span></span>
<span id="cb46-206"><a href="#cb46-206"></a><span class="co">// Run jsPsych </span></span>
<span id="cb46-207"><a href="#cb46-207"></a><span class="co">// ============================================</span></span>
<span id="cb46-208"><a href="#cb46-208"></a></span>
<span id="cb46-209"><a href="#cb46-209"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb46-210"><a href="#cb46-210"></a>  welcome<span class="op">,</span></span>
<span id="cb46-211"><a href="#cb46-211"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb46-212"><a href="#cb46-212"></a>  saveData</span>
<span id="cb46-213"><a href="#cb46-213"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="sourceCode" id="cb47"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb47-1"><a href="#cb47-1"></a> body {</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-5"><a href="#cb47-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb47-7"><a href="#cb47-7"></a>}</span>
<span id="cb47-8"><a href="#cb47-8"></a></span>
<span id="cb47-9"><a href="#cb47-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb47-10"><a href="#cb47-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb47-11"><a href="#cb47-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-12"><a href="#cb47-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-13"><a href="#cb47-13"></a>}</span>
<span id="cb47-14"><a href="#cb47-14"></a></span>
<span id="cb47-15"><a href="#cb47-15"></a><span class="fu">.grid</span> {</span>
<span id="cb47-16"><a href="#cb47-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-17"><a href="#cb47-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-18"><a href="#cb47-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb47-19"><a href="#cb47-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-20"><a href="#cb47-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-21"><a href="#cb47-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb47-22"><a href="#cb47-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb47-23"><a href="#cb47-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb47-24"><a href="#cb47-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb47-25"><a href="#cb47-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb47-26"><a href="#cb47-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb47-27"><a href="#cb47-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb47-28"><a href="#cb47-28"></a>   </span>
<span id="cb47-29"><a href="#cb47-29"></a>}</span>
<span id="cb47-30"><a href="#cb47-30"></a></span>
<span id="cb47-31"><a href="#cb47-31"></a></span>
<span id="cb47-32"><a href="#cb47-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb47-33"><a href="#cb47-33"></a><span class="fu">.top-left</span> {</span>
<span id="cb47-34"><a href="#cb47-34"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb47-35"><a href="#cb47-35"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-36"><a href="#cb47-36"></a>}</span>
<span id="cb47-37"><a href="#cb47-37"></a></span>
<span id="cb47-38"><a href="#cb47-38"></a><span class="fu">.top-right</span> {</span>
<span id="cb47-39"><a href="#cb47-39"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb47-40"><a href="#cb47-40"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-41"><a href="#cb47-41"></a>}</span>
<span id="cb47-42"><a href="#cb47-42"></a></span>
<span id="cb47-43"><a href="#cb47-43"></a><span class="fu">.top</span> {</span>
<span id="cb47-44"><a href="#cb47-44"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb47-45"><a href="#cb47-45"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-46"><a href="#cb47-46"></a>}</span>
<span id="cb47-47"><a href="#cb47-47"></a></span>
<span id="cb47-48"><a href="#cb47-48"></a><span class="fu">.center</span> {</span>
<span id="cb47-49"><a href="#cb47-49"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-50"><a href="#cb47-50"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-51"><a href="#cb47-51"></a>}</span>
<span id="cb47-52"><a href="#cb47-52"></a></span>
<span id="cb47-53"><a href="#cb47-53"></a><span class="fu">.left</span> {</span>
<span id="cb47-54"><a href="#cb47-54"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb47-55"><a href="#cb47-55"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-56"><a href="#cb47-56"></a>}</span>
<span id="cb47-57"><a href="#cb47-57"></a></span>
<span id="cb47-58"><a href="#cb47-58"></a><span class="fu">.right</span> {</span>
<span id="cb47-59"><a href="#cb47-59"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb47-60"><a href="#cb47-60"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-61"><a href="#cb47-61"></a>}</span>
<span id="cb47-62"><a href="#cb47-62"></a></span>
<span id="cb47-63"><a href="#cb47-63"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb47-64"><a href="#cb47-64"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb47-65"><a href="#cb47-65"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-66"><a href="#cb47-66"></a>}</span>
<span id="cb47-67"><a href="#cb47-67"></a></span>
<span id="cb47-68"><a href="#cb47-68"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb47-69"><a href="#cb47-69"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb47-70"><a href="#cb47-70"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-71"><a href="#cb47-71"></a>}</span>
<span id="cb47-72"><a href="#cb47-72"></a></span>
<span id="cb47-73"><a href="#cb47-73"></a><span class="fu">.bottom</span> {</span>
<span id="cb47-74"><a href="#cb47-74"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb47-75"><a href="#cb47-75"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb47-76"><a href="#cb47-76"></a>}</span>
<span id="cb47-77"><a href="#cb47-77"></a></span>
<span id="cb47-78"><a href="#cb47-78"></a><span class="pp">#score-container</span> {</span>
<span id="cb47-79"><a href="#cb47-79"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb47-80"><a href="#cb47-80"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-81"><a href="#cb47-81"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-82"><a href="#cb47-82"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-83"><a href="#cb47-83"></a>}</span>
<span id="cb47-84"><a href="#cb47-84"></a></span>
<span id="cb47-85"><a href="#cb47-85"></a><span class="pp">#health-container</span> {</span>
<span id="cb47-86"><a href="#cb47-86"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-87"><a href="#cb47-87"></a>}</span>
<span id="cb47-88"><a href="#cb47-88"></a></span>
<span id="cb47-89"><a href="#cb47-89"></a><span class="fu">.label</span> {</span>
<span id="cb47-90"><a href="#cb47-90"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-91"><a href="#cb47-91"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb47-92"><a href="#cb47-92"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-93"><a href="#cb47-93"></a>}</span>
<span id="cb47-94"><a href="#cb47-94"></a></span>
<span id="cb47-95"><a href="#cb47-95"></a><span class="pp">#health-bar</span> {</span>
<span id="cb47-96"><a href="#cb47-96"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-97"><a href="#cb47-97"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-98"><a href="#cb47-98"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb47-99"><a href="#cb47-99"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb47-100"><a href="#cb47-100"></a>}</span>
<span id="cb47-101"><a href="#cb47-101"></a></span>
<span id="cb47-102"><a href="#cb47-102"></a><span class="pp">#health-fill</span> {</span>
<span id="cb47-103"><a href="#cb47-103"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-104"><a href="#cb47-104"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-105"><a href="#cb47-105"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#e74c3c</span><span class="op">;</span></span>
<span id="cb47-106"><a href="#cb47-106"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">width 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">,</span></span>
<span id="cb47-107"><a href="#cb47-107"></a>              <span class="dv">background-color 0.4</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb47-108"><a href="#cb47-108"></a>}</span>
<span id="cb47-109"><a href="#cb47-109"></a></span>
<span id="cb47-110"><a href="#cb47-110"></a><span class="pp">#health-text</span> {</span>
<span id="cb47-111"><a href="#cb47-111"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-112"><a href="#cb47-112"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-113"><a href="#cb47-113"></a>}</span>
<span id="cb47-114"><a href="#cb47-114"></a></span>
<span id="cb47-115"><a href="#cb47-115"></a><span class="pp">#progress-container</span> {</span>
<span id="cb47-116"><a href="#cb47-116"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-117"><a href="#cb47-117"></a>}</span>
<span id="cb47-118"><a href="#cb47-118"></a></span>
<span id="cb47-119"><a href="#cb47-119"></a><span class="pp">#progress-bar</span> {</span>
<span id="cb47-120"><a href="#cb47-120"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-121"><a href="#cb47-121"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-122"><a href="#cb47-122"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb47-123"><a href="#cb47-123"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb47-124"><a href="#cb47-124"></a>}</span>
<span id="cb47-125"><a href="#cb47-125"></a></span>
<span id="cb47-126"><a href="#cb47-126"></a><span class="pp">#progress-fill</span> {</span>
<span id="cb47-127"><a href="#cb47-127"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-128"><a href="#cb47-128"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb47-129"><a href="#cb47-129"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#3498db</span><span class="op">;</span></span>
<span id="cb47-130"><a href="#cb47-130"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">width 0.3</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb47-131"><a href="#cb47-131"></a>}</span>
<span id="cb47-132"><a href="#cb47-132"></a></span>
<span id="cb47-133"><a href="#cb47-133"></a><span class="pp">#progress-text</span> {</span>
<span id="cb47-134"><a href="#cb47-134"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb47-135"><a href="#cb47-135"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb47-136"><a href="#cb47-136"></a>}</span>
<span id="cb47-137"><a href="#cb47-137"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-4-tab">
<div id="demo-container-css-animations-ex-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-css-animations-ex-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n#score-container {\n  display: flex;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n}\n\n#health-container {\n  padding: 8px;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n\n#health-bar {\n  width: 100%;\n  height: 10px;\n  background-color: #ddd;\n  border: 2px solid #333;\n}\n\n#health-fill {\n  height: 100%;\n  width: 100%;\n  background-color: #e74c3c;\n  transition: width 0.3s ease,\n              background-color 0.4s ease;\n}\n\n#health-text {\n  font-size: 14px;\n  text-align: center;\n}\n\n#progress-container {\n  padding: 10px;\n}\n\n#progress-bar {\n  width: 100%;\n  height: 10px;\n  background-color: #ddd;\n  border: 2px solid #333;\n}\n\n#progress-fill {\n  height: 100%;\n  width: 0%;\n  background-color: #3498db;\n  transition: width 0.3s ease;\n}\n\n#progress-text {\n  font-size: 14px;\n  text-align: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>  \n    </div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// current health\nlet health = 100;\n\n// progress variables\nlet totalTrials = 8;\nlet currentTrial = 0;\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n                \n        // Select the health display elements\n        let healthFill = document.querySelector(&quot;#health-fill&quot;);\n        let healthText = document.querySelector(&quot;#health-text&quot;);\n\n        // only remove health if incorrect\n        if(!data.correct){\n            health = health - 25\n\n            if(health < 0){\n               health = 0\n            }\n            \n            // Update the visual bar\n            healthFill.style.width = health + &quot;%&quot;;\n          \n            // Update the text display\n            healthText.textContent = health + &quot;/100&quot;\n          \n            // Change color based on health level\n            if (health > 60) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;\n            } else if (health > 30) {\n              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;\n            } else {\n              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;\n            }\n\n        }     \n\n        // Select progress elements\n        let progressFill = document.querySelector(&quot;#progress-fill&quot;);\n        let progressText = document.querySelector(&quot;#progress-text&quot;);\n      \n        // Calculate percentage remaining\n        currentTrial = currentTrial + 1\n  \n        let progressPercent = (currentTrial / totalTrials) * 100;\n      \n        // Update the visual bar\n        progressFill.style.width = progressPercent + &quot;%&quot;;\n      \n        // Update the text display\n        progressText.textContent = currentTrial + &quot;/&quot; + totalTrials;\n\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        // get top-left element\n        let topLeft = document.querySelector(&quot;.top-left&quot;)\n        topLeft.innerHTML = ` <div id=&quot;health-container&quot;>\n                               <div id=&quot;health-bar&quot;>\n                                  <div id=&quot;health-fill&quot;></div>\n                                </div>\n                                <span id=&quot;health-text&quot;>100/100</span>\n                              </div>`\n\n        // get top-right element\n        let bottom = document.querySelector(&quot;.bottom&quot;)\n        bottom.innerHTML = `<div id=&quot;progress-container&quot;>\n                                <span class=&quot;label&quot;>PROGRESS</span>\n                                <div id=&quot;progress-bar&quot;>\n                                  <div id=&quot;progress-fill&quot;></div>\n                                </div>\n                                <span id=&quot;progress-text&quot;>0/8</span>\n                              </div>`\n\n    },\n    on_timeline_finish: function(){\n        // clear the top left and top right displays\n        // get top-left element\n        let topLeft = document.querySelector(&quot;.top-left&quot;)\n        topLeft.innerHTML = &quot;&quot;\n\n        // get bottom element\n        let bottom = document.querySelector(&quot;.bottom&quot;)\n        bottom.innerHTML = &quot;&quot;\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-css-animations-ex-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-css-animations-ex-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}


/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

#score-container {
  display: flex;
  text-align: center;
  align-items: center;
  justify-content: center;
}

#health-container {
  padding: 8px;
}

.label {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 5px;
}

#health-bar {
  width: 100%;
  height: 10px;
  background-color: #ddd;
  border: 2px solid #333;
}

#health-fill {
  height: 100%;
  width: 100%;
  background-color: #e74c3c;
  transition: width 0.3s ease,
              background-color 0.4s ease;
}

#health-text {
  font-size: 14px;
  text-align: center;
}

#progress-container {
  padding: 10px;
}

#progress-bar {
  width: 100%;
  height: 10px;
  background-color: #ddd;
  border: 2px solid #333;
}

#progress-fill {
  height: 100%;
  width: 0%;
  background-color: #3498db;
  transition: width 0.3s ease;
}

#progress-text {
  font-size: 14px;
  text-align: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>  
    </div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// current health
let health = 100;

// progress variables
let totalTrials = 8;
let currentTrial = 0;

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
                
        // Select the health display elements
        let healthFill = document.querySelector(&quot;#health-fill&quot;);
        let healthText = document.querySelector(&quot;#health-text&quot;);

        // only remove health if incorrect
        if(!data.correct){
            health = health - 25

            if(health < 0){
               health = 0
            }
            
            // Update the visual bar
            healthFill.style.width = health + &quot;%&quot;;
          
            // Update the text display
            healthText.textContent = health + &quot;/100&quot;
          
            // Change color based on health level
            if (health > 60) {
              healthFill.style.background = &quot;linear-gradient(90deg, #2ecc71, #27ae60)&quot;;
            } else if (health > 30) {
              healthFill.style.background = &quot;linear-gradient(90deg, #f39c12, #e67e22)&quot;;
            } else {
              healthFill.style.background = &quot;linear-gradient(90deg, #e74c3c, #c0392b)&quot;;
            }

        }     

        // Select progress elements
        let progressFill = document.querySelector(&quot;#progress-fill&quot;);
        let progressText = document.querySelector(&quot;#progress-text&quot;);
      
        // Calculate percentage remaining
        currentTrial = currentTrial + 1
  
        let progressPercent = (currentTrial / totalTrials) * 100;
      
        // Update the visual bar
        progressFill.style.width = progressPercent + &quot;%&quot;;
      
        // Update the text display
        progressText.textContent = currentTrial + &quot;/&quot; + totalTrials;

    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        // get top-left element
        let topLeft = document.querySelector(&quot;.top-left&quot;)
        topLeft.innerHTML = ` <div id=&quot;health-container&quot;>
                               <div id=&quot;health-bar&quot;>
                                  <div id=&quot;health-fill&quot;></div>
                                </div>
                                <span id=&quot;health-text&quot;>100/100</span>
                              </div>`

        // get top-right element
        let bottom = document.querySelector(&quot;.bottom&quot;)
        bottom.innerHTML = `<div id=&quot;progress-container&quot;>
                                <span class=&quot;label&quot;>PROGRESS</span>
                                <div id=&quot;progress-bar&quot;>
                                  <div id=&quot;progress-fill&quot;></div>
                                </div>
                                <span id=&quot;progress-text&quot;>0/8</span>
                              </div>`

    },
    on_timeline_finish: function(){
        // clear the top left and top right displays
        // get top-left element
        let topLeft = document.querySelector(&quot;.top-left&quot;)
        topLeft.innerHTML = &quot;&quot;

        // get bottom element
        let bottom = document.querySelector(&quot;.bottom&quot;)
        bottom.innerHTML = &quot;&quot;
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-css-animations-ex-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-css-animations-ex-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-2-animating-the-stimulus-onset" class="level4" data-number="25.3.4.2">
<h4 data-number="25.3.4.2" class="anchored" data-anchor-id="example-2-animating-the-stimulus-onset"><span class="header-section-number">25.3.4.2</span> Example 2: Animating the Stimulus Onset</h4>
<p>We can also animate elements that are part of our stimulus by adding an animation class to our stimulus element. In this example, I’ve copied a CSS animation from animista into my stylesheet and applied it to the stimulus inside my stimulus function.</p>
<div class="cell">
<style type="text/css">
[id^="cb49-"]:nth-child(n+46):nth-child(-n+46),
[id^="cb50-"]:nth-child(n+79):nth-child(-n+119) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-4" role="tab" aria-controls="tabset-9-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="sourceCode" id="cb48"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb48-1"><a href="#cb48-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb48-6"><a href="#cb48-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-7"><a href="#cb48-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb48-8"><a href="#cb48-8"></a>    </span>
<span id="cb48-9"><a href="#cb48-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb48-10"><a href="#cb48-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-11"><a href="#cb48-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-12"><a href="#cb48-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-13"><a href="#cb48-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-14"><a href="#cb48-14"></a></span>
<span id="cb48-15"><a href="#cb48-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb48-16"><a href="#cb48-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb48-17"><a href="#cb48-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb48-18"><a href="#cb48-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb48-19"><a href="#cb48-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb48-20"><a href="#cb48-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb48-21"><a href="#cb48-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-22"><a href="#cb48-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-23"><a href="#cb48-23"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb48-24"><a href="#cb48-24"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb48-25"><a href="#cb48-25"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-26"><a href="#cb48-26"></a>    </span>
<span id="cb48-27"><a href="#cb48-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-28"><a href="#cb48-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-29"><a href="#cb48-29"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-30"><a href="#cb48-30"></a>    </span>
<span id="cb48-31"><a href="#cb48-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-32"><a href="#cb48-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-33"><a href="#cb48-33"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-34"><a href="#cb48-34"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-35"><a href="#cb48-35"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb48-36"><a href="#cb48-36"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb48-37"><a href="#cb48-37"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb48-38"><a href="#cb48-38"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb48-39"><a href="#cb48-39"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb48-40"><a href="#cb48-40"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="sourceCode" id="cb49"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb49-1"><a href="#cb49-1"></a> </span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="co">// ============================================</span></span>
<span id="cb49-3"><a href="#cb49-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb49-4"><a href="#cb49-4"></a><span class="co">// ============================================</span></span>
<span id="cb49-5"><a href="#cb49-5"></a></span>
<span id="cb49-6"><a href="#cb49-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb49-7"><a href="#cb49-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb49-8"><a href="#cb49-8"></a>                ) </span>
<span id="cb49-9"><a href="#cb49-9"></a></span>
<span id="cb49-10"><a href="#cb49-10"></a><span class="co">// ============================================</span></span>
<span id="cb49-11"><a href="#cb49-11"></a><span class="co">// Welcome</span></span>
<span id="cb49-12"><a href="#cb49-12"></a><span class="co">// ============================================</span></span>
<span id="cb49-13"><a href="#cb49-13"></a></span>
<span id="cb49-14"><a href="#cb49-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb49-15"><a href="#cb49-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb49-16"><a href="#cb49-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb49-17"><a href="#cb49-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb49-18"><a href="#cb49-18"></a>}</span>
<span id="cb49-19"><a href="#cb49-19"></a></span>
<span id="cb49-20"><a href="#cb49-20"></a><span class="co">// ============================================</span></span>
<span id="cb49-21"><a href="#cb49-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb49-22"><a href="#cb49-22"></a><span class="co">// ============================================</span></span>
<span id="cb49-23"><a href="#cb49-23"></a></span>
<span id="cb49-24"><a href="#cb49-24"></a><span class="co">// fixation</span></span>
<span id="cb49-25"><a href="#cb49-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb49-26"><a href="#cb49-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb49-27"><a href="#cb49-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb49-28"><a href="#cb49-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb49-29"><a href="#cb49-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb49-30"><a href="#cb49-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb49-31"><a href="#cb49-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb49-32"><a href="#cb49-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb49-33"><a href="#cb49-33"></a>    }</span>
<span id="cb49-34"><a href="#cb49-34"></a>}</span>
<span id="cb49-35"><a href="#cb49-35"></a></span>
<span id="cb49-36"><a href="#cb49-36"></a><span class="co">// stimulus</span></span>
<span id="cb49-37"><a href="#cb49-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb49-38"><a href="#cb49-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb49-39"><a href="#cb49-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb49-40"><a href="#cb49-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb49-41"><a href="#cb49-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb49-42"><a href="#cb49-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb49-43"><a href="#cb49-43"></a></span>
<span id="cb49-44"><a href="#cb49-44"></a>         <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb49-45"><a href="#cb49-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb49-46"><a href="#cb49-46"></a><span class="vs">            &lt;p class="tracking-in-expand" style="margin: 0; font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb49-47"><a href="#cb49-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb49-48"><a href="#cb49-48"></a><span class="vs">            &lt;/p&gt;`</span><span class="op">;</span></span>
<span id="cb49-49"><a href="#cb49-49"></a></span>
<span id="cb49-50"><a href="#cb49-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb49-51"><a href="#cb49-51"></a>    }<span class="op">,</span></span>
<span id="cb49-52"><a href="#cb49-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb49-53"><a href="#cb49-53"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb49-54"><a href="#cb49-54"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb49-55"><a href="#cb49-55"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb49-56"><a href="#cb49-56"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb49-57"><a href="#cb49-57"></a>    }<span class="op">,</span></span>
<span id="cb49-58"><a href="#cb49-58"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb49-59"><a href="#cb49-59"></a>        <span class="co">// store accuracy</span></span>
<span id="cb49-60"><a href="#cb49-60"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb49-61"><a href="#cb49-61"></a>    }</span>
<span id="cb49-62"><a href="#cb49-62"></a>}</span>
<span id="cb49-63"><a href="#cb49-63"></a></span>
<span id="cb49-64"><a href="#cb49-64"></a><span class="co">// exp timeline</span></span>
<span id="cb49-65"><a href="#cb49-65"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb49-66"><a href="#cb49-66"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb49-67"><a href="#cb49-67"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb49-68"><a href="#cb49-68"></a>        exp_stimulus</span>
<span id="cb49-69"><a href="#cb49-69"></a>    ]<span class="op">,</span></span>
<span id="cb49-70"><a href="#cb49-70"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb49-71"><a href="#cb49-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb49-72"><a href="#cb49-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb49-73"><a href="#cb49-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb49-74"><a href="#cb49-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb49-75"><a href="#cb49-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb49-76"><a href="#cb49-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb49-77"><a href="#cb49-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb49-78"><a href="#cb49-78"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb49-79"><a href="#cb49-79"></a>    ]<span class="op">,</span></span>
<span id="cb49-80"><a href="#cb49-80"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb49-81"><a href="#cb49-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb49-82"><a href="#cb49-82"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb49-83"><a href="#cb49-83"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb49-84"><a href="#cb49-84"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb49-85"><a href="#cb49-85"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb49-86"><a href="#cb49-86"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb49-87"><a href="#cb49-87"></a>    }</span>
<span id="cb49-88"><a href="#cb49-88"></a>}<span class="op">;</span></span>
<span id="cb49-89"><a href="#cb49-89"></a></span>
<span id="cb49-90"><a href="#cb49-90"></a></span>
<span id="cb49-91"><a href="#cb49-91"></a><span class="co">// ============================================</span></span>
<span id="cb49-92"><a href="#cb49-92"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb49-93"><a href="#cb49-93"></a><span class="co">// ============================================</span></span>
<span id="cb49-94"><a href="#cb49-94"></a></span>
<span id="cb49-95"><a href="#cb49-95"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb49-96"><a href="#cb49-96"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb49-97"><a href="#cb49-97"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb49-98"><a href="#cb49-98"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb49-99"><a href="#cb49-99"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb49-100"><a href="#cb49-100"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb49-101"><a href="#cb49-101"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb49-102"><a href="#cb49-102"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb49-103"><a href="#cb49-103"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb49-104"><a href="#cb49-104"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb49-105"><a href="#cb49-105"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb49-106"><a href="#cb49-106"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb49-107"><a href="#cb49-107"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb49-108"><a href="#cb49-108"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb49-109"><a href="#cb49-109"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb49-110"><a href="#cb49-110"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb49-111"><a href="#cb49-111"></a>    })<span class="op">;</span></span>
<span id="cb49-112"><a href="#cb49-112"></a>  }<span class="op">,</span></span>
<span id="cb49-113"><a href="#cb49-113"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb49-114"><a href="#cb49-114"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb49-115"><a href="#cb49-115"></a>  }</span>
<span id="cb49-116"><a href="#cb49-116"></a>}<span class="op">;</span></span>
<span id="cb49-117"><a href="#cb49-117"></a></span>
<span id="cb49-118"><a href="#cb49-118"></a><span class="co">// ============================================</span></span>
<span id="cb49-119"><a href="#cb49-119"></a><span class="co">// Run jsPsych </span></span>
<span id="cb49-120"><a href="#cb49-120"></a><span class="co">// ============================================</span></span>
<span id="cb49-121"><a href="#cb49-121"></a></span>
<span id="cb49-122"><a href="#cb49-122"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb49-123"><a href="#cb49-123"></a>  welcome<span class="op">,</span></span>
<span id="cb49-124"><a href="#cb49-124"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb49-125"><a href="#cb49-125"></a>  saveData</span>
<span id="cb49-126"><a href="#cb49-126"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="sourceCode" id="cb50"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb50-1"><a href="#cb50-1"></a> body {</span>
<span id="cb50-2"><a href="#cb50-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb50-4"><a href="#cb50-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb50-5"><a href="#cb50-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb50-6"><a href="#cb50-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb50-7"><a href="#cb50-7"></a>}</span>
<span id="cb50-8"><a href="#cb50-8"></a></span>
<span id="cb50-9"><a href="#cb50-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb50-10"><a href="#cb50-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb50-11"><a href="#cb50-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb50-12"><a href="#cb50-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb50-13"><a href="#cb50-13"></a>}</span>
<span id="cb50-14"><a href="#cb50-14"></a></span>
<span id="cb50-15"><a href="#cb50-15"></a><span class="fu">.grid</span> {</span>
<span id="cb50-16"><a href="#cb50-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb50-17"><a href="#cb50-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb50-18"><a href="#cb50-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb50-19"><a href="#cb50-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-20"><a href="#cb50-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-21"><a href="#cb50-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb50-22"><a href="#cb50-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb50-23"><a href="#cb50-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb50-24"><a href="#cb50-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb50-25"><a href="#cb50-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb50-26"><a href="#cb50-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb50-27"><a href="#cb50-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb50-28"><a href="#cb50-28"></a>   </span>
<span id="cb50-29"><a href="#cb50-29"></a>}</span>
<span id="cb50-30"><a href="#cb50-30"></a></span>
<span id="cb50-31"><a href="#cb50-31"></a></span>
<span id="cb50-32"><a href="#cb50-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb50-33"><a href="#cb50-33"></a><span class="fu">.top-left</span> {</span>
<span id="cb50-34"><a href="#cb50-34"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb50-35"><a href="#cb50-35"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-36"><a href="#cb50-36"></a>}</span>
<span id="cb50-37"><a href="#cb50-37"></a></span>
<span id="cb50-38"><a href="#cb50-38"></a><span class="fu">.top-right</span> {</span>
<span id="cb50-39"><a href="#cb50-39"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb50-40"><a href="#cb50-40"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-41"><a href="#cb50-41"></a>}</span>
<span id="cb50-42"><a href="#cb50-42"></a></span>
<span id="cb50-43"><a href="#cb50-43"></a><span class="fu">.top</span> {</span>
<span id="cb50-44"><a href="#cb50-44"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb50-45"><a href="#cb50-45"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-46"><a href="#cb50-46"></a>}</span>
<span id="cb50-47"><a href="#cb50-47"></a></span>
<span id="cb50-48"><a href="#cb50-48"></a><span class="fu">.center</span> {</span>
<span id="cb50-49"><a href="#cb50-49"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb50-50"><a href="#cb50-50"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-51"><a href="#cb50-51"></a>}</span>
<span id="cb50-52"><a href="#cb50-52"></a></span>
<span id="cb50-53"><a href="#cb50-53"></a><span class="fu">.left</span> {</span>
<span id="cb50-54"><a href="#cb50-54"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb50-55"><a href="#cb50-55"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-56"><a href="#cb50-56"></a>}</span>
<span id="cb50-57"><a href="#cb50-57"></a></span>
<span id="cb50-58"><a href="#cb50-58"></a><span class="fu">.right</span> {</span>
<span id="cb50-59"><a href="#cb50-59"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb50-60"><a href="#cb50-60"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-61"><a href="#cb50-61"></a>}</span>
<span id="cb50-62"><a href="#cb50-62"></a></span>
<span id="cb50-63"><a href="#cb50-63"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb50-64"><a href="#cb50-64"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb50-65"><a href="#cb50-65"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-66"><a href="#cb50-66"></a>}</span>
<span id="cb50-67"><a href="#cb50-67"></a></span>
<span id="cb50-68"><a href="#cb50-68"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb50-69"><a href="#cb50-69"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb50-70"><a href="#cb50-70"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-71"><a href="#cb50-71"></a>}</span>
<span id="cb50-72"><a href="#cb50-72"></a></span>
<span id="cb50-73"><a href="#cb50-73"></a><span class="fu">.bottom</span> {</span>
<span id="cb50-74"><a href="#cb50-74"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb50-75"><a href="#cb50-75"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb50-76"><a href="#cb50-76"></a>}</span>
<span id="cb50-77"><a href="#cb50-77"></a></span>
<span id="cb50-78"><a href="#cb50-78"></a></span>
<span id="cb50-79"><a href="#cb50-79"></a><span class="fu">.tracking-in-expand</span> {</span>
<span id="cb50-80"><a href="#cb50-80"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">tracking-in-expand 0.35</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.215</span><span class="op">,</span> <span class="dv">0.610</span><span class="op">,</span> <span class="dv">0.355</span><span class="op">,</span> <span class="dv">1.000</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb50-81"><a href="#cb50-81"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">tracking-in-expand 0.35</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.215</span><span class="op">,</span> <span class="dv">0.610</span><span class="op">,</span> <span class="dv">0.355</span><span class="op">,</span> <span class="dv">1.000</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb50-82"><a href="#cb50-82"></a>}</span>
<span id="cb50-83"><a href="#cb50-83"></a></span>
<span id="cb50-84"><a href="#cb50-84"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb50-85"><a href="#cb50-85"></a><span class="co"> * Generated by Animista on 2025-10-18 10:56:6</span></span>
<span id="cb50-86"><a href="#cb50-86"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb50-87"><a href="#cb50-87"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb50-88"><a href="#cb50-88"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb50-89"><a href="#cb50-89"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb50-90"><a href="#cb50-90"></a></span>
<span id="cb50-91"><a href="#cb50-91"></a><span class="co">/**</span></span>
<span id="cb50-92"><a href="#cb50-92"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb50-93"><a href="#cb50-93"></a><span class="co"> * animation tracking-in-expand</span></span>
<span id="cb50-94"><a href="#cb50-94"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb50-95"><a href="#cb50-95"></a><span class="co"> */</span></span>
<span id="cb50-96"><a href="#cb50-96"></a><span class="im">@-webkit-keyframes</span> tracking-in-expand {</span>
<span id="cb50-97"><a href="#cb50-97"></a>  0% {</span>
<span id="cb50-98"><a href="#cb50-98"></a>    <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">-0.5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb50-99"><a href="#cb50-99"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb50-100"><a href="#cb50-100"></a>  }</span>
<span id="cb50-101"><a href="#cb50-101"></a>  40% {</span>
<span id="cb50-102"><a href="#cb50-102"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.6</span><span class="op">;</span></span>
<span id="cb50-103"><a href="#cb50-103"></a>  }</span>
<span id="cb50-104"><a href="#cb50-104"></a>  100% {</span>
<span id="cb50-105"><a href="#cb50-105"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb50-106"><a href="#cb50-106"></a>  }</span>
<span id="cb50-107"><a href="#cb50-107"></a>}</span>
<span id="cb50-108"><a href="#cb50-108"></a><span class="im">@keyframes</span> tracking-in-expand {</span>
<span id="cb50-109"><a href="#cb50-109"></a>  <span class="dv">0%</span> {</span>
<span id="cb50-110"><a href="#cb50-110"></a>    <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">-0.5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb50-111"><a href="#cb50-111"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb50-112"><a href="#cb50-112"></a>  }</span>
<span id="cb50-113"><a href="#cb50-113"></a>  <span class="dv">40%</span> {</span>
<span id="cb50-114"><a href="#cb50-114"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.6</span><span class="op">;</span></span>
<span id="cb50-115"><a href="#cb50-115"></a>  }</span>
<span id="cb50-116"><a href="#cb50-116"></a>  <span class="dv">100%</span> {</span>
<span id="cb50-117"><a href="#cb50-117"></a>    <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb50-118"><a href="#cb50-118"></a>  }</span>
<span id="cb50-119"><a href="#cb50-119"></a>}</span>
<span id="cb50-120"><a href="#cb50-120"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-4-tab">
<div id="demo-container-css-animations-ex-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-css-animations-ex-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n\n.tracking-in-expand {\n   -webkit-animation: tracking-in-expand 0.35s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;\n            animation: tracking-in-expand 0.35s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-18 10:56:6\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation tracking-in-expand\n * ----------------------------------------\n */\n@-webkit-keyframes tracking-in-expand {\n  0% {\n    letter-spacing: -0.5em;\n    opacity: 0;\n  }\n  40% {\n    opacity: 0.6;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes tracking-in-expand {\n  0% {\n    letter-spacing: -0.5em;\n    opacity: 0;\n  }\n  40% {\n    opacity: 0.6;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>  \n    </div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n         // Create HTML with custom spacing\n        let output = `\n            <p class=&quot;tracking-in-expand&quot; style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </p>`;\n\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-css-animations-ex-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-css-animations-ex-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}


/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}


.tracking-in-expand {
   -webkit-animation: tracking-in-expand 0.35s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
         animation: tracking-in-expand 0.35s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-18 10:56:6
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation tracking-in-expand
 * ----------------------------------------
 */
@-webkit-keyframes tracking-in-expand {
  0% {
    letter-spacing: -0.5em;
    opacity: 0;
  }
  40% {
    opacity: 0.6;
  }
  100% {
    opacity: 1;
  }
}
@keyframes tracking-in-expand {
  0% {
    letter-spacing: -0.5em;
    opacity: 0;
  }
  40% {
    opacity: 0.6;
  }
  100% {
    opacity: 1;
  }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>  
    </div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

         // Create HTML with custom spacing
        let output = `
            <p class=&quot;tracking-in-expand&quot; style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </p>`;


        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-css-animations-ex-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-css-animations-ex-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-3-animating-feedback" class="level4" data-number="25.3.4.3">
<h4 data-number="25.3.4.3" class="anchored" data-anchor-id="example-3-animating-feedback"><span class="header-section-number">25.3.4.3</span> Example 3: Animating Feedback</h4>
<p>A useful place for animations are during the feedback. We can apply similar logic inside our function to change the kind of animation depending on the type of feedback. Again, the CSS I’m using the animations is copied from animista.</p>
<div class="cell">
<style type="text/css">
[id^="cb52-"]:nth-child(n+71):nth-child(-n+88),
[id^="cb53-"]:nth-child(n+77):nth-child(-n+244) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-4" role="tab" aria-controls="tabset-10-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="sourceCode" id="cb51"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb51-1"><a href="#cb51-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb51-3"><a href="#cb51-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb51-4"><a href="#cb51-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-7"><a href="#cb51-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb51-8"><a href="#cb51-8"></a>    </span>
<span id="cb51-9"><a href="#cb51-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb51-10"><a href="#cb51-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-11"><a href="#cb51-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-12"><a href="#cb51-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-13"><a href="#cb51-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-14"><a href="#cb51-14"></a></span>
<span id="cb51-15"><a href="#cb51-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb51-16"><a href="#cb51-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb51-17"><a href="#cb51-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb51-18"><a href="#cb51-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb51-19"><a href="#cb51-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb51-20"><a href="#cb51-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb51-21"><a href="#cb51-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-22"><a href="#cb51-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-23"><a href="#cb51-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb51-24"><a href="#cb51-24"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb51-25"><a href="#cb51-25"></a>          <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb51-26"><a href="#cb51-26"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-27"><a href="#cb51-27"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-28"><a href="#cb51-28"></a>      </span>
<span id="cb51-29"><a href="#cb51-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-30"><a href="#cb51-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-31"><a href="#cb51-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-32"><a href="#cb51-32"></a>      </span>
<span id="cb51-33"><a href="#cb51-33"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-34"><a href="#cb51-34"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-35"><a href="#cb51-35"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-36"><a href="#cb51-36"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-37"><a href="#cb51-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb51-38"><a href="#cb51-38"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb51-39"><a href="#cb51-39"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb51-40"><a href="#cb51-40"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb51-41"><a href="#cb51-41"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb51-42"><a href="#cb51-42"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb52-1"><a href="#cb52-1"></a> </span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="co">// ============================================</span></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb52-4"><a href="#cb52-4"></a><span class="co">// ============================================</span></span>
<span id="cb52-5"><a href="#cb52-5"></a></span>
<span id="cb52-6"><a href="#cb52-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb52-7"><a href="#cb52-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb52-8"><a href="#cb52-8"></a>                ) </span>
<span id="cb52-9"><a href="#cb52-9"></a></span>
<span id="cb52-10"><a href="#cb52-10"></a><span class="co">// ============================================</span></span>
<span id="cb52-11"><a href="#cb52-11"></a><span class="co">// Trackers</span></span>
<span id="cb52-12"><a href="#cb52-12"></a><span class="co">// ============================================</span></span>
<span id="cb52-13"><a href="#cb52-13"></a></span>
<span id="cb52-14"><a href="#cb52-14"></a><span class="co">// current score</span></span>
<span id="cb52-15"><a href="#cb52-15"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb52-16"><a href="#cb52-16"></a></span>
<span id="cb52-17"><a href="#cb52-17"></a></span>
<span id="cb52-18"><a href="#cb52-18"></a><span class="co">// ============================================</span></span>
<span id="cb52-19"><a href="#cb52-19"></a><span class="co">// Welcome</span></span>
<span id="cb52-20"><a href="#cb52-20"></a><span class="co">// ============================================</span></span>
<span id="cb52-21"><a href="#cb52-21"></a></span>
<span id="cb52-22"><a href="#cb52-22"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb52-23"><a href="#cb52-23"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb52-24"><a href="#cb52-24"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb52-25"><a href="#cb52-25"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb52-26"><a href="#cb52-26"></a>}</span>
<span id="cb52-27"><a href="#cb52-27"></a></span>
<span id="cb52-28"><a href="#cb52-28"></a><span class="co">// ============================================</span></span>
<span id="cb52-29"><a href="#cb52-29"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb52-30"><a href="#cb52-30"></a><span class="co">// ============================================</span></span>
<span id="cb52-31"><a href="#cb52-31"></a></span>
<span id="cb52-32"><a href="#cb52-32"></a><span class="co">// fixation</span></span>
<span id="cb52-33"><a href="#cb52-33"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb52-34"><a href="#cb52-34"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb52-35"><a href="#cb52-35"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb52-36"><a href="#cb52-36"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb52-37"><a href="#cb52-37"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb52-38"><a href="#cb52-38"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb52-39"><a href="#cb52-39"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb52-40"><a href="#cb52-40"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb52-41"><a href="#cb52-41"></a>    }</span>
<span id="cb52-42"><a href="#cb52-42"></a>}</span>
<span id="cb52-43"><a href="#cb52-43"></a></span>
<span id="cb52-44"><a href="#cb52-44"></a><span class="co">// stimulus</span></span>
<span id="cb52-45"><a href="#cb52-45"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb52-46"><a href="#cb52-46"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb52-47"><a href="#cb52-47"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb52-48"><a href="#cb52-48"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb52-49"><a href="#cb52-49"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb52-50"><a href="#cb52-50"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb52-51"><a href="#cb52-51"></a></span>
<span id="cb52-52"><a href="#cb52-52"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb52-53"><a href="#cb52-53"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb52-54"><a href="#cb52-54"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb52-55"><a href="#cb52-55"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb52-56"><a href="#cb52-56"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb52-57"><a href="#cb52-57"></a></span>
<span id="cb52-58"><a href="#cb52-58"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb52-59"><a href="#cb52-59"></a>    }<span class="op">,</span></span>
<span id="cb52-60"><a href="#cb52-60"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb52-61"><a href="#cb52-61"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb52-62"><a href="#cb52-62"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb52-63"><a href="#cb52-63"></a>    }<span class="op">,</span></span>
<span id="cb52-64"><a href="#cb52-64"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb52-65"><a href="#cb52-65"></a>        <span class="co">// store accuracy</span></span>
<span id="cb52-66"><a href="#cb52-66"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb52-67"><a href="#cb52-67"></a>    }</span>
<span id="cb52-68"><a href="#cb52-68"></a>}</span>
<span id="cb52-69"><a href="#cb52-69"></a></span>
<span id="cb52-70"><a href="#cb52-70"></a></span>
<span id="cb52-71"><a href="#cb52-71"></a><span class="co">// feedback</span></span>
<span id="cb52-72"><a href="#cb52-72"></a><span class="kw">let</span> exp_feedback <span class="op">=</span> {</span>
<span id="cb52-73"><a href="#cb52-73"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb52-74"><a href="#cb52-74"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb52-75"><a href="#cb52-75"></a>        <span class="cf">if</span>(jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()[<span class="dv">0</span>]<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb52-76"><a href="#cb52-76"></a>            <span class="cf">return</span> <span class="vs">`&lt;p style="color:green" class="points-popup heartbeat"&gt;+100!&lt;/p&gt;`</span></span>
<span id="cb52-77"><a href="#cb52-77"></a>        } <span class="cf">else</span> {</span>
<span id="cb52-78"><a href="#cb52-78"></a>            <span class="cf">return</span> <span class="vs">`&lt;p  style="color:red" class="points-popup shake-horizontal"&gt;-100!&lt;/p&gt;`</span></span>
<span id="cb52-79"><a href="#cb52-79"></a>        }</span>
<span id="cb52-80"><a href="#cb52-80"></a></span>
<span id="cb52-81"><a href="#cb52-81"></a>    }<span class="op">,</span></span>
<span id="cb52-82"><a href="#cb52-82"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb52-83"><a href="#cb52-83"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1500</span><span class="op">,</span></span>
<span id="cb52-84"><a href="#cb52-84"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb52-85"><a href="#cb52-85"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb52-86"><a href="#cb52-86"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb52-87"><a href="#cb52-87"></a>    }</span>
<span id="cb52-88"><a href="#cb52-88"></a>}</span>
<span id="cb52-89"><a href="#cb52-89"></a></span>
<span id="cb52-90"><a href="#cb52-90"></a><span class="co">// exp timeline</span></span>
<span id="cb52-91"><a href="#cb52-91"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb52-92"><a href="#cb52-92"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb52-93"><a href="#cb52-93"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb52-94"><a href="#cb52-94"></a>        exp_stimulus<span class="op">,</span></span>
<span id="cb52-95"><a href="#cb52-95"></a>        exp_feedback</span>
<span id="cb52-96"><a href="#cb52-96"></a>    ]<span class="op">,</span></span>
<span id="cb52-97"><a href="#cb52-97"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb52-98"><a href="#cb52-98"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb52-99"><a href="#cb52-99"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb52-100"><a href="#cb52-100"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb52-101"><a href="#cb52-101"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb52-102"><a href="#cb52-102"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb52-103"><a href="#cb52-103"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb52-104"><a href="#cb52-104"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb52-105"><a href="#cb52-105"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb52-106"><a href="#cb52-106"></a>    ]<span class="op">,</span></span>
<span id="cb52-107"><a href="#cb52-107"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb52-108"><a href="#cb52-108"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb52-109"><a href="#cb52-109"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb52-110"><a href="#cb52-110"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb52-111"><a href="#cb52-111"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb52-112"><a href="#cb52-112"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb52-113"><a href="#cb52-113"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb52-114"><a href="#cb52-114"></a>    }</span>
<span id="cb52-115"><a href="#cb52-115"></a>}<span class="op">;</span></span>
<span id="cb52-116"><a href="#cb52-116"></a></span>
<span id="cb52-117"><a href="#cb52-117"></a></span>
<span id="cb52-118"><a href="#cb52-118"></a><span class="co">// ============================================</span></span>
<span id="cb52-119"><a href="#cb52-119"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb52-120"><a href="#cb52-120"></a><span class="co">// ============================================</span></span>
<span id="cb52-121"><a href="#cb52-121"></a></span>
<span id="cb52-122"><a href="#cb52-122"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb52-123"><a href="#cb52-123"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb52-124"><a href="#cb52-124"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb52-125"><a href="#cb52-125"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb52-126"><a href="#cb52-126"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb52-127"><a href="#cb52-127"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb52-128"><a href="#cb52-128"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb52-129"><a href="#cb52-129"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb52-130"><a href="#cb52-130"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb52-131"><a href="#cb52-131"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb52-132"><a href="#cb52-132"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb52-133"><a href="#cb52-133"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb52-134"><a href="#cb52-134"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb52-135"><a href="#cb52-135"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb52-136"><a href="#cb52-136"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb52-137"><a href="#cb52-137"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb52-138"><a href="#cb52-138"></a>    })<span class="op">;</span></span>
<span id="cb52-139"><a href="#cb52-139"></a>  }<span class="op">,</span></span>
<span id="cb52-140"><a href="#cb52-140"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb52-141"><a href="#cb52-141"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb52-142"><a href="#cb52-142"></a>  }</span>
<span id="cb52-143"><a href="#cb52-143"></a>}<span class="op">;</span></span>
<span id="cb52-144"><a href="#cb52-144"></a></span>
<span id="cb52-145"><a href="#cb52-145"></a><span class="co">// ============================================</span></span>
<span id="cb52-146"><a href="#cb52-146"></a><span class="co">// Run jsPsych </span></span>
<span id="cb52-147"><a href="#cb52-147"></a><span class="co">// ============================================</span></span>
<span id="cb52-148"><a href="#cb52-148"></a></span>
<span id="cb52-149"><a href="#cb52-149"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb52-150"><a href="#cb52-150"></a>  welcome<span class="op">,</span></span>
<span id="cb52-151"><a href="#cb52-151"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb52-152"><a href="#cb52-152"></a>  saveData</span>
<span id="cb52-153"><a href="#cb52-153"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="sourceCode" id="cb53"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb53-1"><a href="#cb53-1"></a> body {</span>
<span id="cb53-2"><a href="#cb53-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-4"><a href="#cb53-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-5"><a href="#cb53-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb53-6"><a href="#cb53-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb53-7"><a href="#cb53-7"></a>}</span>
<span id="cb53-8"><a href="#cb53-8"></a></span>
<span id="cb53-9"><a href="#cb53-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb53-10"><a href="#cb53-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb53-11"><a href="#cb53-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb53-12"><a href="#cb53-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb53-13"><a href="#cb53-13"></a>}</span>
<span id="cb53-14"><a href="#cb53-14"></a></span>
<span id="cb53-15"><a href="#cb53-15"></a><span class="fu">.grid</span> {</span>
<span id="cb53-16"><a href="#cb53-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb53-17"><a href="#cb53-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb53-18"><a href="#cb53-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb53-19"><a href="#cb53-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-20"><a href="#cb53-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-21"><a href="#cb53-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb53-22"><a href="#cb53-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb53-23"><a href="#cb53-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb53-24"><a href="#cb53-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb53-25"><a href="#cb53-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb53-26"><a href="#cb53-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb53-27"><a href="#cb53-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb53-28"><a href="#cb53-28"></a>  </span>
<span id="cb53-29"><a href="#cb53-29"></a>}</span>
<span id="cb53-30"><a href="#cb53-30"></a></span>
<span id="cb53-31"><a href="#cb53-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb53-32"><a href="#cb53-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb53-33"><a href="#cb53-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb53-34"><a href="#cb53-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-35"><a href="#cb53-35"></a>}</span>
<span id="cb53-36"><a href="#cb53-36"></a></span>
<span id="cb53-37"><a href="#cb53-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb53-38"><a href="#cb53-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb53-39"><a href="#cb53-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-40"><a href="#cb53-40"></a>}</span>
<span id="cb53-41"><a href="#cb53-41"></a></span>
<span id="cb53-42"><a href="#cb53-42"></a><span class="fu">.top</span> {</span>
<span id="cb53-43"><a href="#cb53-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb53-44"><a href="#cb53-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-45"><a href="#cb53-45"></a>}</span>
<span id="cb53-46"><a href="#cb53-46"></a></span>
<span id="cb53-47"><a href="#cb53-47"></a><span class="fu">.center</span> {</span>
<span id="cb53-48"><a href="#cb53-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-49"><a href="#cb53-49"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-50"><a href="#cb53-50"></a>}</span>
<span id="cb53-51"><a href="#cb53-51"></a></span>
<span id="cb53-52"><a href="#cb53-52"></a><span class="fu">.left</span> {</span>
<span id="cb53-53"><a href="#cb53-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb53-54"><a href="#cb53-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-55"><a href="#cb53-55"></a>}</span>
<span id="cb53-56"><a href="#cb53-56"></a></span>
<span id="cb53-57"><a href="#cb53-57"></a><span class="fu">.right</span> {</span>
<span id="cb53-58"><a href="#cb53-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb53-59"><a href="#cb53-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-60"><a href="#cb53-60"></a>}</span>
<span id="cb53-61"><a href="#cb53-61"></a></span>
<span id="cb53-62"><a href="#cb53-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb53-63"><a href="#cb53-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb53-64"><a href="#cb53-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-65"><a href="#cb53-65"></a>}</span>
<span id="cb53-66"><a href="#cb53-66"></a></span>
<span id="cb53-67"><a href="#cb53-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb53-68"><a href="#cb53-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb53-69"><a href="#cb53-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-70"><a href="#cb53-70"></a>}</span>
<span id="cb53-71"><a href="#cb53-71"></a></span>
<span id="cb53-72"><a href="#cb53-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb53-73"><a href="#cb53-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb53-74"><a href="#cb53-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-75"><a href="#cb53-75"></a>}</span>
<span id="cb53-76"><a href="#cb53-76"></a></span>
<span id="cb53-77"><a href="#cb53-77"></a><span class="fu">.points-popup</span> {</span>
<span id="cb53-78"><a href="#cb53-78"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">2.5</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb53-79"><a href="#cb53-79"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb53-80"><a href="#cb53-80"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#FFD700</span><span class="op">;</span></span>
<span id="cb53-81"><a href="#cb53-81"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-82"><a href="#cb53-82"></a>}</span>
<span id="cb53-83"><a href="#cb53-83"></a></span>
<span id="cb53-84"><a href="#cb53-84"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb53-85"><a href="#cb53-85"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb53-86"><a href="#cb53-86"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb53-87"><a href="#cb53-87"></a>}</span>
<span id="cb53-88"><a href="#cb53-88"></a></span>
<span id="cb53-89"><a href="#cb53-89"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb53-90"><a href="#cb53-90"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb53-91"><a href="#cb53-91"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb53-92"><a href="#cb53-92"></a>}</span>
<span id="cb53-93"><a href="#cb53-93"></a></span>
<span id="cb53-94"><a href="#cb53-94"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb53-95"><a href="#cb53-95"></a><span class="co"> * Generated by Animista on 2025-10-19 20:47:34</span></span>
<span id="cb53-96"><a href="#cb53-96"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb53-97"><a href="#cb53-97"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb53-98"><a href="#cb53-98"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb53-99"><a href="#cb53-99"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb53-100"><a href="#cb53-100"></a></span>
<span id="cb53-101"><a href="#cb53-101"></a><span class="co">/**</span></span>
<span id="cb53-102"><a href="#cb53-102"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb53-103"><a href="#cb53-103"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb53-104"><a href="#cb53-104"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb53-105"><a href="#cb53-105"></a><span class="co"> */</span></span>
<span id="cb53-106"><a href="#cb53-106"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb53-107"><a href="#cb53-107"></a>  from {</span>
<span id="cb53-108"><a href="#cb53-108"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-109"><a href="#cb53-109"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-110"><a href="#cb53-110"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-111"><a href="#cb53-111"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-112"><a href="#cb53-112"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-113"><a href="#cb53-113"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-114"><a href="#cb53-114"></a>  }</span>
<span id="cb53-115"><a href="#cb53-115"></a>  10% {</span>
<span id="cb53-116"><a href="#cb53-116"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-117"><a href="#cb53-117"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-118"><a href="#cb53-118"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-119"><a href="#cb53-119"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-120"><a href="#cb53-120"></a>  }</span>
<span id="cb53-121"><a href="#cb53-121"></a>  17% {</span>
<span id="cb53-122"><a href="#cb53-122"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-123"><a href="#cb53-123"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-124"><a href="#cb53-124"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-125"><a href="#cb53-125"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-126"><a href="#cb53-126"></a>  }</span>
<span id="cb53-127"><a href="#cb53-127"></a>  33% {</span>
<span id="cb53-128"><a href="#cb53-128"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-129"><a href="#cb53-129"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-130"><a href="#cb53-130"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-131"><a href="#cb53-131"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-132"><a href="#cb53-132"></a>  }</span>
<span id="cb53-133"><a href="#cb53-133"></a>  45% {</span>
<span id="cb53-134"><a href="#cb53-134"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-135"><a href="#cb53-135"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-136"><a href="#cb53-136"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-137"><a href="#cb53-137"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-138"><a href="#cb53-138"></a>  }</span>
<span id="cb53-139"><a href="#cb53-139"></a>}</span>
<span id="cb53-140"><a href="#cb53-140"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb53-141"><a href="#cb53-141"></a>  <span class="dv">from</span> {</span>
<span id="cb53-142"><a href="#cb53-142"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-143"><a href="#cb53-143"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-144"><a href="#cb53-144"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-145"><a href="#cb53-145"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb53-146"><a href="#cb53-146"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-147"><a href="#cb53-147"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-148"><a href="#cb53-148"></a>  }</span>
<span id="cb53-149"><a href="#cb53-149"></a>  <span class="dv">10%</span> {</span>
<span id="cb53-150"><a href="#cb53-150"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-151"><a href="#cb53-151"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-152"><a href="#cb53-152"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-153"><a href="#cb53-153"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-154"><a href="#cb53-154"></a>  }</span>
<span id="cb53-155"><a href="#cb53-155"></a>  <span class="dv">17%</span> {</span>
<span id="cb53-156"><a href="#cb53-156"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-157"><a href="#cb53-157"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-158"><a href="#cb53-158"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-159"><a href="#cb53-159"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-160"><a href="#cb53-160"></a>  }</span>
<span id="cb53-161"><a href="#cb53-161"></a>  <span class="dv">33%</span> {</span>
<span id="cb53-162"><a href="#cb53-162"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-163"><a href="#cb53-163"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-164"><a href="#cb53-164"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-165"><a href="#cb53-165"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb53-166"><a href="#cb53-166"></a>  }</span>
<span id="cb53-167"><a href="#cb53-167"></a>  <span class="dv">45%</span> {</span>
<span id="cb53-168"><a href="#cb53-168"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-169"><a href="#cb53-169"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-170"><a href="#cb53-170"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-171"><a href="#cb53-171"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb53-172"><a href="#cb53-172"></a>  }</span>
<span id="cb53-173"><a href="#cb53-173"></a>}</span>
<span id="cb53-174"><a href="#cb53-174"></a></span>
<span id="cb53-175"><a href="#cb53-175"></a></span>
<span id="cb53-176"><a href="#cb53-176"></a></span>
<span id="cb53-177"><a href="#cb53-177"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb53-178"><a href="#cb53-178"></a><span class="co"> * Generated by Animista on 2025-10-19 20:38:1</span></span>
<span id="cb53-179"><a href="#cb53-179"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb53-180"><a href="#cb53-180"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb53-181"><a href="#cb53-181"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb53-182"><a href="#cb53-182"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb53-183"><a href="#cb53-183"></a></span>
<span id="cb53-184"><a href="#cb53-184"></a><span class="co">/**</span></span>
<span id="cb53-185"><a href="#cb53-185"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb53-186"><a href="#cb53-186"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb53-187"><a href="#cb53-187"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb53-188"><a href="#cb53-188"></a><span class="co"> */</span></span>
<span id="cb53-189"><a href="#cb53-189"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb53-190"><a href="#cb53-190"></a>  0%<span class="op">,</span></span>
<span id="cb53-191"><a href="#cb53-191"></a>  100% {</span>
<span id="cb53-192"><a href="#cb53-192"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-193"><a href="#cb53-193"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-194"><a href="#cb53-194"></a>  }</span>
<span id="cb53-195"><a href="#cb53-195"></a>  10%<span class="op">,</span></span>
<span id="cb53-196"><a href="#cb53-196"></a>  30%<span class="op">,</span></span>
<span id="cb53-197"><a href="#cb53-197"></a>  50%<span class="op">,</span></span>
<span id="cb53-198"><a href="#cb53-198"></a>  70% {</span>
<span id="cb53-199"><a href="#cb53-199"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-200"><a href="#cb53-200"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-201"><a href="#cb53-201"></a>  }</span>
<span id="cb53-202"><a href="#cb53-202"></a>  20%<span class="op">,</span></span>
<span id="cb53-203"><a href="#cb53-203"></a>  40%<span class="op">,</span></span>
<span id="cb53-204"><a href="#cb53-204"></a>  60% {</span>
<span id="cb53-205"><a href="#cb53-205"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-206"><a href="#cb53-206"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-207"><a href="#cb53-207"></a>  }</span>
<span id="cb53-208"><a href="#cb53-208"></a>  80% {</span>
<span id="cb53-209"><a href="#cb53-209"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-210"><a href="#cb53-210"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-211"><a href="#cb53-211"></a>  }</span>
<span id="cb53-212"><a href="#cb53-212"></a>  90% {</span>
<span id="cb53-213"><a href="#cb53-213"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-214"><a href="#cb53-214"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-215"><a href="#cb53-215"></a>  }</span>
<span id="cb53-216"><a href="#cb53-216"></a>}</span>
<span id="cb53-217"><a href="#cb53-217"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb53-218"><a href="#cb53-218"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb53-219"><a href="#cb53-219"></a>  <span class="dv">100%</span> {</span>
<span id="cb53-220"><a href="#cb53-220"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-221"><a href="#cb53-221"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-222"><a href="#cb53-222"></a>  }</span>
<span id="cb53-223"><a href="#cb53-223"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb53-224"><a href="#cb53-224"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb53-225"><a href="#cb53-225"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb53-226"><a href="#cb53-226"></a>  <span class="dv">70%</span> {</span>
<span id="cb53-227"><a href="#cb53-227"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-228"><a href="#cb53-228"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-229"><a href="#cb53-229"></a>  }</span>
<span id="cb53-230"><a href="#cb53-230"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb53-231"><a href="#cb53-231"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb53-232"><a href="#cb53-232"></a>  <span class="dv">60%</span> {</span>
<span id="cb53-233"><a href="#cb53-233"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-234"><a href="#cb53-234"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-235"><a href="#cb53-235"></a>  }</span>
<span id="cb53-236"><a href="#cb53-236"></a>  <span class="dv">80%</span> {</span>
<span id="cb53-237"><a href="#cb53-237"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-238"><a href="#cb53-238"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-239"><a href="#cb53-239"></a>  }</span>
<span id="cb53-240"><a href="#cb53-240"></a>  <span class="dv">90%</span> {</span>
<span id="cb53-241"><a href="#cb53-241"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-242"><a href="#cb53-242"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb53-243"><a href="#cb53-243"></a>  }</span>
<span id="cb53-244"><a href="#cb53-244"></a>}</span>
<span id="cb53-245"><a href="#cb53-245"></a></span>
<span id="cb53-246"><a href="#cb53-246"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-4-tab">
<div id="demo-container-css-animations-ex-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-css-animations-ex-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n  \n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.points-popup {\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #FFD700;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.heartbeat {\n    -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n.shake-horizontal {\n    -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-19 20:47:34\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-19 20:38:1\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n      <div id=&quot;score-container&quot;>\n        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>\n      </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Trackers\n// ============================================\n\n// current score\nlet score = 0\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n\n// feedback\nlet exp_feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        if(jsPsych.data.get().last(1).values()[0].correct){\n            return `<p style=&quot;color:green&quot; class=&quot;points-popup heartbeat&quot;>+100!</p>`\n        } else {\n            return `<p  style=&quot;color:red&quot; class=&quot;points-popup shake-horizontal&quot;>-100!</p>`\n        }\n\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1500,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;feedback&quot;\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus,\n        exp_feedback\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-css-animations-ex-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-css-animations-ex-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
  
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.points-popup {
  font-size: 2.5rem;
  font-weight: bold;
  color: #FFD700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.heartbeat {
 -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

.shake-horizontal {
    -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-19 20:47:34
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}



/* ----------------------------------------------
 * Generated by Animista on 2025-10-19 20:38:1
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
      <div id=&quot;score-container&quot;>
        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>
      </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Trackers
// ============================================

// current score
let score = 0


// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}


// feedback
let exp_feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        if(jsPsych.data.get().last(1).values()[0].correct){
            return `<p style=&quot;color:green&quot; class=&quot;points-popup heartbeat&quot;>+100!</p>`
        } else {
            return `<p  style=&quot;color:red&quot; class=&quot;points-popup shake-horizontal&quot;>-100!</p>`
        }

    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1500,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;feedback&quot;
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus,
        exp_feedback
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-css-animations-ex-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-css-animations-ex-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="animating-sprites" class="level2" data-number="25.4">
<h2 data-number="25.4" class="anchored" data-anchor-id="animating-sprites"><span class="header-section-number">25.4</span> Animating Sprites</h2>
<p>For more complex character animations, sprite sheets provide an efficient way to create frame-by-frame animations. Unlike CSS keyframe animations that smoothly interpolate between states, sprite animations display discrete frames in sequence, like a flipbook. This technique is essential for character movement, complex visual feedback, and game-like elements in your experiments.</p>
<p>Sprite animations can be provided in several formats, each with different use cases. However, the general strategy for animating sprites is the same across all three:</p>
<ol type="1">
<li>Set the sprite sheet as a background image</li>
<li>Define a “window” (the element’s dimensions) that shows only one frame</li>
<li>Use CSS animations to shift the background-position to display different frames in sequence</li>
</ol>
<p>Here’s a few examples of how we might animate sprites, depending on their original format.</p>
<section id="single-animation-sprite-sheet" class="level3" data-number="25.4.1">
<h3 data-number="25.4.1" class="anchored" data-anchor-id="single-animation-sprite-sheet"><span class="header-section-number">25.4.1</span> Single Animation Sprite Sheet</h3>
<p>The simplest format contains all frames for one animation in a single image file. All three examples use sprites from OpenGameArt.org. This sprite sheet contains 6 frames of a walking animation arranged vertically in a single column.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/cat2-sprite@2x.png" class="img-fluid figure-img" width="60"></p>
<figcaption>Sgt.&nbsp;Cat</figcaption>
</figure>
</div>
<p>Here’s how we can animate it with CSS:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb54-1"><a href="#cb54-1"></a><span class="fu">.sprite-cat</span> {</span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">118</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'cat2-sprite@2x.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb54-5"><a href="#cb54-5"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">118</span><span class="dt">px</span> <span class="dv">900</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Full sprite sheet size */</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">walk 0.6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>}</span>
<span id="cb54-8"><a href="#cb54-8"></a></span>
<span id="cb54-9"><a href="#cb54-9"></a><span class="im">@keyframes</span> walk {</span>
<span id="cb54-10"><a href="#cb54-10"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb54-11"><a href="#cb54-11"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">-900</span><span class="dt">px</span><span class="op">;</span> }</span>
<span id="cb54-12"><a href="#cb54-12"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And our HTML will look like this:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb55-1"><a href="#cb55-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-container"</span><span class="dt">&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-cat"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"sergeant-cat"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The key property here is <code>steps(6)</code>, which tells the animation to jump between 6 discrete positions rather than smoothly transitioning. This creates the frame-by-frame effect. The animation shifts the background vertically from the top (0) to the bottom (-900px), revealing each of the 6 frames in sequence.</p>
<style>
.sprite-demo {
  text-align: center;
  margin: 20px 0;
}

.sprite-container {
  display: inline-block;
  margin: 20px auto;
  padding: 20px;
  background-color: #ecf0f1;
  border: 2px solid #34495e;
  border-radius: 8px;
}

.sprite-cat {
  width: 118px;
  height: 150px;
  background-image: url('images/animations/cat2-sprite@2x.png');
  background-size: 118px 900px;
  margin: 0 auto;
}

.sprite-cat.walking {
  animation: walk 0.6s steps(6) infinite;
}

@keyframes walk {
  from { background-position: 0 0; }
  to { background-position: 0 -900px; }
}

.sprite-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 15px;
}

.sprite-button {
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
}

.sprite-button:hover {
  background-color: #2980b9;
}

.sprite-button:active {
  transform: scale(0.95);
}
</style>

<div class="sprite-demo">
  <div class="sprite-container">
    <div class="sprite-cat" id="sergeant-cat"></div>
  </div>
  <div class="sprite-buttons">
    <button class="sprite-button" onclick="toggleWalk()">Start/Stop Walking</button>
  </div>
</div>

<script>
function toggleWalk() {
  const cat = document.getElementById('sergeant-cat');
  cat.classList.toggle('walking');
}
</script>
</section>
<section id="multi-animation-sprite-sheet" class="level3" data-number="25.4.2">
<h3 data-number="25.4.2" class="anchored" data-anchor-id="multi-animation-sprite-sheet"><span class="header-section-number">25.4.2</span> Multi-Animation Sprite Sheet</h3>
<p>More complex sprite sheets pack multiple animations into one file, typically arranged in a grid. For example, <code>cat_orange-32x48.png</code> contains a 3×4 grid (3 columns, 4 rows) with different animations. The second row contains a 3-frame walking cycle. This format is efficient because it loads all animations in a single HTTP request, but requires more careful positioning to display the correct frames.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/cat_orange-32x48.png" class="img-fluid figure-img"></p>
<figcaption>Orange Cat</figcaption>
</figure>
</div>
<p>When working with a grid-based sprite sheet like <code>cat_orange-32x48.png</code> (3 columns × 4 rows), you need to target a specific row. To animate the walking cycle in row 2:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">.sprite-cat-orange</span> {</span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">32</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'cat_orange-32x48.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb56-5"><a href="#cb56-5"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">96</span><span class="dt">px</span> <span class="dv">192</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* 3 frames × 32px wide, 4 rows × 48px tall */</span></span>
<span id="cb56-6"><a href="#cb56-6"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">-48</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Start at row 2 (0-indexed, so -48px) */</span></span>
<span id="cb56-7"><a href="#cb56-7"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">walk-horizontal 0.4</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">3</span><span class="fu">)</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb56-8"><a href="#cb56-8"></a>}</span>
<span id="cb56-9"><a href="#cb56-9"></a></span>
<span id="cb56-10"><a href="#cb56-10"></a><span class="im">@keyframes</span> walk-horizontal {</span>
<span id="cb56-11"><a href="#cb56-11"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">-48</span><span class="dt">px</span><span class="op">;</span> }</span>
<span id="cb56-12"><a href="#cb56-12"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-96</span><span class="dt">px</span> <span class="dv">-48</span><span class="dt">px</span><span class="op">;</span> } <span class="co">/* Move across 3 frames */</span></span>
<span id="cb56-13"><a href="#cb56-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We then need to add the CSS to our HTML:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb57-1"><a href="#cb57-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-container"</span><span class="dt">&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-cat-orange"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"orange-cat"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, the background-position shifts horizontally across the three frames in row 2, while maintaining the vertical position at -48px (the second row).</p>
<style>
.sprite-cat-orange {
  width: 32px;
  height: 48px;
  background-image: url('images/animations/cat_orange-32x48.png');
  background-size: 96px 192px;
  background-position: 0 -48px;
  margin: 0 auto;
}

.sprite-cat-orange.walking {
  animation: walk-orange 0.4s steps(3) infinite;
}

@keyframes walk-orange {
  from { background-position: 0 -48px; }
  to { background-position: -96px -48px; }
}
</style>

<div class="sprite-demo">
  <div class="sprite-container">
    <div class="sprite-cat-orange" id="orange-cat"></div>
  </div>
  <div class="sprite-buttons">
    <button class="sprite-button" onclick="toggleOrange()">Start/Stop Walking</button>
  </div>
</div>

<script>
function toggleOrange() {
  const cat = document.getElementById('orange-cat');
  cat.classList.toggle('walking');
}
</script>
</section>
<section id="separate-image-files" class="level3" data-number="25.4.3">
<h3 data-number="25.4.3" class="anchored" data-anchor-id="separate-image-files"><span class="header-section-number">25.4.3</span> Separate Image Files</h3>
<p>Some sprite sets provide each frame as an individual file (e.g., ninja-run_00.png through ninja-run_11.png). While this format is easier to work with programmatically—you can simply swap image sources—it requires multiple HTTP requests and is generally less efficient for web delivery. Many free online tools (such as <a href="https://draeton.github.io/stitches/" class="external" target="_blank">Stitches</a>, <a href="https://www.codeandweb.com/texturepacker" class="external" target="_blank">TexturePacker</a>, or <a href="https://www.leshylabs.com/apps/sstool/" class="external" target="_blank">Leshy SpriteSheet Tool</a>) can automatically combine separate images into an optimized sprite sheet. This is the preferred approach when possible, as it reduces HTTP requests and improves performance.</p>
<div class="quarto-layout-panel" data-layout-ncol="6">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_00.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 1</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_01.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 2</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_04.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 3</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_04.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 4</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_05.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 5</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 16.7%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/ninja-run/ninja-run_06.png" class="img-fluid figure-img" width="100"></p>
<figcaption>Ninja 6</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>When frames are provided as individual files, you can animate them using CSS keyframes that swap the background image at each step. While this approach requires multiple HTTP requests and is less efficient than sprite sheets, it can be useful when you only have access to separate frame files.</p>
<p><strong>Important</strong>: Because you are relying on many images, you’ll want to make sure you preload the images before you use this method. In fact, you may notice the image flicker in the demo below because the preloading is inconsistent.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">.sprite-ninja</span> {</span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">128</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">128</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb58-4"><a href="#cb58-4"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb58-6"><a href="#cb58-6"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_00.png'</span><span class="fu">)</span><span class="op">;</span> <span class="co">/* Default frame */</span></span>
<span id="cb58-7"><a href="#cb58-7"></a>}</span>
<span id="cb58-8"><a href="#cb58-8"></a></span>
<span id="cb58-9"><a href="#cb58-9"></a><span class="fu">.sprite-ninja.running</span> {</span>
<span id="cb58-10"><a href="#cb58-10"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">ninja-run 0.5</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">12</span><span class="fu">)</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb58-11"><a href="#cb58-11"></a>}</span>
<span id="cb58-12"><a href="#cb58-12"></a></span>
<span id="cb58-13"><a href="#cb58-13"></a><span class="im">@keyframes</span> ninja-run {</span>
<span id="cb58-14"><a href="#cb58-14"></a>  <span class="dv">0%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_00.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-15"><a href="#cb58-15"></a>  <span class="dv">8.33%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_01.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-16"><a href="#cb58-16"></a>  <span class="dv">16.66%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_02.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-17"><a href="#cb58-17"></a>  <span class="dv">25%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_03.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-18"><a href="#cb58-18"></a>  <span class="dv">33.33%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_04.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-19"><a href="#cb58-19"></a>  <span class="dv">41.66%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_05.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-20"><a href="#cb58-20"></a>  <span class="dv">50%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_06.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-21"><a href="#cb58-21"></a>  <span class="dv">58.33%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_07.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-22"><a href="#cb58-22"></a>  <span class="dv">66.66%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_08.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-23"><a href="#cb58-23"></a>  <span class="dv">75%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_09.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-24"><a href="#cb58-24"></a>  <span class="dv">83.33%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_10.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-25"><a href="#cb58-25"></a>  <span class="dv">91.66%</span> { <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'ninja-run_11.png'</span><span class="fu">)</span><span class="op">;</span> }</span>
<span id="cb58-26"><a href="#cb58-26"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And the HTML:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb59-1"><a href="#cb59-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-container"</span><span class="dt">&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"sprite-ninja running"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"ninja-sprite"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The keyframe percentages are calculated by dividing 100% by the number of frames (100 ÷ 12 ≈ 8.33% per frame). The steps(12) timing function ensures the animation jumps between frames rather than smoothly transitioning.</p>
<style>
body::after {
  content: url('images/animations/ninja-run/ninja-run_00.png') 
           url('images/animations/ninja-run/ninja-run_01.png') 
           url('images/animations/ninja-run/ninja-run_02.png') 
           url('images/animations/ninja-run/ninja-run_03.png')
           url('images/animations/ninja-run/ninja-run_04.png') 
           url('images/animations/ninja-run/ninja-run_05.png')
           url('images/animations/ninja-run/ninja-run_06.png') 
           url('images/animations/ninja-run/ninja-run_07.png')
           url('images/animations/ninja-run/ninja-run_08.png') 
           url('images/animations/ninja-run/ninja-run_09.png')
           url('images/animations/ninja-run/ninja-run_10.png') 
           url('images/animations/ninja-run/ninja-run_11.png');
  display: none;
}

.sprite-ninja {
  width: 128px;
  height: 128px;
  background-size: contain;
  background-repeat: no-repeat;
  background-image: url('images/animations/ninja-run/ninja-run_00.png');
  margin: 0 auto;
}

.sprite-ninja.running {
  animation: ninja-run 0.5s steps(12) infinite;
}

@keyframes ninja-run {
  0% { background-image: url('images/animations/ninja-run/ninja-run_00.png'); }
  8.33% { background-image: url('images/animations/ninja-run/ninja-run_01.png'); }
  16.66% { background-image: url('images/animations/ninja-run/ninja-run_02.png'); }
  25% { background-image: url('images/animations/ninja-run/ninja-run_03.png'); }
  33.33% { background-image: url('images/animations/ninja-run/ninja-run_04.png'); }
  41.66% { background-image: url('images/animations/ninja-run/ninja-run_05.png'); }
  50% { background-image: url('images/animations/ninja-run/ninja-run_06.png'); }
  58.33% { background-image: url('images/animations/ninja-run/ninja-run_07.png'); }
  66.66% { background-image: url('images/animations/ninja-run/ninja-run_08.png'); }
  75% { background-image: url('images/animations/ninja-run/ninja-run_09.png'); }
  83.33% { background-image: url('images/animations/ninja-run/ninja-run_10.png'); }
  91.66% { background-image: url('images/animations/ninja-run/ninja-run_11.png'); }
}
</style>

<div class="sprite-demo sprite-ninja-container">
  <div class="sprite-container">
    <div class="sprite-ninja" id="ninja-sprite"></div>
  </div>
  <div class="sprite-buttons">
    <button class="sprite-button" onclick="toggleNinja()">Start/Stop Running</button>
  </div>
</div>

<script>
function toggleNinja() {
  const ninja = document.getElementById('ninja-sprite');
  ninja.classList.toggle('running');
}
</script>
</section>
<section id="adding-sprite-animations-to-jspsych" class="level3" data-number="25.4.4">
<h3 data-number="25.4.4" class="anchored" data-anchor-id="adding-sprite-animations-to-jspsych"><span class="header-section-number">25.4.4</span> Adding Sprite Animations to jsPsych</h3>
<p>Adding animated sprites is as simple as adding the classes to our HTML stimulus. Here are a couple examples.</p>
<section id="example-1-flappy-bird-flanker" class="level4" data-number="25.4.4.1">
<h4 data-number="25.4.4.1" class="anchored" data-anchor-id="example-1-flappy-bird-flanker"><span class="header-section-number">25.4.4.1</span> Example 1: Flappy Bird Flanker</h4>
<div class="cell">
<style type="text/css">
[id^="cb61-"]:nth-child(n+44):nth-child(-n+66),
[id^="cb62-"]:nth-child(n+76):nth-child(-n+92) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" role="tab" aria-controls="tabset-11-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="sourceCode" id="cb60"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb60-1"><a href="#cb60-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb60-3"><a href="#cb60-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb60-5"><a href="#cb60-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-7"><a href="#cb60-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb60-8"><a href="#cb60-8"></a>    </span>
<span id="cb60-9"><a href="#cb60-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb60-10"><a href="#cb60-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-11"><a href="#cb60-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-12"><a href="#cb60-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-13"><a href="#cb60-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-14"><a href="#cb60-14"></a></span>
<span id="cb60-15"><a href="#cb60-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb60-16"><a href="#cb60-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb60-17"><a href="#cb60-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb60-18"><a href="#cb60-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb60-19"><a href="#cb60-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb60-20"><a href="#cb60-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb60-21"><a href="#cb60-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-22"><a href="#cb60-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-23"><a href="#cb60-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-24"><a href="#cb60-24"></a>      </span>
<span id="cb60-25"><a href="#cb60-25"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-26"><a href="#cb60-26"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-27"><a href="#cb60-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-28"><a href="#cb60-28"></a>      </span>
<span id="cb60-29"><a href="#cb60-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-30"><a href="#cb60-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-31"><a href="#cb60-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-32"><a href="#cb60-32"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-33"><a href="#cb60-33"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb60-34"><a href="#cb60-34"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb60-35"><a href="#cb60-35"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb60-36"><a href="#cb60-36"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb60-37"><a href="#cb60-37"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb60-38"><a href="#cb60-38"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="sourceCode" id="cb61"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb61-1"><a href="#cb61-1"></a> </span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="co">// ============================================</span></span>
<span id="cb61-3"><a href="#cb61-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb61-4"><a href="#cb61-4"></a><span class="co">// ============================================</span></span>
<span id="cb61-5"><a href="#cb61-5"></a></span>
<span id="cb61-6"><a href="#cb61-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb61-7"><a href="#cb61-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb61-8"><a href="#cb61-8"></a>                ) </span>
<span id="cb61-9"><a href="#cb61-9"></a></span>
<span id="cb61-10"><a href="#cb61-10"></a><span class="co">// ============================================</span></span>
<span id="cb61-11"><a href="#cb61-11"></a><span class="co">// Welcome</span></span>
<span id="cb61-12"><a href="#cb61-12"></a><span class="co">// ============================================</span></span>
<span id="cb61-13"><a href="#cb61-13"></a></span>
<span id="cb61-14"><a href="#cb61-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb61-15"><a href="#cb61-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb61-16"><a href="#cb61-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb61-17"><a href="#cb61-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb61-18"><a href="#cb61-18"></a>}</span>
<span id="cb61-19"><a href="#cb61-19"></a></span>
<span id="cb61-20"><a href="#cb61-20"></a><span class="co">// ============================================</span></span>
<span id="cb61-21"><a href="#cb61-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb61-22"><a href="#cb61-22"></a><span class="co">// ============================================</span></span>
<span id="cb61-23"><a href="#cb61-23"></a></span>
<span id="cb61-24"><a href="#cb61-24"></a><span class="co">// fixation</span></span>
<span id="cb61-25"><a href="#cb61-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb61-26"><a href="#cb61-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb61-27"><a href="#cb61-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb61-28"><a href="#cb61-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb61-29"><a href="#cb61-29"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb61-30"><a href="#cb61-30"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb61-31"><a href="#cb61-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb61-32"><a href="#cb61-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb61-33"><a href="#cb61-33"></a>    }</span>
<span id="cb61-34"><a href="#cb61-34"></a>}</span>
<span id="cb61-35"><a href="#cb61-35"></a></span>
<span id="cb61-36"><a href="#cb61-36"></a><span class="co">// stimulus</span></span>
<span id="cb61-37"><a href="#cb61-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb61-38"><a href="#cb61-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb61-39"><a href="#cb61-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb61-40"><a href="#cb61-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb61-41"><a href="#cb61-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb61-42"><a href="#cb61-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb61-43"><a href="#cb61-43"></a>        </span>
<span id="cb61-44"><a href="#cb61-44"></a>        <span class="co">// convert arrows to sprite classes</span></span>
<span id="cb61-45"><a href="#cb61-45"></a>        <span class="kw">let</span> target_class</span>
<span id="cb61-46"><a href="#cb61-46"></a>        <span class="kw">let</span> distractor_class</span>
<span id="cb61-47"><a href="#cb61-47"></a>    </span>
<span id="cb61-48"><a href="#cb61-48"></a>        <span class="cf">if</span>(target <span class="op">==</span> <span class="st">"&lt;"</span>){</span>
<span id="cb61-49"><a href="#cb61-49"></a>           target_class <span class="op">=</span> <span class="st">"flappy-bird flip"</span>  </span>
<span id="cb61-50"><a href="#cb61-50"></a>        } <span class="cf">else</span> {</span>
<span id="cb61-51"><a href="#cb61-51"></a>           target_class <span class="op">=</span> <span class="st">"flappy-bird"</span></span>
<span id="cb61-52"><a href="#cb61-52"></a>        }</span>
<span id="cb61-53"><a href="#cb61-53"></a></span>
<span id="cb61-54"><a href="#cb61-54"></a>        <span class="cf">if</span>(distractor <span class="op">==</span> <span class="st">"&lt;"</span>){</span>
<span id="cb61-55"><a href="#cb61-55"></a>           distractor_class <span class="op">=</span> <span class="st">"flappy-bird flip"</span>  </span>
<span id="cb61-56"><a href="#cb61-56"></a>        } <span class="cf">else</span> {</span>
<span id="cb61-57"><a href="#cb61-57"></a>           distractor_class <span class="op">=</span> <span class="st">"flappy-bird"</span></span>
<span id="cb61-58"><a href="#cb61-58"></a>        }</span>
<span id="cb61-59"><a href="#cb61-59"></a></span>
<span id="cb61-60"><a href="#cb61-60"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`&lt;div style="display: flex;  justify-content: center;"&gt;</span></span>
<span id="cb61-61"><a href="#cb61-61"></a><span class="vs">                        &lt;div class="</span><span class="sc">${</span>distractor_class<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;</span></span>
<span id="cb61-62"><a href="#cb61-62"></a><span class="vs">                        &lt;div class="</span><span class="sc">${</span>distractor_class<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;</span></span>
<span id="cb61-63"><a href="#cb61-63"></a><span class="vs">                        &lt;div class="</span><span class="sc">${</span>target_class<span class="sc">}</span><span class="vs">" style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;&lt;/div&gt;</span></span>
<span id="cb61-64"><a href="#cb61-64"></a><span class="vs">                        &lt;div class="</span><span class="sc">${</span>distractor_class<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;</span></span>
<span id="cb61-65"><a href="#cb61-65"></a><span class="vs">                        &lt;div class="</span><span class="sc">${</span>distractor_class<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;</span></span>
<span id="cb61-66"><a href="#cb61-66"></a><span class="vs">                      &lt;/div&gt;`</span></span>
<span id="cb61-67"><a href="#cb61-67"></a></span>
<span id="cb61-68"><a href="#cb61-68"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb61-69"><a href="#cb61-69"></a>    }<span class="op">,</span></span>
<span id="cb61-70"><a href="#cb61-70"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb61-71"><a href="#cb61-71"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb61-72"><a href="#cb61-72"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb61-73"><a href="#cb61-73"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb61-74"><a href="#cb61-74"></a>    }<span class="op">,</span></span>
<span id="cb61-75"><a href="#cb61-75"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb61-76"><a href="#cb61-76"></a>        <span class="co">// store accuracy</span></span>
<span id="cb61-77"><a href="#cb61-77"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb61-78"><a href="#cb61-78"></a>    }</span>
<span id="cb61-79"><a href="#cb61-79"></a>}</span>
<span id="cb61-80"><a href="#cb61-80"></a></span>
<span id="cb61-81"><a href="#cb61-81"></a><span class="co">// exp timeline</span></span>
<span id="cb61-82"><a href="#cb61-82"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb61-83"><a href="#cb61-83"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb61-84"><a href="#cb61-84"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb61-85"><a href="#cb61-85"></a>        exp_stimulus</span>
<span id="cb61-86"><a href="#cb61-86"></a>    ]<span class="op">,</span></span>
<span id="cb61-87"><a href="#cb61-87"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb61-88"><a href="#cb61-88"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb61-89"><a href="#cb61-89"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb61-90"><a href="#cb61-90"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb61-91"><a href="#cb61-91"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb61-92"><a href="#cb61-92"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb61-93"><a href="#cb61-93"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb61-94"><a href="#cb61-94"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb61-95"><a href="#cb61-95"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb61-96"><a href="#cb61-96"></a>    ]<span class="op">,</span></span>
<span id="cb61-97"><a href="#cb61-97"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb61-98"><a href="#cb61-98"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb61-99"><a href="#cb61-99"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb61-100"><a href="#cb61-100"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb61-101"><a href="#cb61-101"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb61-102"><a href="#cb61-102"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb61-103"><a href="#cb61-103"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb61-104"><a href="#cb61-104"></a>    }</span>
<span id="cb61-105"><a href="#cb61-105"></a>}<span class="op">;</span></span>
<span id="cb61-106"><a href="#cb61-106"></a></span>
<span id="cb61-107"><a href="#cb61-107"></a></span>
<span id="cb61-108"><a href="#cb61-108"></a><span class="co">// ============================================</span></span>
<span id="cb61-109"><a href="#cb61-109"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb61-110"><a href="#cb61-110"></a><span class="co">// ============================================</span></span>
<span id="cb61-111"><a href="#cb61-111"></a></span>
<span id="cb61-112"><a href="#cb61-112"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb61-113"><a href="#cb61-113"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb61-114"><a href="#cb61-114"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb61-115"><a href="#cb61-115"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb61-116"><a href="#cb61-116"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb61-117"><a href="#cb61-117"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb61-118"><a href="#cb61-118"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb61-119"><a href="#cb61-119"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb61-120"><a href="#cb61-120"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb61-121"><a href="#cb61-121"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb61-122"><a href="#cb61-122"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb61-123"><a href="#cb61-123"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb61-124"><a href="#cb61-124"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb61-125"><a href="#cb61-125"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb61-126"><a href="#cb61-126"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb61-127"><a href="#cb61-127"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb61-128"><a href="#cb61-128"></a>    })<span class="op">;</span></span>
<span id="cb61-129"><a href="#cb61-129"></a>  }<span class="op">,</span></span>
<span id="cb61-130"><a href="#cb61-130"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb61-131"><a href="#cb61-131"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb61-132"><a href="#cb61-132"></a>  }</span>
<span id="cb61-133"><a href="#cb61-133"></a>}<span class="op">;</span></span>
<span id="cb61-134"><a href="#cb61-134"></a></span>
<span id="cb61-135"><a href="#cb61-135"></a><span class="co">// ============================================</span></span>
<span id="cb61-136"><a href="#cb61-136"></a><span class="co">// Run jsPsych </span></span>
<span id="cb61-137"><a href="#cb61-137"></a><span class="co">// ============================================</span></span>
<span id="cb61-138"><a href="#cb61-138"></a></span>
<span id="cb61-139"><a href="#cb61-139"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb61-140"><a href="#cb61-140"></a>  welcome<span class="op">,</span></span>
<span id="cb61-141"><a href="#cb61-141"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb61-142"><a href="#cb61-142"></a>  saveData</span>
<span id="cb61-143"><a href="#cb61-143"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb62-1"><a href="#cb62-1"></a> body {</span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb62-4"><a href="#cb62-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span></span>
<span id="cb62-7"><a href="#cb62-7"></a>}</span>
<span id="cb62-8"><a href="#cb62-8"></a></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb62-10"><a href="#cb62-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb62-11"><a href="#cb62-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb62-12"><a href="#cb62-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb62-13"><a href="#cb62-13"></a>}</span>
<span id="cb62-14"><a href="#cb62-14"></a></span>
<span id="cb62-15"><a href="#cb62-15"></a></span>
<span id="cb62-16"><a href="#cb62-16"></a><span class="fu">.grid</span> {</span>
<span id="cb62-17"><a href="#cb62-17"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb62-18"><a href="#cb62-18"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb62-19"><a href="#cb62-19"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb62-20"><a href="#cb62-20"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-21"><a href="#cb62-21"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-22"><a href="#cb62-22"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb62-23"><a href="#cb62-23"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb62-24"><a href="#cb62-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb62-25"><a href="#cb62-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb62-26"><a href="#cb62-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb62-27"><a href="#cb62-27"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb62-28"><a href="#cb62-28"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb62-29"><a href="#cb62-29"></a>}</span>
<span id="cb62-30"><a href="#cb62-30"></a></span>
<span id="cb62-31"><a href="#cb62-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb62-32"><a href="#cb62-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb62-33"><a href="#cb62-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb62-34"><a href="#cb62-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-35"><a href="#cb62-35"></a>}</span>
<span id="cb62-36"><a href="#cb62-36"></a></span>
<span id="cb62-37"><a href="#cb62-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb62-38"><a href="#cb62-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb62-39"><a href="#cb62-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-40"><a href="#cb62-40"></a>}</span>
<span id="cb62-41"><a href="#cb62-41"></a></span>
<span id="cb62-42"><a href="#cb62-42"></a><span class="fu">.top</span> {</span>
<span id="cb62-43"><a href="#cb62-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb62-44"><a href="#cb62-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-45"><a href="#cb62-45"></a>}</span>
<span id="cb62-46"><a href="#cb62-46"></a></span>
<span id="cb62-47"><a href="#cb62-47"></a><span class="fu">.center</span> {</span>
<span id="cb62-48"><a href="#cb62-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb62-49"><a href="#cb62-49"></a>}</span>
<span id="cb62-50"><a href="#cb62-50"></a></span>
<span id="cb62-51"><a href="#cb62-51"></a><span class="fu">.left</span> {</span>
<span id="cb62-52"><a href="#cb62-52"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb62-53"><a href="#cb62-53"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-54"><a href="#cb62-54"></a>}</span>
<span id="cb62-55"><a href="#cb62-55"></a></span>
<span id="cb62-56"><a href="#cb62-56"></a><span class="fu">.right</span> {</span>
<span id="cb62-57"><a href="#cb62-57"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb62-58"><a href="#cb62-58"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-59"><a href="#cb62-59"></a>}</span>
<span id="cb62-60"><a href="#cb62-60"></a></span>
<span id="cb62-61"><a href="#cb62-61"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb62-62"><a href="#cb62-62"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb62-63"><a href="#cb62-63"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-64"><a href="#cb62-64"></a>}</span>
<span id="cb62-65"><a href="#cb62-65"></a></span>
<span id="cb62-66"><a href="#cb62-66"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb62-67"><a href="#cb62-67"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb62-68"><a href="#cb62-68"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-69"><a href="#cb62-69"></a>}</span>
<span id="cb62-70"><a href="#cb62-70"></a></span>
<span id="cb62-71"><a href="#cb62-71"></a><span class="fu">.bottom</span> {</span>
<span id="cb62-72"><a href="#cb62-72"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb62-73"><a href="#cb62-73"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-74"><a href="#cb62-74"></a>}</span>
<span id="cb62-75"><a href="#cb62-75"></a></span>
<span id="cb62-76"><a href="#cb62-76"></a><span class="fu">.flappy-bird</span> {</span>
<span id="cb62-77"><a href="#cb62-77"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">47.8</span><span class="dt">px</span><span class="op">;</span>   <span class="co">/* 191.18 / 4 = scaled down 4x */</span></span>
<span id="cb62-78"><a href="#cb62-78"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">37.5</span><span class="dt">px</span><span class="op">;</span>  <span class="co">/* 150 / 4 = scaled down 4x */</span></span>
<span id="cb62-79"><a href="#cb62-79"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/white_flappy.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-80"><a href="#cb62-80"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb62-81"><a href="#cb62-81"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">812.5</span><span class="dt">px</span> <span class="dv">37.5</span><span class="dt">px</span><span class="op">;</span>  <span class="co">/* 3250 / 4 and 150 / 4 */</span></span>
<span id="cb62-82"><a href="#cb62-82"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">flap 0.5</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">17</span><span class="fu">)</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb62-83"><a href="#cb62-83"></a>}</span>
<span id="cb62-84"><a href="#cb62-84"></a></span>
<span id="cb62-85"><a href="#cb62-85"></a><span class="fu">.flappy-bird.flip</span> {</span>
<span id="cb62-86"><a href="#cb62-86"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scaleX(</span><span class="dv">-1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb62-87"><a href="#cb62-87"></a>}</span>
<span id="cb62-88"><a href="#cb62-88"></a></span>
<span id="cb62-89"><a href="#cb62-89"></a><span class="im">@keyframes</span> flap {</span>
<span id="cb62-90"><a href="#cb62-90"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb62-91"><a href="#cb62-91"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-812.5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb62-92"><a href="#cb62-92"></a>}</span>
<span id="cb62-93"><a href="#cb62-93"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-4-tab">
<div id="demo-container-sprite-animations-ex-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-sprite-animations-ex-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.flappy-bird {\n  width: 47.8px;   /* 191.18 / 4 = scaled down 4x */\n  height: 37.5px;  /* 150 / 4 = scaled down 4x */\n  background-image: url(&quot;images/animations/white_flappy.png&quot;);\n  background-repeat: no-repeat;\n  background-size: 812.5px 37.5px;  /* 3250 / 4 and 150 / 4 */\n  animation: flap 0.5s steps(17) infinite;\n}\n\n.flappy-bird.flip {\n  transform: scaleX(-1);\n}\n\n@keyframes flap {\n  from { background-position: 0 0; }\n  to { background-position: -812.5px 0; }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>top-left</div>\n    <div class=&quot;top&quot;>top</div>\n    <div class=&quot;top-right&quot;>top-right</div>\n    \n    <div class=&quot;left&quot;>left</div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;>right</div>\n    \n    <div class=&quot;bottom-left&quot;>bottom-left</div>\n    <div class=&quot;bottom&quot;>bottom</div>\n    <div class=&quot;bottom-right&quot;>bottom-right</div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n        \n        // convert arrows to sprite classes\n        let target_class\n        let distractor_class\n    \n        if(target == &quot;<&quot;){\n           target_class = &quot;flappy-bird flip&quot;  \n        } else {\n           target_class = &quot;flappy-bird&quot;\n        }\n\n        if(distractor == &quot;<&quot;){\n           distractor_class = &quot;flappy-bird flip&quot;  \n        } else {\n           distractor_class = &quot;flappy-bird&quot;\n        }\n\n\n        let output = `<div style=&quot;display: flex;  justify-content: center;&quot;>\n                        <div class=&quot;${distractor_class}&quot;></div>\n                        <div class=&quot;${distractor_class}&quot;></div>\n                        <div class=&quot;${target_class}&quot; style=&quot;margin: 0 ${distance}px;&quot;></div>\n                        <div class=&quot;${distractor_class}&quot;></div>\n                        <div class=&quot;${distractor_class}&quot;></div>\n                      </div>`\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-sprite-animations-ex-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-sprite-animations-ex-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}


.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.flappy-bird {
  width: 47.8px;   /* 191.18 / 4 = scaled down 4x */
  height: 37.5px;  /* 150 / 4 = scaled down 4x */
  background-image: url(&quot;images/animations/white_flappy.png&quot;);
  background-repeat: no-repeat;
  background-size: 812.5px 37.5px;  /* 3250 / 4 and 150 / 4 */
  animation: flap 0.5s steps(17) infinite;
}

.flappy-bird.flip {
  transform: scaleX(-1);
}

@keyframes flap {
  from { background-position: 0 0; }
  to { background-position: -812.5px 0; }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>top-left</div>
    <div class=&quot;top&quot;>top</div>
    <div class=&quot;top-right&quot;>top-right</div>
    
    <div class=&quot;left&quot;>left</div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;>right</div>
    
    <div class=&quot;bottom-left&quot;>bottom-left</div>
    <div class=&quot;bottom&quot;>bottom</div>
    <div class=&quot;bottom-right&quot;>bottom-right</div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);
        
        // convert arrows to sprite classes
        let target_class
        let distractor_class
    
        if(target == &quot;<&quot;){
           target_class = &quot;flappy-bird flip&quot;  
        } else {
           target_class = &quot;flappy-bird&quot;
        }

        if(distractor == &quot;<&quot;){
           distractor_class = &quot;flappy-bird flip&quot;  
        } else {
           distractor_class = &quot;flappy-bird&quot;
        }


        let output = `<div style=&quot;display: flex;  justify-content: center;&quot;>
                        <div class=&quot;${distractor_class}&quot;></div>
                        <div class=&quot;${distractor_class}&quot;></div>
                        <div class=&quot;${target_class}&quot; style=&quot;margin: 0 ${distance}px;&quot;></div>
                        <div class=&quot;${distractor_class}&quot;></div>
                        <div class=&quot;${distractor_class}&quot;></div>
                      </div>`

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-sprite-animations-ex-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-sprite-animations-ex-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-2-gono-go-bomb" class="level4" data-number="25.4.4.2">
<h4 data-number="25.4.4.2" class="anchored" data-anchor-id="example-2-gono-go-bomb"><span class="header-section-number">25.4.4.2</span> Example 2: Go/No-Go Bomb</h4>
<p>Here’s another example, where we swap out the sprites depending on whether they responded correctly or not. In this example, you have to press the space bar as quickly as possible, before the bomb explodes BUT if the fuse is blue you need to withhold your response. This is a classic ‘go’ / ‘no-go’ task.</p>
<p>If you don’t press the space bar in time, then the bomb explodes. If you do, then you get a little heart-eyes bomb. If you accidentally press the space when the fuse is blue, the bomb explodes.</p>
<div class="cell">
<style type="text/css">
[id^="cb64-"]:nth-child(n+27):nth-child(-n+34),
[id^="cb64-"]:nth-child(n+48):nth-child(-n+60),
[id^="cb65-"]:nth-child(n+78):nth-child(-n+128) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-4" role="tab" aria-controls="tabset-12-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="sourceCode" id="cb63"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb63-1"><a href="#cb63-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb63-4"><a href="#cb63-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb63-5"><a href="#cb63-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-7"><a href="#cb63-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb63-8"><a href="#cb63-8"></a>    </span>
<span id="cb63-9"><a href="#cb63-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb63-10"><a href="#cb63-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-11"><a href="#cb63-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-12"><a href="#cb63-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-13"><a href="#cb63-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-14"><a href="#cb63-14"></a></span>
<span id="cb63-15"><a href="#cb63-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb63-16"><a href="#cb63-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb63-17"><a href="#cb63-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb63-18"><a href="#cb63-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb63-19"><a href="#cb63-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb63-20"><a href="#cb63-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb63-21"><a href="#cb63-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-22"><a href="#cb63-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-23"><a href="#cb63-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-24"><a href="#cb63-24"></a>      </span>
<span id="cb63-25"><a href="#cb63-25"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-26"><a href="#cb63-26"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-27"><a href="#cb63-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-28"><a href="#cb63-28"></a>      </span>
<span id="cb63-29"><a href="#cb63-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-30"><a href="#cb63-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-31"><a href="#cb63-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-32"><a href="#cb63-32"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-33"><a href="#cb63-33"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb63-34"><a href="#cb63-34"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb63-35"><a href="#cb63-35"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb63-36"><a href="#cb63-36"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb63-37"><a href="#cb63-37"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb63-38"><a href="#cb63-38"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="sourceCode" id="cb64"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb64-1"><a href="#cb64-1"></a> </span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="co">// ============================================</span></span>
<span id="cb64-3"><a href="#cb64-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="co">// ============================================</span></span>
<span id="cb64-5"><a href="#cb64-5"></a></span>
<span id="cb64-6"><a href="#cb64-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb64-7"><a href="#cb64-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb64-8"><a href="#cb64-8"></a>                ) </span>
<span id="cb64-9"><a href="#cb64-9"></a></span>
<span id="cb64-10"><a href="#cb64-10"></a><span class="co">// ============================================</span></span>
<span id="cb64-11"><a href="#cb64-11"></a><span class="co">// Welcome</span></span>
<span id="cb64-12"><a href="#cb64-12"></a><span class="co">// ============================================</span></span>
<span id="cb64-13"><a href="#cb64-13"></a></span>
<span id="cb64-14"><a href="#cb64-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb64-15"><a href="#cb64-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb64-16"><a href="#cb64-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb64-17"><a href="#cb64-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb64-18"><a href="#cb64-18"></a>}</span>
<span id="cb64-19"><a href="#cb64-19"></a></span>
<span id="cb64-20"><a href="#cb64-20"></a><span class="co">// ============================================</span></span>
<span id="cb64-21"><a href="#cb64-21"></a><span class="co">// Bomb Experimental Block</span></span>
<span id="cb64-22"><a href="#cb64-22"></a><span class="co">// ============================================</span></span>
<span id="cb64-23"><a href="#cb64-23"></a></span>
<span id="cb64-24"><a href="#cb64-24"></a><span class="co">// stimulus</span></span>
<span id="cb64-25"><a href="#cb64-25"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb64-26"><a href="#cb64-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb64-27"><a href="#cb64-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb64-28"><a href="#cb64-28"></a>        <span class="kw">let</span> type <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"trial_type"</span>)</span>
<span id="cb64-29"><a href="#cb64-29"></a>        <span class="cf">if</span>(type <span class="op">==</span> <span class="st">"go"</span>){</span>
<span id="cb64-30"><a href="#cb64-30"></a>          <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-nontarget"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-31"><a href="#cb64-31"></a>        } <span class="cf">else</span> {</span>
<span id="cb64-32"><a href="#cb64-32"></a>          <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-target"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-33"><a href="#cb64-33"></a>        }</span>
<span id="cb64-34"><a href="#cb64-34"></a>    }<span class="op">,</span></span>
<span id="cb64-35"><a href="#cb64-35"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">" "</span>]<span class="op">,</span></span>
<span id="cb64-36"><a href="#cb64-36"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb64-37"><a href="#cb64-37"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb64-38"><a href="#cb64-38"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb64-39"><a href="#cb64-39"></a>    }</span>
<span id="cb64-40"><a href="#cb64-40"></a>}</span>
<span id="cb64-41"><a href="#cb64-41"></a></span>
<span id="cb64-42"><a href="#cb64-42"></a><span class="co">// feedback</span></span>
<span id="cb64-43"><a href="#cb64-43"></a><span class="kw">let</span> exp_feedback <span class="op">=</span> {</span>
<span id="cb64-44"><a href="#cb64-44"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb64-45"><a href="#cb64-45"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb64-46"><a href="#cb64-46"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()[<span class="dv">0</span>]</span>
<span id="cb64-47"><a href="#cb64-47"></a></span>
<span id="cb64-48"><a href="#cb64-48"></a>        <span class="cf">if</span>(jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"trial_type"</span>) <span class="op">==</span> <span class="st">"go"</span>){</span>
<span id="cb64-49"><a href="#cb64-49"></a>           <span class="cf">if</span>(last_trial<span class="op">.</span><span class="at">response</span>){</span>
<span id="cb64-50"><a href="#cb64-50"></a>              <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-defuse"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-51"><a href="#cb64-51"></a>           } <span class="cf">else</span> {</span>
<span id="cb64-52"><a href="#cb64-52"></a>              <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-explode"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-53"><a href="#cb64-53"></a>           }</span>
<span id="cb64-54"><a href="#cb64-54"></a>        } <span class="cf">else</span> {</span>
<span id="cb64-55"><a href="#cb64-55"></a>          <span class="cf">if</span>(last_trial<span class="op">.</span><span class="at">response</span>){</span>
<span id="cb64-56"><a href="#cb64-56"></a>              <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-explode"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-57"><a href="#cb64-57"></a>           } <span class="cf">else</span> {</span>
<span id="cb64-58"><a href="#cb64-58"></a>              <span class="cf">return</span> <span class="vs">`&lt;div class="bomb-sprite bomb-defuse"&gt;&lt;/div&gt;`</span></span>
<span id="cb64-59"><a href="#cb64-59"></a>           }</span>
<span id="cb64-60"><a href="#cb64-60"></a>        }</span>
<span id="cb64-61"><a href="#cb64-61"></a>        </span>
<span id="cb64-62"><a href="#cb64-62"></a>    }<span class="op">,</span></span>
<span id="cb64-63"><a href="#cb64-63"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"NO_KEYS"</span>]<span class="op">,</span></span>
<span id="cb64-64"><a href="#cb64-64"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb64-65"><a href="#cb64-65"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb64-66"><a href="#cb64-66"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb64-67"><a href="#cb64-67"></a>    }</span>
<span id="cb64-68"><a href="#cb64-68"></a>}</span>
<span id="cb64-69"><a href="#cb64-69"></a></span>
<span id="cb64-70"><a href="#cb64-70"></a><span class="co">// exp timeline</span></span>
<span id="cb64-71"><a href="#cb64-71"></a><span class="kw">let</span> exp_bomb <span class="op">=</span> {</span>
<span id="cb64-72"><a href="#cb64-72"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb64-73"><a href="#cb64-73"></a>        exp_stimulus<span class="op">,</span></span>
<span id="cb64-74"><a href="#cb64-74"></a>        exp_feedback</span>
<span id="cb64-75"><a href="#cb64-75"></a>    ]<span class="op">,</span></span>
<span id="cb64-76"><a href="#cb64-76"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb64-77"><a href="#cb64-77"></a>      {<span class="dt">trial_type</span><span class="op">:</span> <span class="st">"go"</span>}<span class="op">,</span></span>
<span id="cb64-78"><a href="#cb64-78"></a>      {<span class="dt">trial_type</span><span class="op">:</span> <span class="st">"nogo"</span>}</span>
<span id="cb64-79"><a href="#cb64-79"></a>    ]<span class="op">,</span></span>
<span id="cb64-80"><a href="#cb64-80"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb64-81"><a href="#cb64-81"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb64-82"><a href="#cb64-82"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(t){</span>
<span id="cb64-83"><a href="#cb64-83"></a>          <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(t)</span>
<span id="cb64-84"><a href="#cb64-84"></a>        </span>
<span id="cb64-85"><a href="#cb64-85"></a>          <span class="kw">let</span> output <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb64-86"><a href="#cb64-86"></a>          </span>
<span id="cb64-87"><a href="#cb64-87"></a>          <span class="cf">for</span>(<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">8</span><span class="op">;</span> i<span class="op">++</span>){</span>
<span id="cb64-88"><a href="#cb64-88"></a>             output<span class="op">.</span><span class="fu">push</span>(t[<span class="dv">0</span>])<span class="op">;</span></span>
<span id="cb64-89"><a href="#cb64-89"></a>          }</span>
<span id="cb64-90"><a href="#cb64-90"></a>  </span>
<span id="cb64-91"><a href="#cb64-91"></a>          output<span class="op">.</span><span class="fu">push</span>(t[<span class="dv">1</span>])</span>
<span id="cb64-92"><a href="#cb64-92"></a>          </span>
<span id="cb64-93"><a href="#cb64-93"></a>          output <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>(output)</span>
<span id="cb64-94"><a href="#cb64-94"></a></span>
<span id="cb64-95"><a href="#cb64-95"></a>          <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb64-96"><a href="#cb64-96"></a>        }</span>
<span id="cb64-97"><a href="#cb64-97"></a>    }<span class="op">,</span></span>
<span id="cb64-98"><a href="#cb64-98"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb64-99"><a href="#cb64-99"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb64-100"><a href="#cb64-100"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"bomb"</span><span class="op">,</span></span>
<span id="cb64-101"><a href="#cb64-101"></a>      <span class="dt">trial_type</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"trial_type"</span>)</span>
<span id="cb64-102"><a href="#cb64-102"></a>    }</span>
<span id="cb64-103"><a href="#cb64-103"></a>}<span class="op">;</span></span>
<span id="cb64-104"><a href="#cb64-104"></a></span>
<span id="cb64-105"><a href="#cb64-105"></a></span>
<span id="cb64-106"><a href="#cb64-106"></a><span class="co">// ============================================</span></span>
<span id="cb64-107"><a href="#cb64-107"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb64-108"><a href="#cb64-108"></a><span class="co">// ============================================</span></span>
<span id="cb64-109"><a href="#cb64-109"></a></span>
<span id="cb64-110"><a href="#cb64-110"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb64-111"><a href="#cb64-111"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb64-112"><a href="#cb64-112"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb64-113"><a href="#cb64-113"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb64-114"><a href="#cb64-114"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb64-115"><a href="#cb64-115"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb64-116"><a href="#cb64-116"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb64-117"><a href="#cb64-117"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb64-118"><a href="#cb64-118"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb64-119"><a href="#cb64-119"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb64-120"><a href="#cb64-120"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb64-121"><a href="#cb64-121"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb64-122"><a href="#cb64-122"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb64-123"><a href="#cb64-123"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb64-124"><a href="#cb64-124"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb64-125"><a href="#cb64-125"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb64-126"><a href="#cb64-126"></a>    })<span class="op">;</span></span>
<span id="cb64-127"><a href="#cb64-127"></a>  }<span class="op">,</span></span>
<span id="cb64-128"><a href="#cb64-128"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb64-129"><a href="#cb64-129"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb64-130"><a href="#cb64-130"></a>  }</span>
<span id="cb64-131"><a href="#cb64-131"></a>}<span class="op">;</span></span>
<span id="cb64-132"><a href="#cb64-132"></a></span>
<span id="cb64-133"><a href="#cb64-133"></a><span class="co">// ============================================</span></span>
<span id="cb64-134"><a href="#cb64-134"></a><span class="co">// Run jsPsych </span></span>
<span id="cb64-135"><a href="#cb64-135"></a><span class="co">// ============================================</span></span>
<span id="cb64-136"><a href="#cb64-136"></a></span>
<span id="cb64-137"><a href="#cb64-137"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb64-138"><a href="#cb64-138"></a>  welcome<span class="op">,</span></span>
<span id="cb64-139"><a href="#cb64-139"></a>  exp_bomb<span class="op">,</span></span>
<span id="cb64-140"><a href="#cb64-140"></a>  saveData</span>
<span id="cb64-141"><a href="#cb64-141"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<div class="sourceCode" id="cb65"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb65-1"><a href="#cb65-1"></a> body {</span>
<span id="cb65-2"><a href="#cb65-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb65-4"><a href="#cb65-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb65-5"><a href="#cb65-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb65-6"><a href="#cb65-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span></span>
<span id="cb65-7"><a href="#cb65-7"></a>}</span>
<span id="cb65-8"><a href="#cb65-8"></a></span>
<span id="cb65-9"><a href="#cb65-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb65-10"><a href="#cb65-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb65-11"><a href="#cb65-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb65-12"><a href="#cb65-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb65-13"><a href="#cb65-13"></a>}</span>
<span id="cb65-14"><a href="#cb65-14"></a></span>
<span id="cb65-15"><a href="#cb65-15"></a></span>
<span id="cb65-16"><a href="#cb65-16"></a><span class="fu">.grid</span> {</span>
<span id="cb65-17"><a href="#cb65-17"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb65-18"><a href="#cb65-18"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb65-19"><a href="#cb65-19"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb65-20"><a href="#cb65-20"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-21"><a href="#cb65-21"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-22"><a href="#cb65-22"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb65-23"><a href="#cb65-23"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb65-24"><a href="#cb65-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb65-25"><a href="#cb65-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb65-26"><a href="#cb65-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb65-27"><a href="#cb65-27"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb65-28"><a href="#cb65-28"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb65-29"><a href="#cb65-29"></a>}</span>
<span id="cb65-30"><a href="#cb65-30"></a></span>
<span id="cb65-31"><a href="#cb65-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb65-32"><a href="#cb65-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb65-33"><a href="#cb65-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb65-34"><a href="#cb65-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-35"><a href="#cb65-35"></a>}</span>
<span id="cb65-36"><a href="#cb65-36"></a></span>
<span id="cb65-37"><a href="#cb65-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb65-38"><a href="#cb65-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb65-39"><a href="#cb65-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-40"><a href="#cb65-40"></a>}</span>
<span id="cb65-41"><a href="#cb65-41"></a></span>
<span id="cb65-42"><a href="#cb65-42"></a><span class="fu">.top</span> {</span>
<span id="cb65-43"><a href="#cb65-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb65-44"><a href="#cb65-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-45"><a href="#cb65-45"></a>}</span>
<span id="cb65-46"><a href="#cb65-46"></a></span>
<span id="cb65-47"><a href="#cb65-47"></a><span class="fu">.center</span> {</span>
<span id="cb65-48"><a href="#cb65-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb65-49"><a href="#cb65-49"></a>}</span>
<span id="cb65-50"><a href="#cb65-50"></a></span>
<span id="cb65-51"><a href="#cb65-51"></a><span class="fu">.left</span> {</span>
<span id="cb65-52"><a href="#cb65-52"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb65-53"><a href="#cb65-53"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-54"><a href="#cb65-54"></a>}</span>
<span id="cb65-55"><a href="#cb65-55"></a></span>
<span id="cb65-56"><a href="#cb65-56"></a><span class="fu">.right</span> {</span>
<span id="cb65-57"><a href="#cb65-57"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb65-58"><a href="#cb65-58"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-59"><a href="#cb65-59"></a>}</span>
<span id="cb65-60"><a href="#cb65-60"></a></span>
<span id="cb65-61"><a href="#cb65-61"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb65-62"><a href="#cb65-62"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb65-63"><a href="#cb65-63"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-64"><a href="#cb65-64"></a>}</span>
<span id="cb65-65"><a href="#cb65-65"></a></span>
<span id="cb65-66"><a href="#cb65-66"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb65-67"><a href="#cb65-67"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb65-68"><a href="#cb65-68"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-69"><a href="#cb65-69"></a>}</span>
<span id="cb65-70"><a href="#cb65-70"></a></span>
<span id="cb65-71"><a href="#cb65-71"></a><span class="fu">.bottom</span> {</span>
<span id="cb65-72"><a href="#cb65-72"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb65-73"><a href="#cb65-73"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-74"><a href="#cb65-74"></a>}</span>
<span id="cb65-75"><a href="#cb65-75"></a></span>
<span id="cb65-76"><a href="#cb65-76"></a></span>
<span id="cb65-77"><a href="#cb65-77"></a></span>
<span id="cb65-78"><a href="#cb65-78"></a><span class="co">/* Base sprite styling */</span></span>
<span id="cb65-79"><a href="#cb65-79"></a><span class="fu">.bomb-sprite</span> {</span>
<span id="cb65-80"><a href="#cb65-80"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Single frame width */</span></span>
<span id="cb65-81"><a href="#cb65-81"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb65-82"><a href="#cb65-82"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb65-83"><a href="#cb65-83"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">100</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Scale height to 100px, width auto-scales */</span></span>
<span id="cb65-84"><a href="#cb65-84"></a>}</span>
<span id="cb65-85"><a href="#cb65-85"></a></span>
<span id="cb65-86"><a href="#cb65-86"></a><span class="co">/* Bomb Target Animation */</span></span>
<span id="cb65-87"><a href="#cb65-87"></a><span class="fu">.bomb-target</span> {</span>
<span id="cb65-88"><a href="#cb65-88"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/bomb-target.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-89"><a href="#cb65-89"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">bomb-target-anim 0.6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">9</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb65-90"><a href="#cb65-90"></a>}</span>
<span id="cb65-91"><a href="#cb65-91"></a></span>
<span id="cb65-92"><a href="#cb65-92"></a><span class="im">@keyframes</span> bomb-target-anim {</span>
<span id="cb65-93"><a href="#cb65-93"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-94"><a href="#cb65-94"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-900</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-95"><a href="#cb65-95"></a>}</span>
<span id="cb65-96"><a href="#cb65-96"></a></span>
<span id="cb65-97"><a href="#cb65-97"></a><span class="co">/* Bomb Non-Target Animation */</span></span>
<span id="cb65-98"><a href="#cb65-98"></a><span class="fu">.bomb-nontarget</span> {</span>
<span id="cb65-99"><a href="#cb65-99"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/bomb-nontarget.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-100"><a href="#cb65-100"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">bomb-nontarget-anim 0.6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">9</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb65-101"><a href="#cb65-101"></a>}</span>
<span id="cb65-102"><a href="#cb65-102"></a></span>
<span id="cb65-103"><a href="#cb65-103"></a><span class="im">@keyframes</span> bomb-nontarget-anim {</span>
<span id="cb65-104"><a href="#cb65-104"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-105"><a href="#cb65-105"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-900</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-106"><a href="#cb65-106"></a>}</span>
<span id="cb65-107"><a href="#cb65-107"></a></span>
<span id="cb65-108"><a href="#cb65-108"></a><span class="co">/* Bomb Defuse Animation (infinite loop) */</span></span>
<span id="cb65-109"><a href="#cb65-109"></a><span class="fu">.bomb-defuse</span> {</span>
<span id="cb65-110"><a href="#cb65-110"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/bomb-defuse.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-111"><a href="#cb65-111"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">bomb-defuse-anim 0.5</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">5</span><span class="fu">)</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb65-112"><a href="#cb65-112"></a>}</span>
<span id="cb65-113"><a href="#cb65-113"></a></span>
<span id="cb65-114"><a href="#cb65-114"></a><span class="im">@keyframes</span> bomb-defuse-anim {</span>
<span id="cb65-115"><a href="#cb65-115"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-116"><a href="#cb65-116"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-500</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-117"><a href="#cb65-117"></a>}</span>
<span id="cb65-118"><a href="#cb65-118"></a></span>
<span id="cb65-119"><a href="#cb65-119"></a><span class="co">/* Bomb Explode Animation (ends on empty frame) */</span></span>
<span id="cb65-120"><a href="#cb65-120"></a><span class="fu">.bomb-explode</span> {</span>
<span id="cb65-121"><a href="#cb65-121"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/bomb-explode.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb65-122"><a href="#cb65-122"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">bomb-explode-anim 0.6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb65-123"><a href="#cb65-123"></a>}</span>
<span id="cb65-124"><a href="#cb65-124"></a></span>
<span id="cb65-125"><a href="#cb65-125"></a><span class="im">@keyframes</span> bomb-explode-anim {</span>
<span id="cb65-126"><a href="#cb65-126"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-127"><a href="#cb65-127"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-600</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb65-128"><a href="#cb65-128"></a>}</span>
<span id="cb65-129"><a href="#cb65-129"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-4-tab">
<div id="demo-container-sprite-animations-ex-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-sprite-animations-ex-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n\n\n/* Base sprite styling */\n.bomb-sprite {\n  width: 100px; /* Single frame width */\n  height: 100px;\n  background-repeat: no-repeat;\n  background-size: auto 100px; /* Scale height to 100px, width auto-scales */\n}\n\n/* Bomb Target Animation */\n.bomb-target {\n  background-image: url(&quot;images/animations/bomb-target.png&quot;);\n  animation: bomb-target-anim 0.6s steps(9) forwards;\n}\n\n@keyframes bomb-target-anim {\n  from { background-position: 0 0; }\n  to { background-position: -900px 0; }\n}\n\n/* Bomb Non-Target Animation */\n.bomb-nontarget {\n  background-image: url(&quot;images/animations/bomb-nontarget.png&quot;);\n  animation: bomb-nontarget-anim 0.6s steps(9) forwards;\n}\n\n@keyframes bomb-nontarget-anim {\n  from { background-position: 0 0; }\n  to { background-position: -900px 0; }\n}\n\n/* Bomb Defuse Animation (infinite loop) */\n.bomb-defuse {\n  background-image: url(&quot;images/animations/bomb-defuse.png&quot;);\n  animation: bomb-defuse-anim 0.5s steps(5) infinite;\n}\n\n@keyframes bomb-defuse-anim {\n  from { background-position: 0 0; }\n  to { background-position: -500px 0; }\n}\n\n/* Bomb Explode Animation (ends on empty frame) */\n.bomb-explode {\n  background-image: url(&quot;images/animations/bomb-explode.png&quot;);\n  animation: bomb-explode-anim 0.6s steps(6) forwards;\n}\n\n@keyframes bomb-explode-anim {\n  from { background-position: 0 0; }\n  to { background-position: -600px 0; }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>top-left</div>\n    <div class=&quot;top&quot;>top</div>\n    <div class=&quot;top-right&quot;>top-right</div>\n    \n    <div class=&quot;left&quot;>left</div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;>right</div>\n    \n    <div class=&quot;bottom-left&quot;>bottom-left</div>\n    <div class=&quot;bottom&quot;>bottom</div>\n    <div class=&quot;bottom-right&quot;>bottom-right</div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Bomb Experimental Block\n// ============================================\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let type = jsPsych.evaluateTimelineVariable(&quot;trial_type&quot;)\n        if(type == &quot;go&quot;){\n          return `<div class=&quot;bomb-sprite bomb-nontarget&quot;></div>`\n        } else {\n          return `<div class=&quot;bomb-sprite bomb-target&quot;></div>`\n        }\n    },\n    choices: [&quot; &quot;],\n    trial_duration: 600,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    }\n}\n\n// feedback\nlet exp_feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()[0]\n\n        if(jsPsych.evaluateTimelineVariable(&quot;trial_type&quot;) == &quot;go&quot;){\n           if(last_trial.response){\n              return `<div class=&quot;bomb-sprite bomb-defuse&quot;></div>`\n           } else {\n              return `<div class=&quot;bomb-sprite bomb-explode&quot;></div>`\n           }\n        } else {\n          if(last_trial.response){\n              return `<div class=&quot;bomb-sprite bomb-explode&quot;></div>`\n           } else {\n              return `<div class=&quot;bomb-sprite bomb-defuse&quot;></div>`\n           }\n        }\n        \n    },\n    choices: [&quot;NO_KEYS&quot;],\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;feedback&quot;\n    }\n}\n\n// exp timeline\nlet exp_bomb = {\n    timeline: [\n        exp_stimulus,\n        exp_feedback\n    ],\n    timeline_variables: [\n      {trial_type: &quot;go&quot;},\n      {trial_type: &quot;nogo&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(t){\n          console.log(t)\n        \n          let output = [];\n          \n          for(let i = 0; i < 8; i++){\n             output.push(t[0]);\n          }\n  \n          output.push(t[1])\n          \n          output = jsPsych.randomization.shuffle(output)\n\n          return output;\n        }\n    },\n    repetitions: 2,\n    data: {\n      phase: &quot;bomb&quot;,\n      trial_type: jsPsych.timelineVariable(&quot;trial_type&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_bomb,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-sprite-animations-ex-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-sprite-animations-ex-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}


.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}



/* Base sprite styling */
.bomb-sprite {
  width: 100px; /* Single frame width */
  height: 100px;
  background-repeat: no-repeat;
  background-size: auto 100px; /* Scale height to 100px, width auto-scales */
}

/* Bomb Target Animation */
.bomb-target {
  background-image: url(&quot;images/animations/bomb-target.png&quot;);
  animation: bomb-target-anim 0.6s steps(9) forwards;
}

@keyframes bomb-target-anim {
  from { background-position: 0 0; }
  to { background-position: -900px 0; }
}

/* Bomb Non-Target Animation */
.bomb-nontarget {
  background-image: url(&quot;images/animations/bomb-nontarget.png&quot;);
  animation: bomb-nontarget-anim 0.6s steps(9) forwards;
}

@keyframes bomb-nontarget-anim {
  from { background-position: 0 0; }
  to { background-position: -900px 0; }
}

/* Bomb Defuse Animation (infinite loop) */
.bomb-defuse {
  background-image: url(&quot;images/animations/bomb-defuse.png&quot;);
  animation: bomb-defuse-anim 0.5s steps(5) infinite;
}

@keyframes bomb-defuse-anim {
  from { background-position: 0 0; }
  to { background-position: -500px 0; }
}

/* Bomb Explode Animation (ends on empty frame) */
.bomb-explode {
  background-image: url(&quot;images/animations/bomb-explode.png&quot;);
  animation: bomb-explode-anim 0.6s steps(6) forwards;
}

@keyframes bomb-explode-anim {
  from { background-position: 0 0; }
  to { background-position: -600px 0; }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>top-left</div>
    <div class=&quot;top&quot;>top</div>
    <div class=&quot;top-right&quot;>top-right</div>
    
    <div class=&quot;left&quot;>left</div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;>right</div>
    
    <div class=&quot;bottom-left&quot;>bottom-left</div>
    <div class=&quot;bottom&quot;>bottom</div>
    <div class=&quot;bottom-right&quot;>bottom-right</div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Bomb Experimental Block
// ============================================

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let type = jsPsych.evaluateTimelineVariable(&quot;trial_type&quot;)
        if(type == &quot;go&quot;){
          return `<div class=&quot;bomb-sprite bomb-nontarget&quot;></div>`
        } else {
          return `<div class=&quot;bomb-sprite bomb-target&quot;></div>`
        }
    },
    choices: [&quot; &quot;],
    trial_duration: 600,
    data: {
      trial_part: &quot;stimulus&quot;
    }
}

// feedback
let exp_feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()[0]

        if(jsPsych.evaluateTimelineVariable(&quot;trial_type&quot;) == &quot;go&quot;){
           if(last_trial.response){
              return `<div class=&quot;bomb-sprite bomb-defuse&quot;></div>`
           } else {
              return `<div class=&quot;bomb-sprite bomb-explode&quot;></div>`
           }
        } else {
          if(last_trial.response){
              return `<div class=&quot;bomb-sprite bomb-explode&quot;></div>`
           } else {
              return `<div class=&quot;bomb-sprite bomb-defuse&quot;></div>`
           }
        }
        
    },
    choices: [&quot;NO_KEYS&quot;],
    trial_duration: 1000,
    data: {
      trial_part: &quot;feedback&quot;
    }
}

// exp timeline
let exp_bomb = {
    timeline: [
        exp_stimulus,
        exp_feedback
    ],
    timeline_variables: [
      {trial_type: &quot;go&quot;},
      {trial_type: &quot;nogo&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(t){
          console.log(t)
        
          let output = [];
          
          for(let i = 0; i < 8; i++){
             output.push(t[0]);
          }
  
          output.push(t[1])
          
          output = jsPsych.randomization.shuffle(output)

          return output;
        }
    },
    repetitions: 2,
    data: {
      phase: &quot;bomb&quot;,
      trial_type: jsPsych.timelineVariable(&quot;trial_type&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_bomb,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-sprite-animations-ex-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-sprite-animations-ex-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="animating-backgrounds" class="level2" data-number="25.5">
<h2 data-number="25.5" class="anchored" data-anchor-id="animating-backgrounds"><span class="header-section-number">25.5</span> Animating Backgrounds</h2>
<p>Background animations can enhance immersion and create a sense of movement in your experiments. Two common techniques are scrolling backgrounds and parallax effects, both achievable with CSS.</p>
<section id="scrolling-backgrounds" class="level3" data-number="25.5.1">
<h3 data-number="25.5.1" class="anchored" data-anchor-id="scrolling-backgrounds"><span class="header-section-number">25.5.1</span> Scrolling Backgrounds</h3>
<style>
.bg-demo {
  margin: 20px 0;
  text-align: center;
}

.bg-container {
  position: relative;
  width: 100%;
  max-width: 600px;
  height: 300px;
  margin: 20px auto;
  border: 2px solid #34495e;
  border-radius: 8px;
  overflow: hidden;
}

.space-scroll {
  width: 100%;
  height: 100%;
  background-image: url('images/animations/space_background.png');
  background-repeat: repeat;
  background-size: 1024px 1024px;
}

.space-scroll.horizontal {
  animation: scroll-horizontal 20s linear infinite;
}

.space-scroll.vertical {
  animation: scroll-vertical 20s linear infinite;
}

@keyframes scroll-horizontal {
  from { background-position: 0 0; }
  to { background-position: -1024px 0; }
}

@keyframes scroll-vertical {
  from { background-position: 0 0; }
  to { background-position: 0 -1024px; }
}

.bg-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 15px;
}

.bg-button {
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  background-color: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
}

.bg-button:hover {
  background-color: #2980b9;
}

.bg-button:active {
  transform: scale(0.95);
}

.bg-button.active {
  background-color: #2ecc71;
}
</style>

<div class="bg-demo">
  <div class="bg-container">
    <div class="space-scroll" id="space-bg"></div>
  </div>
  <div class="bg-buttons">
    <button class="bg-button" id="btn-horizontal" onclick="setScrollDirection('horizontal')">Horizontal Scroll</button>
    <button class="bg-button" id="btn-vertical" onclick="setScrollDirection('vertical')">Vertical Scroll</button>
    <button class="bg-button" id="btn-stop" onclick="setScrollDirection('stop')">Stop</button>
  </div>
</div>

<script>
function setScrollDirection(direction) {
  const bg = document.getElementById('space-bg');
  const btnH = document.getElementById('btn-horizontal');
  const btnV = document.getElementById('btn-vertical');
  const btnS = document.getElementById('btn-stop');
  
  // Remove all classes
  bg.className = 'space-scroll';
  btnH.classList.remove('active');
  btnV.classList.remove('active');
  btnS.classList.remove('active');
  
  // Add appropriate class
  if (direction === 'horizontal') {
    bg.classList.add('horizontal');
    btnH.classList.add('active');
  } else if (direction === 'vertical') {
    bg.classList.add('vertical');
    btnV.classList.add('active');
  } else {
    btnS.classList.add('active');
  }
}
</script>
<p>To create a continuously scrolling background (useful for endless runner-style tasks or creating motion cues), animate the background-position:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">.scrolling-background</span> {</span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">300</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'background-pattern.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">repeat-x</span><span class="op">;</span></span>
<span id="cb66-6"><a href="#cb66-6"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-bg 10</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb66-7"><a href="#cb66-7"></a>}</span>
<span id="cb66-8"><a href="#cb66-8"></a></span>
<span id="cb66-9"><a href="#cb66-9"></a><span class="im">@keyframes</span> scroll-bg {</span>
<span id="cb66-10"><a href="#cb66-10"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb66-11"><a href="#cb66-11"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1000</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb66-12"><a href="#cb66-12"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The key is using background-repeat: repeat-x so the image tiles horizontally, creating seamless scrolling. The animation duration (10s) controls the scroll speed—longer durations create slower movement.</p>
<p>You can control the scroll direction by adjusting the background-position values, which specify the x and y coordinates:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb67-1"><a href="#cb67-1"></a><span class="co">/* Vertical scrolling */</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="im">@keyframes</span> scroll-vertical {</span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">-1000</span><span class="dt">px</span><span class="op">;</span> }</span>
<span id="cb67-5"><a href="#cb67-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To reverse the direction (right to left or bottom to top), add the reverse keyword:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb68-1"><a href="#cb68-1"></a><span class="co">/* Reverse direction (right to left) */</span></span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="fu">.reverse-scroll</span> {</span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-bg 10</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="parallax-effects" class="level3" data-number="25.5.2">
<h3 data-number="25.5.2" class="anchored" data-anchor-id="parallax-effects"><span class="header-section-number">25.5.2</span> Parallax Effects</h3>
<p>Parallax creates depth by moving multiple background layers at different speeds, simulating the way distant objects appear to move slower than nearby objects. Parallax backgrounds consist of multiple images that combine to create distinct layers:</p>
<div class="quarto-layout-panel" data-layout-ncol="5">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/parallax-1.png" class="img-fluid figure-img" width="200"></p>
<figcaption>Parallax 1</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/parallax-2.png" class="img-fluid figure-img" width="200"></p>
<figcaption>Parallax 2</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/parallax-3.png" class="img-fluid figure-img" width="200"></p>
<figcaption>Parallax 3</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/parallax-4.png" class="img-fluid figure-img" width="200"></p>
<figcaption>Parallax 4</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/animations/parallax-5.png" class="img-fluid figure-img" width="200"></p>
<figcaption>Parallax 5</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>The images are stacked together by placing them on separate divs. Parallax creates depth by moving multiple background layers at different speeds, like this:</p>
<style>
.parallax-demo-container {
  margin: 20px 0;
  text-align: center;
}

.parallax-bg-container {
  position: relative;
  width: 100%;
  max-width: 600px;
  height: 300px;
  margin: 20px auto;
  border-radius: 8px;
  overflow: hidden;
  background-color: #87ceeb;
}

.parallax-demo {
  position: relative;
  width: 100%;
  height: 100%;
}

.parallax-layer-demo {
  position: absolute;
  width: 100%;
  height: 100%;
  background-repeat: repeat-x;
  background-size: auto 100%;
}

.demo-layer-1 {
  background-image: url('images/animations/parallax-1.png');
}

.demo-layer-1.scrolling {
  animation: scroll-demo-layer1 40s linear infinite;
}

.demo-layer-2 {
  background-image: url('images/animations/parallax-2.png');
}

.demo-layer-2.scrolling {
  animation: scroll-demo-layer2 30s linear infinite;
}

.demo-layer-3 {
  background-image: url('images/animations/parallax-3.png');
}

.demo-layer-3.scrolling {
  animation: scroll-demo-layer3 20s linear infinite;
}

.demo-layer-4 {
  background-image: url('images/animations/parallax-4.png');
}

.demo-layer-4.scrolling {
  animation: scroll-demo-layer4 12s linear infinite;
}

.demo-layer-5 {
  background-image: url('images/animations/parallax-5.png');
}

.demo-layer-5.scrolling {
  animation: scroll-demo-layer5 8s linear infinite;
}

@keyframes scroll-demo-layer1 {
  from { background-position: 0 0; }
  to { background-position: -510px 0; }
}

@keyframes scroll-demo-layer2 {
  from { background-position: 0 0; }
  to { background-position: -510px 0; }
}

@keyframes scroll-demo-layer3 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}

@keyframes scroll-demo-layer4 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}

@keyframes scroll-demo-layer5 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}
</style>

<div class="parallax-demo-container">
  <div class="parallax-bg-container">
    <div class="parallax-demo">
      <div class="parallax-layer-demo demo-layer-1" id="demo-layer-1"></div>
      <div class="parallax-layer-demo demo-layer-2" id="demo-layer-2"></div>
      <div class="parallax-layer-demo demo-layer-3" id="demo-layer-3"></div>
      <div class="parallax-layer-demo demo-layer-4" id="demo-layer-4"></div>
      <div class="parallax-layer-demo demo-layer-5" id="demo-layer-5"></div>
    </div>
  </div>
  <div class="bg-buttons">
    <button class="bg-button" onclick="toggleParallaxDemo()">Start/Stop Parallax</button>
  </div>
</div>

<script>
function toggleParallaxDemo() {
  for (let i = 1; i <= 5; i++) {
    document.getElementById('demo-layer-' + i).classList.toggle('scrolling');
  }
}
</script>
<p>This requires multiple elements stacked on top of each other with multiple HTML divs and specific CSS styling that would layer them on top of each other:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb69-1"><a href="#cb69-1"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-container"</span><span class="dt">&gt;</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer layer-1"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb69-3"><a href="#cb69-3"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer layer-2"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb69-4"><a href="#cb69-4"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer layer-3"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb69-5"><a href="#cb69-5"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer layer-4"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb69-6"><a href="#cb69-6"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer layer-5"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb69-7"><a href="#cb69-7"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">.parallax-container</span> {</span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">600</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb70-4"><a href="#cb70-4"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">300</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb70-5"><a href="#cb70-5"></a>  <span class="kw">overflow</span><span class="ch">:</span> <span class="dv">hidden</span><span class="op">;</span></span>
<span id="cb70-6"><a href="#cb70-6"></a>}</span>
<span id="cb70-7"><a href="#cb70-7"></a></span>
<span id="cb70-8"><a href="#cb70-8"></a><span class="fu">.parallax-layer</span> {</span>
<span id="cb70-9"><a href="#cb70-9"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb70-10"><a href="#cb70-10"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb70-11"><a href="#cb70-11"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb70-12"><a href="#cb70-12"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">repeat-x</span><span class="op">;</span></span>
<span id="cb70-13"><a href="#cb70-13"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span></span>
<span id="cb70-14"><a href="#cb70-14"></a>}</span>
<span id="cb70-15"><a href="#cb70-15"></a></span>
<span id="cb70-16"><a href="#cb70-16"></a><span class="fu">.layer-1</span> {</span>
<span id="cb70-17"><a href="#cb70-17"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'parallax-1.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb70-18"><a href="#cb70-18"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer1 40</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb70-19"><a href="#cb70-19"></a>}</span>
<span id="cb70-20"><a href="#cb70-20"></a></span>
<span id="cb70-21"><a href="#cb70-21"></a><span class="fu">.layer-2</span> {</span>
<span id="cb70-22"><a href="#cb70-22"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'parallax-2.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb70-23"><a href="#cb70-23"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer2 30</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb70-24"><a href="#cb70-24"></a>}</span>
<span id="cb70-25"><a href="#cb70-25"></a></span>
<span id="cb70-26"><a href="#cb70-26"></a><span class="fu">.layer-3</span> {</span>
<span id="cb70-27"><a href="#cb70-27"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'parallax-3.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb70-28"><a href="#cb70-28"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer3 20</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb70-29"><a href="#cb70-29"></a>}</span>
<span id="cb70-30"><a href="#cb70-30"></a></span>
<span id="cb70-31"><a href="#cb70-31"></a><span class="fu">.layer-4</span> {</span>
<span id="cb70-32"><a href="#cb70-32"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'parallax-4.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb70-33"><a href="#cb70-33"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer4 12</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb70-34"><a href="#cb70-34"></a>}</span>
<span id="cb70-35"><a href="#cb70-35"></a></span>
<span id="cb70-36"><a href="#cb70-36"></a><span class="fu">.layer-5</span> {</span>
<span id="cb70-37"><a href="#cb70-37"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">'parallax-5.png'</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb70-38"><a href="#cb70-38"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer5 8</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb70-39"><a href="#cb70-39"></a>}</span>
<span id="cb70-40"><a href="#cb70-40"></a></span>
<span id="cb70-41"><a href="#cb70-41"></a><span class="fu">.content</span> {</span>
<span id="cb70-42"><a href="#cb70-42"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb70-43"><a href="#cb70-43"></a>  <span class="kw">z-index</span><span class="ch">:</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb70-44"><a href="#cb70-44"></a>}</span>
<span id="cb70-45"><a href="#cb70-45"></a></span>
<span id="cb70-46"><a href="#cb70-46"></a><span class="im">@keyframes</span> scroll-layer1 {</span>
<span id="cb70-47"><a href="#cb70-47"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-48"><a href="#cb70-48"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-49"><a href="#cb70-49"></a>}</span>
<span id="cb70-50"><a href="#cb70-50"></a></span>
<span id="cb70-51"><a href="#cb70-51"></a><span class="im">@keyframes</span> scroll-layer2 {</span>
<span id="cb70-52"><a href="#cb70-52"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-53"><a href="#cb70-53"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-54"><a href="#cb70-54"></a>}</span>
<span id="cb70-55"><a href="#cb70-55"></a></span>
<span id="cb70-56"><a href="#cb70-56"></a><span class="im">@keyframes</span> scroll-layer3 {</span>
<span id="cb70-57"><a href="#cb70-57"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-58"><a href="#cb70-58"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-59"><a href="#cb70-59"></a>}</span>
<span id="cb70-60"><a href="#cb70-60"></a></span>
<span id="cb70-61"><a href="#cb70-61"></a><span class="im">@keyframes</span> scroll-layer4 {</span>
<span id="cb70-62"><a href="#cb70-62"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-63"><a href="#cb70-63"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1020</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-64"><a href="#cb70-64"></a>}</span>
<span id="cb70-65"><a href="#cb70-65"></a></span>
<span id="cb70-66"><a href="#cb70-66"></a><span class="im">@keyframes</span> scroll-layer5 {</span>
<span id="cb70-67"><a href="#cb70-67"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-68"><a href="#cb70-68"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1020</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb70-69"><a href="#cb70-69"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The back layer (layer-1) moves slowest (40s), while each successive layer moves progressively faster, with the front layer (layer-5) moving fastest (8s). This differential speed creates the illusion of depth, as closer objects appear to move faster than distant ones—just as they do in real-world perception.</p>
</section>
<section id="scaling-background-images" class="level3" data-number="25.5.3">
<h3 data-number="25.5.3" class="anchored" data-anchor-id="scaling-background-images"><span class="header-section-number">25.5.3</span> Scaling Background Images</h3>
<p>When working with animated backgrounds, especially parallax effects, image scaling can cause visible jumps or stutters at loop points. Understanding why this happens and how to fix it is crucial for smooth animations.</p>
<p>When you use <code>background-size: auto 100%</code> to make a background image fill the container’s height, CSS scales the image proportionally. If your image’s original dimensions don’t match the container’s aspect ratio, the displayed width will differ from the original width.</p>
<p>For example, consider an image that is 272px wide × 160px tall displayed in a container that is 300px tall:</p>
<p>Scaling factor: 300 ÷ 160 = 1.875</p>
<p>Displayed width: 272 × 1.875 = 510px</p>
<p>If you animate the background position by -272px (the original width), you’re only moving through about 53% of the displayed image before the animation loops. This creates a visible jump as the background resets to its starting position.</p>
<p>While scaling affects both simple scrolling backgrounds and parallax effects, the issue is far more apparent with parallax because the layers move at different speeds, making the ‘jump’ at one layer more obvious. Simple scrolling backgrounds with random patterns (like star fields) are more forgiving of small misalignments, making the scaling issue less noticeable.</p>
<p>The most straightforward solution is to calculate the scaled width and use it in your animation: <code>Scaled width = Original width × (Container height ÷ Original height)</code></p>
<p>For our example: <code>Scaled width = 272 × (300 ÷ 160) = 510px</code></p>
<p>Then update your keyframe:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb71-1"><a href="#cb71-1"></a><span class="im">@keyframes</span> scroll-layer {</span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb71-4"><a href="#cb71-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-scrolling-backgrounds-to-jspsych" class="level3" data-number="25.5.4">
<h3 data-number="25.5.4" class="anchored" data-anchor-id="adding-scrolling-backgrounds-to-jspsych"><span class="header-section-number">25.5.4</span> Adding Scrolling Backgrounds to jsPsych</h3>
<p>To add a simple scrolling background to our jsPsych experiment, we will have to use some JavaScript to add/remove the <code>space-scroll</code> CSS class to and from the <code>jspsych-game-display</code> div. We’ll make use of the <code>on_timeline_start</code> and <code>on_timeline_finish</code> functions.</p>
<section id="example-1-simple-scrolling-background" class="level4" data-number="25.5.4.1">
<h4 data-number="25.5.4.1" class="anchored" data-anchor-id="example-1-simple-scrolling-background"><span class="header-section-number">25.5.4.1</span> Example 1: Simple Scrolling Background</h4>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-4" role="tab" aria-controls="tabset-13-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="sourceCode" id="cb72"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb72-1"><a href="#cb72-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb72-4"><a href="#cb72-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb72-5"><a href="#cb72-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb72-6"><a href="#cb72-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-7"><a href="#cb72-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb72-8"><a href="#cb72-8"></a>    </span>
<span id="cb72-9"><a href="#cb72-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb72-10"><a href="#cb72-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-11"><a href="#cb72-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-12"><a href="#cb72-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-13"><a href="#cb72-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-14"><a href="#cb72-14"></a></span>
<span id="cb72-15"><a href="#cb72-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb72-16"><a href="#cb72-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb72-17"><a href="#cb72-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb72-18"><a href="#cb72-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb72-19"><a href="#cb72-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb72-20"><a href="#cb72-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb72-21"><a href="#cb72-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-22"><a href="#cb72-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-23"><a href="#cb72-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-24"><a href="#cb72-24"></a>      </span>
<span id="cb72-25"><a href="#cb72-25"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-26"><a href="#cb72-26"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-27"><a href="#cb72-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-28"><a href="#cb72-28"></a>      </span>
<span id="cb72-29"><a href="#cb72-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-30"><a href="#cb72-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-31"><a href="#cb72-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-32"><a href="#cb72-32"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-33"><a href="#cb72-33"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb72-34"><a href="#cb72-34"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb72-35"><a href="#cb72-35"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb72-36"><a href="#cb72-36"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb72-37"><a href="#cb72-37"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb72-38"><a href="#cb72-38"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="sourceCode" id="cb73"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb73-1"><a href="#cb73-1"></a> </span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="co">// ============================================</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="co">// ============================================</span></span>
<span id="cb73-5"><a href="#cb73-5"></a></span>
<span id="cb73-6"><a href="#cb73-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb73-7"><a href="#cb73-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb73-8"><a href="#cb73-8"></a>                ) </span>
<span id="cb73-9"><a href="#cb73-9"></a></span>
<span id="cb73-10"><a href="#cb73-10"></a><span class="co">// ============================================</span></span>
<span id="cb73-11"><a href="#cb73-11"></a><span class="co">// Welcome</span></span>
<span id="cb73-12"><a href="#cb73-12"></a><span class="co">// ============================================</span></span>
<span id="cb73-13"><a href="#cb73-13"></a></span>
<span id="cb73-14"><a href="#cb73-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb73-15"><a href="#cb73-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb73-16"><a href="#cb73-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb73-17"><a href="#cb73-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb73-18"><a href="#cb73-18"></a>}</span>
<span id="cb73-19"><a href="#cb73-19"></a></span>
<span id="cb73-20"><a href="#cb73-20"></a><span class="co">// ============================================</span></span>
<span id="cb73-21"><a href="#cb73-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb73-22"><a href="#cb73-22"></a><span class="co">// ============================================</span></span>
<span id="cb73-23"><a href="#cb73-23"></a></span>
<span id="cb73-24"><a href="#cb73-24"></a><span class="co">// fixation</span></span>
<span id="cb73-25"><a href="#cb73-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb73-26"><a href="#cb73-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb73-27"><a href="#cb73-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb73-28"><a href="#cb73-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb73-29"><a href="#cb73-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb73-30"><a href="#cb73-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb73-31"><a href="#cb73-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb73-32"><a href="#cb73-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb73-33"><a href="#cb73-33"></a>    }</span>
<span id="cb73-34"><a href="#cb73-34"></a>}</span>
<span id="cb73-35"><a href="#cb73-35"></a></span>
<span id="cb73-36"><a href="#cb73-36"></a><span class="co">// stimulus</span></span>
<span id="cb73-37"><a href="#cb73-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb73-38"><a href="#cb73-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb73-39"><a href="#cb73-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb73-40"><a href="#cb73-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb73-41"><a href="#cb73-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb73-42"><a href="#cb73-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb73-43"><a href="#cb73-43"></a></span>
<span id="cb73-44"><a href="#cb73-44"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb73-45"><a href="#cb73-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb73-46"><a href="#cb73-46"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb73-47"><a href="#cb73-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb73-48"><a href="#cb73-48"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb73-49"><a href="#cb73-49"></a></span>
<span id="cb73-50"><a href="#cb73-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb73-51"><a href="#cb73-51"></a>    }<span class="op">,</span></span>
<span id="cb73-52"><a href="#cb73-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb73-53"><a href="#cb73-53"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb73-54"><a href="#cb73-54"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb73-55"><a href="#cb73-55"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb73-56"><a href="#cb73-56"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb73-57"><a href="#cb73-57"></a>    }<span class="op">,</span></span>
<span id="cb73-58"><a href="#cb73-58"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb73-59"><a href="#cb73-59"></a>        <span class="co">// store accuracy</span></span>
<span id="cb73-60"><a href="#cb73-60"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb73-61"><a href="#cb73-61"></a>    }</span>
<span id="cb73-62"><a href="#cb73-62"></a>}</span>
<span id="cb73-63"><a href="#cb73-63"></a></span>
<span id="cb73-64"><a href="#cb73-64"></a><span class="co">// exp timeline</span></span>
<span id="cb73-65"><a href="#cb73-65"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb73-66"><a href="#cb73-66"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb73-67"><a href="#cb73-67"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb73-68"><a href="#cb73-68"></a>        exp_stimulus</span>
<span id="cb73-69"><a href="#cb73-69"></a>    ]<span class="op">,</span></span>
<span id="cb73-70"><a href="#cb73-70"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb73-71"><a href="#cb73-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb73-72"><a href="#cb73-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb73-73"><a href="#cb73-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb73-74"><a href="#cb73-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb73-75"><a href="#cb73-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb73-76"><a href="#cb73-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb73-77"><a href="#cb73-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb73-78"><a href="#cb73-78"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb73-79"><a href="#cb73-79"></a>    ]<span class="op">,</span></span>
<span id="cb73-80"><a href="#cb73-80"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb73-81"><a href="#cb73-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb73-82"><a href="#cb73-82"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb73-83"><a href="#cb73-83"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb73-84"><a href="#cb73-84"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb73-85"><a href="#cb73-85"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb73-86"><a href="#cb73-86"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb73-87"><a href="#cb73-87"></a>    }<span class="op">,</span></span>
<span id="cb73-88"><a href="#cb73-88"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb73-89"><a href="#cb73-89"></a>        <span class="co">// get the game display</span></span>
<span id="cb73-90"><a href="#cb73-90"></a>        <span class="kw">let</span> display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#jspsych-game-display"</span>)</span>
<span id="cb73-91"><a href="#cb73-91"></a>        <span class="co">// add the scrolling space background</span></span>
<span id="cb73-92"><a href="#cb73-92"></a>        display<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"space-scroll"</span>)<span class="op">;</span></span>
<span id="cb73-93"><a href="#cb73-93"></a>    }<span class="op">,</span></span>
<span id="cb73-94"><a href="#cb73-94"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb73-95"><a href="#cb73-95"></a>        <span class="co">// get the game display</span></span>
<span id="cb73-96"><a href="#cb73-96"></a>        <span class="kw">let</span> display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#jspsych-game-display"</span>)</span>
<span id="cb73-97"><a href="#cb73-97"></a>        <span class="co">// remove the scrolling space background</span></span>
<span id="cb73-98"><a href="#cb73-98"></a>        display<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"space-scroll"</span>)<span class="op">;</span></span>
<span id="cb73-99"><a href="#cb73-99"></a>    }</span>
<span id="cb73-100"><a href="#cb73-100"></a>}<span class="op">;</span></span>
<span id="cb73-101"><a href="#cb73-101"></a></span>
<span id="cb73-102"><a href="#cb73-102"></a></span>
<span id="cb73-103"><a href="#cb73-103"></a><span class="co">// ============================================</span></span>
<span id="cb73-104"><a href="#cb73-104"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb73-105"><a href="#cb73-105"></a><span class="co">// ============================================</span></span>
<span id="cb73-106"><a href="#cb73-106"></a></span>
<span id="cb73-107"><a href="#cb73-107"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb73-108"><a href="#cb73-108"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb73-109"><a href="#cb73-109"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb73-110"><a href="#cb73-110"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb73-111"><a href="#cb73-111"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb73-112"><a href="#cb73-112"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb73-113"><a href="#cb73-113"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb73-114"><a href="#cb73-114"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb73-115"><a href="#cb73-115"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb73-116"><a href="#cb73-116"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb73-117"><a href="#cb73-117"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb73-118"><a href="#cb73-118"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb73-119"><a href="#cb73-119"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb73-120"><a href="#cb73-120"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb73-121"><a href="#cb73-121"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb73-122"><a href="#cb73-122"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb73-123"><a href="#cb73-123"></a>    })<span class="op">;</span></span>
<span id="cb73-124"><a href="#cb73-124"></a>  }<span class="op">,</span></span>
<span id="cb73-125"><a href="#cb73-125"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb73-126"><a href="#cb73-126"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb73-127"><a href="#cb73-127"></a>  }</span>
<span id="cb73-128"><a href="#cb73-128"></a>}<span class="op">;</span></span>
<span id="cb73-129"><a href="#cb73-129"></a></span>
<span id="cb73-130"><a href="#cb73-130"></a><span class="co">// ============================================</span></span>
<span id="cb73-131"><a href="#cb73-131"></a><span class="co">// Run jsPsych </span></span>
<span id="cb73-132"><a href="#cb73-132"></a><span class="co">// ============================================</span></span>
<span id="cb73-133"><a href="#cb73-133"></a></span>
<span id="cb73-134"><a href="#cb73-134"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb73-135"><a href="#cb73-135"></a>  welcome<span class="op">,</span></span>
<span id="cb73-136"><a href="#cb73-136"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb73-137"><a href="#cb73-137"></a>  saveData</span>
<span id="cb73-138"><a href="#cb73-138"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<div class="sourceCode" id="cb74"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb74-1"><a href="#cb74-1"></a> body {</span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb74-4"><a href="#cb74-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb74-5"><a href="#cb74-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb74-6"><a href="#cb74-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span></span>
<span id="cb74-7"><a href="#cb74-7"></a>}</span>
<span id="cb74-8"><a href="#cb74-8"></a></span>
<span id="cb74-9"><a href="#cb74-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb74-10"><a href="#cb74-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb74-11"><a href="#cb74-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb74-12"><a href="#cb74-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb74-13"><a href="#cb74-13"></a>}</span>
<span id="cb74-14"><a href="#cb74-14"></a></span>
<span id="cb74-15"><a href="#cb74-15"></a><span class="fu">.grid</span> {</span>
<span id="cb74-16"><a href="#cb74-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-17"><a href="#cb74-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-18"><a href="#cb74-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb74-19"><a href="#cb74-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-20"><a href="#cb74-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-21"><a href="#cb74-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb74-22"><a href="#cb74-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb74-23"><a href="#cb74-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-24"><a href="#cb74-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-25"><a href="#cb74-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-26"><a href="#cb74-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-27"><a href="#cb74-27"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-28"><a href="#cb74-28"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-29"><a href="#cb74-29"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb74-30"><a href="#cb74-30"></a>}</span>
<span id="cb74-31"><a href="#cb74-31"></a></span>
<span id="cb74-32"><a href="#cb74-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb74-33"><a href="#cb74-33"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb74-34"><a href="#cb74-34"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb74-35"><a href="#cb74-35"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb74-36"><a href="#cb74-36"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb74-37"><a href="#cb74-37"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb74-38"><a href="#cb74-38"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb74-39"><a href="#cb74-39"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb74-40"><a href="#cb74-40"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb74-41"><a href="#cb74-41"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb74-42"><a href="#cb74-42"></a></span>
<span id="cb74-43"><a href="#cb74-43"></a><span class="fu">.grid</span> {</span>
<span id="cb74-44"><a href="#cb74-44"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-45"><a href="#cb74-45"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-46"><a href="#cb74-46"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb74-47"><a href="#cb74-47"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-48"><a href="#cb74-48"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-49"><a href="#cb74-49"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb74-50"><a href="#cb74-50"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb74-51"><a href="#cb74-51"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-52"><a href="#cb74-52"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-53"><a href="#cb74-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-54"><a href="#cb74-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb74-55"><a href="#cb74-55"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb74-56"><a href="#cb74-56"></a>}</span>
<span id="cb74-57"><a href="#cb74-57"></a></span>
<span id="cb74-58"><a href="#cb74-58"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb74-59"><a href="#cb74-59"></a><span class="fu">.top-left</span> {</span>
<span id="cb74-60"><a href="#cb74-60"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb74-61"><a href="#cb74-61"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-62"><a href="#cb74-62"></a>}</span>
<span id="cb74-63"><a href="#cb74-63"></a></span>
<span id="cb74-64"><a href="#cb74-64"></a><span class="fu">.top-right</span> {</span>
<span id="cb74-65"><a href="#cb74-65"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb74-66"><a href="#cb74-66"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-67"><a href="#cb74-67"></a>}</span>
<span id="cb74-68"><a href="#cb74-68"></a></span>
<span id="cb74-69"><a href="#cb74-69"></a><span class="fu">.top</span> {</span>
<span id="cb74-70"><a href="#cb74-70"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb74-71"><a href="#cb74-71"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-72"><a href="#cb74-72"></a>}</span>
<span id="cb74-73"><a href="#cb74-73"></a></span>
<span id="cb74-74"><a href="#cb74-74"></a><span class="fu">.center</span> {</span>
<span id="cb74-75"><a href="#cb74-75"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb74-76"><a href="#cb74-76"></a>}</span>
<span id="cb74-77"><a href="#cb74-77"></a></span>
<span id="cb74-78"><a href="#cb74-78"></a><span class="fu">.left</span> {</span>
<span id="cb74-79"><a href="#cb74-79"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb74-80"><a href="#cb74-80"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-81"><a href="#cb74-81"></a>}</span>
<span id="cb74-82"><a href="#cb74-82"></a></span>
<span id="cb74-83"><a href="#cb74-83"></a><span class="fu">.right</span> {</span>
<span id="cb74-84"><a href="#cb74-84"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb74-85"><a href="#cb74-85"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-86"><a href="#cb74-86"></a>}</span>
<span id="cb74-87"><a href="#cb74-87"></a></span>
<span id="cb74-88"><a href="#cb74-88"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb74-89"><a href="#cb74-89"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb74-90"><a href="#cb74-90"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-91"><a href="#cb74-91"></a>}</span>
<span id="cb74-92"><a href="#cb74-92"></a></span>
<span id="cb74-93"><a href="#cb74-93"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb74-94"><a href="#cb74-94"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb74-95"><a href="#cb74-95"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-96"><a href="#cb74-96"></a>}</span>
<span id="cb74-97"><a href="#cb74-97"></a></span>
<span id="cb74-98"><a href="#cb74-98"></a><span class="fu">.bottom</span> {</span>
<span id="cb74-99"><a href="#cb74-99"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb74-100"><a href="#cb74-100"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-101"><a href="#cb74-101"></a>}</span>
<span id="cb74-102"><a href="#cb74-102"></a></span>
<span id="cb74-103"><a href="#cb74-103"></a><span class="fu">.space-scroll</span> {</span>
<span id="cb74-104"><a href="#cb74-104"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-105"><a href="#cb74-105"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb74-106"><a href="#cb74-106"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/space_background.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb74-107"><a href="#cb74-107"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">repeat</span><span class="op">;</span></span>
<span id="cb74-108"><a href="#cb74-108"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">1024</span><span class="dt">px</span> <span class="dv">1024</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb74-109"><a href="#cb74-109"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-horizontal 20</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb74-110"><a href="#cb74-110"></a>}</span>
<span id="cb74-111"><a href="#cb74-111"></a></span>
<span id="cb74-112"><a href="#cb74-112"></a><span class="im">@keyframes</span> scroll-horizontal {</span>
<span id="cb74-113"><a href="#cb74-113"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb74-114"><a href="#cb74-114"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1024</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb74-115"><a href="#cb74-115"></a>}</span>
<span id="cb74-116"><a href="#cb74-116"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-4-tab">
<div id="demo-container-bg-animation-ex-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-bg-animation-ex-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.space-scroll {\n  width: 100%;\n  height: 100%;\n  background-image: url(&quot;images/animations/space_background.png&quot;);\n  background-repeat: repeat;\n  background-size: 1024px 1024px;\n  animation: scroll-horizontal 20s linear infinite;\n}\n\n@keyframes scroll-horizontal {\n  from { background-position: 0 0; }\n  to { background-position: -1024px 0; }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>top-left</div>\n    <div class=&quot;top&quot;>top</div>\n    <div class=&quot;top-right&quot;>top-right</div>\n    \n    <div class=&quot;left&quot;>left</div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;>right</div>\n    \n    <div class=&quot;bottom-left&quot;>bottom-left</div>\n    <div class=&quot;bottom&quot;>bottom</div>\n    <div class=&quot;bottom-right&quot;>bottom-right</div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        // get the game display\n        let display = document.querySelector(&quot;#jspsych-game-display&quot;)\n        // add the scrolling space background\n        display.classList.add(&quot;space-scroll&quot;);\n    },\n    on_timeline_finish: function(){\n        // get the game display\n        let display = document.querySelector(&quot;#jspsych-game-display&quot;)\n        // remove the scrolling space background\n        display.classList.remove(&quot;space-scroll&quot;);\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-bg-animation-ex-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-bg-animation-ex-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.space-scroll {
  width: 100%;
  height: 100%;
  background-image: url(&quot;images/animations/space_background.png&quot;);
  background-repeat: repeat;
  background-size: 1024px 1024px;
  animation: scroll-horizontal 20s linear infinite;
}

@keyframes scroll-horizontal {
  from { background-position: 0 0; }
  to { background-position: -1024px 0; }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>top-left</div>
    <div class=&quot;top&quot;>top</div>
    <div class=&quot;top-right&quot;>top-right</div>
    
    <div class=&quot;left&quot;>left</div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;>right</div>
    
    <div class=&quot;bottom-left&quot;>bottom-left</div>
    <div class=&quot;bottom&quot;>bottom</div>
    <div class=&quot;bottom-right&quot;>bottom-right</div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        // get the game display
        let display = document.querySelector(&quot;#jspsych-game-display&quot;)
        // add the scrolling space background
        display.classList.add(&quot;space-scroll&quot;);
    },
    on_timeline_finish: function(){
        // get the game display
        let display = document.querySelector(&quot;#jspsych-game-display&quot;)
        // remove the scrolling space background
        display.classList.remove(&quot;space-scroll&quot;);
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-bg-animation-ex-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-bg-animation-ex-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-1-parallax-background" class="level4" data-number="25.5.4.2">
<h4 data-number="25.5.4.2" class="anchored" data-anchor-id="example-1-parallax-background"><span class="header-section-number">25.5.4.2</span> Example 1: Parallax Background</h4>
<p>To add a parallax background to your center display area, you need to layer the background elements behind your content. This requires specific HTML and CSS positioning:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-3" role="tab" aria-controls="tabset-14-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-4" role="tab" aria-controls="tabset-14-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="sourceCode" id="cb75"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb75-1"><a href="#cb75-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb75-4"><a href="#cb75-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb75-5"><a href="#cb75-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb75-6"><a href="#cb75-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-7"><a href="#cb75-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb75-8"><a href="#cb75-8"></a>    </span>
<span id="cb75-9"><a href="#cb75-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb75-10"><a href="#cb75-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-11"><a href="#cb75-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-12"><a href="#cb75-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-13"><a href="#cb75-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-14"><a href="#cb75-14"></a></span>
<span id="cb75-15"><a href="#cb75-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb75-16"><a href="#cb75-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb75-17"><a href="#cb75-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb75-18"><a href="#cb75-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb75-19"><a href="#cb75-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb75-20"><a href="#cb75-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb75-21"><a href="#cb75-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-22"><a href="#cb75-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-23"><a href="#cb75-23"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-24"><a href="#cb75-24"></a></span>
<span id="cb75-25"><a href="#cb75-25"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-26"><a href="#cb75-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span></span>
<span id="cb75-27"><a href="#cb75-27"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"background-container"</span><span class="dt">&gt;</span></span>
<span id="cb75-28"><a href="#cb75-28"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"bg-1"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-29"><a href="#cb75-29"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"bg-2"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-30"><a href="#cb75-30"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"bg-3"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-31"><a href="#cb75-31"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"bg-4"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-32"><a href="#cb75-32"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"bg-5"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"parallax-layer"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-33"><a href="#cb75-33"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-34"><a href="#cb75-34"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center-content"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-35"><a href="#cb75-35"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-36"><a href="#cb75-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-37"><a href="#cb75-37"></a></span>
<span id="cb75-38"><a href="#cb75-38"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-39"><a href="#cb75-39"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-40"><a href="#cb75-40"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-41"><a href="#cb75-41"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-42"><a href="#cb75-42"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb75-43"><a href="#cb75-43"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb75-44"><a href="#cb75-44"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb75-45"><a href="#cb75-45"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb75-46"><a href="#cb75-46"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb75-47"><a href="#cb75-47"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<div class="sourceCode" id="cb76"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb76-1"><a href="#cb76-1"></a> </span>
<span id="cb76-2"><a href="#cb76-2"></a><span class="co">// ============================================</span></span>
<span id="cb76-3"><a href="#cb76-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb76-4"><a href="#cb76-4"></a><span class="co">// ============================================</span></span>
<span id="cb76-5"><a href="#cb76-5"></a></span>
<span id="cb76-6"><a href="#cb76-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb76-7"><a href="#cb76-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb76-8"><a href="#cb76-8"></a>                ) </span>
<span id="cb76-9"><a href="#cb76-9"></a></span>
<span id="cb76-10"><a href="#cb76-10"></a><span class="co">// ============================================</span></span>
<span id="cb76-11"><a href="#cb76-11"></a><span class="co">// Welcome</span></span>
<span id="cb76-12"><a href="#cb76-12"></a><span class="co">// ============================================</span></span>
<span id="cb76-13"><a href="#cb76-13"></a></span>
<span id="cb76-14"><a href="#cb76-14"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb76-15"><a href="#cb76-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb76-16"><a href="#cb76-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb76-17"><a href="#cb76-17"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb76-18"><a href="#cb76-18"></a>}</span>
<span id="cb76-19"><a href="#cb76-19"></a></span>
<span id="cb76-20"><a href="#cb76-20"></a><span class="co">// ============================================</span></span>
<span id="cb76-21"><a href="#cb76-21"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb76-22"><a href="#cb76-22"></a><span class="co">// ============================================</span></span>
<span id="cb76-23"><a href="#cb76-23"></a></span>
<span id="cb76-24"><a href="#cb76-24"></a><span class="co">// fixation</span></span>
<span id="cb76-25"><a href="#cb76-25"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb76-26"><a href="#cb76-26"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb76-27"><a href="#cb76-27"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb76-28"><a href="#cb76-28"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb76-29"><a href="#cb76-29"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb76-30"><a href="#cb76-30"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb76-31"><a href="#cb76-31"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb76-32"><a href="#cb76-32"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb76-33"><a href="#cb76-33"></a>    }</span>
<span id="cb76-34"><a href="#cb76-34"></a>}</span>
<span id="cb76-35"><a href="#cb76-35"></a></span>
<span id="cb76-36"><a href="#cb76-36"></a><span class="co">// stimulus</span></span>
<span id="cb76-37"><a href="#cb76-37"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb76-38"><a href="#cb76-38"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb76-39"><a href="#cb76-39"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb76-40"><a href="#cb76-40"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb76-41"><a href="#cb76-41"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb76-42"><a href="#cb76-42"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb76-43"><a href="#cb76-43"></a></span>
<span id="cb76-44"><a href="#cb76-44"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb76-45"><a href="#cb76-45"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb76-46"><a href="#cb76-46"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb76-47"><a href="#cb76-47"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb76-48"><a href="#cb76-48"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb76-49"><a href="#cb76-49"></a></span>
<span id="cb76-50"><a href="#cb76-50"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb76-51"><a href="#cb76-51"></a>    }<span class="op">,</span></span>
<span id="cb76-52"><a href="#cb76-52"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb76-53"><a href="#cb76-53"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb76-54"><a href="#cb76-54"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb76-55"><a href="#cb76-55"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb76-56"><a href="#cb76-56"></a>    }<span class="op">,</span></span>
<span id="cb76-57"><a href="#cb76-57"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb76-58"><a href="#cb76-58"></a>        <span class="co">// store accuracy</span></span>
<span id="cb76-59"><a href="#cb76-59"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb76-60"><a href="#cb76-60"></a>    }</span>
<span id="cb76-61"><a href="#cb76-61"></a>}</span>
<span id="cb76-62"><a href="#cb76-62"></a></span>
<span id="cb76-63"><a href="#cb76-63"></a><span class="co">// exp timeline</span></span>
<span id="cb76-64"><a href="#cb76-64"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb76-65"><a href="#cb76-65"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb76-66"><a href="#cb76-66"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb76-67"><a href="#cb76-67"></a>        exp_stimulus</span>
<span id="cb76-68"><a href="#cb76-68"></a>    ]<span class="op">,</span></span>
<span id="cb76-69"><a href="#cb76-69"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb76-70"><a href="#cb76-70"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb76-71"><a href="#cb76-71"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb76-72"><a href="#cb76-72"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb76-73"><a href="#cb76-73"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb76-74"><a href="#cb76-74"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb76-75"><a href="#cb76-75"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb76-76"><a href="#cb76-76"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb76-77"><a href="#cb76-77"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb76-78"><a href="#cb76-78"></a>    ]<span class="op">,</span></span>
<span id="cb76-79"><a href="#cb76-79"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb76-80"><a href="#cb76-80"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb76-81"><a href="#cb76-81"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb76-82"><a href="#cb76-82"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb76-83"><a href="#cb76-83"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb76-84"><a href="#cb76-84"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb76-85"><a href="#cb76-85"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb76-86"><a href="#cb76-86"></a>    }<span class="op">,</span></span>
<span id="cb76-87"><a href="#cb76-87"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb76-88"><a href="#cb76-88"></a>      <span class="co">// use a loop to add all five layers</span></span>
<span id="cb76-89"><a href="#cb76-89"></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb76-90"><a href="#cb76-90"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#bg-"</span> <span class="op">+</span> i)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"layer-"</span> <span class="op">+</span> i)<span class="op">;</span></span>
<span id="cb76-91"><a href="#cb76-91"></a>      }</span>
<span id="cb76-92"><a href="#cb76-92"></a>    }<span class="op">,</span></span>
<span id="cb76-93"><a href="#cb76-93"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb76-94"><a href="#cb76-94"></a>      <span class="co">// use a loop to remove all five layers</span></span>
<span id="cb76-95"><a href="#cb76-95"></a>      <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">5</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb76-96"><a href="#cb76-96"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#bg-"</span> <span class="op">+</span> i)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"layer-"</span> <span class="op">+</span> i)<span class="op">;</span></span>
<span id="cb76-97"><a href="#cb76-97"></a>      }</span>
<span id="cb76-98"><a href="#cb76-98"></a>    }</span>
<span id="cb76-99"><a href="#cb76-99"></a>}<span class="op">;</span></span>
<span id="cb76-100"><a href="#cb76-100"></a></span>
<span id="cb76-101"><a href="#cb76-101"></a></span>
<span id="cb76-102"><a href="#cb76-102"></a><span class="co">// ============================================</span></span>
<span id="cb76-103"><a href="#cb76-103"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb76-104"><a href="#cb76-104"></a><span class="co">// ============================================</span></span>
<span id="cb76-105"><a href="#cb76-105"></a></span>
<span id="cb76-106"><a href="#cb76-106"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb76-107"><a href="#cb76-107"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb76-108"><a href="#cb76-108"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb76-109"><a href="#cb76-109"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb76-110"><a href="#cb76-110"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb76-111"><a href="#cb76-111"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb76-112"><a href="#cb76-112"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb76-113"><a href="#cb76-113"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb76-114"><a href="#cb76-114"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb76-115"><a href="#cb76-115"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb76-116"><a href="#cb76-116"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb76-117"><a href="#cb76-117"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb76-118"><a href="#cb76-118"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb76-119"><a href="#cb76-119"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb76-120"><a href="#cb76-120"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb76-121"><a href="#cb76-121"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb76-122"><a href="#cb76-122"></a>    })<span class="op">;</span></span>
<span id="cb76-123"><a href="#cb76-123"></a>  }<span class="op">,</span></span>
<span id="cb76-124"><a href="#cb76-124"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb76-125"><a href="#cb76-125"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb76-126"><a href="#cb76-126"></a>  }</span>
<span id="cb76-127"><a href="#cb76-127"></a>}<span class="op">;</span></span>
<span id="cb76-128"><a href="#cb76-128"></a></span>
<span id="cb76-129"><a href="#cb76-129"></a><span class="co">// ============================================</span></span>
<span id="cb76-130"><a href="#cb76-130"></a><span class="co">// Run jsPsych </span></span>
<span id="cb76-131"><a href="#cb76-131"></a><span class="co">// ============================================</span></span>
<span id="cb76-132"><a href="#cb76-132"></a></span>
<span id="cb76-133"><a href="#cb76-133"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb76-134"><a href="#cb76-134"></a>  welcome<span class="op">,</span></span>
<span id="cb76-135"><a href="#cb76-135"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb76-136"><a href="#cb76-136"></a>  saveData</span>
<span id="cb76-137"><a href="#cb76-137"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-14-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-3-tab">
<div class="sourceCode" id="cb77"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb77-1"><a href="#cb77-1"></a> body {</span>
<span id="cb77-2"><a href="#cb77-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb77-3"><a href="#cb77-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb77-5"><a href="#cb77-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb77-6"><a href="#cb77-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span></span>
<span id="cb77-7"><a href="#cb77-7"></a>}</span>
<span id="cb77-8"><a href="#cb77-8"></a></span>
<span id="cb77-9"><a href="#cb77-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb77-10"><a href="#cb77-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb77-11"><a href="#cb77-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb77-12"><a href="#cb77-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb77-13"><a href="#cb77-13"></a>}</span>
<span id="cb77-14"><a href="#cb77-14"></a></span>
<span id="cb77-15"><a href="#cb77-15"></a><span class="fu">.grid</span> {</span>
<span id="cb77-16"><a href="#cb77-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-17"><a href="#cb77-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-18"><a href="#cb77-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb77-19"><a href="#cb77-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-20"><a href="#cb77-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-21"><a href="#cb77-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb77-22"><a href="#cb77-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb77-23"><a href="#cb77-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-24"><a href="#cb77-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-25"><a href="#cb77-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-26"><a href="#cb77-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-27"><a href="#cb77-27"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-28"><a href="#cb77-28"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb77-29"><a href="#cb77-29"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb77-30"><a href="#cb77-30"></a>}</span>
<span id="cb77-31"><a href="#cb77-31"></a></span>
<span id="cb77-32"><a href="#cb77-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb77-33"><a href="#cb77-33"></a><span class="fu">.top-left</span> {</span>
<span id="cb77-34"><a href="#cb77-34"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb77-35"><a href="#cb77-35"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-36"><a href="#cb77-36"></a>}</span>
<span id="cb77-37"><a href="#cb77-37"></a></span>
<span id="cb77-38"><a href="#cb77-38"></a><span class="fu">.top-right</span> {</span>
<span id="cb77-39"><a href="#cb77-39"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb77-40"><a href="#cb77-40"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-41"><a href="#cb77-41"></a>}</span>
<span id="cb77-42"><a href="#cb77-42"></a></span>
<span id="cb77-43"><a href="#cb77-43"></a><span class="fu">.top</span> {</span>
<span id="cb77-44"><a href="#cb77-44"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb77-45"><a href="#cb77-45"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-46"><a href="#cb77-46"></a>}</span>
<span id="cb77-47"><a href="#cb77-47"></a></span>
<span id="cb77-48"><a href="#cb77-48"></a><span class="fu">.center</span> {</span>
<span id="cb77-49"><a href="#cb77-49"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb77-50"><a href="#cb77-50"></a>}</span>
<span id="cb77-51"><a href="#cb77-51"></a></span>
<span id="cb77-52"><a href="#cb77-52"></a><span class="fu">.left</span> {</span>
<span id="cb77-53"><a href="#cb77-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb77-54"><a href="#cb77-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-55"><a href="#cb77-55"></a>}</span>
<span id="cb77-56"><a href="#cb77-56"></a></span>
<span id="cb77-57"><a href="#cb77-57"></a><span class="fu">.right</span> {</span>
<span id="cb77-58"><a href="#cb77-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb77-59"><a href="#cb77-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-60"><a href="#cb77-60"></a>}</span>
<span id="cb77-61"><a href="#cb77-61"></a></span>
<span id="cb77-62"><a href="#cb77-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb77-63"><a href="#cb77-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb77-64"><a href="#cb77-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-65"><a href="#cb77-65"></a>}</span>
<span id="cb77-66"><a href="#cb77-66"></a></span>
<span id="cb77-67"><a href="#cb77-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb77-68"><a href="#cb77-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb77-69"><a href="#cb77-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-70"><a href="#cb77-70"></a>}</span>
<span id="cb77-71"><a href="#cb77-71"></a></span>
<span id="cb77-72"><a href="#cb77-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb77-73"><a href="#cb77-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb77-74"><a href="#cb77-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-75"><a href="#cb77-75"></a>}</span>
<span id="cb77-76"><a href="#cb77-76"></a></span>
<span id="cb77-77"><a href="#cb77-77"></a><span class="fu">.center</span> {</span>
<span id="cb77-78"><a href="#cb77-78"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb77-79"><a href="#cb77-79"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb77-80"><a href="#cb77-80"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb77-81"><a href="#cb77-81"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb77-82"><a href="#cb77-82"></a>  <span class="kw">overflow</span><span class="ch">:</span> <span class="dv">hidden</span><span class="op">;</span></span>
<span id="cb77-83"><a href="#cb77-83"></a>}</span>
<span id="cb77-84"><a href="#cb77-84"></a></span>
<span id="cb77-85"><a href="#cb77-85"></a><span class="fu">.background-container</span> {</span>
<span id="cb77-86"><a href="#cb77-86"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb77-87"><a href="#cb77-87"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-88"><a href="#cb77-88"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-89"><a href="#cb77-89"></a>  <span class="kw">top</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb77-90"><a href="#cb77-90"></a>  <span class="kw">left</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb77-91"><a href="#cb77-91"></a>}</span>
<span id="cb77-92"><a href="#cb77-92"></a></span>
<span id="cb77-93"><a href="#cb77-93"></a><span class="fu">.parallax-layer</span> {</span>
<span id="cb77-94"><a href="#cb77-94"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb77-95"><a href="#cb77-95"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-96"><a href="#cb77-96"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-97"><a href="#cb77-97"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">repeat-x</span><span class="op">;</span></span>
<span id="cb77-98"><a href="#cb77-98"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-99"><a href="#cb77-99"></a>}</span>
<span id="cb77-100"><a href="#cb77-100"></a></span>
<span id="cb77-101"><a href="#cb77-101"></a><span class="fu">.layer-1</span> {</span>
<span id="cb77-102"><a href="#cb77-102"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/parallax-1.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-103"><a href="#cb77-103"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer1 20</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb77-104"><a href="#cb77-104"></a>}</span>
<span id="cb77-105"><a href="#cb77-105"></a></span>
<span id="cb77-106"><a href="#cb77-106"></a><span class="fu">.layer-2</span> {</span>
<span id="cb77-107"><a href="#cb77-107"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/parallax-2.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-108"><a href="#cb77-108"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer2 15</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb77-109"><a href="#cb77-109"></a>}</span>
<span id="cb77-110"><a href="#cb77-110"></a></span>
<span id="cb77-111"><a href="#cb77-111"></a><span class="fu">.layer-3</span> {</span>
<span id="cb77-112"><a href="#cb77-112"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/parallax-3.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-113"><a href="#cb77-113"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer3 10</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb77-114"><a href="#cb77-114"></a>}</span>
<span id="cb77-115"><a href="#cb77-115"></a></span>
<span id="cb77-116"><a href="#cb77-116"></a><span class="fu">.layer-4</span> {</span>
<span id="cb77-117"><a href="#cb77-117"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/parallax-4.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-118"><a href="#cb77-118"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer4 6</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb77-119"><a href="#cb77-119"></a>}</span>
<span id="cb77-120"><a href="#cb77-120"></a></span>
<span id="cb77-121"><a href="#cb77-121"></a><span class="fu">.layer-5</span> {</span>
<span id="cb77-122"><a href="#cb77-122"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/animations/parallax-5.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb77-123"><a href="#cb77-123"></a>  <span class="kw">animation</span><span class="ch">:</span> <span class="dv">scroll-layer5 4</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb77-124"><a href="#cb77-124"></a></span>
<span id="cb77-125"><a href="#cb77-125"></a>}</span>
<span id="cb77-126"><a href="#cb77-126"></a></span>
<span id="cb77-127"><a href="#cb77-127"></a><span class="er">// scaled image width = 272 * (300 / 160) = 510</span></span>
<span id="cb77-128"><a href="#cb77-128"></a><span class="im">@keyframes</span> scroll-layer1 {</span>
<span id="cb77-129"><a href="#cb77-129"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-130"><a href="#cb77-130"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-131"><a href="#cb77-131"></a>}</span>
<span id="cb77-132"><a href="#cb77-132"></a></span>
<span id="cb77-133"><a href="#cb77-133"></a><span class="im">@keyframes</span> scroll-layer2 {</span>
<span id="cb77-134"><a href="#cb77-134"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-135"><a href="#cb77-135"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-510</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-136"><a href="#cb77-136"></a>}</span>
<span id="cb77-137"><a href="#cb77-137"></a></span>
<span id="cb77-138"><a href="#cb77-138"></a><span class="er">// scaled image width = 544 * (300 / 160) = 510</span></span>
<span id="cb77-139"><a href="#cb77-139"></a><span class="im">@keyframes</span> scroll-layer3 {</span>
<span id="cb77-140"><a href="#cb77-140"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-141"><a href="#cb77-141"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1020</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-142"><a href="#cb77-142"></a>}</span>
<span id="cb77-143"><a href="#cb77-143"></a></span>
<span id="cb77-144"><a href="#cb77-144"></a><span class="im">@keyframes</span> scroll-layer4 {</span>
<span id="cb77-145"><a href="#cb77-145"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-146"><a href="#cb77-146"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1020</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-147"><a href="#cb77-147"></a>}</span>
<span id="cb77-148"><a href="#cb77-148"></a></span>
<span id="cb77-149"><a href="#cb77-149"></a><span class="im">@keyframes</span> scroll-layer5 {</span>
<span id="cb77-150"><a href="#cb77-150"></a>  <span class="dv">from</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-151"><a href="#cb77-151"></a>  <span class="dv">to</span> { <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1020</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span> }</span>
<span id="cb77-152"><a href="#cb77-152"></a>}</span>
<span id="cb77-153"><a href="#cb77-153"></a></span>
<span id="cb77-154"><a href="#cb77-154"></a><span class="fu">.center-content</span> {</span>
<span id="cb77-155"><a href="#cb77-155"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb77-156"><a href="#cb77-156"></a>  <span class="kw">z-index</span><span class="ch">:</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb77-157"><a href="#cb77-157"></a>  <span class="kw">height</span><span class="ch">:</span><span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-158"><a href="#cb77-158"></a>  <span class="kw">width</span><span class="ch">:</span><span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb77-159"><a href="#cb77-159"></a>}</span>
<span id="cb77-160"><a href="#cb77-160"></a></span>
<span id="cb77-161"><a href="#cb77-161"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-14-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-4-tab">
<div id="demo-container-bg-animatin-ex-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-bg-animatin-ex-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.background-container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.parallax-layer {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: repeat-x;\n  background-size: auto 100%;\n}\n\n.layer-1 {\n  background-image: url(&quot;images/animations/parallax-1.png&quot;);\n  animation: scroll-layer1 20s linear infinite;\n}\n\n.layer-2 {\n  background-image: url(&quot;images/animations/parallax-2.png&quot;);\n  animation: scroll-layer2 15s linear infinite;\n}\n\n.layer-3 {\n  background-image: url(&quot;images/animations/parallax-3.png&quot;);\n  animation: scroll-layer3 10s linear infinite;\n}\n\n.layer-4 {\n  background-image: url(&quot;images/animations/parallax-4.png&quot;);\n  animation: scroll-layer4 6s linear infinite;\n}\n\n.layer-5 {\n  background-image: url(&quot;images/animations/parallax-5.png&quot;);\n  animation: scroll-layer5 4s linear infinite;\n\n}\n\n// scaled image width = 272 * (300 / 160) = 510\n@keyframes scroll-layer1 {\n  from { background-position: 0 0; }\n  to { background-position: -510px 0; }\n}\n\n@keyframes scroll-layer2 {\n  from { background-position: 0 0; }\n  to { background-position: -510px 0; }\n}\n\n// scaled image width = 544 * (300 / 160) = 510\n@keyframes scroll-layer3 {\n  from { background-position: 0 0; }\n  to { background-position: -1020px 0; }\n}\n\n@keyframes scroll-layer4 {\n  from { background-position: 0 0; }\n  to { background-position: -1020px 0; }\n}\n\n@keyframes scroll-layer5 {\n  from { background-position: 0 0; }\n  to { background-position: -1020px 0; }\n}\n\n.center-content {\n  position: relative;\n  z-index: 10;\n  height:100%;\n  width:100%;\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>top-left</div>\n    <div class=&quot;top&quot;>top</div>\n    <div class=&quot;top-right&quot;>top-right</div>\n\n    <div class=&quot;left&quot;>left</div>\n    <div class=&quot;center&quot;>\n      <div class=&quot;background-container&quot;>\n        <div id=&quot;bg-1&quot; class=&quot;parallax-layer&quot;></div>\n        <div id=&quot;bg-2&quot; class=&quot;parallax-layer&quot;></div>\n        <div id=&quot;bg-3&quot; class=&quot;parallax-layer&quot;></div>\n        <div id=&quot;bg-4&quot; class=&quot;parallax-layer&quot;></div>\n        <div id=&quot;bg-5&quot; class=&quot;parallax-layer&quot;></div>\n      </div>\n      <div id=&quot;jspsych-game-display&quot; class=&quot;center-content&quot;></div>\n    </div>\n    <div class=&quot;right&quot;>right</div>\n\n    <div class=&quot;bottom-left&quot;>bottom-left</div>\n    <div class=&quot;bottom&quot;>bottom</div>\n    <div class=&quot;bottom-right&quot;>bottom-right</div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function() {\n      // use a loop to add all five layers\n      for (let i = 1; i <= 5; i++) {\n        document.querySelector(&quot;#bg-&quot; + i).classList.add(&quot;layer-&quot; + i);\n      }\n    },\n    on_timeline_finish: function() {\n      // use a loop to remove all five layers\n      for (let i = 1; i <= 5; i++) {\n        document.querySelector(&quot;#bg-&quot; + i).classList.remove(&quot;layer-&quot; + i);\n      }\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-bg-animatin-ex-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-bg-animatin-ex-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.center {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}

.background-container {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}

.parallax-layer {
  position: absolute;
  width: 100%;
  height: 100%;
  background-repeat: repeat-x;
  background-size: auto 100%;
}

.layer-1 {
  background-image: url(&quot;images/animations/parallax-1.png&quot;);
  animation: scroll-layer1 20s linear infinite;
}

.layer-2 {
  background-image: url(&quot;images/animations/parallax-2.png&quot;);
  animation: scroll-layer2 15s linear infinite;
}

.layer-3 {
  background-image: url(&quot;images/animations/parallax-3.png&quot;);
  animation: scroll-layer3 10s linear infinite;
}

.layer-4 {
  background-image: url(&quot;images/animations/parallax-4.png&quot;);
  animation: scroll-layer4 6s linear infinite;
}

.layer-5 {
  background-image: url(&quot;images/animations/parallax-5.png&quot;);
  animation: scroll-layer5 4s linear infinite;

}

// scaled image width = 272 * (300 / 160) = 510
@keyframes scroll-layer1 {
  from { background-position: 0 0; }
  to { background-position: -510px 0; }
}

@keyframes scroll-layer2 {
  from { background-position: 0 0; }
  to { background-position: -510px 0; }
}

// scaled image width = 544 * (300 / 160) = 510
@keyframes scroll-layer3 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}

@keyframes scroll-layer4 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}

@keyframes scroll-layer5 {
  from { background-position: 0 0; }
  to { background-position: -1020px 0; }
}

.center-content {
  position: relative;
  z-index: 10;
  height:100%;
  width:100%;
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>top-left</div>
    <div class=&quot;top&quot;>top</div>
    <div class=&quot;top-right&quot;>top-right</div>

    <div class=&quot;left&quot;>left</div>
    <div class=&quot;center&quot;>
      <div class=&quot;background-container&quot;>
        <div id=&quot;bg-1&quot; class=&quot;parallax-layer&quot;></div>
        <div id=&quot;bg-2&quot; class=&quot;parallax-layer&quot;></div>
        <div id=&quot;bg-3&quot; class=&quot;parallax-layer&quot;></div>
        <div id=&quot;bg-4&quot; class=&quot;parallax-layer&quot;></div>
        <div id=&quot;bg-5&quot; class=&quot;parallax-layer&quot;></div>
      </div>
      <div id=&quot;jspsych-game-display&quot; class=&quot;center-content&quot;></div>
    </div>
    <div class=&quot;right&quot;>right</div>

    <div class=&quot;bottom-left&quot;>bottom-left</div>
    <div class=&quot;bottom&quot;>bottom</div>
    <div class=&quot;bottom-right&quot;>bottom-right</div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function() {
      // use a loop to add all five layers
      for (let i = 1; i <= 5; i++) {
        document.querySelector(&quot;#bg-&quot; + i).classList.add(&quot;layer-&quot; + i);
      }
    },
    on_timeline_finish: function() {
      // use a loop to remove all five layers
      for (let i = 1; i <= 5; i++) {
        document.querySelector(&quot;#bg-&quot; + i).classList.remove(&quot;layer-&quot; + i);
      }
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-bg-animatin-ex-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-bg-animatin-ex-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>To add the parallax, we structured our <code>center</code> HTML to have two layers: the parallax background divs (layered) behind the <code>jspsych-gamed-display</code> div. To add a parallax background to your center display area, you need to layer the background elements behind your content. This requires specific CSS positioning:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">.center</span> {</span>
<span id="cb78-2"><a href="#cb78-2"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="kw">overflow</span><span class="ch">:</span> <span class="dv">hidden</span><span class="op">;</span></span>
<span id="cb78-4"><a href="#cb78-4"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb78-5"><a href="#cb78-5"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb78-6"><a href="#cb78-6"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb78-7"><a href="#cb78-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>.center</code> div needs:</p>
<ul>
<li><code>position: relative</code> - Creates a positioning context for the absolutely positioned background layers</li>
<li><code>overflow: hidden</code> - Prevents the scrolling backgrounds from extending beyond the center area</li>
<li><code>display: flex</code> with <code>justify-content: center</code> and <code>align-items: center</code> - Centers your experiment content within the display area</li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">.background-container</span> {</span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb79-5"><a href="#cb79-5"></a>  <span class="kw">top</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb79-6"><a href="#cb79-6"></a>  <span class="kw">left</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb79-7"><a href="#cb79-7"></a>}</span>
<span id="cb79-8"><a href="#cb79-8"></a></span>
<span id="cb79-9"><a href="#cb79-9"></a><span class="fu">.parallax-layer</span> {</span>
<span id="cb79-10"><a href="#cb79-10"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb79-11"><a href="#cb79-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb79-12"><a href="#cb79-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb79-13"><a href="#cb79-13"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">repeat-x</span><span class="op">;</span></span>
<span id="cb79-14"><a href="#cb79-14"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb79-15"><a href="#cb79-15"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>.background-container</code> and <code>.parallax-layer</code> elements use:</p>
<ul>
<li><code>position: absolute</code> - Removes them from the normal document flow and positions them relative to the <code>.center</code> div</li>
<li><code>width: 100%</code> and <code>height: 100%</code> - Makes them fill the entire center area</li>
<li><code>top: 0</code> and <code>left: 0</code>- Positions them at the top-left corner of the center area</li>
</ul>
<div class="sourceCode" id="cb80"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb80-1"><a href="#cb80-1"></a><span class="fu">.center-content</span> {</span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="kw">position</span><span class="ch">:</span> <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb80-3"><a href="#cb80-3"></a>  <span class="kw">z-index</span><span class="ch">:</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb80-4"><a href="#cb80-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The .center-content wrapper needs:</p>
<ul>
<li><code>position: relative</code> - Creates a new stacking context</li>
<li><code>z-index: 10</code> - Ensures your experiment content appears above the background layers (which have the default <code>z-index: 0</code>)</li>
</ul>
<p>This layering structure allows the parallax backgrounds to scroll behind your experiment stimuli while keeping everything contained within the center grid area.</p>
</section>
</section>
</section>
<section id="sound-effects-and-music" class="level2" data-number="25.6">
<h2 data-number="25.6" class="anchored" data-anchor-id="sound-effects-and-music"><span class="header-section-number">25.6</span> Sound Effects and Music</h2>
<p>Audio feedback is a powerful gamification element that can enhance participant engagement and provide immediate reinforcement during psychological experiments. In this section, we’ll explore how to incorporate sounds and music into your jsPsych experiments, starting with the fundamentals of HTML5 audio elements and JavaScript control.</p>
<section id="creating-an-audio-element" class="level3" data-number="25.6.1">
<h3 data-number="25.6.1" class="anchored" data-anchor-id="creating-an-audio-element"><span class="header-section-number">25.6.1</span> Creating an Audio Element</h3>
<p>In web development, an audio element is a special object that represents a sound file. Think of it like a virtual audio player that you can control with code. Just as you might press play, pause, or adjust the volume on a physical music player, you can do the same thing programmatically with an audio element.</p>
<p>The simplest way to create an audio element is using the <code>Audio()</code> constructor:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb81-1"><a href="#cb81-1"></a><span class="co">// Create a new audio element</span></span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="kw">const</span> correctSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Think of this like creating a new music player and loading a specific song into it. The variable <code>correctSound</code> is now your remote control for that player.</p>
<p>In a typical experiment, you’ll likely need several different sounds. Here’s how to organize them:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb82-1"><a href="#cb82-1"></a><span class="co">// Create separate audio elements for different feedback types</span></span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="kw">const</span> correctSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span>
<span id="cb82-3"><a href="#cb82-3"></a><span class="kw">const</span> incorrectSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/incorrect.mp3'</span>)<span class="op">;</span></span>
<span id="cb82-4"><a href="#cb82-4"></a><span class="kw">const</span> neutralSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/neutral.mp3'</span>)<span class="op">;</span></span>
<span id="cb82-5"><a href="#cb82-5"></a><span class="kw">const</span> backgroundMusic <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/background.mp3'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Important concept: Each variable holds a separate audio element. This means you can play correctSound and backgroundMusic at the same time, because they’re independent players.</p>
</section>
<section id="audio-properties" class="level3" data-number="25.6.2">
<h3 data-number="25.6.2" class="anchored" data-anchor-id="audio-properties"><span class="header-section-number">25.6.2</span> Audio Properties</h3>
<p>Once you’ve created an audio element, you can configure how it behaves. These are called “properties.”</p>
<p><strong>.volume</strong>: The volume property controls how loud the audio plays.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb83-1"><a href="#cb83-1"></a><span class="kw">const</span> correctSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span>
<span id="cb83-2"><a href="#cb83-2"></a></span>
<span id="cb83-3"><a href="#cb83-3"></a><span class="co">// Set volume (must be between 0.0 and 1.0)</span></span>
<span id="cb83-4"><a href="#cb83-4"></a>correctSound<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span>  <span class="co">// 50% volume</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>0.0 = completely silent (muted)</li>
<li>0.5 = half volume (50%)</li>
<li>1.0 = maximum volume (100%)</li>
<li>You cannot go above 1.0 or below 0.0</li>
</ul>
<p><strong>.loop</strong>: The loop property determines whether audio repeats automatically.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb84-1"><a href="#cb84-1"></a><span class="kw">const</span> backgroundMusic <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/background.mp3'</span>)<span class="op">;</span></span>
<span id="cb84-2"><a href="#cb84-2"></a></span>
<span id="cb84-3"><a href="#cb84-3"></a><span class="co">// Make the audio loop continuously</span></span>
<span id="cb84-4"><a href="#cb84-4"></a>backgroundMusic<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>true</code> = the audio will restart automatically when it finishes</li>
<li><code>false</code> = the audio will play once and stop (this is the default)</li>
</ul>
<p><strong>.playbackRate</strong>: The playbackRate property controls how fast the audio plays.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb85-1"><a href="#cb85-1"></a><span class="kw">const</span> sound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/beep.mp3'</span>)<span class="op">;</span></span>
<span id="cb85-2"><a href="#cb85-2"></a></span>
<span id="cb85-3"><a href="#cb85-3"></a><span class="co">// Normal speed</span></span>
<span id="cb85-4"><a href="#cb85-4"></a>sound<span class="op">.</span><span class="at">playbackRate</span> <span class="op">=</span> <span class="fl">1.0</span><span class="op">;</span></span>
<span id="cb85-5"><a href="#cb85-5"></a></span>
<span id="cb85-6"><a href="#cb85-6"></a><span class="co">// Play faster (sounds higher pitched)</span></span>
<span id="cb85-7"><a href="#cb85-7"></a>sound<span class="op">.</span><span class="at">playbackRate</span> <span class="op">=</span> <span class="fl">1.5</span><span class="op">;</span>  <span class="co">// 50% faster</span></span>
<span id="cb85-8"><a href="#cb85-8"></a></span>
<span id="cb85-9"><a href="#cb85-9"></a><span class="co">// Play slower (sounds lower pitched)</span></span>
<span id="cb85-10"><a href="#cb85-10"></a>sound<span class="op">.</span><span class="at">playbackRate</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span>  <span class="co">// Half speed</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>1.0 = normal speed</li>
<li>2.0 = twice as fast</li>
<li>0.5 = half speed</li>
<li>Values must be positive (greater than 0)</li>
</ul>
<p>You typically set multiple properties when creating an audio element:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb86-1"><a href="#cb86-1"></a><span class="co">// Create and configure background music</span></span>
<span id="cb86-2"><a href="#cb86-2"></a><span class="kw">const</span> backgroundMusic <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/background.mp3'</span>)<span class="op">;</span></span>
<span id="cb86-3"><a href="#cb86-3"></a>backgroundMusic<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="fl">0.3</span><span class="op">;</span>      <span class="co">// Quiet background music</span></span>
<span id="cb86-4"><a href="#cb86-4"></a>backgroundMusic<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>       <span class="co">// Keep playing</span></span>
<span id="cb86-5"><a href="#cb86-5"></a>backgroundMusic<span class="op">.</span><span class="at">playbackRate</span> <span class="op">=</span> <span class="fl">1.0</span><span class="op">;</span> <span class="co">// Normal speed</span></span>
<span id="cb86-6"><a href="#cb86-6"></a></span>
<span id="cb86-7"><a href="#cb86-7"></a><span class="co">// Create and configure feedback sound</span></span>
<span id="cb86-8"><a href="#cb86-8"></a><span class="kw">const</span> correctSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span>
<span id="cb86-9"><a href="#cb86-9"></a>correctSound<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="fl">0.7</span><span class="op">;</span>         <span class="co">// Louder than background</span></span>
<span id="cb86-10"><a href="#cb86-10"></a>correctSound<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span>         <span class="co">// Play once only</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>.currentTime</strong>: Sets the time to begin playing in the audio file.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb87-1"><a href="#cb87-1"></a><span class="co">// Jump to different positions in the audio</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>sound<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span>    <span class="co">// Beginning</span></span>
<span id="cb87-3"><a href="#cb87-3"></a>sound<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">5</span><span class="op">;</span>    <span class="co">// 5 seconds in</span></span>
<span id="cb87-4"><a href="#cb87-4"></a>sound<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="fl">10.5</span><span class="op">;</span> <span class="co">// 10.5 seconds in</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>currentTime</code> is a property that represents the current playback position in seconds</li>
<li>Setting it to 0 moves the playback position back to the beginning</li>
<li>You can set it to any value between 0 and the audio’s duration</li>
</ul>
<p><strong>.paused</strong>: Tells you whether the current file is paused (<code>true</code> = paused / <code>false</code> = playing)</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb88-1"><a href="#cb88-1"></a><span class="kw">const</span> backgroundMusic <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/background.mp3'</span>)<span class="op">;</span></span>
<span id="cb88-2"><a href="#cb88-2"></a></span>
<span id="cb88-3"><a href="#cb88-3"></a><span class="cf">if</span> (backgroundMusic<span class="op">.</span><span class="at">paused</span>) {</span>
<span id="cb88-4"><a href="#cb88-4"></a>  <span class="co">// if true</span></span>
<span id="cb88-5"><a href="#cb88-5"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Music is paused'</span>)<span class="op">;</span></span>
<span id="cb88-6"><a href="#cb88-6"></a>} <span class="cf">else</span> {</span>
<span id="cb88-7"><a href="#cb88-7"></a>  <span class="co">// if false</span></span>
<span id="cb88-8"><a href="#cb88-8"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Music is playing'</span>)<span class="op">;</span></span>
<span id="cb88-9"><a href="#cb88-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>.duration</strong>: Tells you the duration of the sound file in seconds</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb89-1"><a href="#cb89-1"></a><span class="kw">const</span> sound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span>
<span id="cb89-2"><a href="#cb89-2"></a></span>
<span id="cb89-3"><a href="#cb89-3"></a><span class="co">// Get the total duration (in seconds)</span></span>
<span id="cb89-4"><a href="#cb89-4"></a><span class="co">// Note: This is only available after the audio has loaded</span></span>
<span id="cb89-5"><a href="#cb89-5"></a><span class="kw">const</span> duration <span class="op">=</span> sound<span class="op">.</span><span class="at">duration</span><span class="op">;</span></span>
<span id="cb89-6"><a href="#cb89-6"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">'Audio is '</span> <span class="op">+</span> duration <span class="op">+</span> <span class="st">' seconds long'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="controlling-audio-playback" class="level3" data-number="25.6.3">
<h3 data-number="25.6.3" class="anchored" data-anchor-id="controlling-audio-playback"><span class="header-section-number">25.6.3</span> Controlling Audio Playback</h3>
<p>Now that we know how to create and configure audio elements, let’s learn how to control them.</p>
<p><strong>.play()</strong>: To play an audio file, use the <code>.play()</code> method.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb90-1"><a href="#cb90-1"></a><span class="kw">const</span> correctSound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/correct.mp3'</span>)<span class="op">;</span></span>
<span id="cb90-2"><a href="#cb90-2"></a></span>
<span id="cb90-3"><a href="#cb90-3"></a><span class="co">// Play the sound</span></span>
<span id="cb90-4"><a href="#cb90-4"></a>correctSound<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What happens when you call play():</p>
<ol type="1">
<li>The browser starts loading the audio file (if it hasn’t already)</li>
<li>As soon as enough of the file is loaded, playback begins</li>
<li>The sound plays from the current position (usually the beginning)</li>
</ol>
<p><strong>.pause()</strong>: To pause audio, use the <code>.pause()</code> method:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb91-1"><a href="#cb91-1"></a><span class="kw">const</span> backgroundMusic <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/background.mp3'</span>)<span class="op">;</span></span>
<span id="cb91-2"><a href="#cb91-2"></a></span>
<span id="cb91-3"><a href="#cb91-3"></a><span class="co">// Start playing</span></span>
<span id="cb91-4"><a href="#cb91-4"></a>backgroundMusic<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb91-5"><a href="#cb91-5"></a></span>
<span id="cb91-6"><a href="#cb91-6"></a><span class="co">// Pause the music (can be resumed later)</span></span>
<span id="cb91-7"><a href="#cb91-7"></a>backgroundMusic<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Understanding pause vs.&nbsp;stop:</p>
<ul>
<li><code>.pause()</code> pauses the audio at its current position</li>
<li>There is no built-in “stop” method</li>
<li>When you pause, the audio remembers where it was</li>
</ul>
<p>**Stopping and Resetting Audio*</p>
<p>To truly “stop” audio and reset it to the beginning, you need to pause AND reset the position:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb92-1"><a href="#cb92-1"></a><span class="kw">const</span> sound <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">'sounds/beep.mp3'</span>)<span class="op">;</span></span>
<span id="cb92-2"><a href="#cb92-2"></a></span>
<span id="cb92-3"><a href="#cb92-3"></a><span class="co">// Play the sound</span></span>
<span id="cb92-4"><a href="#cb92-4"></a>sound<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb92-5"><a href="#cb92-5"></a></span>
<span id="cb92-6"><a href="#cb92-6"></a><span class="co">// Stop and reset to beginning</span></span>
<span id="cb92-7"><a href="#cb92-7"></a>sound<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span>           <span class="co">// First, pause playback</span></span>
<span id="cb92-8"><a href="#cb92-8"></a>sound<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span>   <span class="co">// Then, reset to the start</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-audio-elements-to-jspsych" class="level3" data-number="25.6.4">
<h3 data-number="25.6.4" class="anchored" data-anchor-id="adding-audio-elements-to-jspsych"><span class="header-section-number">25.6.4</span> Adding Audio Elements to jsPsych</h3>
<p>Now that we understand how audio elements work, we can use them to add sounds and music to our gamified jsPsych experiment. Remember that these sounds will be ‘decorative’ and not functional. If we want to present audio stimuli for participants to respond to, we should be using the appropriate plugin and allowing jsPsych to handle the presentation.</p>
<p>In our gamified experiments however, we just want to add flourishes that help it feel more like a game. In this case, we’re simply going to use the audio element and start/stop audio files in the appropriate places.</p>
<section id="example-1-background-music" class="level4" data-number="25.6.4.1">
<h4 data-number="25.6.4.1" class="anchored" data-anchor-id="example-1-background-music"><span class="header-section-number">25.6.4.1</span> Example 1: Background Music</h4>
<p>Background music is probably the simplest, since it’s a long audio file that plays throughout the task. In this example, I’m loading two different background music files. The first is going to be triggered to play when the instructions screen is displayed. I used <code>on_start</code> and <code>on_finish</code> functions to trigger the <code>.play()</code> and <code>.pause()</code>.</p>
<p>For the second, I want it to play throughout all the flanker trials. So in this case, I’m going to use the <code>on_timeline_start</code> and <code>on_timeline_finish</code> functions.</p>
<p><strong>Important Note</strong>: The browser will not allow audio to play without the user interacting with the page first. That means that I cannot start playing music automatically on the ‘welcome’ screen. After the user has clicked a button/key to continue, then I can play audio.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-3" role="tab" aria-controls="tabset-15-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-4" role="tab" aria-controls="tabset-15-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb93-1"><a href="#cb93-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb93-3"><a href="#cb93-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb93-4"><a href="#cb93-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb93-5"><a href="#cb93-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb93-6"><a href="#cb93-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-7"><a href="#cb93-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb93-8"><a href="#cb93-8"></a>    </span>
<span id="cb93-9"><a href="#cb93-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb93-10"><a href="#cb93-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-11"><a href="#cb93-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-12"><a href="#cb93-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-13"><a href="#cb93-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-14"><a href="#cb93-14"></a></span>
<span id="cb93-15"><a href="#cb93-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb93-16"><a href="#cb93-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb93-17"><a href="#cb93-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb93-18"><a href="#cb93-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb93-19"><a href="#cb93-19"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb93-20"><a href="#cb93-20"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb93-21"><a href="#cb93-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-22"><a href="#cb93-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-23"><a href="#cb93-23"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb93-24"><a href="#cb93-24"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb93-25"><a href="#cb93-25"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-26"><a href="#cb93-26"></a>    </span>
<span id="cb93-27"><a href="#cb93-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-28"><a href="#cb93-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-29"><a href="#cb93-29"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-30"><a href="#cb93-30"></a>    </span>
<span id="cb93-31"><a href="#cb93-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-32"><a href="#cb93-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-33"><a href="#cb93-33"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-34"><a href="#cb93-34"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-35"><a href="#cb93-35"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb93-36"><a href="#cb93-36"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb93-37"><a href="#cb93-37"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb93-38"><a href="#cb93-38"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb93-39"><a href="#cb93-39"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb93-40"><a href="#cb93-40"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<div class="sourceCode" id="cb94"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb94-1"><a href="#cb94-1"></a> </span>
<span id="cb94-2"><a href="#cb94-2"></a><span class="co">// ============================================</span></span>
<span id="cb94-3"><a href="#cb94-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb94-4"><a href="#cb94-4"></a><span class="co">// ============================================</span></span>
<span id="cb94-5"><a href="#cb94-5"></a></span>
<span id="cb94-6"><a href="#cb94-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb94-7"><a href="#cb94-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb94-8"><a href="#cb94-8"></a>                ) </span>
<span id="cb94-9"><a href="#cb94-9"></a></span>
<span id="cb94-10"><a href="#cb94-10"></a><span class="co">// ============================================</span></span>
<span id="cb94-11"><a href="#cb94-11"></a><span class="co">// Setup Audio</span></span>
<span id="cb94-12"><a href="#cb94-12"></a><span class="co">// ============================================</span></span>
<span id="cb94-13"><a href="#cb94-13"></a></span>
<span id="cb94-14"><a href="#cb94-14"></a><span class="kw">let</span> bg_music_1 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/song18.mp3"</span>)</span>
<span id="cb94-15"><a href="#cb94-15"></a>bg_music_1<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb94-16"><a href="#cb94-16"></a>bg_music_1<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb94-17"><a href="#cb94-17"></a></span>
<span id="cb94-18"><a href="#cb94-18"></a><span class="kw">let</span> bg_music_2 <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb94-19"><a href="#cb94-19"></a>bg_music_2<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb94-20"><a href="#cb94-20"></a>bg_music_2<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb94-21"><a href="#cb94-21"></a></span>
<span id="cb94-22"><a href="#cb94-22"></a><span class="co">// ============================================</span></span>
<span id="cb94-23"><a href="#cb94-23"></a><span class="co">// Welcome</span></span>
<span id="cb94-24"><a href="#cb94-24"></a><span class="co">// ============================================</span></span>
<span id="cb94-25"><a href="#cb94-25"></a></span>
<span id="cb94-26"><a href="#cb94-26"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb94-27"><a href="#cb94-27"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb94-28"><a href="#cb94-28"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb94-29"><a href="#cb94-29"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb94-30"><a href="#cb94-30"></a>}</span>
<span id="cb94-31"><a href="#cb94-31"></a></span>
<span id="cb94-32"><a href="#cb94-32"></a><span class="co">// ============================================</span></span>
<span id="cb94-33"><a href="#cb94-33"></a><span class="co">// Instructions</span></span>
<span id="cb94-34"><a href="#cb94-34"></a><span class="co">// ============================================</span></span>
<span id="cb94-35"><a href="#cb94-35"></a></span>
<span id="cb94-36"><a href="#cb94-36"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb94-37"><a href="#cb94-37"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb94-38"><a href="#cb94-38"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb94-39"><a href="#cb94-39"></a>    <span class="vs">`&lt;p&gt;Welcome to the Experiment!&lt;/p&gt;</span></span>
<span id="cb94-40"><a href="#cb94-40"></a><span class="vs">     &lt;p&gt;Use the buttons below to navigate through the instructions.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-41"><a href="#cb94-41"></a></span>
<span id="cb94-42"><a href="#cb94-42"></a>    <span class="vs">`&lt;p&gt;In this experiment, you will complete what's known as a &lt;strong&gt;flanker task&lt;/strong&gt;.&lt;/p&gt;</span></span>
<span id="cb94-43"><a href="#cb94-43"></a><span class="vs">     &lt;p&gt;On each trial, you will see a row of arrows displayed on the screen.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-44"><a href="#cb94-44"></a></span>
<span id="cb94-45"><a href="#cb94-45"></a>    <span class="vs">`&lt;p&gt;Your task is to respond to the &lt;strong&gt;direction of the center arrow&lt;/strong&gt; only.&lt;/p&gt;</span></span>
<span id="cb94-46"><a href="#cb94-46"></a><span class="vs">     &lt;p&gt;Ignore the arrows on either side (the "flankers").&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-47"><a href="#cb94-47"></a></span>
<span id="cb94-48"><a href="#cb94-48"></a>    <span class="vs">`&lt;p&gt;&lt;strong&gt;Response Keys:&lt;/strong&gt;&lt;/p&gt;</span></span>
<span id="cb94-49"><a href="#cb94-49"></a><span class="vs">     &lt;p&gt;Press &lt;strong&gt;A&lt;/strong&gt; if the center arrow points LEFT&lt;/p&gt;</span></span>
<span id="cb94-50"><a href="#cb94-50"></a><span class="vs">     &lt;p&gt;Press &lt;strong&gt;L&lt;/strong&gt; if the center arrow points RIGHT&lt;/p&gt;</span></span>
<span id="cb94-51"><a href="#cb94-51"></a><span class="vs">     &lt;p&gt;You will only have 1 second to respond to each trial. &lt;/p&gt;</span></span>
<span id="cb94-52"><a href="#cb94-52"></a><span class="vs">     &lt;p&gt;Respond as quickly and accurately as possible.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-53"><a href="#cb94-53"></a></span>
<span id="cb94-54"><a href="#cb94-54"></a>    <span class="vs">`&lt;p&gt;The experiment consists of two parts:&lt;/p&gt;</span></span>
<span id="cb94-55"><a href="#cb94-55"></a><span class="vs">     &lt;p&gt;1. A &lt;strong&gt;practice block&lt;/strong&gt; to familiarize yourself with the task&lt;/p&gt;</span></span>
<span id="cb94-56"><a href="#cb94-56"></a><span class="vs">     &lt;p&gt;2. An &lt;strong&gt;experimental block&lt;/strong&gt; with the main trials&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-57"><a href="#cb94-57"></a></span>
<span id="cb94-58"><a href="#cb94-58"></a>    <span class="vs">`&lt;p&gt;When you are ready to begin the practice trials, press "Next".&lt;/p&gt;`</span></span>
<span id="cb94-59"><a href="#cb94-59"></a>  ]<span class="op">,</span></span>
<span id="cb94-60"><a href="#cb94-60"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb94-61"><a href="#cb94-61"></a>  <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb94-62"><a href="#cb94-62"></a>      bg_music_1<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb94-63"><a href="#cb94-63"></a>  }<span class="op">,</span></span>
<span id="cb94-64"><a href="#cb94-64"></a>  <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb94-65"><a href="#cb94-65"></a>      bg_music_1<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb94-66"><a href="#cb94-66"></a>  }</span>
<span id="cb94-67"><a href="#cb94-67"></a>}</span>
<span id="cb94-68"><a href="#cb94-68"></a></span>
<span id="cb94-69"><a href="#cb94-69"></a><span class="co">// ============================================</span></span>
<span id="cb94-70"><a href="#cb94-70"></a><span class="co">// Preload</span></span>
<span id="cb94-71"><a href="#cb94-71"></a><span class="co">// ============================================</span></span>
<span id="cb94-72"><a href="#cb94-72"></a></span>
<span id="cb94-73"><a href="#cb94-73"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb94-74"><a href="#cb94-74"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb94-75"><a href="#cb94-75"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/song18.mp3"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span>]<span class="op">,</span></span>
<span id="cb94-76"><a href="#cb94-76"></a>  <span class="dt">show_detailed_errors</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb94-77"><a href="#cb94-77"></a>}</span>
<span id="cb94-78"><a href="#cb94-78"></a></span>
<span id="cb94-79"><a href="#cb94-79"></a></span>
<span id="cb94-80"><a href="#cb94-80"></a><span class="co">// ============================================</span></span>
<span id="cb94-81"><a href="#cb94-81"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb94-82"><a href="#cb94-82"></a><span class="co">// ============================================</span></span>
<span id="cb94-83"><a href="#cb94-83"></a></span>
<span id="cb94-84"><a href="#cb94-84"></a><span class="co">// fixation</span></span>
<span id="cb94-85"><a href="#cb94-85"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb94-86"><a href="#cb94-86"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb94-87"><a href="#cb94-87"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb94-88"><a href="#cb94-88"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb94-89"><a href="#cb94-89"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb94-90"><a href="#cb94-90"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb94-91"><a href="#cb94-91"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb94-92"><a href="#cb94-92"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb94-93"><a href="#cb94-93"></a>    }</span>
<span id="cb94-94"><a href="#cb94-94"></a>}</span>
<span id="cb94-95"><a href="#cb94-95"></a></span>
<span id="cb94-96"><a href="#cb94-96"></a><span class="co">// stimulus</span></span>
<span id="cb94-97"><a href="#cb94-97"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb94-98"><a href="#cb94-98"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb94-99"><a href="#cb94-99"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb94-100"><a href="#cb94-100"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb94-101"><a href="#cb94-101"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb94-102"><a href="#cb94-102"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb94-103"><a href="#cb94-103"></a></span>
<span id="cb94-104"><a href="#cb94-104"></a>         <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb94-105"><a href="#cb94-105"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb94-106"><a href="#cb94-106"></a><span class="vs">            &lt;p style="margin: 0; font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb94-107"><a href="#cb94-107"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb94-108"><a href="#cb94-108"></a><span class="vs">            &lt;/p&gt;`</span><span class="op">;</span></span>
<span id="cb94-109"><a href="#cb94-109"></a></span>
<span id="cb94-110"><a href="#cb94-110"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb94-111"><a href="#cb94-111"></a>    }<span class="op">,</span></span>
<span id="cb94-112"><a href="#cb94-112"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb94-113"><a href="#cb94-113"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb94-114"><a href="#cb94-114"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb94-115"><a href="#cb94-115"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb94-116"><a href="#cb94-116"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb94-117"><a href="#cb94-117"></a>    }<span class="op">,</span></span>
<span id="cb94-118"><a href="#cb94-118"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb94-119"><a href="#cb94-119"></a>        <span class="co">// store accuracy</span></span>
<span id="cb94-120"><a href="#cb94-120"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb94-121"><a href="#cb94-121"></a>    }</span>
<span id="cb94-122"><a href="#cb94-122"></a>}</span>
<span id="cb94-123"><a href="#cb94-123"></a></span>
<span id="cb94-124"><a href="#cb94-124"></a><span class="co">// exp timeline</span></span>
<span id="cb94-125"><a href="#cb94-125"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb94-126"><a href="#cb94-126"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb94-127"><a href="#cb94-127"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb94-128"><a href="#cb94-128"></a>        exp_stimulus</span>
<span id="cb94-129"><a href="#cb94-129"></a>    ]<span class="op">,</span></span>
<span id="cb94-130"><a href="#cb94-130"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb94-131"><a href="#cb94-131"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb94-132"><a href="#cb94-132"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb94-133"><a href="#cb94-133"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb94-134"><a href="#cb94-134"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb94-135"><a href="#cb94-135"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb94-136"><a href="#cb94-136"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb94-137"><a href="#cb94-137"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb94-138"><a href="#cb94-138"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb94-139"><a href="#cb94-139"></a>    ]<span class="op">,</span></span>
<span id="cb94-140"><a href="#cb94-140"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb94-141"><a href="#cb94-141"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb94-142"><a href="#cb94-142"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb94-143"><a href="#cb94-143"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb94-144"><a href="#cb94-144"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb94-145"><a href="#cb94-145"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb94-146"><a href="#cb94-146"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb94-147"><a href="#cb94-147"></a>    }<span class="op">,</span></span>
<span id="cb94-148"><a href="#cb94-148"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb94-149"><a href="#cb94-149"></a>        bg_music_2<span class="op">.</span><span class="fu">play</span>()</span>
<span id="cb94-150"><a href="#cb94-150"></a>    }<span class="op">,</span></span>
<span id="cb94-151"><a href="#cb94-151"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb94-152"><a href="#cb94-152"></a>        bg_music_2<span class="op">.</span><span class="fu">pause</span>()</span>
<span id="cb94-153"><a href="#cb94-153"></a>    }</span>
<span id="cb94-154"><a href="#cb94-154"></a>}<span class="op">;</span></span>
<span id="cb94-155"><a href="#cb94-155"></a></span>
<span id="cb94-156"><a href="#cb94-156"></a></span>
<span id="cb94-157"><a href="#cb94-157"></a><span class="co">// ============================================</span></span>
<span id="cb94-158"><a href="#cb94-158"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb94-159"><a href="#cb94-159"></a><span class="co">// ============================================</span></span>
<span id="cb94-160"><a href="#cb94-160"></a></span>
<span id="cb94-161"><a href="#cb94-161"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb94-162"><a href="#cb94-162"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb94-163"><a href="#cb94-163"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb94-164"><a href="#cb94-164"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb94-165"><a href="#cb94-165"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb94-166"><a href="#cb94-166"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb94-167"><a href="#cb94-167"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb94-168"><a href="#cb94-168"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb94-169"><a href="#cb94-169"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb94-170"><a href="#cb94-170"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb94-171"><a href="#cb94-171"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb94-172"><a href="#cb94-172"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb94-173"><a href="#cb94-173"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb94-174"><a href="#cb94-174"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb94-175"><a href="#cb94-175"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb94-176"><a href="#cb94-176"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb94-177"><a href="#cb94-177"></a>    })<span class="op">;</span></span>
<span id="cb94-178"><a href="#cb94-178"></a>  }<span class="op">,</span></span>
<span id="cb94-179"><a href="#cb94-179"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb94-180"><a href="#cb94-180"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb94-181"><a href="#cb94-181"></a>  }</span>
<span id="cb94-182"><a href="#cb94-182"></a>}<span class="op">;</span></span>
<span id="cb94-183"><a href="#cb94-183"></a></span>
<span id="cb94-184"><a href="#cb94-184"></a><span class="co">// ============================================</span></span>
<span id="cb94-185"><a href="#cb94-185"></a><span class="co">// Run jsPsych </span></span>
<span id="cb94-186"><a href="#cb94-186"></a><span class="co">// ============================================</span></span>
<span id="cb94-187"><a href="#cb94-187"></a></span>
<span id="cb94-188"><a href="#cb94-188"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb94-189"><a href="#cb94-189"></a>  preload<span class="op">,</span></span>
<span id="cb94-190"><a href="#cb94-190"></a>  welcome<span class="op">,</span></span>
<span id="cb94-191"><a href="#cb94-191"></a>  instructions<span class="op">,</span></span>
<span id="cb94-192"><a href="#cb94-192"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb94-193"><a href="#cb94-193"></a>  saveData</span>
<span id="cb94-194"><a href="#cb94-194"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-15-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-3-tab">
<div class="sourceCode" id="cb95"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb95-1"><a href="#cb95-1"></a> body {</span>
<span id="cb95-2"><a href="#cb95-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb95-3"><a href="#cb95-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb95-4"><a href="#cb95-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb95-5"><a href="#cb95-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb95-6"><a href="#cb95-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb95-7"><a href="#cb95-7"></a>}</span>
<span id="cb95-8"><a href="#cb95-8"></a></span>
<span id="cb95-9"><a href="#cb95-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb95-10"><a href="#cb95-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb95-11"><a href="#cb95-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb95-12"><a href="#cb95-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb95-13"><a href="#cb95-13"></a>}</span>
<span id="cb95-14"><a href="#cb95-14"></a></span>
<span id="cb95-15"><a href="#cb95-15"></a><span class="fu">.grid</span> {</span>
<span id="cb95-16"><a href="#cb95-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb95-17"><a href="#cb95-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb95-18"><a href="#cb95-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb95-19"><a href="#cb95-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-20"><a href="#cb95-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-21"><a href="#cb95-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb95-22"><a href="#cb95-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb95-23"><a href="#cb95-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb95-24"><a href="#cb95-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb95-25"><a href="#cb95-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb95-26"><a href="#cb95-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb95-27"><a href="#cb95-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb95-28"><a href="#cb95-28"></a>   </span>
<span id="cb95-29"><a href="#cb95-29"></a>}</span>
<span id="cb95-30"><a href="#cb95-30"></a></span>
<span id="cb95-31"><a href="#cb95-31"></a></span>
<span id="cb95-32"><a href="#cb95-32"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb95-33"><a href="#cb95-33"></a><span class="fu">.top-left</span> {</span>
<span id="cb95-34"><a href="#cb95-34"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb95-35"><a href="#cb95-35"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-36"><a href="#cb95-36"></a>}</span>
<span id="cb95-37"><a href="#cb95-37"></a></span>
<span id="cb95-38"><a href="#cb95-38"></a><span class="fu">.top-right</span> {</span>
<span id="cb95-39"><a href="#cb95-39"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb95-40"><a href="#cb95-40"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-41"><a href="#cb95-41"></a>}</span>
<span id="cb95-42"><a href="#cb95-42"></a></span>
<span id="cb95-43"><a href="#cb95-43"></a><span class="fu">.top</span> {</span>
<span id="cb95-44"><a href="#cb95-44"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb95-45"><a href="#cb95-45"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-46"><a href="#cb95-46"></a>}</span>
<span id="cb95-47"><a href="#cb95-47"></a></span>
<span id="cb95-48"><a href="#cb95-48"></a><span class="fu">.center</span> {</span>
<span id="cb95-49"><a href="#cb95-49"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb95-50"><a href="#cb95-50"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-51"><a href="#cb95-51"></a>}</span>
<span id="cb95-52"><a href="#cb95-52"></a></span>
<span id="cb95-53"><a href="#cb95-53"></a><span class="fu">.left</span> {</span>
<span id="cb95-54"><a href="#cb95-54"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb95-55"><a href="#cb95-55"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-56"><a href="#cb95-56"></a>}</span>
<span id="cb95-57"><a href="#cb95-57"></a></span>
<span id="cb95-58"><a href="#cb95-58"></a><span class="fu">.right</span> {</span>
<span id="cb95-59"><a href="#cb95-59"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb95-60"><a href="#cb95-60"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-61"><a href="#cb95-61"></a>}</span>
<span id="cb95-62"><a href="#cb95-62"></a></span>
<span id="cb95-63"><a href="#cb95-63"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb95-64"><a href="#cb95-64"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb95-65"><a href="#cb95-65"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-66"><a href="#cb95-66"></a>}</span>
<span id="cb95-67"><a href="#cb95-67"></a></span>
<span id="cb95-68"><a href="#cb95-68"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb95-69"><a href="#cb95-69"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb95-70"><a href="#cb95-70"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-71"><a href="#cb95-71"></a>}</span>
<span id="cb95-72"><a href="#cb95-72"></a></span>
<span id="cb95-73"><a href="#cb95-73"></a><span class="fu">.bottom</span> {</span>
<span id="cb95-74"><a href="#cb95-74"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb95-75"><a href="#cb95-75"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-76"><a href="#cb95-76"></a>}</span>
<span id="cb95-77"><a href="#cb95-77"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-15-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-4-tab">
<div id="demo-container-sound-ex-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-sound-ex-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n   \n}\n\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>  \n    </div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Setup Audio\n// ============================================\n\nlet bg_music_1 = new Audio(&quot;audio/song18.mp3&quot;)\nbg_music_1.loop = true\nbg_music_1.volume = .3\n\nlet bg_music_2 = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_music_2.loop = true\nbg_music_2.volume = .3\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nconst instructions = {\n  type: jsPsychInstructions,\n  pages: [\n    `<p>Welcome to the Experiment!</p>\n     <p>Use the buttons below to navigate through the instructions.</p>`,\n\n    `<p>In this experiment, you will complete what\'s known as a <strong>flanker task</strong>.</p>\n     <p>On each trial, you will see a row of arrows displayed on the screen.</p>`,\n\n    `<p>Your task is to respond to the <strong>direction of the center arrow</strong> only.</p>\n     <p>Ignore the arrows on either side (the &quot;flankers&quot;).</p>`,\n\n    `<p><strong>Response Keys:</strong></p>\n     <p>Press <strong>A</strong> if the center arrow points LEFT</p>\n     <p>Press <strong>L</strong> if the center arrow points RIGHT</p>\n     <p>You will only have 1 second to respond to each trial. </p>\n     <p>Respond as quickly and accurately as possible.</p>`,\n\n    `<p>The experiment consists of two parts:</p>\n     <p>1. A <strong>practice block</strong> to familiarize yourself with the task</p>\n     <p>2. An <strong>experimental block</strong> with the main trials</p>`,\n\n    `<p>When you are ready to begin the practice trials, press &quot;Next&quot;.</p>`\n  ],\n  show_clickable_nav: true,\n  on_start: function(){\n      bg_music_1.play();\n  },\n  on_finish: function(){\n      bg_music_1.pause();\n  }\n}\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  audio: [&quot;audio/song18.mp3&quot;, &quot;audio/8BitMetal.wav&quot;],\n  show_detailed_errors: true\n}\n\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    post_trial_gap: 250,\n    trial_duration: 1000,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n         // Create HTML with custom spacing\n        let output = `\n            <p style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </p>`;\n\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_music_2.play()\n    },\n    on_timeline_finish: function(){\n        bg_music_2.pause()\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  preload,\n  welcome,\n  instructions,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-sound-ex-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-sound-ex-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
   
}


/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>  
    </div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Setup Audio
// ============================================

let bg_music_1 = new Audio(&quot;audio/song18.mp3&quot;)
bg_music_1.loop = true
bg_music_1.volume = .3

let bg_music_2 = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_music_2.loop = true
bg_music_2.volume = .3

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

const instructions = {
  type: jsPsychInstructions,
  pages: [
    `<p>Welcome to the Experiment!</p>
     <p>Use the buttons below to navigate through the instructions.</p>`,

    `<p>In this experiment, you will complete what's known as a <strong>flanker task</strong>.</p>
     <p>On each trial, you will see a row of arrows displayed on the screen.</p>`,

    `<p>Your task is to respond to the <strong>direction of the center arrow</strong> only.</p>
     <p>Ignore the arrows on either side (the &quot;flankers&quot;).</p>`,

    `<p><strong>Response Keys:</strong></p>
     <p>Press <strong>A</strong> if the center arrow points LEFT</p>
     <p>Press <strong>L</strong> if the center arrow points RIGHT</p>
     <p>You will only have 1 second to respond to each trial. </p>
     <p>Respond as quickly and accurately as possible.</p>`,

    `<p>The experiment consists of two parts:</p>
     <p>1. A <strong>practice block</strong> to familiarize yourself with the task</p>
     <p>2. An <strong>experimental block</strong> with the main trials</p>`,

    `<p>When you are ready to begin the practice trials, press &quot;Next&quot;.</p>`
  ],
  show_clickable_nav: true,
  on_start: function(){
      bg_music_1.play();
  },
  on_finish: function(){
      bg_music_1.pause();
  }
}

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  audio: [&quot;audio/song18.mp3&quot;, &quot;audio/8BitMetal.wav&quot;],
  show_detailed_errors: true
}


// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    post_trial_gap: 250,
    trial_duration: 1000,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

         // Create HTML with custom spacing
        let output = `
            <p style=&quot;margin: 0; font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </p>`;


        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_music_2.play()
    },
    on_timeline_finish: function(){
        bg_music_2.pause()
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  preload,
  welcome,
  instructions,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-sound-ex-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-sound-ex-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="example-2-feedback-sound-effects" class="level4" data-number="25.6.4.2">
<h4 data-number="25.6.4.2" class="anchored" data-anchor-id="example-2-feedback-sound-effects"><span class="header-section-number">25.6.4.2</span> Example #2: Feedback Sound Effects</h4>
<p>The accuracy feedback is a great place to add sounds that make accurate responses feel more rewarding and incorrect responses feel more punishing. Here, I’ve added different sound effects for correct/incorrect to go along with our animated feedback from the previous example.</p>
<p>You should also notice that I ended a check in <code>on_finish</code> function. When the feedback trial ends, I’ve checked whether each audio file is currently playing, and if it is, then pause the audio and reset. This is a fallback in case, for some reason, our audio goes longer than the feedback trial.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" role="tab" aria-controls="tabset-16-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" role="tab" aria-controls="tabset-16-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-3" role="tab" aria-controls="tabset-16-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-4" role="tab" aria-controls="tabset-16-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-16-1-tab">
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb96-1"><a href="#cb96-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb96-2"><a href="#cb96-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb96-3"><a href="#cb96-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb96-4"><a href="#cb96-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Gamification<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb96-5"><a href="#cb96-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb96-6"><a href="#cb96-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-7"><a href="#cb96-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb96-8"><a href="#cb96-8"></a>    </span>
<span id="cb96-9"><a href="#cb96-9"></a>    <span class="co">&lt;!-- jsPsych plugins --&gt;</span></span>
<span id="cb96-10"><a href="#cb96-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-11"><a href="#cb96-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-12"><a href="#cb96-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-13"><a href="#cb96-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-button-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-14"><a href="#cb96-14"></a></span>
<span id="cb96-15"><a href="#cb96-15"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb96-16"><a href="#cb96-16"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb96-17"><a href="#cb96-17"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb96-18"><a href="#cb96-18"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb96-19"><a href="#cb96-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb96-20"><a href="#cb96-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb96-21"><a href="#cb96-21"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-22"><a href="#cb96-22"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-23"><a href="#cb96-23"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb96-24"><a href="#cb96-24"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-container"</span><span class="dt">&gt;</span></span>
<span id="cb96-25"><a href="#cb96-25"></a>          <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span> SCORE: <span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span>0<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span> <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb96-26"><a href="#cb96-26"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-27"><a href="#cb96-27"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-28"><a href="#cb96-28"></a>      </span>
<span id="cb96-29"><a href="#cb96-29"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-30"><a href="#cb96-30"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-31"><a href="#cb96-31"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-32"><a href="#cb96-32"></a>      </span>
<span id="cb96-33"><a href="#cb96-33"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-34"><a href="#cb96-34"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-35"><a href="#cb96-35"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-36"><a href="#cb96-36"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-37"><a href="#cb96-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb96-38"><a href="#cb96-38"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb96-39"><a href="#cb96-39"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb96-40"><a href="#cb96-40"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb96-41"><a href="#cb96-41"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb96-42"><a href="#cb96-42"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-16-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-2-tab">
<div class="sourceCode" id="cb97"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb97-1"><a href="#cb97-1"></a> </span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="co">// ============================================</span></span>
<span id="cb97-3"><a href="#cb97-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb97-4"><a href="#cb97-4"></a><span class="co">// ============================================</span></span>
<span id="cb97-5"><a href="#cb97-5"></a></span>
<span id="cb97-6"><a href="#cb97-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb97-7"><a href="#cb97-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb97-8"><a href="#cb97-8"></a>                ) </span>
<span id="cb97-9"><a href="#cb97-9"></a></span>
<span id="cb97-10"><a href="#cb97-10"></a><span class="co">// ============================================</span></span>
<span id="cb97-11"><a href="#cb97-11"></a><span class="co">// Setup Audio</span></span>
<span id="cb97-12"><a href="#cb97-12"></a><span class="co">// ============================================</span></span>
<span id="cb97-13"><a href="#cb97-13"></a></span>
<span id="cb97-14"><a href="#cb97-14"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb97-15"><a href="#cb97-15"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb97-16"><a href="#cb97-16"></a></span>
<span id="cb97-17"><a href="#cb97-17"></a><span class="kw">let</span> sfx_error <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb97-18"><a href="#cb97-18"></a>sfx_error<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb97-19"><a href="#cb97-19"></a></span>
<span id="cb97-20"><a href="#cb97-20"></a><span class="co">// ============================================</span></span>
<span id="cb97-21"><a href="#cb97-21"></a><span class="co">// Trackers</span></span>
<span id="cb97-22"><a href="#cb97-22"></a><span class="co">// ============================================</span></span>
<span id="cb97-23"><a href="#cb97-23"></a></span>
<span id="cb97-24"><a href="#cb97-24"></a><span class="co">// current score</span></span>
<span id="cb97-25"><a href="#cb97-25"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb97-26"><a href="#cb97-26"></a></span>
<span id="cb97-27"><a href="#cb97-27"></a><span class="co">// ============================================</span></span>
<span id="cb97-28"><a href="#cb97-28"></a><span class="co">// Welcome</span></span>
<span id="cb97-29"><a href="#cb97-29"></a><span class="co">// ============================================</span></span>
<span id="cb97-30"><a href="#cb97-30"></a></span>
<span id="cb97-31"><a href="#cb97-31"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb97-32"><a href="#cb97-32"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb97-33"><a href="#cb97-33"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb97-34"><a href="#cb97-34"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb97-35"><a href="#cb97-35"></a>}</span>
<span id="cb97-36"><a href="#cb97-36"></a></span>
<span id="cb97-37"><a href="#cb97-37"></a><span class="co">// ============================================</span></span>
<span id="cb97-38"><a href="#cb97-38"></a><span class="co">// Flanker Experimental Block</span></span>
<span id="cb97-39"><a href="#cb97-39"></a><span class="co">// ============================================</span></span>
<span id="cb97-40"><a href="#cb97-40"></a></span>
<span id="cb97-41"><a href="#cb97-41"></a><span class="co">// fixation</span></span>
<span id="cb97-42"><a href="#cb97-42"></a><span class="kw">let</span> exp_fixation <span class="op">=</span> {</span>
<span id="cb97-43"><a href="#cb97-43"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb97-44"><a href="#cb97-44"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb97-45"><a href="#cb97-45"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb97-46"><a href="#cb97-46"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb97-47"><a href="#cb97-47"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb97-48"><a href="#cb97-48"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb97-49"><a href="#cb97-49"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"fixation"</span></span>
<span id="cb97-50"><a href="#cb97-50"></a>    }</span>
<span id="cb97-51"><a href="#cb97-51"></a>}</span>
<span id="cb97-52"><a href="#cb97-52"></a></span>
<span id="cb97-53"><a href="#cb97-53"></a><span class="co">// stimulus</span></span>
<span id="cb97-54"><a href="#cb97-54"></a><span class="kw">let</span> exp_stimulus <span class="op">=</span> {</span>
<span id="cb97-55"><a href="#cb97-55"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb97-56"><a href="#cb97-56"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb97-57"><a href="#cb97-57"></a>        <span class="kw">let</span> target <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"target"</span>)<span class="op">;</span></span>
<span id="cb97-58"><a href="#cb97-58"></a>        <span class="kw">let</span> distractor <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">;</span></span>
<span id="cb97-59"><a href="#cb97-59"></a>        <span class="kw">let</span> distance <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"distance"</span>)<span class="op">;</span></span>
<span id="cb97-60"><a href="#cb97-60"></a></span>
<span id="cb97-61"><a href="#cb97-61"></a>        <span class="co">// Create HTML with custom spacing</span></span>
<span id="cb97-62"><a href="#cb97-62"></a>        <span class="kw">let</span> output <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb97-63"><a href="#cb97-63"></a><span class="vs">            &lt;div style="font-size: 100px; font-family: monospace;"&gt;</span></span>
<span id="cb97-64"><a href="#cb97-64"></a><span class="vs">              </span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span><span class="vs">&lt;span style="margin: 0 </span><span class="sc">${</span>distance<span class="sc">}</span><span class="vs">px;"&gt;</span><span class="sc">${</span>target<span class="sc">}</span><span class="vs">&lt;/span&gt;</span><span class="sc">${</span>distractor<span class="sc">}${</span>distractor<span class="sc">}</span></span>
<span id="cb97-65"><a href="#cb97-65"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb97-66"><a href="#cb97-66"></a></span>
<span id="cb97-67"><a href="#cb97-67"></a>        <span class="cf">return</span> output<span class="op">;</span></span>
<span id="cb97-68"><a href="#cb97-68"></a>    }<span class="op">,</span></span>
<span id="cb97-69"><a href="#cb97-69"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb97-70"><a href="#cb97-70"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb97-71"><a href="#cb97-71"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"stimulus"</span></span>
<span id="cb97-72"><a href="#cb97-72"></a>    }<span class="op">,</span></span>
<span id="cb97-73"><a href="#cb97-73"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(data){</span>
<span id="cb97-74"><a href="#cb97-74"></a>        <span class="co">// store accuracy</span></span>
<span id="cb97-75"><a href="#cb97-75"></a>        data<span class="op">.</span><span class="at">correct</span> <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(data<span class="op">.</span><span class="at">response</span><span class="op">,</span> data<span class="op">.</span><span class="at">correct_response</span>)</span>
<span id="cb97-76"><a href="#cb97-76"></a>    }</span>
<span id="cb97-77"><a href="#cb97-77"></a>}</span>
<span id="cb97-78"><a href="#cb97-78"></a></span>
<span id="cb97-79"><a href="#cb97-79"></a></span>
<span id="cb97-80"><a href="#cb97-80"></a><span class="co">// feedback</span></span>
<span id="cb97-81"><a href="#cb97-81"></a><span class="kw">let</span> exp_feedback <span class="op">=</span> {</span>
<span id="cb97-82"><a href="#cb97-82"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb97-83"><a href="#cb97-83"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb97-84"><a href="#cb97-84"></a>        <span class="co">// get score element</span></span>
<span id="cb97-85"><a href="#cb97-85"></a>        <span class="kw">let</span> scoreElement <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score-display"</span>)</span>
<span id="cb97-86"><a href="#cb97-86"></a></span>
<span id="cb97-87"><a href="#cb97-87"></a>        <span class="cf">if</span>(jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()[<span class="dv">0</span>]<span class="op">.</span><span class="at">correct</span>){</span>
<span id="cb97-88"><a href="#cb97-88"></a>            sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb97-89"><a href="#cb97-89"></a>            score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb97-90"><a href="#cb97-90"></a>            scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> score</span>
<span id="cb97-91"><a href="#cb97-91"></a></span>
<span id="cb97-92"><a href="#cb97-92"></a>            <span class="cf">return</span> <span class="vs">`&lt;p style="color:green" class="points-popup heartbeat"&gt;+100!&lt;/p&gt;`</span></span>
<span id="cb97-93"><a href="#cb97-93"></a>        } <span class="cf">else</span> {</span>
<span id="cb97-94"><a href="#cb97-94"></a>            sfx_error<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb97-95"><a href="#cb97-95"></a>            score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb97-96"><a href="#cb97-96"></a>            scoreElement<span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> score</span>
<span id="cb97-97"><a href="#cb97-97"></a></span>
<span id="cb97-98"><a href="#cb97-98"></a>            <span class="cf">return</span> <span class="vs">`&lt;p  style="color:red" class="points-popup shake-horizontal"&gt;-100!&lt;/p&gt;`</span></span>
<span id="cb97-99"><a href="#cb97-99"></a>        }</span>
<span id="cb97-100"><a href="#cb97-100"></a>    }<span class="op">,</span></span>
<span id="cb97-101"><a href="#cb97-101"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"a"</span><span class="op">,</span> <span class="st">"l"</span>]<span class="op">,</span></span>
<span id="cb97-102"><a href="#cb97-102"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1500</span><span class="op">,</span></span>
<span id="cb97-103"><a href="#cb97-103"></a>    <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb97-104"><a href="#cb97-104"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb97-105"><a href="#cb97-105"></a>      <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb97-106"><a href="#cb97-106"></a>    }<span class="op">,</span></span>
<span id="cb97-107"><a href="#cb97-107"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb97-108"><a href="#cb97-108"></a>      <span class="co">// if not paused, then pause and reset</span></span>
<span id="cb97-109"><a href="#cb97-109"></a>      <span class="cf">if</span>(<span class="op">!</span>sfx_coin<span class="op">.</span><span class="at">paused</span>){    </span>
<span id="cb97-110"><a href="#cb97-110"></a>        sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb97-111"><a href="#cb97-111"></a>        sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb97-112"><a href="#cb97-112"></a>      }</span>
<span id="cb97-113"><a href="#cb97-113"></a></span>
<span id="cb97-114"><a href="#cb97-114"></a>      <span class="co">// if not paused, then pause and reset</span></span>
<span id="cb97-115"><a href="#cb97-115"></a>      <span class="cf">if</span>(<span class="op">!</span>sfx_error<span class="op">.</span><span class="at">paused</span>){    </span>
<span id="cb97-116"><a href="#cb97-116"></a>        sfx_error<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb97-117"><a href="#cb97-117"></a>        sfx_error<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb97-118"><a href="#cb97-118"></a>      }</span>
<span id="cb97-119"><a href="#cb97-119"></a>    }</span>
<span id="cb97-120"><a href="#cb97-120"></a>}</span>
<span id="cb97-121"><a href="#cb97-121"></a></span>
<span id="cb97-122"><a href="#cb97-122"></a><span class="co">// exp timeline</span></span>
<span id="cb97-123"><a href="#cb97-123"></a><span class="kw">let</span> exp_flanker <span class="op">=</span> {</span>
<span id="cb97-124"><a href="#cb97-124"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb97-125"><a href="#cb97-125"></a>        exp_fixation<span class="op">,</span></span>
<span id="cb97-126"><a href="#cb97-126"></a>        exp_stimulus<span class="op">,</span></span>
<span id="cb97-127"><a href="#cb97-127"></a>        exp_feedback</span>
<span id="cb97-128"><a href="#cb97-128"></a>    ]<span class="op">,</span></span>
<span id="cb97-129"><a href="#cb97-129"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb97-130"><a href="#cb97-130"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span> }<span class="op">,</span></span>
<span id="cb97-131"><a href="#cb97-131"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb97-132"><a href="#cb97-132"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb97-133"><a href="#cb97-133"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"a"</span>  }<span class="op">,</span></span>
<span id="cb97-134"><a href="#cb97-134"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span>  }<span class="op">,</span></span>
<span id="cb97-135"><a href="#cb97-135"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&lt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"incongruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb97-136"><a href="#cb97-136"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }<span class="op">,</span></span>
<span id="cb97-137"><a href="#cb97-137"></a>        { <span class="dt">target</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distractor</span><span class="op">:</span> <span class="st">"&gt;"</span><span class="op">,</span> <span class="dt">distance</span><span class="op">:</span> <span class="dv">50</span><span class="op">,</span> <span class="dt">congruency</span><span class="op">:</span> <span class="st">"congruent"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"l"</span> }</span>
<span id="cb97-138"><a href="#cb97-138"></a>    ]<span class="op">,</span></span>
<span id="cb97-139"><a href="#cb97-139"></a>    <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb97-140"><a href="#cb97-140"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb97-141"><a href="#cb97-141"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"flanker"</span><span class="op">,</span></span>
<span id="cb97-142"><a href="#cb97-142"></a>      <span class="dt">target</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"target"</span>)<span class="op">,</span></span>
<span id="cb97-143"><a href="#cb97-143"></a>      <span class="dt">distractor</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"distractor"</span>)<span class="op">,</span></span>
<span id="cb97-144"><a href="#cb97-144"></a>      <span class="dt">congruency</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"congruency"</span>)<span class="op">,</span></span>
<span id="cb97-145"><a href="#cb97-145"></a>      <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb97-146"><a href="#cb97-146"></a>    }</span>
<span id="cb97-147"><a href="#cb97-147"></a>}<span class="op">;</span></span>
<span id="cb97-148"><a href="#cb97-148"></a></span>
<span id="cb97-149"><a href="#cb97-149"></a></span>
<span id="cb97-150"><a href="#cb97-150"></a><span class="co">// ============================================</span></span>
<span id="cb97-151"><a href="#cb97-151"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb97-152"><a href="#cb97-152"></a><span class="co">// ============================================</span></span>
<span id="cb97-153"><a href="#cb97-153"></a></span>
<span id="cb97-154"><a href="#cb97-154"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb97-155"><a href="#cb97-155"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb97-156"><a href="#cb97-156"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb97-157"><a href="#cb97-157"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb97-158"><a href="#cb97-158"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb97-159"><a href="#cb97-159"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb97-160"><a href="#cb97-160"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb97-161"><a href="#cb97-161"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb97-162"><a href="#cb97-162"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb97-163"><a href="#cb97-163"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb97-164"><a href="#cb97-164"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb97-165"><a href="#cb97-165"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb97-166"><a href="#cb97-166"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb97-167"><a href="#cb97-167"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb97-168"><a href="#cb97-168"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb97-169"><a href="#cb97-169"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"faceInversion_data.csv"</span>)<span class="op">;</span></span>
<span id="cb97-170"><a href="#cb97-170"></a>    })<span class="op">;</span></span>
<span id="cb97-171"><a href="#cb97-171"></a>  }<span class="op">,</span></span>
<span id="cb97-172"><a href="#cb97-172"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb97-173"><a href="#cb97-173"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb97-174"><a href="#cb97-174"></a>  }</span>
<span id="cb97-175"><a href="#cb97-175"></a>}<span class="op">;</span></span>
<span id="cb97-176"><a href="#cb97-176"></a></span>
<span id="cb97-177"><a href="#cb97-177"></a><span class="co">// ============================================</span></span>
<span id="cb97-178"><a href="#cb97-178"></a><span class="co">// Run jsPsych </span></span>
<span id="cb97-179"><a href="#cb97-179"></a><span class="co">// ============================================</span></span>
<span id="cb97-180"><a href="#cb97-180"></a></span>
<span id="cb97-181"><a href="#cb97-181"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb97-182"><a href="#cb97-182"></a>  welcome<span class="op">,</span></span>
<span id="cb97-183"><a href="#cb97-183"></a>  exp_flanker<span class="op">,</span></span>
<span id="cb97-184"><a href="#cb97-184"></a>  saveData</span>
<span id="cb97-185"><a href="#cb97-185"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-16-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-3-tab">
<div class="sourceCode" id="cb98"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb98-1"><a href="#cb98-1"></a> body {</span>
<span id="cb98-2"><a href="#cb98-2"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb98-3"><a href="#cb98-3"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-4"><a href="#cb98-4"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-5"><a href="#cb98-5"></a>  <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb98-6"><a href="#cb98-6"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb98-7"><a href="#cb98-7"></a>}</span>
<span id="cb98-8"><a href="#cb98-8"></a></span>
<span id="cb98-9"><a href="#cb98-9"></a><span class="fu">.game-display</span> {</span>
<span id="cb98-10"><a href="#cb98-10"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb98-11"><a href="#cb98-11"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb98-12"><a href="#cb98-12"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">400</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb98-13"><a href="#cb98-13"></a>}</span>
<span id="cb98-14"><a href="#cb98-14"></a></span>
<span id="cb98-15"><a href="#cb98-15"></a><span class="fu">.grid</span> {</span>
<span id="cb98-16"><a href="#cb98-16"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb98-17"><a href="#cb98-17"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb98-18"><a href="#cb98-18"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb98-19"><a href="#cb98-19"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-20"><a href="#cb98-20"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">6</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-21"><a href="#cb98-21"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb98-22"><a href="#cb98-22"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb98-23"><a href="#cb98-23"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb98-24"><a href="#cb98-24"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb98-25"><a href="#cb98-25"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb98-26"><a href="#cb98-26"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb98-27"><a href="#cb98-27"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb98-28"><a href="#cb98-28"></a>  </span>
<span id="cb98-29"><a href="#cb98-29"></a>}</span>
<span id="cb98-30"><a href="#cb98-30"></a></span>
<span id="cb98-31"><a href="#cb98-31"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb98-32"><a href="#cb98-32"></a><span class="fu">.top-left</span> {</span>
<span id="cb98-33"><a href="#cb98-33"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span></span>
<span id="cb98-34"><a href="#cb98-34"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-35"><a href="#cb98-35"></a>}</span>
<span id="cb98-36"><a href="#cb98-36"></a></span>
<span id="cb98-37"><a href="#cb98-37"></a><span class="fu">.top-right</span> {</span>
<span id="cb98-38"><a href="#cb98-38"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span></span>
<span id="cb98-39"><a href="#cb98-39"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-40"><a href="#cb98-40"></a>}</span>
<span id="cb98-41"><a href="#cb98-41"></a></span>
<span id="cb98-42"><a href="#cb98-42"></a><span class="fu">.top</span> {</span>
<span id="cb98-43"><a href="#cb98-43"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span></span>
<span id="cb98-44"><a href="#cb98-44"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-45"><a href="#cb98-45"></a>}</span>
<span id="cb98-46"><a href="#cb98-46"></a></span>
<span id="cb98-47"><a href="#cb98-47"></a><span class="fu">.center</span> {</span>
<span id="cb98-48"><a href="#cb98-48"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-49"><a href="#cb98-49"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">102</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-50"><a href="#cb98-50"></a>}</span>
<span id="cb98-51"><a href="#cb98-51"></a></span>
<span id="cb98-52"><a href="#cb98-52"></a><span class="fu">.left</span> {</span>
<span id="cb98-53"><a href="#cb98-53"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb98-54"><a href="#cb98-54"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">204</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-55"><a href="#cb98-55"></a>}</span>
<span id="cb98-56"><a href="#cb98-56"></a></span>
<span id="cb98-57"><a href="#cb98-57"></a><span class="fu">.right</span> {</span>
<span id="cb98-58"><a href="#cb98-58"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span></span>
<span id="cb98-59"><a href="#cb98-59"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-60"><a href="#cb98-60"></a>}</span>
<span id="cb98-61"><a href="#cb98-61"></a></span>
<span id="cb98-62"><a href="#cb98-62"></a><span class="fu">.bottom-left</span> {</span>
<span id="cb98-63"><a href="#cb98-63"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span></span>
<span id="cb98-64"><a href="#cb98-64"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">84</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">159</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-65"><a href="#cb98-65"></a>}</span>
<span id="cb98-66"><a href="#cb98-66"></a></span>
<span id="cb98-67"><a href="#cb98-67"></a><span class="fu">.bottom-right</span> {</span>
<span id="cb98-68"><a href="#cb98-68"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span></span>
<span id="cb98-69"><a href="#cb98-69"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">132</span><span class="op">,</span> <span class="dv">112</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-70"><a href="#cb98-70"></a>}</span>
<span id="cb98-71"><a href="#cb98-71"></a></span>
<span id="cb98-72"><a href="#cb98-72"></a><span class="fu">.bottom</span> {</span>
<span id="cb98-73"><a href="#cb98-73"></a>  <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb98-74"><a href="#cb98-74"></a>  <span class="kw">background</span><span class="ch">:</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">102</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0.4</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-75"><a href="#cb98-75"></a>}</span>
<span id="cb98-76"><a href="#cb98-76"></a></span>
<span id="cb98-77"><a href="#cb98-77"></a><span class="fu">.points-popup</span> {</span>
<span id="cb98-78"><a href="#cb98-78"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">2.5</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb98-79"><a href="#cb98-79"></a>  <span class="kw">font-weight</span><span class="ch">:</span> <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb98-80"><a href="#cb98-80"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#FFD700</span><span class="op">;</span></span>
<span id="cb98-81"><a href="#cb98-81"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-82"><a href="#cb98-82"></a>}</span>
<span id="cb98-83"><a href="#cb98-83"></a></span>
<span id="cb98-84"><a href="#cb98-84"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb98-85"><a href="#cb98-85"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb98-86"><a href="#cb98-86"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb98-87"><a href="#cb98-87"></a>}</span>
<span id="cb98-88"><a href="#cb98-88"></a></span>
<span id="cb98-89"><a href="#cb98-89"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb98-90"><a href="#cb98-90"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb98-91"><a href="#cb98-91"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb98-92"><a href="#cb98-92"></a>}</span>
<span id="cb98-93"><a href="#cb98-93"></a></span>
<span id="cb98-94"><a href="#cb98-94"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb98-95"><a href="#cb98-95"></a><span class="co"> * Generated by Animista on 2025-10-19 20:47:34</span></span>
<span id="cb98-96"><a href="#cb98-96"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb98-97"><a href="#cb98-97"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb98-98"><a href="#cb98-98"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb98-99"><a href="#cb98-99"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb98-100"><a href="#cb98-100"></a></span>
<span id="cb98-101"><a href="#cb98-101"></a><span class="co">/**</span></span>
<span id="cb98-102"><a href="#cb98-102"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb98-103"><a href="#cb98-103"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb98-104"><a href="#cb98-104"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb98-105"><a href="#cb98-105"></a><span class="co"> */</span></span>
<span id="cb98-106"><a href="#cb98-106"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb98-107"><a href="#cb98-107"></a>  from {</span>
<span id="cb98-108"><a href="#cb98-108"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-109"><a href="#cb98-109"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-110"><a href="#cb98-110"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-111"><a href="#cb98-111"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-112"><a href="#cb98-112"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-113"><a href="#cb98-113"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-114"><a href="#cb98-114"></a>  }</span>
<span id="cb98-115"><a href="#cb98-115"></a>  10% {</span>
<span id="cb98-116"><a href="#cb98-116"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-117"><a href="#cb98-117"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-118"><a href="#cb98-118"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-119"><a href="#cb98-119"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-120"><a href="#cb98-120"></a>  }</span>
<span id="cb98-121"><a href="#cb98-121"></a>  17% {</span>
<span id="cb98-122"><a href="#cb98-122"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-123"><a href="#cb98-123"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-124"><a href="#cb98-124"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-125"><a href="#cb98-125"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-126"><a href="#cb98-126"></a>  }</span>
<span id="cb98-127"><a href="#cb98-127"></a>  33% {</span>
<span id="cb98-128"><a href="#cb98-128"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-129"><a href="#cb98-129"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-130"><a href="#cb98-130"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-131"><a href="#cb98-131"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-132"><a href="#cb98-132"></a>  }</span>
<span id="cb98-133"><a href="#cb98-133"></a>  45% {</span>
<span id="cb98-134"><a href="#cb98-134"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-135"><a href="#cb98-135"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-136"><a href="#cb98-136"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-137"><a href="#cb98-137"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-138"><a href="#cb98-138"></a>  }</span>
<span id="cb98-139"><a href="#cb98-139"></a>}</span>
<span id="cb98-140"><a href="#cb98-140"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb98-141"><a href="#cb98-141"></a>  <span class="dv">from</span> {</span>
<span id="cb98-142"><a href="#cb98-142"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-143"><a href="#cb98-143"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-144"><a href="#cb98-144"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-145"><a href="#cb98-145"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb98-146"><a href="#cb98-146"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-147"><a href="#cb98-147"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-148"><a href="#cb98-148"></a>  }</span>
<span id="cb98-149"><a href="#cb98-149"></a>  <span class="dv">10%</span> {</span>
<span id="cb98-150"><a href="#cb98-150"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-151"><a href="#cb98-151"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-152"><a href="#cb98-152"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-153"><a href="#cb98-153"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-154"><a href="#cb98-154"></a>  }</span>
<span id="cb98-155"><a href="#cb98-155"></a>  <span class="dv">17%</span> {</span>
<span id="cb98-156"><a href="#cb98-156"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-157"><a href="#cb98-157"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-158"><a href="#cb98-158"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-159"><a href="#cb98-159"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-160"><a href="#cb98-160"></a>  }</span>
<span id="cb98-161"><a href="#cb98-161"></a>  <span class="dv">33%</span> {</span>
<span id="cb98-162"><a href="#cb98-162"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-163"><a href="#cb98-163"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-164"><a href="#cb98-164"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-165"><a href="#cb98-165"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb98-166"><a href="#cb98-166"></a>  }</span>
<span id="cb98-167"><a href="#cb98-167"></a>  <span class="dv">45%</span> {</span>
<span id="cb98-168"><a href="#cb98-168"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-169"><a href="#cb98-169"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-170"><a href="#cb98-170"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-171"><a href="#cb98-171"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb98-172"><a href="#cb98-172"></a>  }</span>
<span id="cb98-173"><a href="#cb98-173"></a>}</span>
<span id="cb98-174"><a href="#cb98-174"></a></span>
<span id="cb98-175"><a href="#cb98-175"></a></span>
<span id="cb98-176"><a href="#cb98-176"></a></span>
<span id="cb98-177"><a href="#cb98-177"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb98-178"><a href="#cb98-178"></a><span class="co"> * Generated by Animista on 2025-10-19 20:38:1</span></span>
<span id="cb98-179"><a href="#cb98-179"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb98-180"><a href="#cb98-180"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb98-181"><a href="#cb98-181"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb98-182"><a href="#cb98-182"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb98-183"><a href="#cb98-183"></a></span>
<span id="cb98-184"><a href="#cb98-184"></a><span class="co">/**</span></span>
<span id="cb98-185"><a href="#cb98-185"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb98-186"><a href="#cb98-186"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb98-187"><a href="#cb98-187"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb98-188"><a href="#cb98-188"></a><span class="co"> */</span></span>
<span id="cb98-189"><a href="#cb98-189"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb98-190"><a href="#cb98-190"></a>  0%<span class="op">,</span></span>
<span id="cb98-191"><a href="#cb98-191"></a>  100% {</span>
<span id="cb98-192"><a href="#cb98-192"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-193"><a href="#cb98-193"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-194"><a href="#cb98-194"></a>  }</span>
<span id="cb98-195"><a href="#cb98-195"></a>  10%<span class="op">,</span></span>
<span id="cb98-196"><a href="#cb98-196"></a>  30%<span class="op">,</span></span>
<span id="cb98-197"><a href="#cb98-197"></a>  50%<span class="op">,</span></span>
<span id="cb98-198"><a href="#cb98-198"></a>  70% {</span>
<span id="cb98-199"><a href="#cb98-199"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-200"><a href="#cb98-200"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-201"><a href="#cb98-201"></a>  }</span>
<span id="cb98-202"><a href="#cb98-202"></a>  20%<span class="op">,</span></span>
<span id="cb98-203"><a href="#cb98-203"></a>  40%<span class="op">,</span></span>
<span id="cb98-204"><a href="#cb98-204"></a>  60% {</span>
<span id="cb98-205"><a href="#cb98-205"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-206"><a href="#cb98-206"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-207"><a href="#cb98-207"></a>  }</span>
<span id="cb98-208"><a href="#cb98-208"></a>  80% {</span>
<span id="cb98-209"><a href="#cb98-209"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-210"><a href="#cb98-210"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-211"><a href="#cb98-211"></a>  }</span>
<span id="cb98-212"><a href="#cb98-212"></a>  90% {</span>
<span id="cb98-213"><a href="#cb98-213"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-214"><a href="#cb98-214"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-215"><a href="#cb98-215"></a>  }</span>
<span id="cb98-216"><a href="#cb98-216"></a>}</span>
<span id="cb98-217"><a href="#cb98-217"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb98-218"><a href="#cb98-218"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb98-219"><a href="#cb98-219"></a>  <span class="dv">100%</span> {</span>
<span id="cb98-220"><a href="#cb98-220"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-221"><a href="#cb98-221"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-222"><a href="#cb98-222"></a>  }</span>
<span id="cb98-223"><a href="#cb98-223"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb98-224"><a href="#cb98-224"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb98-225"><a href="#cb98-225"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb98-226"><a href="#cb98-226"></a>  <span class="dv">70%</span> {</span>
<span id="cb98-227"><a href="#cb98-227"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-228"><a href="#cb98-228"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-229"><a href="#cb98-229"></a>  }</span>
<span id="cb98-230"><a href="#cb98-230"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb98-231"><a href="#cb98-231"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb98-232"><a href="#cb98-232"></a>  <span class="dv">60%</span> {</span>
<span id="cb98-233"><a href="#cb98-233"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-234"><a href="#cb98-234"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-235"><a href="#cb98-235"></a>  }</span>
<span id="cb98-236"><a href="#cb98-236"></a>  <span class="dv">80%</span> {</span>
<span id="cb98-237"><a href="#cb98-237"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-238"><a href="#cb98-238"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-239"><a href="#cb98-239"></a>  }</span>
<span id="cb98-240"><a href="#cb98-240"></a>  <span class="dv">90%</span> {</span>
<span id="cb98-241"><a href="#cb98-241"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-242"><a href="#cb98-242"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb98-243"><a href="#cb98-243"></a>  }</span>
<span id="cb98-244"><a href="#cb98-244"></a>}</span>
<span id="cb98-245"><a href="#cb98-245"></a></span>
<span id="cb98-246"><a href="#cb98-246"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-16-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-4-tab">
<div id="demo-container-sound-ex-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-sound-ex-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      body {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  margin: 0;\n}\n\n.game-display {\n  margin: 0 auto;\n  width: 750px;\n  height: 400px;\n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n  \n}\n\n/* Grid area assignments */\n.top-left {\n  grid-area: top-left;\n  background: rgba(255, 102, 102, 0.4);\n}\n\n.top-right {\n  grid-area: top-right;\n  background: rgba(255, 204, 102, 0.4);\n}\n\n.top {\n  grid-area: top;\n  background: rgba(255, 255, 102, 0.4);\n}\n\n.center {\n  grid-area: center;\n  background: rgba(102, 102, 255, 0.4);\n}\n\n.left {\n  grid-area: left;\n  background: rgba(204, 102, 255, 0.4);\n}\n\n.right {\n  grid-area: right;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.bottom-left {\n  grid-area: bottom-left;\n  background: rgba(84, 255, 159, 0.4);\n}\n\n.bottom-right {\n  grid-area: bottom-right;\n  background: rgba(132, 112, 255, 0.4);\n}\n\n.bottom {\n  grid-area: bottom;\n  background: rgba(255, 102, 255, 0.4);\n}\n\n.points-popup {\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #FFD700;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.heartbeat {\n    -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n.shake-horizontal {\n    -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-19 20:47:34\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-19 20:38:1\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;></div>\n    <div class=&quot;top-right&quot;>\n      <div id=&quot;score-container&quot;>\n        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>\n      </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\',\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Setup Audio\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_error = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_error.volume = .3\n\n// ============================================\n// Trackers\n// ============================================\n\n// current score\nlet score = 0\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Flanker Experimental Block\n// ============================================\n\n// fixation\nlet exp_fixation = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1000,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;fixation&quot;\n    }\n}\n\n// stimulus\nlet exp_stimulus = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);\n        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);\n        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);\n\n        // Create HTML with custom spacing\n        let output = `\n            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>\n              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}\n            </div>`;\n\n        return output;\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    data: {\n      trial_part: &quot;stimulus&quot;\n    },\n    on_finish: function(data){\n        // store accuracy\n        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)\n    }\n}\n\n\n// feedback\nlet exp_feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        // get score element\n        let scoreElement = document.querySelector(&quot;#score-display&quot;)\n\n        if(jsPsych.data.get().last(1).values()[0].correct){\n            sfx_coin.play();\n            score = score + 100;\n            scoreElement.textContent = score\n\n            return `<p style=&quot;color:green&quot; class=&quot;points-popup heartbeat&quot;>+100!</p>`\n        } else {\n            sfx_error.play();\n            score = score - 100;\n            scoreElement.textContent = score\n\n            return `<p  style=&quot;color:red&quot; class=&quot;points-popup shake-horizontal&quot;>-100!</p>`\n        }\n    },\n    choices: [&quot;a&quot;, &quot;l&quot;],\n    trial_duration: 1500,\n    post_trial_gap: 250,\n    data: {\n      trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n      // if not paused, then pause and reset\n      if(!sfx_coin.paused){    \n        sfx_coin.pause();\n        sfx_coin.currentTime = 0;\n      }\n\n      // if not paused, then pause and reset\n      if(!sfx_error.paused){    \n        sfx_error.pause();\n        sfx_error.currentTime = 0;\n      }\n    }\n}\n\n// exp timeline\nlet exp_flanker = {\n    timeline: [\n        exp_fixation,\n        exp_stimulus,\n        exp_feedback\n    ],\n    timeline_variables: [\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },\n        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },\n        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },\n        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }\n    ],\n    randomize_order: true,\n    data: {\n      phase: &quot;flanker&quot;,\n      target: jsPsych.timelineVariable(&quot;target&quot;),\n      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),\n      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),\n      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n};\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  exp_flanker,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-sound-ex-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-sound-ex-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

.game-display {
  margin: 0 auto;
  width: 750px;
  height: 400px;
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(6, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;
  
}

/* Grid area assignments */
.top-left {
  grid-area: top-left;
  background: rgba(255, 102, 102, 0.4);
}

.top-right {
  grid-area: top-right;
  background: rgba(255, 204, 102, 0.4);
}

.top {
  grid-area: top;
  background: rgba(255, 255, 102, 0.4);
}

.center {
  grid-area: center;
  background: rgba(102, 102, 255, 0.4);
}

.left {
  grid-area: left;
  background: rgba(204, 102, 255, 0.4);
}

.right {
  grid-area: right;
  background: rgba(255, 102, 255, 0.4);
}

.bottom-left {
  grid-area: bottom-left;
  background: rgba(84, 255, 159, 0.4);
}

.bottom-right {
  grid-area: bottom-right;
  background: rgba(132, 112, 255, 0.4);
}

.bottom {
  grid-area: bottom;
  background: rgba(255, 102, 255, 0.4);
}

.points-popup {
  font-size: 2.5rem;
  font-weight: bold;
  color: #FFD700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.heartbeat {
  -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

.shake-horizontal {
    -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-19 20:47:34
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}



/* ----------------------------------------------
 * Generated by Animista on 2025-10-19 20:38:1
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:400px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;></div>
    <div class=&quot;top-right&quot;>
      <div id=&quot;score-container&quot;>
        <p> SCORE: <span id=&quot;score-display&quot;>0</span> </p>
      </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display',
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Setup Audio
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_error = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_error.volume = .3

// ============================================
// Trackers
// ============================================

// current score
let score = 0

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Flanker Experimental Block
// ============================================

// fixation
let exp_fixation = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<p style=&quot;font-size:48px&quot;>+</p>`,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1000,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;fixation&quot;
    }
}

// stimulus
let exp_stimulus = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let target = jsPsych.evaluateTimelineVariable(&quot;target&quot;);
        let distractor = jsPsych.evaluateTimelineVariable(&quot;distractor&quot;);
        let distance = jsPsych.evaluateTimelineVariable(&quot;distance&quot;);

        // Create HTML with custom spacing
        let output = `
            <div style=&quot;font-size: 100px; font-family: monospace;&quot;>
              ${distractor}${distractor}<span style=&quot;margin: 0 ${distance}px;&quot;>${target}</span>${distractor}${distractor}
            </div>`;

        return output;
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    data: {
      trial_part: &quot;stimulus&quot;
    },
    on_finish: function(data){
        // store accuracy
        data.correct = jsPsych.pluginAPI.compareKeys(data.response, data.correct_response)
    }
}


// feedback
let exp_feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        // get score element
        let scoreElement = document.querySelector(&quot;#score-display&quot;)

        if(jsPsych.data.get().last(1).values()[0].correct){
            sfx_coin.play();
            score = score + 100;
            scoreElement.textContent = score

            return `<p style=&quot;color:green&quot; class=&quot;points-popup heartbeat&quot;>+100!</p>`
        } else {
            sfx_error.play();
            score = score - 100;
            scoreElement.textContent = score

            return `<p  style=&quot;color:red&quot; class=&quot;points-popup shake-horizontal&quot;>-100!</p>`
        }
    },
    choices: [&quot;a&quot;, &quot;l&quot;],
    trial_duration: 1500,
    post_trial_gap: 250,
    data: {
      trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
      // if not paused, then pause and reset
      if(!sfx_coin.paused){    
        sfx_coin.pause();
        sfx_coin.currentTime = 0;
      }

      // if not paused, then pause and reset
      if(!sfx_error.paused){    
        sfx_error.pause();
        sfx_error.currentTime = 0;
      }
    }
}

// exp timeline
let exp_flanker = {
    timeline: [
        exp_fixation,
        exp_stimulus,
        exp_feedback
    ],
    timeline_variables: [
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot; },
        { target: &quot;<&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;<&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;a&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 0, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot;  },
        { target: &quot;>&quot;, distractor: &quot;<&quot;, distance: 50, congruency: &quot;incongruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 0, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; },
        { target: &quot;>&quot;, distractor: &quot;>&quot;, distance: 50, congruency: &quot;congruent&quot;, correct_response: &quot;l&quot; }
    ],
    randomize_order: true,
    data: {
      phase: &quot;flanker&quot;,
      target: jsPsych.timelineVariable(&quot;target&quot;),
      distractor: jsPsych.timelineVariable(&quot;distractor&quot;),
      congruency: jsPsych.timelineVariable(&quot;congruency&quot;),
      correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
};


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;faceInversion_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  exp_flanker,
  saveData
]);
  </script>
</html>" width="100%" height="400px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-sound-ex-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-sound-ex-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="gameplay-mechanics-for-cognitive-experiments" class="level2" data-number="25.7">
<h2 data-number="25.7" class="anchored" data-anchor-id="gameplay-mechanics-for-cognitive-experiments"><span class="header-section-number">25.7</span> Gameplay Mechanics for Cognitive Experiments</h2>
<p>While visual and audio feedback can make experiments more engaging, true gamification comes from implementing gameplay mechanics. These are the rules, systems, and structures that make games compelling. These mechanics tap into fundamental psychological motivations: achievement, mastery, competition, and progression. When thoughtfully applied to cognitive experiments, gameplay mechanics can significantly increase participant engagement and motivation without compromising data quality.</p>
<p>In this section, we’ll explore core gameplay mechanics that translate well to experimental contexts.</p>
<section id="scoring-systems" class="level3" data-number="25.7.1">
<h3 data-number="25.7.1" class="anchored" data-anchor-id="scoring-systems"><span class="header-section-number">25.7.1</span> Scoring Systems</h3>
<p>What it is: Converting performance into numerical points that accumulate throughout the experiment.</p>
<p>Why it works: Scores provide immediate, quantifiable feedback and create a sense of achievement. They transform abstract performance into concrete progress.</p>
<p>Implementation considerations:</p>
<ul>
<li>Points per trial: Award points based on accuracy (e.g., 10 points for correct, 0 for incorrect)</li>
<li>Speed bonuses: Additional points for faster responses (e.g., +5 points if RT &lt; 500ms)</li>
<li>Accuracy bonuses: Multipliers for consecutive correct responses</li>
<li>Penalty systems: Subtract points for errors (use cautiously—can be demotivating)</li>
</ul>
<p>Research application: Scoring systems are particularly effective in tasks where you want to encourage both speed and accuracy, such as go/no-go tasks, flanker tasks, or working memory paradigms.</p>
</section>
<section id="progress-tracking" class="level3" data-number="25.7.2">
<h3 data-number="25.7.2" class="anchored" data-anchor-id="progress-tracking"><span class="header-section-number">25.7.2</span> Progress Tracking</h3>
<p>What it is: Visual or numerical indicators showing how much of the experiment is complete.</p>
<p>Why it works: Progress tracking reduces uncertainty and anxiety about experiment length, making the experience feel more manageable. It leverages the “goal gradient effect”—people work harder as they approach completion.</p>
<p>Implementation options:</p>
<ul>
<li>Progress bars: Visual representation of completion percentage</li>
<li>Trial counters: “Trial 23 of 100”</li>
<li>Level systems: “Level 3 of 5”</li>
<li>Milestone markers: Special indicators at 25%, 50%, 75% completion</li>
</ul>
</section>
<section id="adaptive-difficulty" class="level3" data-number="25.7.3">
<h3 data-number="25.7.3" class="anchored" data-anchor-id="adaptive-difficulty"><span class="header-section-number">25.7.3</span> Adaptive Difficulty</h3>
<p>What it is: Automatically adjusting task difficulty based on participant performance to maintain optimal challenge.</p>
<p>Why it works: Keeps participants in the “flow state”—not too easy (boring) or too hard (frustrating). Ensures the task remains engaging for participants of varying ability levels.</p>
<p>Implementation approaches:</p>
<ul>
<li>Staircase procedures: Increase difficulty after correct responses, decrease after errors</li>
<li>Performance windows: Adjust to maintain 70-80% accuracy</li>
<li>Block-based adaptation: Change difficulty between blocks based on previous performance</li>
</ul>
</section>
<section id="time-pressure" class="level3" data-number="25.7.4">
<h3 data-number="25.7.4" class="anchored" data-anchor-id="time-pressure"><span class="header-section-number">25.7.4</span> Time Pressure</h3>
<p>What it is: Imposing time limits on responses or entire task segments.</p>
<p>Why it works: Creates urgency and arousal, preventing mind-wandering and increasing engagement. Taps into competitive instincts and the desire to “beat the clock.”</p>
<p>Implementation variations:</p>
<ul>
<li>Response deadlines: Must respond within X milliseconds</li>
<li>Countdown timers: Visual timer showing remaining time</li>
<li>Time bonuses: Extra points for fast responses</li>
<li>Timed blocks: Complete as many trials as possible in fixed time</li>
<li>Escalating pressure: Time limits decrease as experiment progresses</li>
</ul>
</section>
<section id="streak-and-combo-systems" class="level3" data-number="25.7.5">
<h3 data-number="25.7.5" class="anchored" data-anchor-id="streak-and-combo-systems"><span class="header-section-number">25.7.5</span> Streak and Combo Systems</h3>
<p>What it is: Rewarding consecutive successful performances with escalating bonuses.</p>
<p>Why it works: Creates momentum and encourages sustained attention. The risk of “breaking the streak” motivates careful performance.</p>
<p>Implementation approaches:</p>
<ul>
<li>Accuracy streaks: Count consecutive correct responses</li>
<li>Speed streaks: Consecutive fast responses</li>
<li>Combo multipliers: Points multiply with streak length (2x, 3x, 4x)</li>
<li>Streak indicators: Visual display of current streak</li>
<li>Streak recovery: Grace period or “second chance” mechanics</li>
</ul>
</section>
<section id="lives-and-continues" class="level3" data-number="25.7.6">
<h3 data-number="25.7.6" class="anchored" data-anchor-id="lives-and-continues"><span class="header-section-number">25.7.6</span> Lives and Continues</h3>
<p>What it is: Giving participants a limited number of “lives” or “attempts,” with consequences for running out.</p>
<p>Why it works: Creates perceived stakes without actual failure. The threat of losing lives increases engagement and careful responding.</p>
<p>Implementation considerations:</p>
<ul>
<li>Starting lives: Typically 3-5 lives</li>
<li>Life loss conditions: Errors, timeouts, or specific mistakes</li>
<li>Life regeneration: Regain lives after good performance or time</li>
<li>Continue options: Allow restart with fresh lives</li>
<li>No true failure: Ensure participants can always complete the study</li>
</ul>
</section>
<section id="milestone-rewards" class="level3" data-number="25.7.7">
<h3 data-number="25.7.7" class="anchored" data-anchor-id="milestone-rewards"><span class="header-section-number">25.7.7</span> Milestone Rewards</h3>
<p>What it is: Special bonuses or messages at key completion points.</p>
<p>Why it works: Breaks long experiments into manageable chunks and provides regular positive reinforcement. Creates anticipation for the next milestone.</p>
<p>Implementation approaches:</p>
<ul>
<li>Completion milestones: 25%, 50%, 75%, 100%</li>
<li>Performance milestones: “10 correct in a row!”</li>
<li>Time milestones: “5 minutes completed”</li>
<li>Bonus rounds: Special trials at milestone points</li>
<li>Encouraging messages: Personalized feedback at milestones</li>
</ul>
</section>
<section id="leaderboards-and-social-comparison" class="level3" data-number="25.7.8">
<h3 data-number="25.7.8" class="anchored" data-anchor-id="leaderboards-and-social-comparison"><span class="header-section-number">25.7.8</span> Leaderboards and Social Comparison</h3>
<p>What it is: Showing participants how their performance compares to others (anonymously).</p>
<p>Why it works: Taps into competitive motivation and social comparison. Provides context for performance evaluation.</p>
<p>Implementation considerations:</p>
<ul>
<li>Anonymous comparison: Never show identifying information</li>
<li>Percentile rankings: “Top 30% of participants”</li>
<li>Aggregate statistics: “Average score: 450”</li>
<li>Optional participation: Allow opt-out from comparisons</li>
<li>Ethical considerations: Avoid creating excessive pressure</li>
</ul>
</section>
<section id="resource-management-systems" class="level3" data-number="25.7.9">
<h3 data-number="25.7.9" class="anchored" data-anchor-id="resource-management-systems"><span class="header-section-number">25.7.9</span> Resource Management Systems</h3>
<p>What it is: Giving participants limited resources (time, hints, skips, energy) that they must allocate strategically across the experiment.</p>
<p>Why it works: Creates meaningful choices and strategic thinking. Participants must decide when to use resources, adding a layer of agency and planning to otherwise straightforward tasks.</p>
<p>Framework connection: Bridges Performance (resource tracking), Personal (strategic choice), and Ecological (scarcity) dimensions.</p>
<p>Implementation approaches:</p>
<ul>
<li>Hint tokens: Limited number of hints participants can use on difficult trials</li>
<li>Skip credits: Ability to skip a small number of trials (while still collecting data on what they skip)</li>
<li>Time banks: Allocate a pool of time across trials rather than fixed time per trial</li>
<li>Energy systems: “Stamina” that depletes with use and regenerates during breaks</li>
<li>Power-ups: Temporary advantages that must be used strategically</li>
</ul>
</section>
<section id="risk-reward-trade-offs" class="level3" data-number="25.7.10">
<h3 data-number="25.7.10" class="anchored" data-anchor-id="risk-reward-trade-offs"><span class="header-section-number">25.7.10</span> Risk-Reward Trade-offs</h3>
<p>What it is: Offering participants choices between safe, low-reward options and risky, high-reward options.</p>
<p>Why it works: Creates tension and engagement through meaningful decisions. Participants must weigh potential gains against potential losses.</p>
<p>Framework connection: Primarily Ecological (choice architecture) and Performance (reward systems), with potential Personal elements (risk preference).</p>
<p>Implementation approaches:</p>
<ul>
<li>Bonus rounds: Option to attempt harder trials for extra points</li>
<li>Double-or-nothing: Risk current points for chance to double them</li>
<li>Difficulty selection: Choose easy (low points) or hard (high points) trials</li>
<li>Time gambles: Trade accuracy for speed bonuses</li>
<li>Safe vs.&nbsp;risky paths: Different trial sequences with different reward structures</li>
</ul>
</section>
<section id="dynamic-events-and-surprises" class="level3" data-number="25.7.11">
<h3 data-number="25.7.11" class="anchored" data-anchor-id="dynamic-events-and-surprises"><span class="header-section-number">25.7.11</span> Dynamic Events and Surprises</h3>
<p>What it is: Unexpected occurrences that break routine and create memorable moments.</p>
<p>Why it works: Novelty captures attention and prevents habituation. Unpredictability maintains engagement by preventing the task from becoming monotonous.</p>
<p>Framework connection: Primarily Ecological (environmental variation) and Personal (novelty), potentially Fictional (story events).</p>
<p>Implementation approaches:</p>
<ul>
<li>Random bonus trials: Occasional high-reward opportunities</li>
<li>Special events: Unique trial types that appear rarely</li>
<li>Power-up drops: Random temporary advantages</li>
<li>Challenge modes: Sudden difficulty spikes with extra rewards</li>
<li>Easter eggs: Hidden surprises for exploration</li>
</ul>
</section>
<section id="meta-progression-systems" class="level3" data-number="25.7.12">
<h3 data-number="25.7.12" class="anchored" data-anchor-id="meta-progression-systems"><span class="header-section-number">25.7.12</span> Meta-Progression Systems</h3>
<p>What it is: Progress that persists across sessions or experiments, creating long-term investment.</p>
<p>Why it works: Builds commitment over time. Participants return not just for compensation but to continue their progression.</p>
<p>Framework connection: Primarily Personal (long-term engagement) and Performance (cumulative achievement), with potential Social elements (persistent identity).</p>
<p>Implementation approaches:</p>
<ul>
<li>Persistent profiles: Participant accounts that track lifetime statistics</li>
<li>Cross-study achievements: Badges earned across multiple experiments</li>
<li>Cumulative rewards: Points that accumulate across sessions</li>
<li>Skill ratings: Persistent measures of ability that improve over time</li>
<li>Collection systems: Gather items/badges across multiple studies</li>
</ul>
</section>
</section>
<section id="game-asset-resources" class="level2" data-number="25.8">
<h2 data-number="25.8" class="anchored" data-anchor-id="game-asset-resources"><span class="header-section-number">25.8</span> Game Asset Resources</h2>
<section id="css-animations" class="level3" data-number="25.8.1">
<h3 data-number="25.8.1" class="anchored" data-anchor-id="css-animations"><span class="header-section-number">25.8.1</span> CSS Animations</h3>
<ul>
<li><a href="https://animista.net" class="external" target="_blank"><strong>Animista</strong></a> - Interactive CSS animation library with customizable presets and code generation</li>
<li><a href="https://animate.style" class="external" target="_blank"><strong>Animate.css</strong></a> - Popular collection of ready-to-use CSS animations</li>
<li><a href="https://www.minimamente.com/project/magic/" class="external" target="_blank"><strong>Magic Animations</strong></a> - Special effects CSS animations with unique styles</li>
<li><a href="https://ianlunn.github.io/Hover/" class="external" target="_blank"><strong>Hover.css</strong></a> - Collection of CSS3 hover effects</li>
</ul>
</section>
<section id="visual-assets" class="level3" data-number="25.8.2">
<h3 data-number="25.8.2" class="anchored" data-anchor-id="visual-assets"><span class="header-section-number">25.8.2</span> Visual Assets</h3>
<ul>
<li><a href="https://opengameart.org" class="external" target="_blank"><strong>OpenGameArt.org</strong></a> - Extensive library of 2D/3D sprites, textures, and game graphics</li>
<li><a href="https://kenney.nl/assets" class="external" target="_blank"><strong>Kenney.nl</strong></a> - High-quality game assets (sprites, UI, 3D models) with CC0 licensing</li>
<li><a href="https://itch.io/game-assets/free" class="external" target="_blank"><strong>itch.io Game Assets</strong></a> - Community-driven marketplace with many free asset packs</li>
<li><a href="https://craftpix.net/freebies/" class="external" target="_blank"><strong>Craftpix</strong></a> - Free 2D game assets including sprites and tilesets</li>
<li><a href="https://game-icons.net" class="external" target="_blank"><strong>Game-icons.net</strong></a> - Thousands of SVG game icons, fully customizable</li>
<li><a href="https://pixabay.com" class="external" target="_blank"><strong>Pixabay</strong></a> - General-purpose images and vectors usable in games</li>
</ul>
</section>
<section id="audio-assets" class="level3" data-number="25.8.3">
<h3 data-number="25.8.3" class="anchored" data-anchor-id="audio-assets"><span class="header-section-number">25.8.3</span> Audio Assets</h3>
<ul>
<li><a href="https://freesound.org" class="external" target="_blank"><strong>Freesound.org</strong></a> - Collaborative database of sound effects (Creative Commons licensed)</li>
<li><a href="https://opengameart.org/art-search-advanced?keys=&amp;field_art_type_tid%5B%5D=12" class="external" target="_blank"><strong>OpenGameArt.org Audio</strong></a> - Music and sound effects specifically for games</li>
<li><a href="https://incompetech.com/music/" class="external" target="_blank"><strong>Incompetech</strong></a> - Royalty-free music by Kevin MacLeod (requires attribution)</li>
<li><a href="https://www.zapsplat.com" class="external" target="_blank"><strong>ZapSplat</strong></a> - Large library of free sound effects</li>
<li><a href="https://sound-effects.bbcrewind.co.uk" class="external" target="_blank"><strong>BBC Sound Effects</strong></a> - Over 16,000 BBC sound effects for personal/educational use</li>
<li><a href="https://mixkit.co/free-sound-effects/" class="external" target="_blank"><strong>Mixkit</strong></a> - Free music and sound effects with simple licensing</li>
</ul>
</section>
<section id="copyright-and-attribution-guidelines" class="level3" data-number="25.8.4">
<h3 data-number="25.8.4" class="anchored" data-anchor-id="copyright-and-attribution-guidelines"><span class="header-section-number">25.8.4</span> Copyright and Attribution Guidelines</h3>
<p>Always check the license for each asset you use, as requirements vary significantly between CC0, CC-BY, MIT, GPL, and other license types. Read the terms carefully since some “free” assets restrict commercial use or require specific attribution formats. Keep detailed attribution records by maintaining a credits file that documents all assets, their sources, and license requirements.</p>
<p>When attribution is required, provide proper credit including the creator’s name, asset title, source URL, and license type. Respect all license restrictions, as some prohibit modification, redistribution, or commercial use. When licensing terms are unclear, contact creators directly rather than making assumptions.</p>
<p>As a best practice, create a <code>CREDITS.md</code> file or in-game credits section listing all third-party assets with proper attribution, even when not legally required. This shows respect for creators and builds goodwill in the game development community.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./24-L11.html" class="pagination-link" aria-label="Lab 11: Face Perception">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./26-L12.html" class="pagination-link" aria-label="Lab 12: Implicit Learning">
        <span class="nav-page-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/25-gamification.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>