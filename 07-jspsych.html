<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>7&nbsp; jsPsych – Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./08-L03.html" rel="next">
<link href="./06-L02.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b63434c4eca3d65156f11477424d0b79.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./07-jspsych.html">UNIT 3: Intro to JsPsych</a></li><li class="breadcrumb-item"><a href="./07-jspsych.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">7.1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-a-library" id="toc-what-is-a-library" class="nav-link" data-scroll-target="#what-is-a-library"><span class="header-section-number">7.1.1</span> What is a Library?</a></li>
  <li><a href="#loading-jspsych" id="toc-loading-jspsych" class="nav-link" data-scroll-target="#loading-jspsych"><span class="header-section-number">7.1.2</span> Loading JsPsych</a></li>
  <li><a href="#loading-jspsych-plugins" id="toc-loading-jspsych-plugins" class="nav-link" data-scroll-target="#loading-jspsych-plugins"><span class="header-section-number">7.1.3</span> Loading jsPsych Plugins</a></li>
  <li><a href="#loading-the-experiment-javascript" id="toc-loading-the-experiment-javascript" class="nav-link" data-scroll-target="#loading-the-experiment-javascript"><span class="header-section-number">7.1.4</span> Loading the Experiment JavaScript</a></li>
  </ul></li>
  <li><a href="#example-hello-world" id="toc-example-hello-world" class="nav-link" data-scroll-target="#example-hello-world"><span class="header-section-number">7.2</span> Example: Hello World</a>
  <ul class="collapse">
  <li><a href="#breaking-down-the-javascript-code" id="toc-breaking-down-the-javascript-code" class="nav-link" data-scroll-target="#breaking-down-the-javascript-code"><span class="header-section-number">7.2.1</span> Breaking Down the JavaScript Code</a></li>
  </ul></li>
  <li><a href="#example-the-shortest-experiment" id="toc-example-the-shortest-experiment" class="nav-link" data-scroll-target="#example-the-shortest-experiment"><span class="header-section-number">7.3</span> Example: The Shortest Experiment</a></li>
  <li><a href="#jspsych-documentation" id="toc-jspsych-documentation" class="nav-link" data-scroll-target="#jspsych-documentation"><span class="header-section-number">7.4</span> JsPsych Documentation</a>
  <ul class="collapse">
  <li><a href="#using-the-correct-version" id="toc-using-the-correct-version" class="nav-link" data-scroll-target="#using-the-correct-version"><span class="header-section-number">7.4.1</span> Using the Correct Version</a></li>
  <li><a href="#key-documentation-sections" id="toc-key-documentation-sections" class="nav-link" data-scroll-target="#key-documentation-sections"><span class="header-section-number">7.4.2</span> Key Documentation Sections</a></li>
  <li><a href="#using-plugin-documentation" id="toc-using-plugin-documentation" class="nav-link" data-scroll-target="#using-plugin-documentation"><span class="header-section-number">7.4.3</span> Using Plugin Documentation</a></li>
  <li><a href="#finding-what-you-need" id="toc-finding-what-you-need" class="nav-link" data-scroll-target="#finding-what-you-need"><span class="header-section-number">7.4.4</span> Finding What You Need</a></li>
  </ul></li>
  <li><a href="#trial-parameters" id="toc-trial-parameters" class="nav-link" data-scroll-target="#trial-parameters"><span class="header-section-number">7.5</span> Trial Parameters</a>
  <ul class="collapse">
  <li><a href="#general-parameters" id="toc-general-parameters" class="nav-link" data-scroll-target="#general-parameters"><span class="header-section-number">7.5.1</span> General Parameters</a></li>
  <li><a href="#plugin-parameters" id="toc-plugin-parameters" class="nav-link" data-scroll-target="#plugin-parameters"><span class="header-section-number">7.5.2</span> Plugin Parameters</a></li>
  </ul></li>
  <li><a href="#styling" id="toc-styling" class="nav-link" data-scroll-target="#styling"><span class="header-section-number">7.6</span> Styling</a>
  <ul class="collapse">
  <li><a href="#core-structure-classes" id="toc-core-structure-classes" class="nav-link" data-scroll-target="#core-structure-classes"><span class="header-section-number">7.6.1</span> Core Structure Classes</a></li>
  <li><a href="#customizing-the-display" id="toc-customizing-the-display" class="nav-link" data-scroll-target="#customizing-the-display"><span class="header-section-number">7.6.2</span> Customizing the Display</a></li>
  <li><a href="#creating-a-dark-theme" id="toc-creating-a-dark-theme" class="nav-link" data-scroll-target="#creating-a-dark-theme"><span class="header-section-number">7.6.3</span> Creating a Dark Theme</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://https://github.com/icoglab/online-behavioural-research-methods/edit/main/07-jspsych.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./07-jspsych.html">UNIT 3: Intro to JsPsych</a></li><li class="breadcrumb-item"><a href="./07-jspsych.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-note callout-titled" title="learning goals">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
learning goals
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ul>
<li>Understand what jsPsych is and how it functions as a JavaScript library for psychology experiments</li>
<li>Learn to properly load jsPsych, its plugins, and experiment files in HTML</li>
<li>Create basic experiments using jsPsych trial objects and the run() method</li>
<li>Navigate and utilize the official jsPsych documentation effectively</li>
<li>Configure trial behavior using general and plugin-specific parameters</li>
<li>Customize experiment appearance using CSS styling and jsPsych classes</li>
<li>Apply the standard jsPsych experiment structure: initialize, define trials, and run</li>
</ul>
</div>
</div>
</div>
<section id="introduction" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">7.1</span> Introduction</h2>
<p>This week, we’ll harness our web development skills to craft behavioral experiments. However, there’s no need to start from scratch. jsPsych is a JavaScript library specifically designed for psychologists to achieve this very purpose.</p>
<section id="what-is-a-library" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="what-is-a-library"><span class="header-section-number">7.1.1</span> What is a Library?</h3>
<p>Before we dive into jsPsych, let’s understand what a “library” means in programming. Think of it like a real library, but instead of books, it contains pre-written code that solves common problems.</p>
<p>Imagine you wanted to bake a cake from scratch. You could:</p>
<ul>
<li>Mill your own flour from wheat</li>
<li>Extract sugar from sugar cane</li>
<li>Churn your own butter</li>
<li>Raise chickens for eggs</li>
</ul>
<p>Or, you could go to the grocery store and buy these ingredients that someone else has already prepared. A programming library works the same way in that it provides pre-made “ingredients” (functions and tools) that you can use in your code.</p>
<p>Without a library, creating a psychology experiment would require you to write all the JavaScript code needed to control the HTML and CSS. For example, if you wanted an image to suddenly appear on the display for 2 seconds, you’d need to write a function to show/hide the image HTML, then write more code to create a timer to trigger the show/hide behavior. If you wanted participants to respond to the image, you’d need to write functions that listened for keyboard inputs and recorded timestamps. You’d also need functions to store the data, code to loop through multiple images… This would quickly become overwhelming for even a simple experiment.</p>
<p>With a library like jsPsych, someone has already written all this code for you! You just need to learn how to use their pre-built tools.</p>
<p>Think of it this way:</p>
<ul>
<li>HTML gave you building blocks (headings, paragraphs, buttons)</li>
<li>CSS gave you styling tools (colors, fonts, layouts)</li>
<li>JavaScript gave you programming logic (variables, functions, loops)</li>
<li>jsPsych gives you psychology experiment tools (trials, data collection, timing)</li>
</ul>
</section>
<section id="loading-jspsych" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="loading-jspsych"><span class="header-section-number">7.1.2</span> Loading JsPsych</h3>
<p>jsPsych is organized into a base library containing core functionality and a series of ‘plugins’ that add specific features like displaying images or handling mouse inputs. This modular approach is useful because experiments only need certain functions—by using plugins, we only load what we need. For example, if your experiment uses only text stimuli, there’s no reason to load the image display plugin.</p>
<p>Let’s look at an example of loading jsPsych in our HTML page:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My experiment<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice we loaded two files in our <code>&lt;head&gt;</code>:</p>
<ol type="1">
<li><code>jspsych.js</code> - The main JavaScript library stored in a jspsych folder</li>
<li><code>jspsych.css</code> - Basic styling that jsPsych provides (centering displays, font sizes, etc.)</li>
</ol>
<p>This organization will be our standard approach for loading jsPsych. We’re loading the library locally from folders stored on our server. In your lab materials folder, you’ll find the same folder structure.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>📂 L03</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>--  📄 index.html</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>--  📄 exp.js</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>--  📂 jspsych</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This standardized organization means that once you understand how to load jsPsych in one lab, you’ll know how to do it in all the others. Each lab folder contains:</p>
<ul>
<li>HTML file: The main webpage (usually index.html)</li>
<li>JavaScript file: Your experiment code (names vary: helloWorld.js, exp.js, etc.)</li>
<li>jsPsych folder: A complete copy of the jsPsych library with all necessary files</li>
</ul>
<section id="about-the-jspsych-library" class="level4" data-number="7.1.2.1">
<h4 data-number="7.1.2.1" class="anchored" data-anchor-id="about-the-jspsych-library"><span class="header-section-number">7.1.2.1</span> About the jsPsych Library</h4>
<p>The jsPsych library included in your lab folders was downloaded from the <a href="https://www.jspsych.org/latest/" class="external" target="_blank">official jsPsych website</a>. While there are other ways to load jsPsych, we’re using local copies for several reasons:</p>
<ul>
<li>Reliability: Your experiments will work even without an internet connection</li>
<li>Version consistency: Everyone uses the same version, avoiding compatibility issues</li>
<li>Learning clarity: You can see exactly which files are being loaded and where they’re located</li>
</ul>
<p>We’ll explore the official jsPsych documentation later in this chapter, but for now, it’s sufficient to know that each lab folder contains everything you need to run jsPsych experiments. This self-contained approach makes it easy to understand the file structure and ensures your experiments will run consistently across different environments.</p>
</section>
</section>
<section id="loading-jspsych-plugins" class="level3" data-number="7.1.3">
<h3 data-number="7.1.3" class="anchored" data-anchor-id="loading-jspsych-plugins"><span class="header-section-number">7.1.3</span> Loading jsPsych Plugins</h3>
<p>Returning to our example, the previous HTML only loads the basic library without any plugins. For most experiments, we’ll need additional plugins. A common one is the keyboard response plugin, which enables participants to press keys while jsPsych records their responses.</p>
<p>Let’s add that plugin:</p>
<div class="cell">
<style type="text/css">
#cb4-6 {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My experiment<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="loading-the-experiment-javascript" class="level3" data-number="7.1.4">
<h3 data-number="7.1.4" class="anchored" data-anchor-id="loading-the-experiment-javascript"><span class="header-section-number">7.1.4</span> Loading the Experiment JavaScript</h3>
<p>The final piece we need is a place to write our own JavaScript code to tell jsPsych what to do. We’ll load this in an external JavaScript file inside the <code>&lt;body&gt;</code>:</p>
<div class="cell">
<style type="text/css">
#cb5-10 {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My experiment<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"helloWorld.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Remember that files loaded in the <code>&lt;head&gt;</code> run before the page loads, while files inside the <code>&lt;body&gt;</code> run after the page loads. By putting our code in the body, we ensure it loads AFTER jsPsych and the basic page HTML have loaded. This is important because our code will depend on jsPsych being available.</p>
</section>
</section>
<section id="example-hello-world" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="example-hello-world"><span class="header-section-number">7.2</span> Example: Hello World</h2>
<p>Now let’s see a complete example in action. This is the <code>01_helloWorld</code> example you’ll find in your demos folder. In the “Result” tab you’ll find a live version of Hello World. In this demo, the text “Hello World!” is displayed and when you press any key on your keyboard, it disappears. Note that for these embedded demos, you’ll need to click on the frame to be able to provide any input.</p>
<p>Go ahead and try it out! You can click the refresh button to reload the page and do it again if you’d like.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">helloWorld.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My experiment<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"helloWorld.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">const</span> hello_trial <span class="op">=</span> {</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Hello world!'</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>}</span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([hello_trial])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div id="demo-container-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate keyboard input</span>
</div>
<button onclick="
          var iframe = document.getElementById('demo-iframe-1');
          var srcdoc = iframe.getAttribute('srcdoc');
          iframe.setAttribute('srcdoc', '');
          setTimeout(function() {
            iframe.setAttribute('srcdoc', srcdoc);
          }, 10);
        " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
<iframe id="demo-iframe-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0'></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
  </head>
  <body style='max-height: 300px'></body>
  <script>
    let jsPsych = initJsPsych();
    
    let jsPsych1 = initJsPsych();

    const hello_trial = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: 'Hello world!'
    }

    jsPsych1.run([hello_trial]);
  
  </script>
</html>" width="100%" height="300px" scrolling="no" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Inputs active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate inputs&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<section id="breaking-down-the-javascript-code" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="breaking-down-the-javascript-code"><span class="header-section-number">7.2.1</span> Breaking Down the JavaScript Code</h3>
<p>Let’s examine what each line of JavaScript does in our helloWorld.js file:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="kw">const</span> hello_trial <span class="op">=</span> {</span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Hello world!'</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>}</span>
<span id="cb7-7"><a href="#cb7-7"></a></span>
<span id="cb7-8"><a href="#cb7-8"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([hello_trial])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="line-1-initialize-jspsych" class="level4" data-number="7.2.1.1">
<h4 data-number="7.2.1.1" class="anchored" data-anchor-id="line-1-initialize-jspsych"><span class="header-section-number">7.2.1.1</span> Line 1: Initialize jsPsych</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode javascript code-with-copy"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This line creates our jsPsych instance. Think of <code>initJsPsych()</code> as starting up the jsPsych “engine” that will control our experiment. We store this in a constant called jsPsych that we’ll use throughout our code.</p>
<p>The <code>initJsPsych()</code> function:</p>
<ul>
<li>Sets up the internal systems for timing, data collection, and display management</li>
<li>Prepares the HTML page for experiment content</li>
<li>Returns an object with methods we can use to control the experiment</li>
</ul>
<p>This will always be the first thing you need to do in your code.</p>
</section>
<section id="lines-3-6-define-a-trial" class="level4" data-number="7.2.1.2">
<h4 data-number="7.2.1.2" class="anchored" data-anchor-id="lines-3-6-define-a-trial"><span class="header-section-number">7.2.1.2</span> Lines 3-6: Define a Trial</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode javascript code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> hello_trial <span class="op">=</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Hello world!'</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we’re creating a trial object. A ‘trial’ is the fundamental building block of jsPsych experiments. Every trial is a JavaScript object that describes what should happen during that part of the experiment. In jsPsych, they use the word ‘trial’ to refer to any event that could occur in the experiment. I tend to think of them as ‘events’ rather than ‘trials’ because, as we’ll see in the next example, we can present instructions, or anything at all, using the trial object.</p>
<p>This trial object has two properties:</p>
<ul>
<li><code>type</code>: Specifies which jsPsych plugin to use. jsPsychHtmlKeyboardResponse tells jsPsych to use the HTML keyboard response plugin we loaded earlier. This plugin displays HTML content and waits for a keyboard response. The <code>type</code> always follows the same format: it is the plugin name but converted from the hyphenated name version to camel case (ie., no spaces and capital letters) with jsPsych at the beginning. E.g., <code>html-keyboard-response</code> = <code>jsPsychHtmlKeyboardResponse</code></li>
<li><code>stimulus</code>: The content to display to the participant. In this case, it’s the text “Hello world!”</li>
</ul>
<p>When this trial runs, jsPsych will:</p>
<ol type="1">
<li>Display “Hello world!” on the screen</li>
<li>Wait for the participant to press any key</li>
<li>Record the response time and which key was pressed</li>
<li>Move to the next trial (or end the experiment if this is the last trial)</li>
</ol>
</section>
<section id="line-8-run-the-experiment" class="level4" data-number="7.2.1.3">
<h4 data-number="7.2.1.3" class="anchored" data-anchor-id="line-8-run-the-experiment"><span class="header-section-number">7.2.1.3</span> Line 8: Run the Experiment</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode javascript code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([hello_trial])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This line starts the experiment. The <code>jsPsych.run()</code> method takes an array of trials as its argument. Even though we only have one trial, we still need to put it in an array (notice the square brackets <code>[]</code>).</p>
<p>When <code>run()</code> is called, jsPsych:</p>
<ol type="1">
<li>Takes control of the webpage</li>
<li>Executes each trial in the array sequentially</li>
<li>Handles all the timing, display, and data collection automatically</li>
<li>Stores the results for later retrieval</li>
</ol>
<p>This will always be the final line in your code because it is the one that triggers the start of the experiment.</p>
<p>We now have a general template for how all of our experiments will be programmed:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">// 2. Define our trials/events</span></span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">// 3. Run jsPsych with our trials</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="example-the-shortest-experiment" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="example-the-shortest-experiment"><span class="header-section-number">7.3</span> Example: The Shortest Experiment</h2>
<p>Let’s look at one more example. This one will have a few more trials, but follows our general template.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb12-1"><a href="#cb12-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My experiment<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'This is a test of your reflexes. When the experiment begins, you will see a letter on the screen. Your task is to press that letter on your keyboard as quickly as possible. When you are ready, press any key on the keyboard to begin.'</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>}</span>
<span id="cb13-9"><a href="#cb13-9"></a></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="kw">const</span> letter <span class="op">=</span> {</span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'H'</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>}</span>
<span id="cb13-14"><a href="#cb13-14"></a></span>
<span id="cb13-15"><a href="#cb13-15"></a><span class="kw">const</span> debrief <span class="op">=</span> {</span>
<span id="cb13-16"><a href="#cb13-16"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb13-17"><a href="#cb13-17"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Great job! You just completed the shortest experiment!'</span></span>
<span id="cb13-18"><a href="#cb13-18"></a>}</span>
<span id="cb13-19"><a href="#cb13-19"></a></span>
<span id="cb13-20"><a href="#cb13-20"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb13-21"><a href="#cb13-21"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb13-22"><a href="#cb13-22"></a>  instructions<span class="op">,</span></span>
<span id="cb13-23"><a href="#cb13-23"></a>  letter<span class="op">,</span></span>
<span id="cb13-24"><a href="#cb13-24"></a>  debrief</span>
<span id="cb13-25"><a href="#cb13-25"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div id="demo-container-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate keyboard input</span>
</div>
<button onclick="
          var iframe = document.getElementById('demo-iframe-2');
          var srcdoc = iframe.getAttribute('srcdoc');
          iframe.setAttribute('srcdoc', '');
          setTimeout(function() {
            iframe.setAttribute('srcdoc', srcdoc);
          }, 10);
        " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
<iframe id="demo-iframe-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0'></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
  </head>
  <body style='max-height: 300px'></body>
  <script>
    let jsPsych = initJsPsych();
    
    let jsPsych2 = initJsPsych();

    const instructions = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: 'This is a test of your reflexes. When the experiment begins, you will see a letter on the screen. Your task is to press that letter on your keyboard as quickly as possible. When you are ready, press any key on the keyboard to begin.'
    }
    
    const letter = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: 'H'
    }
    
    const debrief = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: 'Great job! You just completed the shortest experiment!'
    }
    
    
    jsPsych2.run([
      instructions,
      letter,
      debrief
    ]);
  
  </script>
</html>" width="100%" height="300px" scrolling="no" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Inputs active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate inputs&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="jspsych-documentation" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="jspsych-documentation"><span class="header-section-number">7.4</span> JsPsych Documentation</h2>
<p>The official jsPsych documentation is your most valuable resource for learning about the library’s capabilities. You can find it at <a href="https://www.jspsych.org/v8/" class="external" target="_blank">https://www.jspsych.org/v8/</a>. The documentation is well-organized and includes everything from basic tutorials to advanced features.</p>
<section id="using-the-correct-version" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="using-the-correct-version"><span class="header-section-number">7.4.1</span> Using the Correct Version</h3>
<p>Important: Always make sure you’re viewing the documentation for the correct version of jsPsych. The labs in this course use jsPsych version 8, but the documentation site defaults to the latest version (which may be newer).</p>
<p>To ensure you’re viewing the v8 documentation:</p>
<ol type="1">
<li>Go to <a href="https://www.jspsych.org" class="uri">https://www.jspsych.org</a></li>
<li>Look for the version dropdown at the top of the page</li>
<li>Select “v8” from the dropdown menu</li>
<li>The URL should change to <code>https://www.jspsych.org/v8/</code></li>
</ol>
<p>Using the wrong version’s documentation can lead to confusion, as newer versions may have different parameter names, new features, or changed syntax that won’t work with the version installed in your lab materials.</p>
</section>
<section id="key-documentation-sections" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="key-documentation-sections"><span class="header-section-number">7.4.2</span> Key Documentation Sections</h3>
<p>The documentation is structured into several main areas:</p>
<ul>
<li>Overview: Introduction to jsPsych concepts and getting started guides</li>
<li>Tutorials: Step-by-step walkthroughs for common experiment types</li>
<li>Plugins: Detailed reference for each available plugin</li>
<li>Extensions: Additional functionality that can be added to experiments</li>
<li>API Reference: Complete technical documentation of all jsPsych functions</li>
</ul>
</section>
<section id="using-plugin-documentation" class="level3" data-number="7.4.3">
<h3 data-number="7.4.3" class="anchored" data-anchor-id="using-plugin-documentation"><span class="header-section-number">7.4.3</span> Using Plugin Documentation</h3>
<p>Each plugin has its own documentation page that follows a consistent structure:</p>
<ol type="1">
<li>Description: What the plugin does and when to use it</li>
<li>Parameters: All available options you can configure</li>
<li>Data Generated: What information the plugin records</li>
<li>Examples: Working code samples</li>
<li>Simulation Mode: How the plugin behaves during testing</li>
</ol>
<p>For example, the HTML Keyboard Response plugin documentation shows you can control things like:</p>
<ul>
<li>Which keys are valid responses</li>
<li>How long to wait for a response</li>
<li>Whether to show a prompt</li>
<li>Custom CSS styling</li>
</ul>
</section>
<section id="finding-what-you-need" class="level3" data-number="7.4.4">
<h3 data-number="7.4.4" class="anchored" data-anchor-id="finding-what-you-need"><span class="header-section-number">7.4.4</span> Finding What You Need</h3>
<p>When working on an experiment, you’ll typically:</p>
<ol type="1">
<li>Browse plugins to find the right tool for your task (image display, audio playback, surveys, etc.)</li>
<li>Check parameters to see what options are available</li>
<li>Review examples to understand the syntax</li>
<li>Look at data output to plan your analysis</li>
</ol>
<p>The search function on the documentation site is particularly helpful for finding specific features or troubleshooting issues.</p>
</section>
</section>
<section id="trial-parameters" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="trial-parameters"><span class="header-section-number">7.5</span> Trial Parameters</h2>
<p>Every jsPsych trial is defined by parameters that control its behavior. Understanding these parameters is crucial for creating effective experiments.</p>
<section id="general-parameters" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="general-parameters"><span class="header-section-number">7.5.1</span> General Parameters</h3>
<p>In the previous examples, when we created our trial object, we added a couple of options called “parameters”. These parameters define what happens in our trial according to the jsPsych documentation. There are general parameters that are available to any trial we create and there are plugin-specific parameters that are only available to certain types. The <code>type</code> parameter is always required, because this is the parameter that tells jsPsych what kind of trial it is, and which plugin should be used.</p>
<p>First, let’s review the general parameters. I’ve recreated the table from the documentation, you’d normally find here: <a href="https://www.jspsych.org/latest/overview/plugins/#parameters-available-in-all-plugins" class="external" target="_blank">https://www.jspsych.org/latest/overview/plugins/#parameters-available-in-all-plugins</a></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data</code></td>
<td>object</td>
<td>undefined</td>
<td>An object containing additional data to store for the trial. See the Data page for more details.</td>
</tr>
<tr class="even">
<td><code>post_trial_gap</code></td>
<td>numeric</td>
<td>null</td>
<td>Sets the time, in milliseconds, between the current trial and the next trial. If null, there will be no gap.</td>
</tr>
<tr class="odd">
<td><code>on_start</code></td>
<td>function</td>
<td><code>function(){ return; }</code></td>
<td>A callback function to execute when the trial begins, before any loading has occurred. See the Event-Related Callbacks page for more details.</td>
</tr>
<tr class="even">
<td><code>on_finish</code></td>
<td>function</td>
<td><code>function(){ return; }</code></td>
<td>A callback function to execute when the trial finishes, and before the next trial begins. See the Event-Related Callbacks page for more details.</td>
</tr>
<tr class="odd">
<td><code>on_load</code></td>
<td>function</td>
<td><code>function(){ return; }</code></td>
<td>A callback function to execute when the trial has loaded, which typically happens after the initial display of the plugin has loaded. See the Event-Related Callbacks page for more details.</td>
</tr>
<tr class="even">
<td><code>css_classes</code></td>
<td>string</td>
<td>null</td>
<td>A list of CSS classes to add to the jsPsych display element for the duration of this trial. This allows you to create custom formatting rules (CSS classes) that are only applied to specific trials.</td>
</tr>
<tr class="odd">
<td><code>save_trial_parameters</code></td>
<td>object</td>
<td><code>{}</code></td>
<td>An object containing any trial parameters that should or should not be saved to the trial data. Each key is the name of a trial parameter, and its value should be true or false, depending on whether or not its value should be saved to the data.</td>
</tr>
<tr class="even">
<td><code>save_timeline_variables</code></td>
<td>boolean or array</td>
<td>false</td>
<td>If set to true, then all timeline variables will have their current value recorded to the data for this trial. If set to an array, then any variables listed in the array will be saved.</td>
</tr>
<tr class="odd">
<td><code>record_data</code></td>
<td>boolean</td>
<td>true</td>
<td>If set to false, then the data for this trial will not be recorded.</td>
</tr>
</tbody>
</table>
<section id="column-1-parameter" class="level4" data-number="7.5.1.1">
<h4 data-number="7.5.1.1" class="anchored" data-anchor-id="column-1-parameter"><span class="header-section-number">7.5.1.1</span> Column 1: Parameter</h4>
<p>This column shows the name of the parameter which is exactly what you would type in your trial object. These are the property names you can add to any trial, regardless of which plugin you’re using.</p>
<p>For example, if you see <code>data</code> in this column, you would use it like this:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">const</span> trial <span class="op">=</span> {   </span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span>   </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Hello'</span><span class="op">,</span>   </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="dt">data</span><span class="op">:</span> { </span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="dt">condition</span><span class="op">:</span> <span class="st">'practice'</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>    }  </span>
<span id="cb14-7"><a href="#cb14-7"></a>  } </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="column-2-type" class="level4" data-number="7.5.1.2">
<h4 data-number="7.5.1.2" class="anchored" data-anchor-id="column-2-type"><span class="header-section-number">7.5.1.2</span> Column 2: Type</h4>
<p>This tells you what kind of value the parameter expects. Understanding data types is crucial for writing correct code:</p>
<ul>
<li>object: A JavaScript object with curly braces <code>{}</code> containing key-value pairs</li>
<li>numeric: A number (like <code>1000</code> for milliseconds)</li>
<li>function: A JavaScript function that will be executed at a specific time</li>
<li>string: Text enclosed in quotes</li>
<li>boolean: Either <code>true</code> or <code>false</code></li>
<li>array: A list of items in square brackets <code>[]</code></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a>data<span class="op">:</span> { <span class="dt">trial_type</span><span class="op">:</span> <span class="st">'test'</span> }<span class="op">,</span>         <span class="co">// object</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>post_trial_gap<span class="op">:</span> <span class="dv">2000</span><span class="op">,</span>                 <span class="co">// numeric  </span></span>
<span id="cb15-3"><a href="#cb15-3"></a>on_start<span class="op">:</span> <span class="kw">function</span>() { <span class="op">...</span> }<span class="op">,</span>         <span class="co">// function</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>css_classes<span class="op">:</span> <span class="st">'my-custom-class'</span><span class="op">,</span>       <span class="co">// string</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>record_data<span class="op">:</span> <span class="kw">false</span><span class="op">,</span>                   <span class="co">// boolean</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>save_timeline_variables<span class="op">:</span> [<span class="st">'condition'</span>] <span class="co">// array</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="column-3-default-value" class="level4" data-number="7.5.1.3">
<h4 data-number="7.5.1.3" class="anchored" data-anchor-id="column-3-default-value"><span class="header-section-number">7.5.1.3</span> Column 3: Default Value</h4>
<p>This shows what happens if you don’t specify the parameter. jsPsych will use this default value automatically.</p>
<ul>
<li>undefined: The parameter won’t exist unless you add it</li>
<li>null: The parameter exists but has no value (often means “disabled”)</li>
<li>false: The feature is turned off by default</li>
<li><code>{}</code>: An empty object</li>
<li><code>function(){ return; }</code>: A function that does nothing</li>
</ul>
<p>Understanding defaults helps you know which parameters are optional (most of them), what the ‘normal’ behaviour is, and when you need to override them.</p>
<p>For example, <code>record_data</code> defaults to <code>true</code>, so trials are normally saved. You only need to specify <code>record_data: false</code> if you want to prevent saving.</p>
</section>
<section id="column-4-description" class="level4" data-number="7.5.1.4">
<h4 data-number="7.5.1.4" class="anchored" data-anchor-id="column-4-description"><span class="header-section-number">7.5.1.4</span> Column 4: Description</h4>
<p>This explains what the parameter does and when you might use it. This is where you learn the practical purpose of each parameter.</p>
<p>Key things to look for in descriptions:</p>
<ul>
<li>When the parameter takes effect (trial start, trial end, etc.)</li>
<li>What it controls or modifies</li>
<li>References to other documentation pages for more details</li>
<li>Special behaviors or limitations</li>
</ul>
</section>
<section id="putting-it-all-together" class="level4" data-number="7.5.1.5">
<h4 data-number="7.5.1.5" class="anchored" data-anchor-id="putting-it-all-together"><span class="header-section-number">7.5.1.5</span> Putting It All Together</h4>
<p>Let’s look at one row as a complete example:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>post_trial_gap</code></td>
<td>numeric</td>
<td>null</td>
<td>Sets the time, in milliseconds, between the current trial and the next trial. If null, there will be no gap.</td>
</tr>
</tbody>
</table>
<p>This tells us:</p>
<ul>
<li>Name: Use <code>post_trial_gap</code> in your trial object</li>
<li>Type: Expects a number (milliseconds)</li>
<li>Default: <code>null</code> means no gap between trials normally</li>
<li>Purpose: Controls timing between trials</li>
</ul>
<p>So you could use it like:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">const</span> trial <span class="op">=</span> {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'Press any key'</span><span class="op">,</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">1500</span>  <span class="co">// 1.5 second pause after this trial</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="plugin-parameters" class="level3" data-number="7.5.2">
<h3 data-number="7.5.2" class="anchored" data-anchor-id="plugin-parameters"><span class="header-section-number">7.5.2</span> Plugin Parameters</h3>
<p>In addition to the Each plugin defines its own specific parameters. Let’s examine the HTML Keyboard Response plugin as an example. You’d find this table here: https://www.jspsych.org/latest/plugins/html-keyboard-response/.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th>Parameter</th>
<th>Type</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>stimulus</code></td>
<td>HTML string</td>
<td>undefined</td>
<td>The string to be displayed.</td>
</tr>
<tr class="even">
<td><code>choices</code></td>
<td>array of strings</td>
<td>“ALL_KEYS”</td>
<td>This array contains the key(s) that the participant is allowed to press in order to respond to the stimulus. Keys should be specified as characters (e.g., ‘a’, ‘q’, ’ ‘, ’Enter’, ‘ArrowDown’) - see this page and this page (event.key column) for more examples. Any key presses that are not listed in the array will be ignored. The default value of “ALL_KEYS” means that all keys will be accepted as valid responses. Specifying “NO_KEYS” will mean that no responses are allowed.</td>
</tr>
<tr class="odd">
<td><code>prompt</code></td>
<td>string</td>
<td>null</td>
<td>This string can contain HTML markup. Any content here will be displayed below the stimulus. The intention is that it can be used to provide a reminder about the action the participant is supposed to take (e.g., which key to press).</td>
</tr>
<tr class="even">
<td><code>stimulus_duration</code></td>
<td>numeric</td>
<td>null</td>
<td>How long to display the stimulus in milliseconds. The visibility CSS property of the stimulus will be set to hidden after this time has elapsed. If this is null, then the stimulus will remain visible until the trial ends.</td>
</tr>
<tr class="odd">
<td><code>trial_duration</code></td>
<td>numeric</td>
<td>null</td>
<td>How long to wait for the participant to make a response before ending the trial in milliseconds. If the participant fails to make a response before this timer is reached, the participant’s response will be recorded as null for the trial and the trial will end. If the value of this parameter is null, then the trial will wait for a response indefinitely.</td>
</tr>
<tr class="even">
<td><code>response_ends_trial</code></td>
<td>boolean</td>
<td>true</td>
<td>If true, then the trial will end whenever the participant makes a response (assuming they make their response before the cutoff specified by the trial_duration parameter). If false, then the trial will continue until the value for trial_duration is reached. You can set this parameter to false to force the participant to view a stimulus for a fixed amount of time, even if they respond before the time is complete.</td>
</tr>
</tbody>
</table>
<p>This table follows the same interpretation of the General Parameters table. However, it’s important to note that any parameter that has a ‘Default Value’ of <code>undefined</code> is required. That means, for the HTML keyboard response plugin, we must specify a stimulus, otherwise our code will fail to run and we will receive an error.</p>
<p>All other parameters are optional and, if you don’t need to change the default, then you don’t need to refer to them at all.</p>
<p>For example, I could run either of these two:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">const</span> trial_a <span class="op">=</span> {</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'BLUE'</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>}</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="kw">const</span> trial_b <span class="op">=</span> {</span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'BLUE'</span><span class="op">,</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="dt">prompt</span><span class="op">:</span> <span class="st">'&lt;p&gt;Press the first letter of this word&lt;/p&gt;'</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Trial A will not have any prompt displayed below the trial stimulus and Trial B will have the prompt printed below the trial stimulus.</p>
<p>And finally, to provide a full example, using all the HTML keyboard response parameters:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">const</span> complex_trial <span class="op">=</span> {</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">'&lt;div style="font-size: 48px; color: blue;"&gt;TARGET&lt;/div&gt;'</span><span class="op">,</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">'f'</span><span class="op">,</span> <span class="st">'j'</span>]<span class="op">,</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="dt">prompt</span><span class="op">:</span> <span class="st">'&lt;p&gt;Press F for blue, J for red&lt;/p&gt;'</span><span class="op">,</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="dt">stimulus_duration</span><span class="op">:</span> <span class="dv">2000</span><span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">5000</span><span class="op">,</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="dt">response_ends_trial</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this example, the trial:</p>
<p>-Shows a large blue “TARGET” -Only accepts ‘f’ or ‘j’ key presses -Displays “Press F for blue, J for red” below the target stimulus -Displays the target stimulus for 2 seconds (and then removes it after 2 seconds) -Times out after 5 seconds and automatically proceeds to the next trial -Prevents the response from ending the trial</p>
</section>
</section>
<section id="styling" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="styling"><span class="header-section-number">7.6</span> Styling</h2>
<p>jsPsych provides default styling that works well for most experiments, but you can customize the appearance to match your research needs or institutional branding. Default jsPsych Styling</p>
<p>The <code>jspsych.css</code> file provides: - Centered content display - Consistent fonts and spacing - Responsive design for different screen sizes - Basic button and form styling</p>
<p>jsPsych automatically applies specific CSS classes to different parts of your experiment. Understanding these classes is key to effective styling because they represent the different components of the jsPsych interface.</p>
<section id="core-structure-classes" class="level3" data-number="7.6.1">
<h3 data-number="7.6.1" class="anchored" data-anchor-id="core-structure-classes"><span class="header-section-number">7.6.1</span> Core Structure Classes</h3>
<section id="jspsych-display-element" class="level4" data-number="7.6.1.1">
<h4 data-number="7.6.1.1" class="anchored" data-anchor-id="jspsych-display-element"><span class="header-section-number">7.6.1.1</span> <code>.jspsych-display-element</code></h4>
<p>This is the main container for your entire experiment. It wraps all content and is where you’d set global styles like background colors, fonts, or overall layout properties.</p>
</section>
<section id="jspsych-content" class="level4" data-number="7.6.1.2">
<h4 data-number="7.6.1.2" class="anchored" data-anchor-id="jspsych-content"><span class="header-section-number">7.6.1.2</span> <code>.jspsych-content</code></h4>
<p>This contains the actual content of each trial (the stimulus, buttons, etc.). It’s centered within the display element and is where you’d control the maximum width, padding, or alignment of your experiment content.</p>
</section>
<section id="jspsych-btn-.jspsych-btnhover" class="level4" data-number="7.6.1.3">
<h4 data-number="7.6.1.3" class="anchored" data-anchor-id="jspsych-btn-.jspsych-btnhover"><span class="header-section-number">7.6.1.3</span> <code>.jspsych-btn</code> / <code>.jspsych-btn:hover</code></h4>
<p>Applied to all buttons created by jsPsych plugins (like multiple choice responses). This is where you’d style button appearance, hover effects, and spacing.</p>
</section>
</section>
<section id="customizing-the-display" class="level3" data-number="7.6.2">
<h3 data-number="7.6.2" class="anchored" data-anchor-id="customizing-the-display"><span class="header-section-number">7.6.2</span> Customizing the Display</h3>
<p>You can add your own CSS rules to modify the appearance. We can also rewrite these jsPsych classes if we want to change the overall look of our experiment. In our <code>style.css</code> file, for example, we could re-write the classes, and if this file is loaded after the <code>jspsych.css</code> file, it would override any styling already applied. Here’s an example:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">.jspsych-display-element</span> {</span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#f8f9fa</span><span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">'Arial'</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>}</span>
<span id="cb19-6"><a href="#cb19-6"></a></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="fu">.jspsych-content</span> {</span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">white</span><span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span><span class="dv">0</span><span class="op">,</span><span class="dv">0</span><span class="op">,</span><span class="dv">0.1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>}</span>
<span id="cb19-15"><a href="#cb19-15"></a></span>
<span id="cb19-16"><a href="#cb19-16"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb19-17"><a href="#cb19-17"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#007bff</span><span class="op">;</span></span>
<span id="cb19-18"><a href="#cb19-18"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">white</span><span class="op">;</span></span>
<span id="cb19-19"><a href="#cb19-19"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb19-20"><a href="#cb19-20"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-21"><a href="#cb19-21"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-22"><a href="#cb19-22"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">6</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-23"><a href="#cb19-23"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-24"><a href="#cb19-24"></a>  <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb19-25"><a href="#cb19-25"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">background-color 0.2</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb19-26"><a href="#cb19-26"></a>}</span>
<span id="cb19-27"><a href="#cb19-27"></a></span>
<span id="cb19-28"><a href="#cb19-28"></a><span class="co">/* Buttons change their style when you hover over them. Here, the background-color changes on hover */</span></span>
<span id="cb19-29"><a href="#cb19-29"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb19-30"><a href="#cb19-30"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0056b3</span><span class="op">;</span></span>
<span id="cb19-31"><a href="#cb19-31"></a>}</span>
<span id="cb19-32"><a href="#cb19-32"></a></span>
<span id="cb19-33"><a href="#cb19-33"></a><span class="co">/* Buttons that are temporarily disabled get this state. You can style disabled buttons differently to provide visual feedback */</span></span>
<span id="cb19-34"><a href="#cb19-34"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb19-35"><a href="#cb19-35"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#6c757d</span><span class="op">;</span></span>
<span id="cb19-36"><a href="#cb19-36"></a>  <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb19-37"><a href="#cb19-37"></a>  <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.6</span><span class="op">;</span></span>
<span id="cb19-38"><a href="#cb19-38"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-a-dark-theme" class="level3" data-number="7.6.3">
<h3 data-number="7.6.3" class="anchored" data-anchor-id="creating-a-dark-theme"><span class="header-section-number">7.6.3</span> Creating a Dark Theme</h3>
<p>Many experiments benefit from a dark theme, especially those involving visual stimuli or long sessions where eye strain is a concern. The default jsPsych styling uses black text on a white background, which can cause eye fatigue during extended experimental sessions. However, we should avoid simply inverting to pure white text on a black background, as this creates harsh contrast that can be equally uncomfortable.</p>
<p>A better approach is to use light grey text on a dark background, which provides excellent readability while being much gentler on the eyes. We can achieve this by overwriting the default CSS, targeting both standard HTML tags (like h1 or p) and jsPsych’s specific CSS classes.</p>
<p>Here’s how we would do that by writing CSS in an external file and linking to it in our HTML:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lexical Decision<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>    </span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11"></a></span>
<span id="cb20-12"><a href="#cb20-12"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-15"><a href="#cb20-15"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-16"><a href="#cb20-16"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-19"><a href="#cb20-19"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;h1&gt;Dark Theme Experiment&lt;/h1&gt;</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="vs">             &lt;p&gt;This experiment uses a dark theme with light grey text to reduce eye strain.&lt;/p&gt;</span></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="vs">             &lt;p&gt;Press any key to continue.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">'ALL_KEYS'</span><span class="op">,</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">500</span></span>
<span id="cb21-12"><a href="#cb21-12"></a>}</span>
<span id="cb21-13"><a href="#cb21-13"></a></span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="kw">const</span> instructions <span class="op">=</span> {</span>
<span id="cb21-15"><a href="#cb21-15"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;h2&gt;Instructions&lt;/h2&gt;</span></span>
<span id="cb21-17"><a href="#cb21-17"></a><span class="vs">             &lt;p&gt;You'll be shown a series of words and asked to respond.&lt;/p&gt;</span></span>
<span id="cb21-18"><a href="#cb21-18"></a><span class="vs">             &lt;p&gt;Notice how the dark background is easier on your eyes during longer sessions.&lt;/p&gt;</span></span>
<span id="cb21-19"><a href="#cb21-19"></a><span class="vs">             &lt;p&gt;Press any key to begin.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">'ALL_KEYS'</span><span class="op">,</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">500</span></span>
<span id="cb21-22"><a href="#cb21-22"></a>}</span>
<span id="cb21-23"><a href="#cb21-23"></a></span>
<span id="cb21-24"><a href="#cb21-24"></a><span class="kw">const</span> word_trial_1 <span class="op">=</span> {</span>
<span id="cb21-25"><a href="#cb21-25"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-26"><a href="#cb21-26"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div style='font-size: 48px; font-weight: bold;'&gt;</span></span>
<span id="cb21-27"><a href="#cb21-27"></a><span class="vs">               pulchritudinous</span></span>
<span id="cb21-28"><a href="#cb21-28"></a><span class="vs">             &lt;/div&gt;</span></span>
<span id="cb21-29"><a href="#cb21-29"></a><span class="vs">             &lt;p&gt;Press 'R' if this is a real word, 'F' if it's fake&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-30"><a href="#cb21-30"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">'r'</span><span class="op">,</span> <span class="st">'f'</span>]<span class="op">,</span></span>
<span id="cb21-31"><a href="#cb21-31"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>}</span>
<span id="cb21-33"><a href="#cb21-33"></a></span>
<span id="cb21-34"><a href="#cb21-34"></a><span class="kw">const</span> word_trial_2 <span class="op">=</span> {</span>
<span id="cb21-35"><a href="#cb21-35"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-36"><a href="#cb21-36"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div style='font-size: 48px; font-weight: bold;'&gt;</span></span>
<span id="cb21-37"><a href="#cb21-37"></a><span class="vs">               psychotomimetic</span></span>
<span id="cb21-38"><a href="#cb21-38"></a><span class="vs">             &lt;/div&gt;</span></span>
<span id="cb21-39"><a href="#cb21-39"></a><span class="vs">             &lt;p&gt;Press 'R' if this is a real word, 'F' if it's fake&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-40"><a href="#cb21-40"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">'r'</span><span class="op">,</span> <span class="st">'f'</span>]<span class="op">,</span></span>
<span id="cb21-41"><a href="#cb21-41"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-42"><a href="#cb21-42"></a>}</span>
<span id="cb21-43"><a href="#cb21-43"></a></span>
<span id="cb21-44"><a href="#cb21-44"></a><span class="kw">const</span> button_trial <span class="op">=</span> {</span>
<span id="cb21-45"><a href="#cb21-45"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlButtonResponse<span class="op">,</span></span>
<span id="cb21-46"><a href="#cb21-46"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;h3&gt;How comfortable was the dark theme?&lt;/h3&gt;`</span><span class="op">,</span></span>
<span id="cb21-47"><a href="#cb21-47"></a>  <span class="dt">button_layout</span><span class="op">:</span> <span class="st">'grid'</span><span class="op">,</span></span>
<span id="cb21-48"><a href="#cb21-48"></a>  <span class="dt">grid_rows</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb21-49"><a href="#cb21-49"></a>  <span class="dt">choices</span><span class="op">:</span> [<span class="st">'Great!'</span><span class="op">,</span> <span class="st">'Ok'</span><span class="op">,</span> <span class="st">'Terrible!'</span>]<span class="op">,</span></span>
<span id="cb21-50"><a href="#cb21-50"></a>  <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">500</span></span>
<span id="cb21-51"><a href="#cb21-51"></a>}</span>
<span id="cb21-52"><a href="#cb21-52"></a></span>
<span id="cb21-53"><a href="#cb21-53"></a><span class="kw">const</span> debrief <span class="op">=</span> {</span>
<span id="cb21-54"><a href="#cb21-54"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-55"><a href="#cb21-55"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;h2&gt;Thank You!&lt;/h2&gt;</span></span>
<span id="cb21-56"><a href="#cb21-56"></a><span class="vs">             &lt;p&gt;You've completed the dark theme experiment.&lt;/p&gt;</span></span>
<span id="cb21-57"><a href="#cb21-57"></a><span class="vs">             &lt;p&gt;Notice how the light grey text (#e0e0e0) on dark background (#1a1a1a) provides good contrast without being harsh.&lt;/p&gt;</span></span>
<span id="cb21-58"><a href="#cb21-58"></a><span class="vs">             &lt;p&gt;This is much more comfortable than pure white on black.&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-59"><a href="#cb21-59"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span></span>
<span id="cb21-60"><a href="#cb21-60"></a>}</span>
<span id="cb21-61"><a href="#cb21-61"></a></span>
<span id="cb21-62"><a href="#cb21-62"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb21-63"><a href="#cb21-63"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb21-64"><a href="#cb21-64"></a>  welcome<span class="op">,</span></span>
<span id="cb21-65"><a href="#cb21-65"></a>  instructions<span class="op">,</span></span>
<span id="cb21-66"><a href="#cb21-66"></a>  word_trial<span class="op">,</span></span>
<span id="cb21-67"><a href="#cb21-67"></a>  button_trial<span class="op">,</span></span>
<span id="cb21-68"><a href="#cb21-68"></a>  debrief</span>
<span id="cb21-69"><a href="#cb21-69"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb22-1"><a href="#cb22-1"></a></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co">/* Headings with subtle color accents */</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>h1 {</span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#4a9eff</span><span class="op">;</span> <span class="co">/* Soft blue */</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">32</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>}</span>
<span id="cb22-8"><a href="#cb22-8"></a></span>
<span id="cb22-9"><a href="#cb22-9"></a>h2 {</span>
<span id="cb22-10"><a href="#cb22-10"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#66d9ef</span><span class="op">;</span> <span class="co">/* Soft cyan */</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>}</span>
<span id="cb22-13"><a href="#cb22-13"></a></span>
<span id="cb22-14"><a href="#cb22-14"></a>h3 {</span>
<span id="cb22-15"><a href="#cb22-15"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#a6e22e</span><span class="op">;</span> <span class="co">/* Soft green */</span></span>
<span id="cb22-16"><a href="#cb22-16"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>  <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-18"><a href="#cb22-18"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-19"><a href="#cb22-19"></a>}</span>
<span id="cb22-20"><a href="#cb22-20"></a></span>
<span id="cb22-21"><a href="#cb22-21"></a><span class="co">/* Paragraph styling */</span></span>
<span id="cb22-22"><a href="#cb22-22"></a>p {</span>
<span id="cb22-23"><a href="#cb22-23"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">18</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-24"><a href="#cb22-24"></a>  <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb22-25"><a href="#cb22-25"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-26"><a href="#cb22-26"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span><span class="op">;</span></span>
<span id="cb22-27"><a href="#cb22-27"></a>}</span>
<span id="cb22-28"><a href="#cb22-28"></a></span>
<span id="cb22-29"><a href="#cb22-29"></a><span class="co">/* Main container - dark background */</span></span>
<span id="cb22-30"><a href="#cb22-30"></a><span class="fu">.jspsych-display-element</span> {</span>
<span id="cb22-31"><a href="#cb22-31"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a1a1a</span><span class="op">;</span></span>
<span id="cb22-32"><a href="#cb22-32"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span><span class="op">;</span> <span class="co">/* Light grey instead of pure white */</span></span>
<span id="cb22-33"><a href="#cb22-33"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">'Segoe UI'</span><span class="op">,</span> <span class="dv">Tahoma</span><span class="op">,</span> <span class="dv">Geneva</span><span class="op">,</span> <span class="dv">Verdana</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb22-34"><a href="#cb22-34"></a></span>
<span id="cb22-35"><a href="#cb22-35"></a>}</span>
<span id="cb22-36"><a href="#cb22-36"></a></span>
<span id="cb22-37"><a href="#cb22-37"></a><span class="co">/* Content area */</span></span>
<span id="cb22-38"><a href="#cb22-38"></a><span class="fu">.jspsych-content</span> {</span>
<span id="cb22-39"><a href="#cb22-39"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span><span class="op">;</span></span>
<span id="cb22-40"><a href="#cb22-40"></a>  <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">500</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-41"><a href="#cb22-41"></a>}</span>
<span id="cb22-42"><a href="#cb22-42"></a></span>
<span id="cb22-43"><a href="#cb22-43"></a></span>
<span id="cb22-44"><a href="#cb22-44"></a><span class="co">/* Button styling for dark theme */</span></span>
<span id="cb22-45"><a href="#cb22-45"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb22-46"><a href="#cb22-46"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#404040</span><span class="op">;</span></span>
<span id="cb22-47"><a href="#cb22-47"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#e0e0e0</span><span class="op">;</span></span>
<span id="cb22-48"><a href="#cb22-48"></a>  <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#606060</span><span class="op">;</span></span>
<span id="cb22-49"><a href="#cb22-49"></a>  <span class="kw">padding</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-50"><a href="#cb22-50"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-51"><a href="#cb22-51"></a>  <span class="kw">border-radius</span><span class="ch">:</span> <span class="dv">6</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-52"><a href="#cb22-52"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-53"><a href="#cb22-53"></a>  <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb22-54"><a href="#cb22-54"></a>  <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.2</span><span class="dt">s</span> <span class="dv">ease</span><span class="op">;</span></span>
<span id="cb22-55"><a href="#cb22-55"></a>}</span>
<span id="cb22-56"><a href="#cb22-56"></a></span>
<span id="cb22-57"><a href="#cb22-57"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb22-58"><a href="#cb22-58"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#505050</span><span class="op">;</span></span>
<span id="cb22-59"><a href="#cb22-59"></a>  <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#4a9eff</span><span class="op">;</span></span>
<span id="cb22-60"><a href="#cb22-60"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffffff</span><span class="op">;</span></span>
<span id="cb22-61"><a href="#cb22-61"></a>}</span>
<span id="cb22-62"><a href="#cb22-62"></a></span>
<span id="cb22-63"><a href="#cb22-63"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb22-64"><a href="#cb22-64"></a>  <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#2a2a2a</span><span class="op">;</span></span>
<span id="cb22-65"><a href="#cb22-65"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#808080</span><span class="op">;</span></span>
<span id="cb22-66"><a href="#cb22-66"></a>  <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#404040</span><span class="op">;</span></span>
<span id="cb22-67"><a href="#cb22-67"></a>  <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb22-68"><a href="#cb22-68"></a>  <span class="kw">opacity</span><span class="ch">:</span> <span class="dv">0.6</span><span class="op">;</span></span>
<span id="cb22-69"><a href="#cb22-69"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate keyboard input</span>
</div>
<button onclick="
          var iframe = document.getElementById('demo-iframe-3');
          var srcdoc = iframe.getAttribute('srcdoc');
          iframe.setAttribute('srcdoc', '');
          setTimeout(function() {
            iframe.setAttribute('srcdoc', srcdoc);
          }, 10);
        " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
<iframe id="demo-iframe-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0'></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      
/* Main container - dark background */
.jspsych-display-element {
  background-color: #1a1a1a;
  color: #e0e0e0; /* Light grey instead of pure white */
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

}

/* Content area */
.jspsych-content {
  color: #e0e0e0;
  max-width: 500px;
}

/* Headings with subtle color accents */
h1 {
  color: #4a9eff; /* Soft blue */
  text-align: center;
  font-size: 32px;
}

h2 {
  color: #66d9ef; /* Soft cyan */
  text-align: center;
}

h3 {
  color: #a6e22e; /* Soft green */
  text-align: center;
  margin-bottom: 20px;
  font-size: 24px;
}

/* Paragraph styling */
p {
  font-size: 18px;
  line-height: 1.6;
  text-align: center;
  color: #e0e0e0;
}

/* Button styling for dark theme */
.jspsych-btn {
  background-color: #404040;
  color: #e0e0e0;
  border: 1px solid #606060;
  padding: 12px 24px;
  margin: 8px;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.jspsych-btn:hover {
  background-color: #505050;
  border-color: #4a9eff;
  color: #ffffff;
}

.jspsych-btn:disabled {
  background-color: #2a2a2a;
  color: #808080;
  border-color: #404040;
  cursor: not-allowed;
  opacity: 0.6;
}

  
    </style>
  </head>
  <body style='max-height: 300px'></body>
  <script>
    let jsPsych = initJsPsych();
    
// 1. Initialize jsPsych
const jsPsych3 = initJsPsych();

// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `<h1>Dark Theme Experiment</h1>
             <p>This experiment uses a dark theme with light grey text to reduce eye strain.</p>
             <p>Press any key to continue.</p>`,
  choices: 'ALL_KEYS',
  post_trial_gap: 500
}

const instructions = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `<h2>Instructions</h2>
             <p>You'll be shown a series of words and asked to respond.</p>
             <p>Notice how the dark background is easier on your eyes during longer sessions.</p>
             <p>Press any key to begin.</p>`,
  choices: 'ALL_KEYS',
  post_trial_gap: 500
}

const word_trial_1 = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `<div style='font-size: 48px; font-weight: bold;'>
               pulchritudinous
             </div>
             <p>Press 'R' if this is a real word, 'F' if it's fake</p>`,
  choices: ['r', 'f'],
  post_trial_gap: 250
}

const word_trial_2 = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `<div style='font-size: 48px; font-weight: bold;'>
               psychotomimetic
             </div>
             <p>Press 'R' if this is a real word, 'F' if it's fake</p>`,
  choices: ['r', 'f'],
  post_trial_gap: 250
}

const button_trial = {
  type: jsPsychHtmlButtonResponse,
  stimulus: `<h3>How comfortable was the dark theme?</h3>`,
  button_layout: 'grid',
  grid_rows: 3,
  choices: ['Great!', 'Ok', 'Terrible!'],
  post_trial_gap: 500
}

const debrief = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `<h2>Thank You!</h2>
             <p>You've completed the dark theme experiment.</p>
             <p>Notice how the light grey text (#e0e0e0) on dark background (#1a1a1a) provides good contrast without being harsh.</p>
             <p>This is much more comfortable than pure white on black.</p>`,
  choices: 'NO_KEYS'
}

// 3. Run jsPsych with our trials
jsPsych3.run([
  welcome,
  instructions,
  word_trial_1,
  word_trial_2,
  button_trial,
  debrief
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="no" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Inputs active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate inputs&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./06-L02.html" class="pagination-link" aria-label="Lab 2: JS Exercises">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./08-L03.html" class="pagination-link" aria-label="Lab 3: Language &amp; Thought">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://https://github.com/icoglab/online-behavioural-research-methods/edit/main/07-jspsych.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>