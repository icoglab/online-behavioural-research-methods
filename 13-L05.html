<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>13&nbsp; Lab 5: Mental Imagery ‚Äì Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./14-data.html" rel="next">
<link href="./12-multimedia.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f4f6c4c33169695420a9dce568207992.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./12-multimedia.html">Unit 5: Multimedia</a></li><li class="breadcrumb-item"><a href="./13-L05.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 5: Multimedia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-multimedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-L05.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 6: Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-data-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Accessing and Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-L06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab 6: Creativity</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>¬© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#research-in-brief-mental-imagery-and-mental-rotation" id="toc-research-in-brief-mental-imagery-and-mental-rotation" class="nav-link active" data-scroll-target="#research-in-brief-mental-imagery-and-mental-rotation"><span class="header-section-number">13.1</span> Research in Brief: Mental Imagery and Mental Rotation</a>
  <ul class="collapse">
  <li><a href="#the-research-area-mental-imagery" id="toc-the-research-area-mental-imagery" class="nav-link" data-scroll-target="#the-research-area-mental-imagery"><span class="header-section-number">13.1.1</span> The Research Area: Mental Imagery</a></li>
  <li><a href="#the-research-design-repeated-measures-experimental-design" id="toc-the-research-design-repeated-measures-experimental-design" class="nav-link" data-scroll-target="#the-research-design-repeated-measures-experimental-design"><span class="header-section-number">13.1.2</span> The Research Design: Repeated Measures Experimental Design</a></li>
  <li><a href="#key-findings-mental-rotation-mirrors-physical-rotation" id="toc-key-findings-mental-rotation-mirrors-physical-rotation" class="nav-link" data-scroll-target="#key-findings-mental-rotation-mirrors-physical-rotation"><span class="header-section-number">13.1.3</span> Key Findings: Mental Rotation Mirrors Physical Rotation</a></li>
  <li><a href="#implications" id="toc-implications" class="nav-link" data-scroll-target="#implications"><span class="header-section-number">13.1.4</span> Implications</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">13.1.5</span> Further Reading</a></li>
  </ul></li>
  <li><a href="#program-a-mental-rotation-task" id="toc-program-a-mental-rotation-task" class="nav-link" data-scroll-target="#program-a-mental-rotation-task"><span class="header-section-number">13.2</span> Program a Mental Rotation Task</a>
  <ul class="collapse">
  <li><a href="#initiate-jspsych" id="toc-initiate-jspsych" class="nav-link" data-scroll-target="#initiate-jspsych"><span class="header-section-number">13.2.1</span> Initiate jsPsych</a></li>
  <li><a href="#add-a-mental-rotation-trial" id="toc-add-a-mental-rotation-trial" class="nav-link" data-scroll-target="#add-a-mental-rotation-trial"><span class="header-section-number">13.2.2</span> Add a mental rotation trial</a></li>
  <li><a href="#update-the-trial-parameters" id="toc-update-the-trial-parameters" class="nav-link" data-scroll-target="#update-the-trial-parameters"><span class="header-section-number">13.2.3</span> Update the trial parameters</a></li>
  <li><a href="#add-additional-trials" id="toc-add-additional-trials" class="nav-link" data-scroll-target="#add-additional-trials"><span class="header-section-number">13.2.4</span> Add additional trials</a></li>
  <li><a href="#add-a-fixation-between-trials" id="toc-add-a-fixation-between-trials" class="nav-link" data-scroll-target="#add-a-fixation-between-trials"><span class="header-section-number">13.2.5</span> Add a fixation between trials</a></li>
  <li><a href="#preload-images" id="toc-preload-images" class="nav-link" data-scroll-target="#preload-images"><span class="header-section-number">13.2.6</span> Preload Images</a></li>
  <li><a href="#add-a-medium-difficulty-block" id="toc-add-a-medium-difficulty-block" class="nav-link" data-scroll-target="#add-a-medium-difficulty-block"><span class="header-section-number">13.2.7</span> Add a Medium Difficulty Block</a></li>
  <li><a href="#add-some-additional-instruction-and-debrief-screens" id="toc-add-some-additional-instruction-and-debrief-screens" class="nav-link" data-scroll-target="#add-some-additional-instruction-and-debrief-screens"><span class="header-section-number">13.2.8</span> Add some additional instruction and debrief screens</a></li>
  </ul></li>
  <li><a href="#stretch-goals" id="toc-stretch-goals" class="nav-link" data-scroll-target="#stretch-goals"><span class="header-section-number">13.3</span> Stretch Goals</a>
  <ul class="collapse">
  <li><a href="#add-instructions" id="toc-add-instructions" class="nav-link" data-scroll-target="#add-instructions"><span class="header-section-number">13.3.1</span> Add Instructions</a></li>
  <li><a href="#add-a-third-mixed-block-of-trials" id="toc-add-a-third-mixed-block-of-trials" class="nav-link" data-scroll-target="#add-a-third-mixed-block-of-trials"><span class="header-section-number">13.3.2</span> Add a third ‚ÄúMixed‚Äù block of trials</a></li>
  <li><a href="#change-the-style" id="toc-change-the-style" class="nav-link" data-scroll-target="#change-the-style"><span class="header-section-number">13.3.3</span> Change the style</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/13-L05.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./12-multimedia.html">Unit 5: Multimedia</a></li><li class="breadcrumb-item"><a href="./13-L05.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="research-in-brief-mental-imagery-and-mental-rotation" class="level2" data-number="13.1">
<h2 data-number="13.1" class="anchored" data-anchor-id="research-in-brief-mental-imagery-and-mental-rotation"><span class="header-section-number">13.1</span> Research in Brief: Mental Imagery and Mental Rotation</h2>
<section id="the-research-area-mental-imagery" class="level3" data-number="13.1.1">
<h3 data-number="13.1.1" class="anchored" data-anchor-id="the-research-area-mental-imagery"><span class="header-section-number">13.1.1</span> The Research Area: Mental Imagery</h3>
<p>Mental imagery refers to our ability to create and manipulate mental representations of visual, auditory, or other sensory information when the actual stimuli are not physically present. This cognitive ability allows us to ‚Äúsee‚Äù objects in our mind‚Äôs eye, rotate them mentally, and perform various operations on these internal representations.</p>
<p>Mental imagery research addresses fundamental questions about how our minds represent and process information. Can we manipulate mental images the same way we manipulate physical objects? Do our mental images share properties with actual perception? This area of research has profound implications for understanding creativity, problem-solving, spatial reasoning, and the relationship between thought and perception.</p>
<p>The study of mental imagery also connects to practical applications in fields requiring strong spatial skills, such as engineering, architecture, medicine, and the STEM disciplines. Understanding how people create and manipulate mental images helps us develop better training methods for spatial abilities and design more effective educational interventions.</p>
<section id="individual-differences-in-imagery-ability" class="level4" data-number="13.1.1.1">
<h4 data-number="13.1.1.1" class="anchored" data-anchor-id="individual-differences-in-imagery-ability"><span class="header-section-number">13.1.1.1</span> Individual Differences in Imagery Ability</h4>
<p>People vary dramatically in their ability to create and experience mental images. Most individuals report having moderately vivid mental imagery, but the extremes of this continuum reveal fascinating insights into the nature of mental representation. Aphantasia represents one extreme, where individuals report having little to no conscious visual imagery‚Äîwhen asked to imagine an apple, they may understand the concept but experience no visual mental image. At the opposite extreme, hyperphantasia describes exceptionally vivid mental imagery that can be nearly as clear and detailed as actual perception. People with hyperphantasia often report that their mental images are so vivid they can sometimes be confused with real perceptions.</p>
<p>These individual differences highlight that mental imagery is not a uniform cognitive ability but rather exists on a spectrum. Interestingly, people with aphantasia can still perform many spatial reasoning tasks successfully, suggesting they may use alternative cognitive strategies, while those with hyperphantasia may rely heavily on their vivid imagery for problem-solving and memory tasks.</p>
</section>
</section>
<section id="the-research-design-repeated-measures-experimental-design" class="level3" data-number="13.1.2">
<h3 data-number="13.1.2" class="anchored" data-anchor-id="the-research-design-repeated-measures-experimental-design"><span class="header-section-number">13.1.2</span> The Research Design: Repeated Measures Experimental Design</h3>
<p>The classic mental rotation paradigm developed by Shepard and Metzler (1971) employs a repeated measures experimental design where participants make same/different judgments about pairs of three-dimensional geometric figures presented at various orientations.</p>
<section id="the-mental-rotation-methodology" class="level4" data-number="13.1.2.1">
<h4 data-number="13.1.2.1" class="anchored" data-anchor-id="the-mental-rotation-methodology"><span class="header-section-number">13.1.2.1</span> The Mental Rotation Methodology</h4>
<p>Stimulus Presentation: Participants view pairs of line drawings depicting three-dimensional geometric objects. One object in each pair is rotated relative to the other by angles ranging from 0¬∞ to 180¬∞ in 20-degree increments. Some pairs show the same object at different orientations, while others show different (mirror-image) objects that cannot be made to match through rotation.</p>
<p>Task Requirements: For each pair, participants must decide whether the two objects are the same shape (and could be rotated to match exactly) or different shapes (mirror images that cannot be made to match through rotation). They respond by pulling different levers for ‚Äúsame‚Äù and ‚Äúdifferent‚Äù judgments.</p>
<p>The design includes two rotation conditions: picture-plane rotation where objects are rotated within the two-dimensional plane of the page (like rotating a flat picture), and depth rotation where objects are rotated in three-dimensional space (like rotating a physical object in depth).</p>
</section>
<section id="within-subjects-comparisons" class="level4" data-number="13.1.2.2">
<h4 data-number="13.1.2.2" class="anchored" data-anchor-id="within-subjects-comparisons"><span class="header-section-number">13.1.2.2</span> Within-Subjects Comparisons</h4>
<p>The repeated measures approach allows researchers to examine how rotation angle affects response time within the same participants. Each person responds to multiple rotation angles (0¬∞, 20¬∞, 40¬∞, 60¬∞, 80¬∞, 100¬∞, 120¬∞, 140¬∞, 160¬∞, 180¬∞), both rotation types (picture-plane and depth rotations), and both same and different pairs. This design controls for individual differences in spatial ability, response speed, and decision-making style while isolating the specific effect of mental rotation demands.</p>
</section>
</section>
<section id="key-findings-mental-rotation-mirrors-physical-rotation" class="level3" data-number="13.1.3">
<h3 data-number="13.1.3" class="anchored" data-anchor-id="key-findings-mental-rotation-mirrors-physical-rotation"><span class="header-section-number">13.1.3</span> Key Findings: Mental Rotation Mirrors Physical Rotation</h3>
<p>The repeated measures comparisons revealed a striking linear relationship between rotation angle and response time. Response time increased systematically with rotation angle, from approximately 1 second at 0¬∞ rotation to 4-5 seconds at 180¬∞ rotation. Both picture-plane and depth rotations showed nearly identical linear functions, suggesting similar underlying mental processes. While participants varied in overall speed, virtually all showed the same linear relationship between angle and response time, and participants remained accurate across all rotation angles, indicating they were genuinely performing mental rotation rather than guessing.</p>
<p>The within-subjects design revealed that picture-plane rotation (2D) showed average response times ranging from ~1.0 seconds (0¬∞) to ~4.8 seconds (180¬∞), while depth rotation (3D) ranged from ~1.0 seconds (0¬∞) to ~5.2 seconds (180¬∞). Both conditions showed approximately 1.6 seconds per 100¬∞ of rotation. The remarkable similarity between 2D and 3D rotation suggests that people can mentally rotate objects in three-dimensional space almost as efficiently as in two dimensions.</p>
</section>
<section id="implications" class="level3" data-number="13.1.4">
<h3 data-number="13.1.4" class="anchored" data-anchor-id="implications"><span class="header-section-number">13.1.4</span> Implications</h3>
<p>The linear relationship between rotation angle and response time provides strong evidence for analog mental representation. If mental images were stored as abstract, language-like descriptions (propositional codes), rotation angle should not systematically affect processing time. Instead, the data suggest that people mentally rotate images through intermediate positions, just as they would rotate physical objects.</p>
<p>The findings support analog coding theories which propose that mental images preserve spatial relationships and can be manipulated using processes similar to those used with physical objects. The systematic increase in response time with rotation angle indicates that mental rotation involves a continuous process rather than discrete computational steps.</p>
<p>This repeated measures research demonstrates that mental imagery operates according to spatial principles similar to those governing physical object manipulation. The consistent linear relationship across participants and rotation types suggests that mental rotation reflects a fundamental property of spatial cognition rather than an experimental artifact.</p>
<p>The paradigm has become a cornerstone for studying individual differences in spatial ability, with applications ranging from understanding gender differences in spatial skills to developing training programs for professions requiring strong spatial reasoning. The findings also provide crucial evidence that mental imagery involves more than simple verbal descriptions‚Äîit appears to engage spatial processing systems that mirror those used in actual perception and action.</p>
<p>The mental rotation task continues to be widely used in cognitive psychology, neuroscience, and educational research as a reliable measure of spatial visualization ability and a window into the nature of mental representation. Importantly, even individuals with aphantasia can often perform mental rotation tasks successfully, though they may use different cognitive strategies than those who experience vivid mental imagery.</p>
</section>
<section id="further-reading" class="level3" data-number="13.1.5">
<h3 data-number="13.1.5" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">13.1.5</span> Further Reading</h3>
<p>Shepard, R. N., &amp; Metzler, J. (1971). Mental rotation of three-dimensional objects. <em>Science</em>, <em>171</em>(3972), 701-703.</p>
<p>Monzel, M., &amp; Reuter, M. (2023). Where‚Äôs Wanda? The influence of visual imagery vividness on visual search speed measured by means of hidden object pictures. <em>Attention, Perception, &amp; Psychophysics</em>, 1-6.</p>
<p>Beaman, C. P., Powell, K., &amp; Rapley, E. (2015). Rapid Communication: Want to block earworms from conscious awareness? B (u) y gum!.</p>
<p>Bainbridge, W. A., Pounder, Z., Eardley, A. F., &amp; Baker, C. I. (2021). Quantifying aphantasia through drawing: Those without visual imagery show deficits in object but not spatial memory. <em>Cortex</em>, <em>135</em>, 159-172.</p>
<p>Agnew, M. (1922). The auditory imagery of great composers. <em>Psychological Monographs</em>, <em>31</em>(1), 279.</p>
</section>
</section>
<section id="program-a-mental-rotation-task" class="level2" data-number="13.2">
<h2 data-number="13.2" class="anchored" data-anchor-id="program-a-mental-rotation-task"><span class="header-section-number">13.2</span> Program a Mental Rotation Task</h2>
<p>In this exercise, we‚Äôre going to program a mental rotation task with multiple blocks of trials. Across the blocks of trials, we‚Äôll manipulate the difficulty of the task, starting with easy trials, where the rotation differences are larger, to more difficult trials, where the rotation differences are smaller.</p>
<p>Our initial folder structure looks similar to previous labs, except now we have a folder that contains all of our images. Each image shows a pair of 3d objects.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>üìÇ L05</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ index.html</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ exp.js</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ style.css</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÇ jspsych</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>‚îî‚îÄ‚îÄ  üìÇ images</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>     ‚îú‚îÄ‚îÄ üñºÔ∏è 0_D_1.jpg</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>     ‚îú‚îÄ‚îÄ üñºÔ∏è 0_D_2.jpg</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>     ‚îî‚îÄ‚îÄ etc.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The image names tell us what the rotation difference is between the two and whether they are in fact the ‚Äúsame‚Äù image or ‚Äúdifferent‚Äù (a mirrored version). <code>0_S_1.jpg</code>, for example, tells us that this image contains 0 degree difference, they are the same image (‚ÄúS‚Äù) and it is image 1. We have six images for every rotation and same/different combination. For example, this image below has a 100 degree rotation difference, but they are the same image:</p>
<div id="id" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="media/36_100.jpg" class="class figure-img" style="width:50.0%;height:50.0%"></p>
<figcaption>mental rotation image</figcaption>
</figure>
</div>
<section id="initiate-jspsych" class="level3" data-number="13.2.1">
<h3 data-number="13.2.1" class="anchored" data-anchor-id="initiate-jspsych"><span class="header-section-number">13.2.1</span> Initiate jsPsych</h3>
<p>Let‚Äôs jump right in by loading and initiating jsPsych with a welcome screen.</p>
<p>I‚Äôve decided to use the <code>jsPsychImageResponse</code> for the study phase and the for the test phase so I‚Äôve loaded them both in the <code>&lt;head&gt;</code>. We‚Äôre also going to need our <code>jsPsychPreload</code> plugin to preload all of our images before the experiment begins.</p>
<div class="cell">
<style type="text/css">
/* CB2 */
[id^="cb2-"]:nth-child(n+5):nth-child(-n+7),  
[id^="cb2-"]:nth-child(n+9):nth-child(-n+12),  
[id^="cb2-"]:nth-child(n+14):nth-child(-n+15),  
[id^="cb2-"]:nth-child(n+18):nth-child(-n+19) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB3 */
[id^="cb3-"]:nth-child(n+1):nth-child(-n+14) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB4 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    </span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>}</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb3-13"><a href="#cb3-13"></a>  welcome</span>
<span id="cb3-14"><a href="#cb3-14"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="demo-container-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n    const welcome = {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: \'Welcome to the Experiment! Press any key to begin.\'\n    }\n    jsPsych.run([\n      welcome\n    ]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


    const welcome = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: 'Welcome to the Experiment! Press any key to begin.'
    }
    jsPsych.run([
      welcome
    ]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-a-mental-rotation-trial" class="level3" data-number="13.2.2">
<h3 data-number="13.2.2" class="anchored" data-anchor-id="add-a-mental-rotation-trial"><span class="header-section-number">13.2.2</span> Add a mental rotation trial</h3>
<p>We‚Äôre going to start by adding a single mental rotation trial to see what it looks like. We‚Äôre going to use our timeline method. So, I‚Äôll put the trial inside a <code>timeline</code> array and add a single image to the <code>timeline_variables</code> parameter. We‚Äôll use our <code>jsPsych.timelineVariable("image")</code> to refer to that image in our <code>stimulus</code>.</p>
<p>We also need to add our new block <code>easy_block</code> to the <code>jsPsych.run()</code> function. Reminder: Don‚Äôt forget to add the comma on line 25 before adding the <code>easy_block</code>.</p>
<div class="cell">
<style type="text/css">
/* CB5 */


/* CB6 */
[id^="cb6-"]:nth-child(n+11):nth-child(-n+21),
[id^="cb6-"]:nth-child(n+25):nth-child(-n+26){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB7 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    </span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>}</span>
<span id="cb6-10"><a href="#cb6-10"></a></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb6-12"><a href="#cb6-12"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb6-13"><a href="#cb6-13"></a>    {</span>
<span id="cb6-14"><a href="#cb6-14"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)</span>
<span id="cb6-16"><a href="#cb6-16"></a>    }</span>
<span id="cb6-17"><a href="#cb6-17"></a>  ]<span class="op">,</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb6-19"><a href="#cb6-19"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}</span>
<span id="cb6-20"><a href="#cb6-20"></a>  ]</span>
<span id="cb6-21"><a href="#cb6-21"></a>}</span>
<span id="cb6-22"><a href="#cb6-22"></a></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb6-24"><a href="#cb6-24"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-25"><a href="#cb6-25"></a>  welcome<span class="op">,</span></span>
<span id="cb6-26"><a href="#cb6-26"></a>  easy_block</span>
<span id="cb6-27"><a href="#cb6-27"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div id="demo-container-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\')\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'}\n  ]\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  welcome,\n  easy_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const easy_block = {
  timeline: [
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image')
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'}
  ]
}

// 3. Run jsPsych with our trials
jsPsych.run([
  welcome,
  easy_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="update-the-trial-parameters" class="level3" data-number="13.2.3">
<h3 data-number="13.2.3" class="anchored" data-anchor-id="update-the-trial-parameters"><span class="header-section-number">13.2.3</span> Update the trial parameters</h3>
<p>Now that we have a simple trial, we make some necessary changes to update the parameters to operate properly. I‚Äôve added a few sensible options here, setting the <code>prompt</code> and <code>choices</code> so participants need to press ‚ÄúS‚Äù or ‚ÄúD‚Äù.</p>
<p>I also noticed the image was too large, so I changed <code>stimulus_width</code> to be 300px and then added a <code>post_trial_gap</code> of 250ms. This will add a bit of a gap between trials.</p>
<p>Reminder: Don‚Äôt forget to add the comma on line 25 before adding the new parameters</p>
<div class="cell">
<style type="text/css">
/* CB8 */


/* CB9 */
[id^="cb9-"]:nth-child(n+15):nth-child(-n+19){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB10 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>    </span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>}</span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb9-13"><a href="#cb9-13"></a>    {</span>
<span id="cb9-14"><a href="#cb9-14"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>    }</span>
<span id="cb9-21"><a href="#cb9-21"></a>  ]<span class="op">,</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb9-23"><a href="#cb9-23"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}</span>
<span id="cb9-24"><a href="#cb9-24"></a>  ]</span>
<span id="cb9-25"><a href="#cb9-25"></a>}</span>
<span id="cb9-26"><a href="#cb9-26"></a></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb9-28"><a href="#cb9-28"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb9-29"><a href="#cb9-29"></a>  welcome<span class="op">,</span></span>
<span id="cb9-30"><a href="#cb9-30"></a>  easy_block</span>
<span id="cb9-31"><a href="#cb9-31"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'}\n  ]\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  welcome,\n  easy_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const easy_block = {
  timeline: [
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'}
  ]
}

// 3. Run jsPsych with our trials
jsPsych.run([
  welcome,
  easy_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-additional-trials" class="level3" data-number="13.2.4">
<h3 data-number="13.2.4" class="anchored" data-anchor-id="add-additional-trials"><span class="header-section-number">13.2.4</span> Add additional trials</h3>
<p>Let‚Äôs add some more trials. This is the ‚ÄúEasy‚Äù block, so we‚Äôll just use the 0-degree images for this one.</p>
<p>I‚Äôve also set <code>randomize_order: true</code> so that they appear in a random order.</p>
<div class="cell">
<style type="text/css">
/* CB11 */


/* CB12 */
[id^="cb12-"]:nth-child(n+23):nth-child(-n+26),
[id^="cb12-"]:nth-child(n+27):nth-child(-n+28){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB13 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>    </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>}</span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb12-12"><a href="#cb12-12"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-13"><a href="#cb12-13"></a>    {</span>
<span id="cb12-14"><a href="#cb12-14"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb12-16"><a href="#cb12-16"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>    }</span>
<span id="cb12-21"><a href="#cb12-21"></a>  ]<span class="op">,</span></span>
<span id="cb12-22"><a href="#cb12-22"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb12-23"><a href="#cb12-23"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb12-24"><a href="#cb12-24"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb12-25"><a href="#cb12-25"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb12-26"><a href="#cb12-26"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_2.jpg"</span>}</span>
<span id="cb12-27"><a href="#cb12-27"></a>  ]<span class="op">,</span></span>
<span id="cb12-28"><a href="#cb12-28"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb12-29"><a href="#cb12-29"></a>}</span>
<span id="cb12-30"><a href="#cb12-30"></a></span>
<span id="cb12-31"><a href="#cb12-31"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb12-32"><a href="#cb12-32"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb12-33"><a href="#cb12-33"></a>  welcome<span class="op">,</span></span>
<span id="cb12-34"><a href="#cb12-34"></a>  easy_block</span>
<span id="cb12-35"><a href="#cb12-35"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div id="demo-container-4" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-4" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'},\n    {image: \'media/0_S_2.jpg\'},\n    {image: \'media/0_D_1.jpg\'},\n    {image: \'media/0_D_2.jpg\'},\n  ],\n  randomize_order: true\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  welcome,\n  easy_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-4');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-4" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const easy_block = {
  timeline: [
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'},
    {image: 'media/0_S_2.jpg'},
    {image: 'media/0_D_1.jpg'},
    {image: 'media/0_D_2.jpg'},
  ],
  randomize_order: true
}

// 3. Run jsPsych with our trials
jsPsych.run([
  welcome,
  easy_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-4&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-4&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-a-fixation-between-trials" class="level3" data-number="13.2.5">
<h3 data-number="13.2.5" class="anchored" data-anchor-id="add-a-fixation-between-trials"><span class="header-section-number">13.2.5</span> Add a fixation between trials</h3>
<p>Now that we have a series of trials, it becomes clear that we should have a break between each. Let‚Äôs add a fixation cross before each trial using the <code>jsPsychHtmlKeyboardResponse</code> plugin.</p>
<div class="cell">
<style type="text/css">
/* CB14 */


/* CB15 */
[id^="cb15-"]:nth-child(n+13):nth-child(-n+19) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB16 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>    </span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13"></a></span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>}</span>
<span id="cb15-10"><a href="#cb15-10"></a></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb15-12"><a href="#cb15-12"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-13"><a href="#cb15-13"></a>    {</span>
<span id="cb15-14"><a href="#cb15-14"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-15"><a href="#cb15-15"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb15-16"><a href="#cb15-16"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-17"><a href="#cb15-17"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb15-18"><a href="#cb15-18"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb15-19"><a href="#cb15-19"></a>    }<span class="op">,</span></span>
<span id="cb15-20"><a href="#cb15-20"></a>    {</span>
<span id="cb15-21"><a href="#cb15-21"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb15-22"><a href="#cb15-22"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb15-23"><a href="#cb15-23"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb15-24"><a href="#cb15-24"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb15-25"><a href="#cb15-25"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb15-26"><a href="#cb15-26"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb15-27"><a href="#cb15-27"></a>    }</span>
<span id="cb15-28"><a href="#cb15-28"></a>  ]<span class="op">,</span></span>
<span id="cb15-29"><a href="#cb15-29"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-30"><a href="#cb15-30"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb15-31"><a href="#cb15-31"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb15-32"><a href="#cb15-32"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb15-33"><a href="#cb15-33"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_2.jpg"</span>}</span>
<span id="cb15-34"><a href="#cb15-34"></a>  ]<span class="op">,</span></span>
<span id="cb15-35"><a href="#cb15-35"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb15-36"><a href="#cb15-36"></a>}</span>
<span id="cb15-37"><a href="#cb15-37"></a></span>
<span id="cb15-38"><a href="#cb15-38"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb15-39"><a href="#cb15-39"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb15-40"><a href="#cb15-40"></a>  welcome<span class="op">,</span></span>
<span id="cb15-41"><a href="#cb15-41"></a>  easy_block</span>
<span id="cb15-42"><a href="#cb15-42"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div id="demo-container-5" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-5" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'},\n    {image: \'media/0_S_2.jpg\'},\n    {image: \'media/0_D_1.jpg\'},\n    {image: \'media/0_D_2.jpg\'},\n  ],\n  randomize_order: true\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  welcome,\n  easy_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-5');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-5" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const easy_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'},
    {image: 'media/0_S_2.jpg'},
    {image: 'media/0_D_1.jpg'},
    {image: 'media/0_D_2.jpg'},
  ],
  randomize_order: true
}

// 3. Run jsPsych with our trials
jsPsych.run([
  welcome,
  easy_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-5&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-5&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="preload-images" class="level3" data-number="13.2.6">
<h3 data-number="13.2.6" class="anchored" data-anchor-id="preload-images"><span class="header-section-number">13.2.6</span> Preload Images</h3>
<p>Now, for an important step. If you tried the demos in the previous steps, you probably found that the images lagged. That‚Äôs because this is being hosted on the internet and we didn‚Äôt preload our images! If you‚Äôre running the code locally, you probably did not notice any lag, because nothing is being sent over the internet connection.</p>
<p>Let‚Äôs preload our images! I‚Äôve already loaded the preload plugin in the HTML <code>&lt;head&gt;</code>, we just need to add it to our experiment.</p>
<div class="cell">
<style type="text/css">
/* CB17 */


/* CB18 */
[id^="cb18-"]:nth-child(n+11):nth-child(-n+19),
[id^="cb18-"]:nth-child(n+50):nth-child(-n+50){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB19 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb17-1"><a href="#cb17-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>    </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-21"><a href="#cb17-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb18-9"><a href="#cb18-9"></a>}</span>
<span id="cb18-10"><a href="#cb18-10"></a></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="kw">const</span> preload <span class="op">=</span> {</span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb18-13"><a href="#cb18-13"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb18-14"><a href="#cb18-14"></a>    <span class="st">"images/0_S_1.jpg"</span><span class="op">,</span></span>
<span id="cb18-15"><a href="#cb18-15"></a>    <span class="st">"images/0_S_2.jpg"</span><span class="op">,</span></span>
<span id="cb18-16"><a href="#cb18-16"></a>    <span class="st">"images/0_D_1.jpg"</span><span class="op">,</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>    <span class="st">"images/0_D_2.jpg"</span></span>
<span id="cb18-18"><a href="#cb18-18"></a>  ]</span>
<span id="cb18-19"><a href="#cb18-19"></a>}</span>
<span id="cb18-20"><a href="#cb18-20"></a></span>
<span id="cb18-21"><a href="#cb18-21"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb18-22"><a href="#cb18-22"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb18-23"><a href="#cb18-23"></a>    {</span>
<span id="cb18-24"><a href="#cb18-24"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-25"><a href="#cb18-25"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb18-26"><a href="#cb18-26"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb18-27"><a href="#cb18-27"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb18-28"><a href="#cb18-28"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb18-29"><a href="#cb18-29"></a>    }<span class="op">,</span></span>
<span id="cb18-30"><a href="#cb18-30"></a>    {</span>
<span id="cb18-31"><a href="#cb18-31"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb18-32"><a href="#cb18-32"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb18-33"><a href="#cb18-33"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb18-34"><a href="#cb18-34"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb18-35"><a href="#cb18-35"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb18-36"><a href="#cb18-36"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb18-37"><a href="#cb18-37"></a>    }</span>
<span id="cb18-38"><a href="#cb18-38"></a>  ]<span class="op">,</span></span>
<span id="cb18-39"><a href="#cb18-39"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb18-40"><a href="#cb18-40"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb18-41"><a href="#cb18-41"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb18-42"><a href="#cb18-42"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb18-43"><a href="#cb18-43"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_2.jpg"</span>}</span>
<span id="cb18-44"><a href="#cb18-44"></a>  ]<span class="op">,</span></span>
<span id="cb18-45"><a href="#cb18-45"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb18-46"><a href="#cb18-46"></a>}</span>
<span id="cb18-47"><a href="#cb18-47"></a></span>
<span id="cb18-48"><a href="#cb18-48"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb18-49"><a href="#cb18-49"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb18-50"><a href="#cb18-50"></a>  preload<span class="op">,</span></span>
<span id="cb18-51"><a href="#cb18-51"></a>  welcome<span class="op">,</span></span>
<span id="cb18-52"><a href="#cb18-52"></a>  easy_block</span>
<span id="cb18-53"><a href="#cb18-53"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div id="demo-container-6" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-6" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst preload = {\n  type: jsPsychPreload,\n  images: [\n    \'media/0_S_1.jpg\',\n    \'media/0_S_2.jpg\',\n    \'media/0_D_1.jpg\',\n    \'media/0_D_2.jpg\'\n  ]\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'},\n    {image: \'media/0_S_2.jpg\'},\n    {image: \'media/0_D_1.jpg\'},\n    {image: \'media/0_D_2.jpg\'},\n  ],\n  randomize_order: true\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  preload,\n  welcome,\n  easy_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-6');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-6" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const preload = {
  type: jsPsychPreload,
  images: [
    'media/0_S_1.jpg',
    'media/0_S_2.jpg',
    'media/0_D_1.jpg',
    'media/0_D_2.jpg'
  ]
}

const easy_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'},
    {image: 'media/0_S_2.jpg'},
    {image: 'media/0_D_1.jpg'},
    {image: 'media/0_D_2.jpg'},
  ],
  randomize_order: true
}

// 3. Run jsPsych with our trials
jsPsych.run([
  preload,
  welcome,
  easy_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-6&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-6&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-a-medium-difficulty-block" class="level3" data-number="13.2.7">
<h3 data-number="13.2.7" class="anchored" data-anchor-id="add-a-medium-difficulty-block"><span class="header-section-number">13.2.7</span> Add a Medium Difficulty Block</h3>
<p>Let‚Äôs up the difficulty and create a second block of trials that has some more difficult trials.</p>
<p>There are three things that need to happen:</p>
<ol type="1">
<li>Create a <code>medium_block</code> timeline with different images (otherwise it‚Äôs identical to the <code>easy_block</code>) [lines 52 to 77]</li>
<li>Add our new images to the <code>preload</code> [lines 17 to 21]</li>
<li>Add our <code>medium_block</code> to the <code>jsPsych.run()</code> function [lines 83 to 84]</li>
</ol>
<div class="cell">
<style type="text/css">
/* CB20 */


/* CB21 */
[id^="cb21-"]:nth-child(n+17):nth-child(-n+21),
[id^="cb21-"]:nth-child(n+52):nth-child(-n+77),
[id^="cb21-"]:nth-child(n+83):nth-child(-n+84){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>    </span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13"></a></span>
<span id="cb20-14"><a href="#cb20-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb20-15"><a href="#cb20-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-16"><a href="#cb20-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb20-19"><a href="#cb20-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-20"><a href="#cb20-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-21"><a href="#cb20-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>}</span>
<span id="cb21-10"><a href="#cb21-10"></a></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="kw">const</span> preload <span class="op">=</span> {</span>
<span id="cb21-12"><a href="#cb21-12"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb21-13"><a href="#cb21-13"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb21-14"><a href="#cb21-14"></a>    <span class="st">"images/0_S_1.jpg"</span><span class="op">,</span></span>
<span id="cb21-15"><a href="#cb21-15"></a>    <span class="st">"images/0_S_2.jpg"</span><span class="op">,</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>    <span class="st">"images/0_D_1.jpg"</span><span class="op">,</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="st">"images/0_D_2.jpg"</span><span class="op">,</span></span>
<span id="cb21-18"><a href="#cb21-18"></a>    <span class="st">"images/50_S_1.jpg"</span><span class="op">,</span></span>
<span id="cb21-19"><a href="#cb21-19"></a>    <span class="st">"images/50_S_2.jpg"</span><span class="op">,</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>    <span class="st">"images/50_D_1.jpg"</span><span class="op">,</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>    <span class="st">"images/50_D_2.jpg"</span></span>
<span id="cb21-22"><a href="#cb21-22"></a>  ]</span>
<span id="cb21-23"><a href="#cb21-23"></a>}</span>
<span id="cb21-24"><a href="#cb21-24"></a></span>
<span id="cb21-25"><a href="#cb21-25"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb21-26"><a href="#cb21-26"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb21-27"><a href="#cb21-27"></a>    {</span>
<span id="cb21-28"><a href="#cb21-28"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-29"><a href="#cb21-29"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-30"><a href="#cb21-30"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-31"><a href="#cb21-31"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>    }<span class="op">,</span></span>
<span id="cb21-34"><a href="#cb21-34"></a>    {</span>
<span id="cb21-35"><a href="#cb21-35"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb21-36"><a href="#cb21-36"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb21-37"><a href="#cb21-37"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-38"><a href="#cb21-38"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb21-39"><a href="#cb21-39"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb21-40"><a href="#cb21-40"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-41"><a href="#cb21-41"></a>    }</span>
<span id="cb21-42"><a href="#cb21-42"></a>  ]<span class="op">,</span></span>
<span id="cb21-43"><a href="#cb21-43"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb21-44"><a href="#cb21-44"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-45"><a href="#cb21-45"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-46"><a href="#cb21-46"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-47"><a href="#cb21-47"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_2.jpg"</span>}</span>
<span id="cb21-48"><a href="#cb21-48"></a>  ]<span class="op">,</span></span>
<span id="cb21-49"><a href="#cb21-49"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-50"><a href="#cb21-50"></a>}</span>
<span id="cb21-51"><a href="#cb21-51"></a></span>
<span id="cb21-52"><a href="#cb21-52"></a><span class="kw">const</span> medium_block <span class="op">=</span> {</span>
<span id="cb21-53"><a href="#cb21-53"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb21-54"><a href="#cb21-54"></a>    {</span>
<span id="cb21-55"><a href="#cb21-55"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-56"><a href="#cb21-56"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-57"><a href="#cb21-57"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-58"><a href="#cb21-58"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb21-59"><a href="#cb21-59"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-60"><a href="#cb21-60"></a>    }<span class="op">,</span></span>
<span id="cb21-61"><a href="#cb21-61"></a>    {</span>
<span id="cb21-62"><a href="#cb21-62"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb21-63"><a href="#cb21-63"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb21-64"><a href="#cb21-64"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb21-65"><a href="#cb21-65"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb21-66"><a href="#cb21-66"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb21-67"><a href="#cb21-67"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb21-68"><a href="#cb21-68"></a>    }</span>
<span id="cb21-69"><a href="#cb21-69"></a>  ]<span class="op">,</span></span>
<span id="cb21-70"><a href="#cb21-70"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb21-71"><a href="#cb21-71"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-72"><a href="#cb21-72"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-73"><a href="#cb21-73"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb21-74"><a href="#cb21-74"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_D_2.jpg"</span>}</span>
<span id="cb21-75"><a href="#cb21-75"></a>  ]<span class="op">,</span></span>
<span id="cb21-76"><a href="#cb21-76"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-77"><a href="#cb21-77"></a>}</span>
<span id="cb21-78"><a href="#cb21-78"></a></span>
<span id="cb21-79"><a href="#cb21-79"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb21-80"><a href="#cb21-80"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb21-81"><a href="#cb21-81"></a>  preload<span class="op">,</span></span>
<span id="cb21-82"><a href="#cb21-82"></a>  welcome<span class="op">,</span></span>
<span id="cb21-83"><a href="#cb21-83"></a>  easy_block<span class="op">,</span></span>
<span id="cb21-84"><a href="#cb21-84"></a>  medium_block</span>
<span id="cb21-85"><a href="#cb21-85"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div id="demo-container-7" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-7" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst preload = {\n  type: jsPsychPreload,\n  images: [\n    \'media/0_S_1.jpg\',\n    \'media/0_S_2.jpg\',\n    \'media/0_D_1.jpg\',\n    \'media/0_D_2.jpg\',\n    \'media/50_S_1.jpg\',\n    \'media/50_S_2.jpg\',\n    \'media/50_D_1.jpg\',\n    \'media/50_D_2.jpg\'\n  ]\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'},\n    {image: \'media/0_S_2.jpg\'},\n    {image: \'media/0_D_1.jpg\'},\n    {image: \'media/0_D_2.jpg\'}\n  ],\n  randomize_order: true\n}\n\nconst medium_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/50_S_1.jpg\'},\n    {image: \'media/50_S_2.jpg\'},\n    {image: \'media/50_D_1.jpg\'},\n    {image: \'media/50_D_2.jpg\'}\n  ],\n  randomize_order: true\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  preload,\n  welcome,\n  easy_block,\n  medium_block\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-7');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-7" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const preload = {
  type: jsPsychPreload,
  images: [
    'media/0_S_1.jpg',
    'media/0_S_2.jpg',
    'media/0_D_1.jpg',
    'media/0_D_2.jpg',
    'media/50_S_1.jpg',
    'media/50_S_2.jpg',
    'media/50_D_1.jpg',
    'media/50_D_2.jpg'
  ]
}

const easy_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'},
    {image: 'media/0_S_2.jpg'},
    {image: 'media/0_D_1.jpg'},
    {image: 'media/0_D_2.jpg'}
  ],
  randomize_order: true
}

const medium_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/50_S_1.jpg'},
    {image: 'media/50_S_2.jpg'},
    {image: 'media/50_D_1.jpg'},
    {image: 'media/50_D_2.jpg'}
  ],
  randomize_order: true
}

// 3. Run jsPsych with our trials
jsPsych.run([
  preload,
  welcome,
  easy_block,
  medium_block
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-7&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-7&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-some-additional-instruction-and-debrief-screens" class="level3" data-number="13.2.8">
<h3 data-number="13.2.8" class="anchored" data-anchor-id="add-some-additional-instruction-and-debrief-screens"><span class="header-section-number">13.2.8</span> Add some additional instruction and debrief screens</h3>
<p>Before we finish, let‚Äôs tidy up our experiment by providing a few additional trials that happen between each block and one that tells the participant the experiment is finished at the end.</p>
<div class="cell">
<style type="text/css">
/* CB23 */


/* CB24 */
[id^="cb24-"]:nth-child(n+25):nth-child(-n+32),
[id^="cb24-"]:nth-child(n+61):nth-child(-n+68),
[id^="cb24-"]:nth-child(n+97):nth-child(-n+104),
[id^="cb24-"]:nth-child(n+109):nth-child(-n+114)
{
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB25 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-4" role="tab" aria-controls="tabset-8-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb23-1"><a href="#cb23-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 4: Mental Imagery<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8"></a>    </span>
<span id="cb23-9"><a href="#cb23-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-12"><a href="#cb23-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-13"><a href="#cb23-13"></a></span>
<span id="cb23-14"><a href="#cb23-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-17"><a href="#cb23-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-18"><a href="#cb23-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb23-19"><a href="#cb23-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-20"><a href="#cb23-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-21"><a href="#cb23-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1"></a><span class="co">// 1. Initialize jsPsych</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span></span>
<span id="cb24-3"><a href="#cb24-3"></a></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="co">// 2. Define our trials</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="kw">const</span> welcome <span class="op">=</span> {</span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`Welcome to the Experiment! Press any key to begin.`</span><span class="op">,</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb24-9"><a href="#cb24-9"></a>}</span>
<span id="cb24-10"><a href="#cb24-10"></a></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="kw">const</span> preload <span class="op">=</span> {</span>
<span id="cb24-12"><a href="#cb24-12"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb24-13"><a href="#cb24-13"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb24-14"><a href="#cb24-14"></a>    <span class="st">"images/0_S_1.jpg"</span><span class="op">,</span></span>
<span id="cb24-15"><a href="#cb24-15"></a>    <span class="st">"images/0_S_2.jpg"</span><span class="op">,</span></span>
<span id="cb24-16"><a href="#cb24-16"></a>    <span class="st">"images/0_D_1.jpg"</span><span class="op">,</span></span>
<span id="cb24-17"><a href="#cb24-17"></a>    <span class="st">"images/0_D_2.jpg"</span><span class="op">,</span></span>
<span id="cb24-18"><a href="#cb24-18"></a>    <span class="st">"images/50_S_1.jpg"</span><span class="op">,</span></span>
<span id="cb24-19"><a href="#cb24-19"></a>    <span class="st">"images/50_S_2.jpg"</span><span class="op">,</span></span>
<span id="cb24-20"><a href="#cb24-20"></a>    <span class="st">"images/50_D_1.jpg"</span><span class="op">,</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>    <span class="st">"images/50_D_2.jpg"</span></span>
<span id="cb24-22"><a href="#cb24-22"></a>  ]</span>
<span id="cb24-23"><a href="#cb24-23"></a>}</span>
<span id="cb24-24"><a href="#cb24-24"></a></span>
<span id="cb24-25"><a href="#cb24-25"></a><span class="kw">const</span> easy_intro <span class="op">=</span> {</span>
<span id="cb24-26"><a href="#cb24-26"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-27"><a href="#cb24-27"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb24-28"><a href="#cb24-28"></a><span class="vs">    &lt;p&gt;First, you will complete a block of easy trials.&lt;/p&gt;</span></span>
<span id="cb24-29"><a href="#cb24-29"></a><span class="vs">    &lt;p&gt;When you are ready for the first block, press any key&lt;/p&gt;</span></span>
<span id="cb24-30"><a href="#cb24-30"></a><span class="vs">    `</span><span class="op">,</span></span>
<span id="cb24-31"><a href="#cb24-31"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>}</span>
<span id="cb24-33"><a href="#cb24-33"></a></span>
<span id="cb24-34"><a href="#cb24-34"></a><span class="kw">const</span> easy_block <span class="op">=</span> {</span>
<span id="cb24-35"><a href="#cb24-35"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb24-36"><a href="#cb24-36"></a>    {</span>
<span id="cb24-37"><a href="#cb24-37"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-38"><a href="#cb24-38"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb24-39"><a href="#cb24-39"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-40"><a href="#cb24-40"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb24-41"><a href="#cb24-41"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb24-42"><a href="#cb24-42"></a>    }<span class="op">,</span></span>
<span id="cb24-43"><a href="#cb24-43"></a>    {</span>
<span id="cb24-44"><a href="#cb24-44"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb24-45"><a href="#cb24-45"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb24-46"><a href="#cb24-46"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb24-47"><a href="#cb24-47"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb24-48"><a href="#cb24-48"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb24-49"><a href="#cb24-49"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb24-50"><a href="#cb24-50"></a>    }</span>
<span id="cb24-51"><a href="#cb24-51"></a>  ]<span class="op">,</span></span>
<span id="cb24-52"><a href="#cb24-52"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb24-53"><a href="#cb24-53"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-54"><a href="#cb24-54"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-55"><a href="#cb24-55"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-56"><a href="#cb24-56"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/0_D_2.jpg"</span>}</span>
<span id="cb24-57"><a href="#cb24-57"></a>  ]<span class="op">,</span></span>
<span id="cb24-58"><a href="#cb24-58"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-59"><a href="#cb24-59"></a>}</span>
<span id="cb24-60"><a href="#cb24-60"></a></span>
<span id="cb24-61"><a href="#cb24-61"></a><span class="kw">const</span> medium_intro <span class="op">=</span> {</span>
<span id="cb24-62"><a href="#cb24-62"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-63"><a href="#cb24-63"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb24-64"><a href="#cb24-64"></a><span class="vs">    &lt;p&gt;Great! Now you will complete a block of more difficult trials.&lt;/p&gt;</span></span>
<span id="cb24-65"><a href="#cb24-65"></a><span class="vs">    &lt;p&gt;When you are ready for the this block, press any key&lt;/p&gt;</span></span>
<span id="cb24-66"><a href="#cb24-66"></a><span class="vs">    `</span><span class="op">,</span></span>
<span id="cb24-67"><a href="#cb24-67"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb24-68"><a href="#cb24-68"></a>}</span>
<span id="cb24-69"><a href="#cb24-69"></a></span>
<span id="cb24-70"><a href="#cb24-70"></a><span class="kw">const</span> medium_block <span class="op">=</span> {</span>
<span id="cb24-71"><a href="#cb24-71"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb24-72"><a href="#cb24-72"></a>    {</span>
<span id="cb24-73"><a href="#cb24-73"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-74"><a href="#cb24-74"></a>      <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;p style="font-size:48px"&gt;+&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb24-75"><a href="#cb24-75"></a>      <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-76"><a href="#cb24-76"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">750</span><span class="op">,</span></span>
<span id="cb24-77"><a href="#cb24-77"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb24-78"><a href="#cb24-78"></a>    }<span class="op">,</span></span>
<span id="cb24-79"><a href="#cb24-79"></a>    {</span>
<span id="cb24-80"><a href="#cb24-80"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb24-81"><a href="#cb24-81"></a>      <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb24-82"><a href="#cb24-82"></a>      <span class="dt">prompt</span><span class="op">:</span> <span class="vs">`&lt;p&gt;Press "S" if the images are the same or "D", if they are different&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb24-83"><a href="#cb24-83"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"s"</span><span class="op">,</span> <span class="st">"d"</span>]<span class="op">,</span></span>
<span id="cb24-84"><a href="#cb24-84"></a>      <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb24-85"><a href="#cb24-85"></a>      <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">250</span></span>
<span id="cb24-86"><a href="#cb24-86"></a>    }</span>
<span id="cb24-87"><a href="#cb24-87"></a>  ]<span class="op">,</span></span>
<span id="cb24-88"><a href="#cb24-88"></a>  <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb24-89"><a href="#cb24-89"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_S_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-90"><a href="#cb24-90"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_S_2.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-91"><a href="#cb24-91"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_D_1.jpg"</span>}<span class="op">,</span></span>
<span id="cb24-92"><a href="#cb24-92"></a>    {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/50_D_2.jpg"</span>}</span>
<span id="cb24-93"><a href="#cb24-93"></a>  ]<span class="op">,</span></span>
<span id="cb24-94"><a href="#cb24-94"></a>  <span class="dt">randomize_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-95"><a href="#cb24-95"></a>}</span>
<span id="cb24-96"><a href="#cb24-96"></a></span>
<span id="cb24-97"><a href="#cb24-97"></a><span class="kw">const</span> debrief <span class="op">=</span>  {</span>
<span id="cb24-98"><a href="#cb24-98"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-99"><a href="#cb24-99"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb24-100"><a href="#cb24-100"></a><span class="vs">    &lt;p&gt;The experiment is now complete.&lt;/p&gt;</span></span>
<span id="cb24-101"><a href="#cb24-101"></a><span class="vs">    &lt;p&gt;Thank you for completing our study, you may now safely close the browser.&lt;/p&gt;</span></span>
<span id="cb24-102"><a href="#cb24-102"></a><span class="vs">    `</span><span class="op">,</span></span>
<span id="cb24-103"><a href="#cb24-103"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"ALL_KEYS"</span></span>
<span id="cb24-104"><a href="#cb24-104"></a>}</span>
<span id="cb24-105"><a href="#cb24-105"></a></span>
<span id="cb24-106"><a href="#cb24-106"></a><span class="co">// 3. Run jsPsych with our trials</span></span>
<span id="cb24-107"><a href="#cb24-107"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb24-108"><a href="#cb24-108"></a>  preload<span class="op">,</span></span>
<span id="cb24-109"><a href="#cb24-109"></a>  welcome<span class="op">,</span></span>
<span id="cb24-110"><a href="#cb24-110"></a>  easy_intro<span class="op">,</span></span>
<span id="cb24-111"><a href="#cb24-111"></a>  easy_block<span class="op">,</span></span>
<span id="cb24-112"><a href="#cb24-112"></a>  medium_intro<span class="op">,</span></span>
<span id="cb24-113"><a href="#cb24-113"></a>  medium_block<span class="op">,</span></span>
<span id="cb24-114"><a href="#cb24-114"></a>  debrief</span>
<span id="cb24-115"><a href="#cb24-115"></a>])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-4-tab">
<div id="demo-container-8" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-8" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n// 2. Define our trials\n// 2. Define our trials\nconst welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `Welcome to the Experiment! Press any key to begin.`,\n  choices: \'ALL_KEYS\'\n}\n\nconst preload = {\n  type: jsPsychPreload,\n  images: [\n    \'media/0_S_1.jpg\',\n    \'media/0_S_2.jpg\',\n    \'media/0_D_1.jpg\',\n    \'media/0_D_2.jpg\',\n    \'media/50_S_1.jpg\',\n    \'media/50_S_2.jpg\',\n    \'media/50_D_1.jpg\',\n    \'media/50_D_2.jpg\'\n  ]\n}\nconst easy_intro = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <p>First, you will complete a block of easy trials.</p>\n    <p>When you are ready for the first block, press any key</p>\n    `,\n  choices: \'ALL_KEYS\'\n}\n\nconst easy_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/0_S_1.jpg\'},\n    {image: \'media/0_S_2.jpg\'},\n    {image: \'media/0_D_1.jpg\'},\n    {image: \'media/0_D_2.jpg\'}\n  ],\n  randomize_order: true\n}\n\nconst medium_intro = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <p>Great! Now you will complete a block of more difficult trials.</p>\n    <p>When you are ready for the this block, press any key</p>\n    `,\n  choices: \'ALL_KEYS\'\n}\n\nconst medium_block = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n      stimulus: `<p style=\'font-size:48px\'>+</p>`,\n      choices: \'NO_KEYS\',\n      trial_duration: 750,\n      post_trial_gap: 250\n    },\n    {\n      type: jsPsychImageKeyboardResponse,\n      stimulus: jsPsych.timelineVariable(\'image\'),\n      prompt: `<p>Press \'S\' if the images are the same or \'D\', if they are different</p>`,\n      choices: [\'s\', \'d\'],\n      stimulus_width: 300,\n      post_trial_gap: 250\n    }\n  ],\n  timeline_variables: [\n    {image: \'media/50_S_1.jpg\'},\n    {image: \'media/50_S_2.jpg\'},\n    {image: \'media/50_D_1.jpg\'},\n    {image: \'media/50_D_2.jpg\'}\n  ],\n  randomize_order: true\n}\n\nconst debrief =  {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <p>The experiment is now complete.</p>\n    <p>Thank you for completing our study, you may now safely close the browser.</p>\n    `,\n  choices: \'ALL_KEYS\'\n}\n\n// 3. Run jsPsych with our trials\njsPsych.run([\n  preload,\n  welcome,\n  easy_intro,\n  easy_block,\n  medium_intro,\n  medium_block,\n  debrief\n]);\n  \n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-8');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-8" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});


// 2. Define our trials
// 2. Define our trials
const welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `Welcome to the Experiment! Press any key to begin.`,
  choices: 'ALL_KEYS'
}

const preload = {
  type: jsPsychPreload,
  images: [
    'media/0_S_1.jpg',
    'media/0_S_2.jpg',
    'media/0_D_1.jpg',
    'media/0_D_2.jpg',
    'media/50_S_1.jpg',
    'media/50_S_2.jpg',
    'media/50_D_1.jpg',
    'media/50_D_2.jpg'
  ]
}
const easy_intro = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <p>First, you will complete a block of easy trials.</p>
    <p>When you are ready for the first block, press any key</p>
    `,
  choices: 'ALL_KEYS'
}

const easy_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/0_S_1.jpg'},
    {image: 'media/0_S_2.jpg'},
    {image: 'media/0_D_1.jpg'},
    {image: 'media/0_D_2.jpg'}
  ],
  randomize_order: true
}

const medium_intro = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <p>Great! Now you will complete a block of more difficult trials.</p>
    <p>When you are ready for the this block, press any key</p>
    `,
  choices: 'ALL_KEYS'
}

const medium_block = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `<p style='font-size:48px'>+</p>`,
      choices: 'NO_KEYS',
      trial_duration: 750,
      post_trial_gap: 250
    },
    {
      type: jsPsychImageKeyboardResponse,
      stimulus: jsPsych.timelineVariable('image'),
      prompt: `<p>Press 'S' if the images are the same or 'D', if they are different</p>`,
      choices: ['s', 'd'],
      stimulus_width: 300,
      post_trial_gap: 250
    }
  ],
  timeline_variables: [
    {image: 'media/50_S_1.jpg'},
    {image: 'media/50_S_2.jpg'},
    {image: 'media/50_D_1.jpg'},
    {image: 'media/50_D_2.jpg'}
  ],
  randomize_order: true
}

const debrief =  {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <p>The experiment is now complete.</p>
    <p>Thank you for completing our study, you may now safely close the browser.</p>
    `,
  choices: 'ALL_KEYS'
}

// 3. Run jsPsych with our trials
jsPsych.run([
  preload,
  welcome,
  easy_intro,
  easy_block,
  medium_intro,
  medium_block,
  debrief
]);
  
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-8&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-8&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stretch-goals" class="level2" data-number="13.3">
<h2 data-number="13.3" class="anchored" data-anchor-id="stretch-goals"><span class="header-section-number">13.3</span> Stretch Goals</h2>
<section id="add-instructions" class="level3" data-number="13.3.1">
<h3 data-number="13.3.1" class="anchored" data-anchor-id="add-instructions"><span class="header-section-number">13.3.1</span> Add Instructions</h3>
<p>Use the <code>jsPsychInstructions</code> plugin to add these instructions to the experiment. Do your best to style it the way it is styled here.</p>
<p>Reminder: Don‚Äôt forget to add the instructions plugin to your <code>&lt;head&gt;</code>!</p>
<p>Instructions:</p>
<p><strong>Page 1:</strong><br>
In this experiment, you will see two images of 3D objects.</p>
<p>Your task is to indicate whether the two objects are the same or if they are different.</p>
<p><strong>Page 2:</strong><br>
The objects may be rotated at different angles, so you will need to mentally rotate them to compare their shapes.</p>
<p><strong>Press ‚ÄòS‚Äô</strong> if the objects are the <strong>same</strong> shape.</p>
<p><strong>Press ‚ÄòD‚Äô</strong> if the objects are <strong>different</strong> shapes.</p>
<p>Try to respond as quickly and accurately as possible.</p>
<p><strong>Page 3:</strong><br>
<strong>Example - SAME objects:</strong></p>
<p>Insert Image Here: ‚Äúmedia/100_S_1.jpg‚Äù</p>
<p>These objects are the same shape, just rotated differently.<br>
You would press <strong>‚ÄòS‚Äô</strong> for this pair.</p>
<p><strong>Page 4:</strong><br>
<strong>Example - DIFFERENT objects:</strong></p>
<p>Insert Image Here: ‚Äúmedia/100_D_1.jpg‚Äù</p>
<p>These objects are different shapes.<br>
You would press <strong>‚ÄòD‚Äô</strong> for this pair.</p>
<p>Click ‚ÄòNext‚Äô when you‚Äôre ready to begin the experiment.</p>
</section>
<section id="add-a-third-mixed-block-of-trials" class="level3" data-number="13.3.2">
<h3 data-number="13.3.2" class="anchored" data-anchor-id="add-a-third-mixed-block-of-trials"><span class="header-section-number">13.3.2</span> Add a third ‚ÄúMixed‚Äù block of trials</h3>
<p>In a proper mental rotation task, we need to mix in trials of all rotations. Let‚Äôs add a third block called <code>mixed_block</code> that has one of each type of rotation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>"images/0_S_3.jpg"</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>"images/0_D_3.jpg"</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>"images/50_S_3.jpg"</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>"images/50_D_3.jpg"</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>"images/100_S_3.jpg"</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>"images/100_D_3.jpg"</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>"images/150_S_3.jpg"</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>"images/150_D_3.jpg"</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Make sure you add a <code>mixed_intro</code> to tell the participant that they are about to begin the experimental trials.</p>
</section>
<section id="change-the-style" class="level3" data-number="13.3.3">
<h3 data-number="13.3.3" class="anchored" data-anchor-id="change-the-style"><span class="header-section-number">13.3.3</span> Change the style</h3>
<p>Since the mental rotation images are white on a black background, try updating the <code>style.css</code> file to make the whole experiment have a black background and white font.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./12-multimedia.html" class="pagination-link" aria-label="Multimedia">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./14-data.html" class="pagination-link" aria-label="Saving and Labeling Data">
        <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/13-L05.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>