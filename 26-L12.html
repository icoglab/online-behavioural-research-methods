<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>26&nbsp; Lab 12: Implicit Learning – Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./A01_JS_Builtins.html" rel="next">
<link href="./25-gamification.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f4f6c4c33169695420a9dce568207992.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
.tabset-fullscreen-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  z-index: 1000;
  padding: 5px 10px;
  background-color: none;
  color: #6c757d;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
}
.tabset-fullscreen-btn:hover {
  background-color: #e9ecef;
  color: #495057;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.panel-tabset').forEach(function(tabset) {
    const btn = document.createElement('button');
    btn.innerHTML = '⛶ Open Code in New Tab';
    btn.className = 'tabset-fullscreen-btn';

    tabset.style.position = 'relative';
    tabset.insertBefore(btn, tabset.firstChild);

    btn.addEventListener('click', function() {
      const clone = tabset.cloneNode(true);
      const cloneBtn = clone.querySelector('.tabset-fullscreen-btn');
      if (cloneBtn) cloneBtn.remove();

      // Get all stylesheets from current page
      const stylesheets = Array.from(document.styleSheets)
        .map(sheet => {
          try {
            if (sheet.href) {
              return `<link rel="stylesheet" href="${sheet.href}">`;
            } else if (sheet.ownerNode) {
              return `<style>${Array.from(sheet.cssRules).map(rule => rule.cssText).join('\n')}</style>`;
            }
          } catch (e) {
            if (sheet.href) return `<link rel="stylesheet" href="${sheet.href}">`;
          }
          return '';
        })
        .join('\n');

      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <html>
          <head>
            <title>Tab Panel View</title>
            ${stylesheets}
            <style>
              body { 
                margin: 20px auto; 
                padding: 20px; 
                max-width: 1200px;
              }
            </style>
          </head>
          <body>
            ${clone.outerHTML}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"><\/script>
          </body>
        </html>
      `);
      newWindow.document.close();
    });
  });
});
</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./25-gamification.html">Unit 11: Gamification</a></li><li class="breadcrumb-item"><a href="./26-L12.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 5: Multimedia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-multimedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-L05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 6: Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-data-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Accessing and Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-L06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab 6: Creativity</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 7: Dynamic Parameters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-dynamic-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dynamic Parameters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-L07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 8: Controlling the Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-dynamic-flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Controlling the Flow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-L08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Lab 8: Cognitive Control</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 9: Skills Checkpoint</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-L09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Lab 9: Working Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 10: Randomization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Randomization in Experimental Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-L10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-L11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 11: Gamification</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./25-gamification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./26-L12.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#research-in-brief" id="toc-research-in-brief" class="nav-link active" data-scroll-target="#research-in-brief"><span class="header-section-number">26.1</span> Research in Brief</a>
  <ul class="collapse">
  <li><a href="#the-research-area" id="toc-the-research-area" class="nav-link" data-scroll-target="#the-research-area"><span class="header-section-number">26.1.1</span> The Research Area</a></li>
  <li><a href="#types-of-learning-and-knowledge" id="toc-types-of-learning-and-knowledge" class="nav-link" data-scroll-target="#types-of-learning-and-knowledge"><span class="header-section-number">26.1.2</span> Types of Learning and Knowledge</a></li>
  <li><a href="#the-research-design-the-serial-reaction-time-task" id="toc-the-research-design-the-serial-reaction-time-task" class="nav-link" data-scroll-target="#the-research-design-the-serial-reaction-time-task"><span class="header-section-number">26.1.3</span> The Research Design: The Serial Reaction Time Task</a></li>
  <li><a href="#key-findings-learning-without-awareness" id="toc-key-findings-learning-without-awareness" class="nav-link" data-scroll-target="#key-findings-learning-without-awareness"><span class="header-section-number">26.1.4</span> Key Findings: Learning Without Awareness</a></li>
  <li><a href="#implications" id="toc-implications" class="nav-link" data-scroll-target="#implications"><span class="header-section-number">26.1.5</span> Implications</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">26.1.6</span> Further Reading</a></li>
  </ul></li>
  <li><a href="#gamify-an-implicit-learning-task" id="toc-gamify-an-implicit-learning-task" class="nav-link" data-scroll-target="#gamify-an-implicit-learning-task"><span class="header-section-number">26.2</span> Gamify an Implicit Learning Task</a>
  <ul class="collapse">
  <li><a href="#a-fully-working-experiment" id="toc-a-fully-working-experiment" class="nav-link" data-scroll-target="#a-fully-working-experiment"><span class="header-section-number">26.2.1</span> A fully working experiment!</a></li>
  <li><a href="#the-end-result" id="toc-the-end-result" class="nav-link" data-scroll-target="#the-end-result"><span class="header-section-number">26.2.2</span> The End Result</a></li>
  </ul></li>
  <li><a href="#stage-1-basic-game-with-animations" id="toc-stage-1-basic-game-with-animations" class="nav-link" data-scroll-target="#stage-1-basic-game-with-animations"><span class="header-section-number">26.3</span> Stage 1: Basic Game with Animations</a>
  <ul class="collapse">
  <li><a href="#create-a-game-display" id="toc-create-a-game-display" class="nav-link" data-scroll-target="#create-a-game-display"><span class="header-section-number">26.3.1</span> Create a Game Display</a></li>
  <li><a href="#replace-targets-with-zombies" id="toc-replace-targets-with-zombies" class="nav-link" data-scroll-target="#replace-targets-with-zombies"><span class="header-section-number">26.3.2</span> Replace Targets with Zombies</a></li>
  <li><a href="#add-feedback-animations" id="toc-add-feedback-animations" class="nav-link" data-scroll-target="#add-feedback-animations"><span class="header-section-number">26.3.3</span> Add Feedback Animations</a></li>
  <li><a href="#update-the-display" id="toc-update-the-display" class="nav-link" data-scroll-target="#update-the-display"><span class="header-section-number">26.3.4</span> Update the Display</a></li>
  <li><a href="#update-instructions-welcome-game-over" id="toc-update-instructions-welcome-game-over" class="nav-link" data-scroll-target="#update-instructions-welcome-game-over"><span class="header-section-number">26.3.5</span> Update Instructions, Welcome, &amp; Game Over</a></li>
  <li><a href="#additional-score-animations" id="toc-additional-score-animations" class="nav-link" data-scroll-target="#additional-score-animations"><span class="header-section-number">26.3.6</span> Additional Score Animations</a></li>
  </ul></li>
  <li><a href="#stage-2-sound-music" id="toc-stage-2-sound-music" class="nav-link" data-scroll-target="#stage-2-sound-music"><span class="header-section-number">26.4</span> Stage 2: Sound &amp; Music</a>
  <ul class="collapse">
  <li><a href="#add-sound-effects" id="toc-add-sound-effects" class="nav-link" data-scroll-target="#add-sound-effects"><span class="header-section-number">26.4.1</span> Add Sound Effects</a></li>
  <li><a href="#add-looping-background-music" id="toc-add-looping-background-music" class="nav-link" data-scroll-target="#add-looping-background-music"><span class="header-section-number">26.4.2</span> Add Looping Background Music</a></li>
  </ul></li>
  <li><a href="#stage-3-health-death-and-restart" id="toc-stage-3-health-death-and-restart" class="nav-link" data-scroll-target="#stage-3-health-death-and-restart"><span class="header-section-number">26.5</span> Stage 3: Health, Death, and Restart</a>
  <ul class="collapse">
  <li><a href="#add-a-health-tracker" id="toc-add-a-health-tracker" class="nav-link" data-scroll-target="#add-a-health-tracker"><span class="header-section-number">26.5.1</span> Add a Health Tracker</a></li>
  <li><a href="#add-a-deathrestart-screen" id="toc-add-a-deathrestart-screen" class="nav-link" data-scroll-target="#add-a-deathrestart-screen"><span class="header-section-number">26.5.2</span> Add a Death/Restart Screen</a></li>
  <li><a href="#update-the-high-score" id="toc-update-the-high-score" class="nav-link" data-scroll-target="#update-the-high-score"><span class="header-section-number">26.5.3</span> Update the High Score</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/26-L12.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./25-gamification.html">Unit 11: Gamification</a></li><li class="breadcrumb-item"><a href="./26-L12.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Lab 12: Implicit Learning</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="research-in-brief" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="research-in-brief"><span class="header-section-number">26.1</span> Research in Brief</h2>
<section id="the-research-area" class="level3" data-number="26.1.1">
<h3 data-number="26.1.1" class="anchored" data-anchor-id="the-research-area"><span class="header-section-number">26.1.1</span> The Research Area</h3>
<p>Implicit learning refers to the acquisition of knowledge about patterns, regularities, or relationships in the environment without conscious awareness or intention to learn. Unlike explicit learning, where we deliberately study material with full awareness of what we are trying to master, implicit learning occurs as a byproduct of performing tasks and interacting with our environment. This type of learning allows us to pick up complex regularities and statistical patterns that would be difficult to learn through conscious effort alone.</p>
<p>Research on implicit learning addresses fundamental questions about the nature of consciousness, attention, and memory. Can we learn without being aware of what we are learning? Does attention play a role in acquiring implicit knowledge? How do implicitly learned patterns influence behavior? Understanding implicit learning has important implications for skill acquisition, language development, and the automatization of complex behaviors.</p>
<p>Implicit learning also connects to practical applications in areas such as motor skill development, language acquisition, and the design of training programs. Many everyday skills, from typing and driving to playing a musical instrument, involve components that are learned implicitly through repeated exposure rather than explicit instruction. To investigate these learning mechanisms systematically, researchers have developed experimental paradigms that can measure learning while controlling for conscious awareness and intentional strategies.</p>
</section>
<section id="types-of-learning-and-knowledge" class="level3" data-number="26.1.2">
<h3 data-number="26.1.2" class="anchored" data-anchor-id="types-of-learning-and-knowledge"><span class="header-section-number">26.1.2</span> Types of Learning and Knowledge</h3>
<p>Learning can be characterized along several dimensions. Explicit learning involves conscious effort and awareness of what is being learned, such as studying vocabulary words or memorizing mathematical formulas. Implicit learning occurs without conscious awareness of the learning process or the knowledge being acquired, such as learning the grammatical structure of your native language as a child.</p>
<p>The distinction between implicit and explicit learning relates closely to different types of knowledge. Declarative knowledge refers to facts and information that can be consciously recalled and verbally expressed. Procedural knowledge involves skills and procedures that guide behavior but may not be easily articulated, such as knowing how to ride a bicycle or type on a keyboard.</p>
<p>Research distinguishes between learning that requires attention and learning that can occur automatically. Some forms of implicit learning appear to require attentional resources, while others may proceed even when attention is divided across multiple tasks. The relationship between attention and implicit learning remains an active area of investigation, with implications for understanding the mechanisms underlying skill acquisition.</p>
</section>
<section id="the-research-design-the-serial-reaction-time-task" class="level3" data-number="26.1.3">
<h3 data-number="26.1.3" class="anchored" data-anchor-id="the-research-design-the-serial-reaction-time-task"><span class="header-section-number">26.1.3</span> The Research Design: The Serial Reaction Time Task</h3>
<p>The serial reaction time (SRT) task developed by Nissen and Bullemer (1987) uses a within-subjects experimental design to examine how people learn sequential patterns without explicit instruction or awareness. Participants respond to visual stimuli that follow either repeating sequences or random orders.</p>
<p>Stimulus Presentation: Participants view a display containing four possible target locations, typically arranged horizontally. On each trial, a target appears at one of these locations. The sequence of target locations either follows a repeating pattern (such as D-B-C-A-C-B-D-C-B-A, where letters represent the four positions from left to right) or appears in random order.</p>
<p>Task Requirements: Participants press corresponding keys as quickly and accurately as possible when targets appear. They are not informed about any repeating sequences and are simply instructed to respond to each target location. The task continues for multiple blocks of trials, allowing performance to be tracked over time.</p>
<p>Practice and Transfer Phases: The design typically includes practice blocks where participants respond to the repeating sequence, followed by transfer blocks where the sequence structure changes. In the forward sequence practice phase, participants respond to the standard repeating sequence. In the reversal testing phase, the sequence is reversed or replaced with random presentations to assess whether learning has occurred.</p>
<p>The within-subjects design allows researchers to compare response times during sequenced versus random blocks within the same participants. Each person experiences both conditions, acting as their own control. This approach isolates the specific effects of sequence learning while controlling for individual differences in overall response speed and motor ability. Performance improvements that are specific to the practiced sequence (and disrupted when the sequence changes) provide evidence of implicit learning.</p>
</section>
<section id="key-findings-learning-without-awareness" class="level3" data-number="26.1.4">
<h3 data-number="26.1.4" class="anchored" data-anchor-id="key-findings-learning-without-awareness"><span class="header-section-number">26.1.4</span> Key Findings: Learning Without Awareness</h3>
<p>Within-subjects comparisons have revealed that participants show substantial performance improvements when responding to repeating sequences compared to random presentations, even without awareness of the sequence structure. Response times typically decrease by 50-100 milliseconds for sequenced versus random trials after sufficient practice, with improvements developing gradually over several hundred trials.</p>
<p>When the sequence is changed to a random order or reversed during transfer blocks, response times increase significantly, returning to levels similar to early practice. This disruption demonstrates that learning was specific to the practiced sequence rather than reflecting general task improvement. The magnitude of this transfer cost provides a measure of how much sequence-specific knowledge was acquired.</p>
<p>Tests of explicit knowledge often reveal that many participants cannot verbally report the sequence or perform above chance when asked to predict upcoming locations. However, the relationship between explicit awareness and implicit learning remains debated. Some studies using process dissociation procedures have found evidence for implicit knowledge (sequence reproduction in conditions where participants try to avoid the sequence) that exists independently of explicit knowledge, particularly early in learning before explicit awareness develops.</p>
</section>
<section id="implications" class="level3" data-number="26.1.5">
<h3 data-number="26.1.5" class="anchored" data-anchor-id="implications"><span class="header-section-number">26.1.5</span> Implications</h3>
<p>The dissociation between performance improvements and conscious awareness provides evidence for implicit learning mechanisms that operate outside conscious control. This behavioral evidence is supported by neuroimaging studies showing that sequence learning involves motor areas and the basal ganglia associated with procedural learning, while explicit sequence knowledge involves hippocampal systems associated with declarative memory.</p>
<p>These findings support dual-process theories of learning and memory, demonstrating that knowledge can be acquired and expressed through multiple systems. The consistent patterns across participants suggest these represent fundamental properties of human learning rather than task-specific effects. Implicit learning may serve an adaptive function by allowing us to extract statistical regularities from the environment efficiently, freeing conscious resources for other demands.</p>
<p>The role of attention in implicit learning remains an important question. Evidence suggests that learning simple sequential associations may occur automatically without requiring attention, while learning more complex patterns with ambiguous relationships requires attentional resources. The response-effect relationship, where each response predicts the next stimulus location, appears to be a key component of what is learned in the SRT task. Some researchers propose that learning involves stimulus-response associations rather than pure perceptual or motor sequences.</p>
</section>
<section id="further-reading" class="level3" data-number="26.1.6">
<h3 data-number="26.1.6" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">26.1.6</span> Further Reading</h3>
<p>Abrahamse, E. L., Jiménez, L., Verwey, W. B., &amp; Clegg, B. A. (2010). Representing serial action and perception. Psychonomic Bulletin &amp; Review, 17(5), 603-623.</p>
<p>Cleeremans, A., &amp; McClelland, J. L. (1991). Learning the structure of event sequences. Journal of Experimental Psychology: General, 120(3), 235-253.</p>
<p>Nissen, M. J., &amp; Bullemer, P. (1987). Attentional requirements of learning: Evidence from performance measures. Cognitive Psychology, 19(1), 1-32.</p>
<p>Schwarb, H., &amp; Schumacher, E. H. (2012). Generalized lessons about sequence learning from the study of the serial reaction time task. Advances in Cognitive Psychology, 8(2), 165-178.</p>
</section>
</section>
<section id="gamify-an-implicit-learning-task" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="gamify-an-implicit-learning-task"><span class="header-section-number">26.2</span> Gamify an Implicit Learning Task</h2>
<p>In this lab tutorial, we will start with a typical laboratory version of the sequence learning task and add game elements to it.</p>
<section id="a-fully-working-experiment" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="a-fully-working-experiment"><span class="header-section-number">26.2.1</span> A fully working experiment!</h3>
<p>In this unit’s lab folder, you’ll find the code for a fully functional implicit motor learning task, as well as an additional folder containing image and audio files we’ll use to gamify this task.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>📂 L12</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>├──  📄 index.html</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>├──  📄 exp.js</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>├──  📄 style.css</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>├──  📂 assets</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>│     ├──  📂 images</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>│     └──  📂 audio</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>└──  📂 jspsych</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The experiment follows a traditional sequence learning design, where participants press a key in response to the location of a target (here, a literal target image presented in one of four squares). The sequence typically repeats a number of times so that participants implicitly learn the pattern. At some point, the sequence is reversed. This test phase reveals how disruptive it is to perform the exact opposite of what they have been practicing.</p>
<p>In the programmed experiment, you’ll note that we have set only one repetition for both the learning and test phases. Typically, you would practice the sequence many times before switching to the test phase, and then switch back to the original sequence to see if performance improves again.</p>
<p>There is also a between-subjects condition assignment. One group of participants receives implicit instructions, where they are not made aware that the sequence is repeating. The other group receives explicit instructions, where they are told that the sequence repeats and are instructed to try to learn it.</p>
<p>Nothing in the code below should be surprising to you. Review the code to make sure you understand exactly what we’re starting with.</p>
<div class="cell">
<style type="text/css">
/* CB2 */

/* CB3 */

/* CB4 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    </span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-22"><a href="#cb2-22"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a> </span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">// ============================================</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">// ============================================</span></span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">// ============================================</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">// ============================================</span></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb3-16"><a href="#cb3-16"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>    }</span>
<span id="cb3-18"><a href="#cb3-18"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>}</span>
<span id="cb3-20"><a href="#cb3-20"></a></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23"></a></span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb3-30"><a href="#cb3-30"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb3-31"><a href="#cb3-31"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb3-32"><a href="#cb3-32"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb3-33"><a href="#cb3-33"></a>})<span class="op">;</span></span>
<span id="cb3-34"><a href="#cb3-34"></a></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">// ============================================</span></span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="co">// Preload</span></span>
<span id="cb3-37"><a href="#cb3-37"></a><span class="co">// ============================================</span></span>
<span id="cb3-38"><a href="#cb3-38"></a></span>
<span id="cb3-39"><a href="#cb3-39"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb3-40"><a href="#cb3-40"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb3-41"><a href="#cb3-41"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span>]</span>
<span id="cb3-42"><a href="#cb3-42"></a>}</span>
<span id="cb3-43"><a href="#cb3-43"></a></span>
<span id="cb3-44"><a href="#cb3-44"></a><span class="co">// ============================================</span></span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="co">// Welcome</span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">// ============================================</span></span>
<span id="cb3-47"><a href="#cb3-47"></a></span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb3-49"><a href="#cb3-49"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-50"><a href="#cb3-50"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb3-51"><a href="#cb3-51"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb3-52"><a href="#cb3-52"></a>}</span>
<span id="cb3-53"><a href="#cb3-53"></a></span>
<span id="cb3-54"><a href="#cb3-54"></a><span class="co">// ============================================</span></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co">// Instructions</span></span>
<span id="cb3-56"><a href="#cb3-56"></a><span class="co">// ============================================</span></span>
<span id="cb3-57"><a href="#cb3-57"></a></span>
<span id="cb3-58"><a href="#cb3-58"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb3-59"><a href="#cb3-59"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb3-60"><a href="#cb3-60"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb3-61"><a href="#cb3-61"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb3-62"><a href="#cb3-62"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb3-63"><a href="#cb3-63"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb3-64"><a href="#cb3-64"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb3-65"><a href="#cb3-65"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb3-66"><a href="#cb3-66"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb3-67"><a href="#cb3-67"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb3-68"><a href="#cb3-68"></a><span class="vs">                 &lt;p&gt;When you are ready to begin, press any NEXT&lt;/p&gt;</span></span>
<span id="cb3-69"><a href="#cb3-69"></a><span class="vs">               &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb3-70"><a href="#cb3-70"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-71"><a href="#cb3-71"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-72"><a href="#cb3-72"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb3-73"><a href="#cb3-73"></a>    }</span>
<span id="cb3-74"><a href="#cb3-74"></a>}</span>
<span id="cb3-75"><a href="#cb3-75"></a></span>
<span id="cb3-76"><a href="#cb3-76"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb3-77"><a href="#cb3-77"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb3-78"><a href="#cb3-78"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb3-79"><a href="#cb3-79"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes.You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb3-80"><a href="#cb3-80"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb3-81"><a href="#cb3-81"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb3-82"><a href="#cb3-82"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb3-83"><a href="#cb3-83"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb3-84"><a href="#cb3-84"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb3-85"><a href="#cb3-85"></a><span class="vs">                 &lt;/ul&gt;             </span></span>
<span id="cb3-86"><a href="#cb3-86"></a><span class="vs">               &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb3-87"><a href="#cb3-87"></a>            <span class="vs">` &lt;div&gt;     </span></span>
<span id="cb3-88"><a href="#cb3-88"></a><span class="vs">                &lt;p&gt;Important: The spatial location of the target will repeat in a predictable sequence. &lt;/p&gt;</span></span>
<span id="cb3-89"><a href="#cb3-89"></a><span class="vs">                &lt;p&gt;Your task is to try to learn that sequence of locations while you complete the experiment &lt;/p&gt;</span></span>
<span id="cb3-90"><a href="#cb3-90"></a><span class="vs">                &lt;p&gt;When you are ready to begin, press Next&lt;/p&gt;</span></span>
<span id="cb3-91"><a href="#cb3-91"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb3-92"><a href="#cb3-92"></a>        ]<span class="op">,</span></span>
<span id="cb3-93"><a href="#cb3-93"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-94"><a href="#cb3-94"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-95"><a href="#cb3-95"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb3-96"><a href="#cb3-96"></a>    }</span>
<span id="cb3-97"><a href="#cb3-97"></a>}</span>
<span id="cb3-98"><a href="#cb3-98"></a></span>
<span id="cb3-99"><a href="#cb3-99"></a><span class="co">// ============================================</span></span>
<span id="cb3-100"><a href="#cb3-100"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb3-101"><a href="#cb3-101"></a><span class="co">// ============================================</span></span>
<span id="cb3-102"><a href="#cb3-102"></a></span>
<span id="cb3-103"><a href="#cb3-103"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb3-104"><a href="#cb3-104"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-105"><a href="#cb3-105"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb3-106"><a href="#cb3-106"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-107"><a href="#cb3-107"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-108"><a href="#cb3-108"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-109"><a href="#cb3-109"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-110"><a href="#cb3-110"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb3-111"><a href="#cb3-111"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb3-112"><a href="#cb3-112"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb3-113"><a href="#cb3-113"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-114"><a href="#cb3-114"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb3-115"><a href="#cb3-115"></a>    }</span>
<span id="cb3-116"><a href="#cb3-116"></a>}</span>
<span id="cb3-117"><a href="#cb3-117"></a></span>
<span id="cb3-118"><a href="#cb3-118"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb3-119"><a href="#cb3-119"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-120"><a href="#cb3-120"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb3-121"><a href="#cb3-121"></a>        <span class="kw">let</span> output</span>
<span id="cb3-122"><a href="#cb3-122"></a></span>
<span id="cb3-123"><a href="#cb3-123"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb3-124"><a href="#cb3-124"></a></span>
<span id="cb3-125"><a href="#cb3-125"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb3-126"><a href="#cb3-126"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb3-127"><a href="#cb3-127"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb3-128"><a href="#cb3-128"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-129"><a href="#cb3-129"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-130"><a href="#cb3-130"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-131"><a href="#cb3-131"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb3-132"><a href="#cb3-132"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb3-133"><a href="#cb3-133"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb3-134"><a href="#cb3-134"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-135"><a href="#cb3-135"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb3-136"><a href="#cb3-136"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-137"><a href="#cb3-137"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-138"><a href="#cb3-138"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb3-139"><a href="#cb3-139"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb3-140"><a href="#cb3-140"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb3-141"><a href="#cb3-141"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-142"><a href="#cb3-142"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-143"><a href="#cb3-143"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb3-144"><a href="#cb3-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-145"><a href="#cb3-145"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb3-146"><a href="#cb3-146"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb3-147"><a href="#cb3-147"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb3-148"><a href="#cb3-148"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-149"><a href="#cb3-149"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-150"><a href="#cb3-150"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb3-151"><a href="#cb3-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb3-152"><a href="#cb3-152"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb3-153"><a href="#cb3-153"></a>        }</span>
<span id="cb3-154"><a href="#cb3-154"></a></span>
<span id="cb3-155"><a href="#cb3-155"></a>        <span class="cf">return</span> output</span>
<span id="cb3-156"><a href="#cb3-156"></a>    }<span class="op">,</span></span>
<span id="cb3-157"><a href="#cb3-157"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb3-158"><a href="#cb3-158"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-159"><a href="#cb3-159"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb3-160"><a href="#cb3-160"></a>    }</span>
<span id="cb3-161"><a href="#cb3-161"></a>}</span>
<span id="cb3-162"><a href="#cb3-162"></a></span>
<span id="cb3-163"><a href="#cb3-163"></a><span class="co">// learning phase in order</span></span>
<span id="cb3-164"><a href="#cb3-164"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb3-165"><a href="#cb3-165"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb3-166"><a href="#cb3-166"></a>        blank<span class="op">,</span></span>
<span id="cb3-167"><a href="#cb3-167"></a>        target</span>
<span id="cb3-168"><a href="#cb3-168"></a>    ]<span class="op">,</span></span>
<span id="cb3-169"><a href="#cb3-169"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb3-170"><a href="#cb3-170"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb3-171"><a href="#cb3-171"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb3-172"><a href="#cb3-172"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb3-173"><a href="#cb3-173"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb3-174"><a href="#cb3-174"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb3-175"><a href="#cb3-175"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb3-176"><a href="#cb3-176"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb3-177"><a href="#cb3-177"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb3-178"><a href="#cb3-178"></a>    ]<span class="op">,</span></span>
<span id="cb3-179"><a href="#cb3-179"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-180"><a href="#cb3-180"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-181"><a href="#cb3-181"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb3-182"><a href="#cb3-182"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb3-183"><a href="#cb3-183"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb3-184"><a href="#cb3-184"></a>    }</span>
<span id="cb3-185"><a href="#cb3-185"></a>}</span>
<span id="cb3-186"><a href="#cb3-186"></a></span>
<span id="cb3-187"><a href="#cb3-187"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb3-188"><a href="#cb3-188"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb3-189"><a href="#cb3-189"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb3-190"><a href="#cb3-190"></a>        blank<span class="op">,</span></span>
<span id="cb3-191"><a href="#cb3-191"></a>        target</span>
<span id="cb3-192"><a href="#cb3-192"></a>    ]<span class="op">,</span></span>
<span id="cb3-193"><a href="#cb3-193"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb3-194"><a href="#cb3-194"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb3-195"><a href="#cb3-195"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb3-196"><a href="#cb3-196"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb3-197"><a href="#cb3-197"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb3-198"><a href="#cb3-198"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb3-199"><a href="#cb3-199"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb3-200"><a href="#cb3-200"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb3-201"><a href="#cb3-201"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb3-202"><a href="#cb3-202"></a>    ]<span class="op">,</span></span>
<span id="cb3-203"><a href="#cb3-203"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb3-204"><a href="#cb3-204"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb3-205"><a href="#cb3-205"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb3-206"><a href="#cb3-206"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb3-207"><a href="#cb3-207"></a>        }</span>
<span id="cb3-208"><a href="#cb3-208"></a>    }<span class="op">,</span></span>
<span id="cb3-209"><a href="#cb3-209"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-210"><a href="#cb3-210"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-211"><a href="#cb3-211"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb3-212"><a href="#cb3-212"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb3-213"><a href="#cb3-213"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb3-214"><a href="#cb3-214"></a>    }</span>
<span id="cb3-215"><a href="#cb3-215"></a>}</span>
<span id="cb3-216"><a href="#cb3-216"></a></span>
<span id="cb3-217"><a href="#cb3-217"></a><span class="co">// ============================================</span></span>
<span id="cb3-218"><a href="#cb3-218"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb3-219"><a href="#cb3-219"></a><span class="co">// ============================================</span></span>
<span id="cb3-220"><a href="#cb3-220"></a></span>
<span id="cb3-221"><a href="#cb3-221"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb3-222"><a href="#cb3-222"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-223"><a href="#cb3-223"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb3-224"><a href="#cb3-224"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb3-225"><a href="#cb3-225"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb3-226"><a href="#cb3-226"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb3-227"><a href="#cb3-227"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb3-228"><a href="#cb3-228"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb3-229"><a href="#cb3-229"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb3-230"><a href="#cb3-230"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb3-231"><a href="#cb3-231"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb3-232"><a href="#cb3-232"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb3-233"><a href="#cb3-233"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb3-234"><a href="#cb3-234"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb3-235"><a href="#cb3-235"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb3-236"><a href="#cb3-236"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb3-237"><a href="#cb3-237"></a>        })<span class="op">;</span></span>
<span id="cb3-238"><a href="#cb3-238"></a>    }<span class="op">,</span></span>
<span id="cb3-239"><a href="#cb3-239"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-240"><a href="#cb3-240"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb3-241"><a href="#cb3-241"></a>    }</span>
<span id="cb3-242"><a href="#cb3-242"></a>}<span class="op">;</span></span>
<span id="cb3-243"><a href="#cb3-243"></a></span>
<span id="cb3-244"><a href="#cb3-244"></a><span class="co">// ============================================</span></span>
<span id="cb3-245"><a href="#cb3-245"></a><span class="co">// Run jsPsych</span></span>
<span id="cb3-246"><a href="#cb3-246"></a><span class="co">// ============================================</span></span>
<span id="cb3-247"><a href="#cb3-247"></a></span>
<span id="cb3-248"><a href="#cb3-248"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb3-249"><a href="#cb3-249"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb3-250"><a href="#cb3-250"></a>        preload<span class="op">,</span></span>
<span id="cb3-251"><a href="#cb3-251"></a>        welcome<span class="op">,</span></span>
<span id="cb3-252"><a href="#cb3-252"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb3-253"><a href="#cb3-253"></a>        learning<span class="op">,</span></span>
<span id="cb3-254"><a href="#cb3-254"></a>        test<span class="op">,</span></span>
<span id="cb3-255"><a href="#cb3-255"></a>        saveData</span>
<span id="cb3-256"><a href="#cb3-256"></a>    ])<span class="op">;</span></span>
<span id="cb3-257"><a href="#cb3-257"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb3-258"><a href="#cb3-258"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb3-259"><a href="#cb3-259"></a>        preload<span class="op">,</span></span>
<span id="cb3-260"><a href="#cb3-260"></a>        welcome<span class="op">,</span></span>
<span id="cb3-261"><a href="#cb3-261"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb3-262"><a href="#cb3-262"></a>        learning<span class="op">,</span></span>
<span id="cb3-263"><a href="#cb3-263"></a>        test<span class="op">,</span></span>
<span id="cb3-264"><a href="#cb3-264"></a>        saveData</span>
<span id="cb3-265"><a href="#cb3-265"></a>    ])<span class="op">;</span></span>
<span id="cb3-266"><a href="#cb3-266"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb4-1"><a href="#cb4-1"></a> <span class="fu">.boxContainer</span> {</span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">500</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">300</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>}</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="fu">.box</span> {</span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>}</span>
<span id="cb4-20"><a href="#cb4-20"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="demo-container-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n\n    <style>\n      .boxContainer {\n    width: 500px;\n    height: 300px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 115px;\n    height: 150px;\n    border: solid;\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n    choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>\n                 <p>When you are ready to begin, press any NEXT</p>\n               </div>`],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes.You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>             \n               </div>`,\n            ` <div>     \n                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>\n                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>\n                <p>When you are ready to begin, press Next</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />


    <style>
      .boxContainer {
    width: 500px;
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 115px;
    height: 150px;
    border: solid;
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:300px'><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
    choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>
                 <p>When you are ready to begin, press any NEXT</p>
               </div>`],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes.You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>             
               </div>`,
            ` <div>     
                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>
                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>
                <p>When you are ready to begin, press Next</p>
            </div>`
        ],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="the-end-result" class="level3" data-number="26.2.2">
<h3 data-number="26.2.2" class="anchored" data-anchor-id="the-end-result"><span class="header-section-number">26.2.2</span> The End Result</h3>
<p>There are three stages to this lab tutorial. Working through Stage 1 will produce a gamified version of the task that includes an instructional narrative, animated elements, and score indicators. Stage 2 adds audio elements, including feedback sound effects and background music. Stage 3 adds additional gameplay mechanics including a health indicator, a death/restart screen, and a personal high score indicator.</p>
<p>The end result will look like this:</p>
<div class="cell">
<style type="text/css">
/* CB20 */

/* CB21 */
[id^="cb21-"]:nth-child(n+198):nth-child(-n+203),
[id^="cb21-"]:nth-child(n+247):nth-child(-n+252) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */
[id^="cb22-"]:nth-child(n+304):nth-child(-n+462) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    </span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb5-21"><a href="#cb5-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb5-25"><a href="#cb5-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb5-26"><a href="#cb5-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb5-28"><a href="#cb5-28"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-29"><a href="#cb5-29"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-30"><a href="#cb5-30"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-31"><a href="#cb5-31"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-32"><a href="#cb5-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>WHACK-A-ZOMBIE!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb5-34"><a href="#cb5-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-35"><a href="#cb5-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb5-36"><a href="#cb5-36"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb5-37"><a href="#cb5-37"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HIGH-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-38"><a href="#cb5-38"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"high-score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-39"><a href="#cb5-39"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-40"><a href="#cb5-40"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-41"><a href="#cb5-41"></a>    </span>
<span id="cb5-42"><a href="#cb5-42"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span></span>
<span id="cb5-43"><a href="#cb5-43"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"lives-display"</span><span class="dt">&gt;</span></span>
<span id="cb5-44"><a href="#cb5-44"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"hearts"</span><span class="dt">&gt;</span></span>
<span id="cb5-45"><a href="#cb5-45"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb5-46"><a href="#cb5-46"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb5-47"><a href="#cb5-47"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb5-48"><a href="#cb5-48"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb5-49"><a href="#cb5-49"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb5-50"><a href="#cb5-50"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-51"><a href="#cb5-51"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-52"><a href="#cb5-52"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-53"><a href="#cb5-53"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-54"><a href="#cb5-54"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-55"><a href="#cb5-55"></a>    </span>
<span id="cb5-56"><a href="#cb5-56"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-57"><a href="#cb5-57"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-58"><a href="#cb5-58"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-59"><a href="#cb5-59"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-60"><a href="#cb5-60"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb5-61"><a href="#cb5-61"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb5-62"><a href="#cb5-62"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-63"><a href="#cb5-63"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-64"><a href="#cb5-64"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-65"><a href="#cb5-65"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a> </span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">// ============================================</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">// ============================================</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb6-7"><a href="#cb6-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb6-8"><a href="#cb6-8"></a>                ) </span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">// ============================================</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">// ============================================</span></span>
<span id="cb6-13"><a href="#cb6-13"></a></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb6-16"><a href="#cb6-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-17"><a href="#cb6-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb6-18"><a href="#cb6-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>    }</span>
<span id="cb6-20"><a href="#cb6-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>}</span>
<span id="cb6-22"><a href="#cb6-22"></a></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb6-25"><a href="#cb6-25"></a></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb6-30"><a href="#cb6-30"></a></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb6-32"><a href="#cb6-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb6-33"><a href="#cb6-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb6-34"><a href="#cb6-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb6-35"><a href="#cb6-35"></a>})<span class="op">;</span></span>
<span id="cb6-36"><a href="#cb6-36"></a></span>
<span id="cb6-37"><a href="#cb6-37"></a></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="co">// ============================================</span></span>
<span id="cb6-39"><a href="#cb6-39"></a><span class="co">// Trackers</span></span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co">// ============================================</span></span>
<span id="cb6-41"><a href="#cb6-41"></a></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-43"><a href="#cb6-43"></a></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="kw">let</span> hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb6-45"><a href="#cb6-45"></a></span>
<span id="cb6-46"><a href="#cb6-46"></a><span class="kw">let</span> high_score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-47"><a href="#cb6-47"></a></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="co">// ============================================</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="co">// Audio Setup</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="co">// ============================================</span></span>
<span id="cb6-51"><a href="#cb6-51"></a></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb6-53"><a href="#cb6-53"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb6-54"><a href="#cb6-54"></a></span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb6-56"><a href="#cb6-56"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb6-57"><a href="#cb6-57"></a></span>
<span id="cb6-58"><a href="#cb6-58"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb6-59"><a href="#cb6-59"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb6-60"><a href="#cb6-60"></a></span>
<span id="cb6-61"><a href="#cb6-61"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb6-62"><a href="#cb6-62"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb6-63"><a href="#cb6-63"></a></span>
<span id="cb6-64"><a href="#cb6-64"></a><span class="kw">let</span> bg_start <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/SeriousCutScene.wav"</span>)</span>
<span id="cb6-65"><a href="#cb6-65"></a>bg_start<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb6-66"><a href="#cb6-66"></a>bg_start<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb6-67"><a href="#cb6-67"></a></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="kw">let</span> bg_game <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb6-69"><a href="#cb6-69"></a>bg_game<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb6-70"><a href="#cb6-70"></a>bg_game<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb6-71"><a href="#cb6-71"></a></span>
<span id="cb6-72"><a href="#cb6-72"></a><span class="kw">let</span> bg_end <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/creep.mp3"</span>)</span>
<span id="cb6-73"><a href="#cb6-73"></a>bg_end<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb6-74"><a href="#cb6-74"></a>bg_end<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb6-75"><a href="#cb6-75"></a></span>
<span id="cb6-76"><a href="#cb6-76"></a><span class="co">// ============================================</span></span>
<span id="cb6-77"><a href="#cb6-77"></a><span class="co">// Preload</span></span>
<span id="cb6-78"><a href="#cb6-78"></a><span class="co">// ============================================</span></span>
<span id="cb6-79"><a href="#cb6-79"></a></span>
<span id="cb6-80"><a href="#cb6-80"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb6-81"><a href="#cb6-81"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb6-82"><a href="#cb6-82"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb6-83"><a href="#cb6-83"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span><span class="op">,</span> </span>
<span id="cb6-84"><a href="#cb6-84"></a><span class="st">"audio/SeriousCutScene.wav"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span><span class="op">,</span> <span class="st">"audio/creep.mp3"</span>]</span>
<span id="cb6-85"><a href="#cb6-85"></a>}</span>
<span id="cb6-86"><a href="#cb6-86"></a></span>
<span id="cb6-87"><a href="#cb6-87"></a><span class="co">// ============================================</span></span>
<span id="cb6-88"><a href="#cb6-88"></a><span class="co">// Welcome</span></span>
<span id="cb6-89"><a href="#cb6-89"></a><span class="co">// ============================================</span></span>
<span id="cb6-90"><a href="#cb6-90"></a></span>
<span id="cb6-91"><a href="#cb6-91"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb6-92"><a href="#cb6-92"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-93"><a href="#cb6-93"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-94"><a href="#cb6-94"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb6-95"><a href="#cb6-95"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-96"><a href="#cb6-96"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb6-97"><a href="#cb6-97"></a>}</span>
<span id="cb6-98"><a href="#cb6-98"></a></span>
<span id="cb6-99"><a href="#cb6-99"></a><span class="co">// ============================================</span></span>
<span id="cb6-100"><a href="#cb6-100"></a><span class="co">// Instructions</span></span>
<span id="cb6-101"><a href="#cb6-101"></a><span class="co">// ============================================</span></span>
<span id="cb6-102"><a href="#cb6-102"></a></span>
<span id="cb6-103"><a href="#cb6-103"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb6-104"><a href="#cb6-104"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb6-105"><a href="#cb6-105"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-106"><a href="#cb6-106"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb6-107"><a href="#cb6-107"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb6-108"><a href="#cb6-108"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-109"><a href="#cb6-109"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-110"><a href="#cb6-110"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb6-111"><a href="#cb6-111"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb6-112"><a href="#cb6-112"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb6-113"><a href="#cb6-113"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb6-114"><a href="#cb6-114"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb6-115"><a href="#cb6-115"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb6-116"><a href="#cb6-116"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-117"><a href="#cb6-117"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-118"><a href="#cb6-118"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb6-119"><a href="#cb6-119"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb6-120"><a href="#cb6-120"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb6-121"><a href="#cb6-121"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-122"><a href="#cb6-122"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-123"><a href="#cb6-123"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-124"><a href="#cb6-124"></a>    }<span class="op">,</span></span>
<span id="cb6-125"><a href="#cb6-125"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-126"><a href="#cb6-126"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-127"><a href="#cb6-127"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-128"><a href="#cb6-128"></a>    }</span>
<span id="cb6-129"><a href="#cb6-129"></a>}</span>
<span id="cb6-130"><a href="#cb6-130"></a></span>
<span id="cb6-131"><a href="#cb6-131"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb6-132"><a href="#cb6-132"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb6-133"><a href="#cb6-133"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-134"><a href="#cb6-134"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb6-135"><a href="#cb6-135"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb6-136"><a href="#cb6-136"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-137"><a href="#cb6-137"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb6-138"><a href="#cb6-138"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb6-139"><a href="#cb6-139"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb6-140"><a href="#cb6-140"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb6-141"><a href="#cb6-141"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb6-142"><a href="#cb6-142"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb6-143"><a href="#cb6-143"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb6-144"><a href="#cb6-144"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-145"><a href="#cb6-145"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb6-146"><a href="#cb6-146"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb6-147"><a href="#cb6-147"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb6-148"><a href="#cb6-148"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb6-149"><a href="#cb6-149"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb6-150"><a href="#cb6-150"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb6-151"><a href="#cb6-151"></a>        ]<span class="op">,</span></span>
<span id="cb6-152"><a href="#cb6-152"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-153"><a href="#cb6-153"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-154"><a href="#cb6-154"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-155"><a href="#cb6-155"></a>    }<span class="op">,</span></span>
<span id="cb6-156"><a href="#cb6-156"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-157"><a href="#cb6-157"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-158"><a href="#cb6-158"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-159"><a href="#cb6-159"></a>    }</span>
<span id="cb6-160"><a href="#cb6-160"></a>}</span>
<span id="cb6-161"><a href="#cb6-161"></a></span>
<span id="cb6-162"><a href="#cb6-162"></a><span class="co">// ============================================</span></span>
<span id="cb6-163"><a href="#cb6-163"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb6-164"><a href="#cb6-164"></a><span class="co">// ============================================</span></span>
<span id="cb6-165"><a href="#cb6-165"></a></span>
<span id="cb6-166"><a href="#cb6-166"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb6-167"><a href="#cb6-167"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-168"><a href="#cb6-168"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-169"><a href="#cb6-169"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-170"><a href="#cb6-170"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-171"><a href="#cb6-171"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-172"><a href="#cb6-172"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-173"><a href="#cb6-173"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-174"><a href="#cb6-174"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb6-175"><a href="#cb6-175"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb6-176"><a href="#cb6-176"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-177"><a href="#cb6-177"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb6-178"><a href="#cb6-178"></a>    }</span>
<span id="cb6-179"><a href="#cb6-179"></a>}</span>
<span id="cb6-180"><a href="#cb6-180"></a></span>
<span id="cb6-181"><a href="#cb6-181"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb6-182"><a href="#cb6-182"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-183"><a href="#cb6-183"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-184"><a href="#cb6-184"></a>        <span class="kw">let</span> output</span>
<span id="cb6-185"><a href="#cb6-185"></a></span>
<span id="cb6-186"><a href="#cb6-186"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb6-187"><a href="#cb6-187"></a></span>
<span id="cb6-188"><a href="#cb6-188"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb6-189"><a href="#cb6-189"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-190"><a href="#cb6-190"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-191"><a href="#cb6-191"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-192"><a href="#cb6-192"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-193"><a href="#cb6-193"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-194"><a href="#cb6-194"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-195"><a href="#cb6-195"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb6-196"><a href="#cb6-196"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-197"><a href="#cb6-197"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-198"><a href="#cb6-198"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-199"><a href="#cb6-199"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-200"><a href="#cb6-200"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-201"><a href="#cb6-201"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-202"><a href="#cb6-202"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb6-203"><a href="#cb6-203"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-204"><a href="#cb6-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-205"><a href="#cb6-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-206"><a href="#cb6-206"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-207"><a href="#cb6-207"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-208"><a href="#cb6-208"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-209"><a href="#cb6-209"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb6-210"><a href="#cb6-210"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-211"><a href="#cb6-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-212"><a href="#cb6-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-213"><a href="#cb6-213"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-214"><a href="#cb6-214"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-215"><a href="#cb6-215"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-216"><a href="#cb6-216"></a>        }</span>
<span id="cb6-217"><a href="#cb6-217"></a></span>
<span id="cb6-218"><a href="#cb6-218"></a>        <span class="cf">return</span> output</span>
<span id="cb6-219"><a href="#cb6-219"></a>    }<span class="op">,</span></span>
<span id="cb6-220"><a href="#cb6-220"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb6-221"><a href="#cb6-221"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-222"><a href="#cb6-222"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb6-223"><a href="#cb6-223"></a>    }<span class="op">,</span></span>
<span id="cb6-224"><a href="#cb6-224"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-225"><a href="#cb6-225"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-226"><a href="#cb6-226"></a>    }</span>
<span id="cb6-227"><a href="#cb6-227"></a>}</span>
<span id="cb6-228"><a href="#cb6-228"></a></span>
<span id="cb6-229"><a href="#cb6-229"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb6-230"><a href="#cb6-230"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-231"><a href="#cb6-231"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-232"><a href="#cb6-232"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb6-233"><a href="#cb6-233"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb6-234"><a href="#cb6-234"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb6-235"><a href="#cb6-235"></a>        </span>
<span id="cb6-236"><a href="#cb6-236"></a>        <span class="kw">let</span> feedback</span>
<span id="cb6-237"><a href="#cb6-237"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb6-238"><a href="#cb6-238"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb6-239"><a href="#cb6-239"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb6-240"><a href="#cb6-240"></a>          </span>
<span id="cb6-241"><a href="#cb6-241"></a>          <span class="co">// play correct audio </span></span>
<span id="cb6-242"><a href="#cb6-242"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-243"><a href="#cb6-243"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-244"><a href="#cb6-244"></a>  </span>
<span id="cb6-245"><a href="#cb6-245"></a>        } <span class="cf">else</span> {</span>
<span id="cb6-246"><a href="#cb6-246"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb6-247"><a href="#cb6-247"></a>          <span class="co">//score = score - 100</span></span>
<span id="cb6-248"><a href="#cb6-248"></a>          </span>
<span id="cb6-249"><a href="#cb6-249"></a>          hearts <span class="op">=</span> hearts <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb6-250"><a href="#cb6-250"></a>          <span class="kw">let</span> heart_display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)</span>
<span id="cb6-251"><a href="#cb6-251"></a>          <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">5</span>){</span>
<span id="cb6-252"><a href="#cb6-252"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb6-253"><a href="#cb6-253"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb6-254"><a href="#cb6-254"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb6-255"><a href="#cb6-255"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb6-256"><a href="#cb6-256"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb6-257"><a href="#cb6-257"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb6-258"><a href="#cb6-258"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb6-259"><a href="#cb6-259"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb6-260"><a href="#cb6-260"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb6-261"><a href="#cb6-261"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">0</span>){</span>
<span id="cb6-262"><a href="#cb6-262"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb6-263"><a href="#cb6-263"></a>          }</span>
<span id="cb6-264"><a href="#cb6-264"></a>          </span>
<span id="cb6-265"><a href="#cb6-265"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb6-266"><a href="#cb6-266"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-267"><a href="#cb6-267"></a>        }</span>
<span id="cb6-268"><a href="#cb6-268"></a>        </span>
<span id="cb6-269"><a href="#cb6-269"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb6-270"><a href="#cb6-270"></a></span>
<span id="cb6-271"><a href="#cb6-271"></a>        <span class="co">// update score</span></span>
<span id="cb6-272"><a href="#cb6-272"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb6-273"><a href="#cb6-273"></a>        <span class="co">// add animation to score</span></span>
<span id="cb6-274"><a href="#cb6-274"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb6-275"><a href="#cb6-275"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb6-276"><a href="#cb6-276"></a>        } <span class="cf">else</span> {</span>
<span id="cb6-277"><a href="#cb6-277"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb6-278"><a href="#cb6-278"></a>        }</span>
<span id="cb6-279"><a href="#cb6-279"></a></span>
<span id="cb6-280"><a href="#cb6-280"></a>        <span class="co">//update high score</span></span>
<span id="cb6-281"><a href="#cb6-281"></a>        <span class="cf">if</span>(score <span class="op">&gt;</span> high_score){</span>
<span id="cb6-282"><a href="#cb6-282"></a>          high_score <span class="op">=</span> score</span>
<span id="cb6-283"><a href="#cb6-283"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> high_score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb6-284"><a href="#cb6-284"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb6-285"><a href="#cb6-285"></a>        }</span>
<span id="cb6-286"><a href="#cb6-286"></a></span>
<span id="cb6-287"><a href="#cb6-287"></a>        <span class="co">// update output</span></span>
<span id="cb6-288"><a href="#cb6-288"></a>        <span class="kw">let</span> output</span>
<span id="cb6-289"><a href="#cb6-289"></a></span>
<span id="cb6-290"><a href="#cb6-290"></a>        <span class="co">// still need the location</span></span>
<span id="cb6-291"><a href="#cb6-291"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb6-292"><a href="#cb6-292"></a></span>
<span id="cb6-293"><a href="#cb6-293"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb6-294"><a href="#cb6-294"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-295"><a href="#cb6-295"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-296"><a href="#cb6-296"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-297"><a href="#cb6-297"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-298"><a href="#cb6-298"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-299"><a href="#cb6-299"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-300"><a href="#cb6-300"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb6-301"><a href="#cb6-301"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-302"><a href="#cb6-302"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-303"><a href="#cb6-303"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-304"><a href="#cb6-304"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-305"><a href="#cb6-305"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-306"><a href="#cb6-306"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-307"><a href="#cb6-307"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb6-308"><a href="#cb6-308"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-309"><a href="#cb6-309"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-310"><a href="#cb6-310"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-311"><a href="#cb6-311"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-312"><a href="#cb6-312"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-313"><a href="#cb6-313"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-314"><a href="#cb6-314"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb6-315"><a href="#cb6-315"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb6-316"><a href="#cb6-316"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-317"><a href="#cb6-317"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-318"><a href="#cb6-318"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb6-319"><a href="#cb6-319"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb6-320"><a href="#cb6-320"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb6-321"><a href="#cb6-321"></a>        }</span>
<span id="cb6-322"><a href="#cb6-322"></a></span>
<span id="cb6-323"><a href="#cb6-323"></a>        <span class="cf">return</span> output</span>
<span id="cb6-324"><a href="#cb6-324"></a>    }<span class="op">,</span></span>
<span id="cb6-325"><a href="#cb6-325"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb6-326"><a href="#cb6-326"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb6-327"><a href="#cb6-327"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-328"><a href="#cb6-328"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb6-329"><a href="#cb6-329"></a>    }<span class="op">,</span></span>
<span id="cb6-330"><a href="#cb6-330"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-331"><a href="#cb6-331"></a>          </span>
<span id="cb6-332"><a href="#cb6-332"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb6-333"><a href="#cb6-333"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-334"><a href="#cb6-334"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-335"><a href="#cb6-335"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-336"><a href="#cb6-336"></a>          </span>
<span id="cb6-337"><a href="#cb6-337"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-338"><a href="#cb6-338"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-339"><a href="#cb6-339"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-340"><a href="#cb6-340"></a></span>
<span id="cb6-341"><a href="#cb6-341"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb6-342"><a href="#cb6-342"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb6-343"><a href="#cb6-343"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb6-344"><a href="#cb6-344"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb6-345"><a href="#cb6-345"></a>    }</span>
<span id="cb6-346"><a href="#cb6-346"></a>}</span>
<span id="cb6-347"><a href="#cb6-347"></a></span>
<span id="cb6-348"><a href="#cb6-348"></a><span class="co">// check death</span></span>
<span id="cb6-349"><a href="#cb6-349"></a><span class="kw">let</span> death <span class="op">=</span> {</span>
<span id="cb6-350"><a href="#cb6-350"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb6-351"><a href="#cb6-351"></a>    {</span>
<span id="cb6-352"><a href="#cb6-352"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-353"><a href="#cb6-353"></a>        <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb6-354"><a href="#cb6-354"></a><span class="vs">                      &lt;h3 class="game-title" style="color:#ff00ff"&gt;You Died!&lt;/h3&gt;</span></span>
<span id="cb6-355"><a href="#cb6-355"></a><span class="vs">                      &lt;p&gt;Press "ENTER" to try again.&lt;/p&gt;</span></span>
<span id="cb6-356"><a href="#cb6-356"></a><span class="vs">                    &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb6-357"><a href="#cb6-357"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]<span class="op">,</span></span>
<span id="cb6-358"><a href="#cb6-358"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb6-359"><a href="#cb6-359"></a>      <span class="dt">data</span><span class="op">:</span> {<span class="dt">trial_part</span><span class="op">:</span> <span class="st">"death"</span>}<span class="op">,</span></span>
<span id="cb6-360"><a href="#cb6-360"></a>      <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-361"><a href="#cb6-361"></a>          bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-362"><a href="#cb6-362"></a>          bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-363"><a href="#cb6-363"></a>      }<span class="op">,</span></span>
<span id="cb6-364"><a href="#cb6-364"></a>      <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-365"><a href="#cb6-365"></a>          bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-366"><a href="#cb6-366"></a>      }</span>
<span id="cb6-367"><a href="#cb6-367"></a>    }</span>
<span id="cb6-368"><a href="#cb6-368"></a>  ]<span class="op">,</span></span>
<span id="cb6-369"><a href="#cb6-369"></a>   <span class="dt">conditional_function</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-370"><a href="#cb6-370"></a>        <span class="co">// this timeline runs IF hearts is 0 or less</span></span>
<span id="cb6-371"><a href="#cb6-371"></a>        <span class="cf">if</span>(hearts <span class="op">&lt;=</span> <span class="dv">0</span>){</span>
<span id="cb6-372"><a href="#cb6-372"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-373"><a href="#cb6-373"></a>        } <span class="cf">else</span> {</span>
<span id="cb6-374"><a href="#cb6-374"></a>            <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb6-375"><a href="#cb6-375"></a>        }</span>
<span id="cb6-376"><a href="#cb6-376"></a>  }<span class="op">,</span></span>
<span id="cb6-377"><a href="#cb6-377"></a>  <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-378"><a href="#cb6-378"></a>    <span class="co">// pause all music</span></span>
<span id="cb6-379"><a href="#cb6-379"></a>    bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-380"><a href="#cb6-380"></a>    bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-381"><a href="#cb6-381"></a>    bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-382"><a href="#cb6-382"></a>    bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-383"><a href="#cb6-383"></a>    bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-384"><a href="#cb6-384"></a>    bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-385"><a href="#cb6-385"></a>    </span>
<span id="cb6-386"><a href="#cb6-386"></a>    <span class="co">// end jsPsych early</span></span>
<span id="cb6-387"><a href="#cb6-387"></a>    jsPsych<span class="op">.</span><span class="fu">abortExperiment</span>()<span class="op">;</span></span>
<span id="cb6-388"><a href="#cb6-388"></a></span>
<span id="cb6-389"><a href="#cb6-389"></a>    <span class="co">// clear the jspsych display display </span></span>
<span id="cb6-390"><a href="#cb6-390"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#jspsych-game-display"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb6-391"><a href="#cb6-391"></a>    </span>
<span id="cb6-392"><a href="#cb6-392"></a>    <span class="co">// restart the score/hearts</span></span>
<span id="cb6-393"><a href="#cb6-393"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb6-394"><a href="#cb6-394"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">"000000"</span></span>
<span id="cb6-395"><a href="#cb6-395"></a>    score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-396"><a href="#cb6-396"></a>    hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb6-397"><a href="#cb6-397"></a>    </span>
<span id="cb6-398"><a href="#cb6-398"></a>    <span class="co">// restart jspsych</span></span>
<span id="cb6-399"><a href="#cb6-399"></a>    <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb6-400"><a href="#cb6-400"></a>      jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-401"><a href="#cb6-401"></a>                implicit_instructions<span class="op">,</span></span>
<span id="cb6-402"><a href="#cb6-402"></a>                learning<span class="op">,</span></span>
<span id="cb6-403"><a href="#cb6-403"></a>                test<span class="op">,</span></span>
<span id="cb6-404"><a href="#cb6-404"></a>                saveData</span>
<span id="cb6-405"><a href="#cb6-405"></a>            ])<span class="op">;</span></span>
<span id="cb6-406"><a href="#cb6-406"></a>        } <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb6-407"><a href="#cb6-407"></a>            jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-408"><a href="#cb6-408"></a>                explicit_instructions<span class="op">,</span></span>
<span id="cb6-409"><a href="#cb6-409"></a>                learning<span class="op">,</span></span>
<span id="cb6-410"><a href="#cb6-410"></a>                test<span class="op">,</span></span>
<span id="cb6-411"><a href="#cb6-411"></a>                saveData</span>
<span id="cb6-412"><a href="#cb6-412"></a>            ])<span class="op">;</span></span>
<span id="cb6-413"><a href="#cb6-413"></a>        }</span>
<span id="cb6-414"><a href="#cb6-414"></a>    }</span>
<span id="cb6-415"><a href="#cb6-415"></a>}</span>
<span id="cb6-416"><a href="#cb6-416"></a></span>
<span id="cb6-417"><a href="#cb6-417"></a><span class="co">// learning phase in order</span></span>
<span id="cb6-418"><a href="#cb6-418"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb6-419"><a href="#cb6-419"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb6-420"><a href="#cb6-420"></a>        blank<span class="op">,</span></span>
<span id="cb6-421"><a href="#cb6-421"></a>        target<span class="op">,</span></span>
<span id="cb6-422"><a href="#cb6-422"></a>        feedback<span class="op">,</span></span>
<span id="cb6-423"><a href="#cb6-423"></a>        death</span>
<span id="cb6-424"><a href="#cb6-424"></a>    ]<span class="op">,</span></span>
<span id="cb6-425"><a href="#cb6-425"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb6-426"><a href="#cb6-426"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb6-427"><a href="#cb6-427"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb6-428"><a href="#cb6-428"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb6-429"><a href="#cb6-429"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb6-430"><a href="#cb6-430"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb6-431"><a href="#cb6-431"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb6-432"><a href="#cb6-432"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb6-433"><a href="#cb6-433"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb6-434"><a href="#cb6-434"></a>    ]<span class="op">,</span></span>
<span id="cb6-435"><a href="#cb6-435"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb6-436"><a href="#cb6-436"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-437"><a href="#cb6-437"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb6-438"><a href="#cb6-438"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb6-439"><a href="#cb6-439"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb6-440"><a href="#cb6-440"></a>    }<span class="op">,</span></span>
<span id="cb6-441"><a href="#cb6-441"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-442"><a href="#cb6-442"></a>        bg_game<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-443"><a href="#cb6-443"></a>    }</span>
<span id="cb6-444"><a href="#cb6-444"></a>}</span>
<span id="cb6-445"><a href="#cb6-445"></a></span>
<span id="cb6-446"><a href="#cb6-446"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb6-447"><a href="#cb6-447"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb6-448"><a href="#cb6-448"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb6-449"><a href="#cb6-449"></a>        blank<span class="op">,</span></span>
<span id="cb6-450"><a href="#cb6-450"></a>        target<span class="op">,</span></span>
<span id="cb6-451"><a href="#cb6-451"></a>        feedback<span class="op">,</span></span>
<span id="cb6-452"><a href="#cb6-452"></a>        death</span>
<span id="cb6-453"><a href="#cb6-453"></a>    ]<span class="op">,</span></span>
<span id="cb6-454"><a href="#cb6-454"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb6-455"><a href="#cb6-455"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb6-456"><a href="#cb6-456"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb6-457"><a href="#cb6-457"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb6-458"><a href="#cb6-458"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb6-459"><a href="#cb6-459"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb6-460"><a href="#cb6-460"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb6-461"><a href="#cb6-461"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb6-462"><a href="#cb6-462"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb6-463"><a href="#cb6-463"></a>    ]<span class="op">,</span></span>
<span id="cb6-464"><a href="#cb6-464"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb6-465"><a href="#cb6-465"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb6-466"><a href="#cb6-466"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb6-467"><a href="#cb6-467"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb6-468"><a href="#cb6-468"></a>        }</span>
<span id="cb6-469"><a href="#cb6-469"></a>    }<span class="op">,</span></span>
<span id="cb6-470"><a href="#cb6-470"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb6-471"><a href="#cb6-471"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-472"><a href="#cb6-472"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb6-473"><a href="#cb6-473"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb6-474"><a href="#cb6-474"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb6-475"><a href="#cb6-475"></a>    }<span class="op">,</span></span>
<span id="cb6-476"><a href="#cb6-476"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-477"><a href="#cb6-477"></a>        bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-478"><a href="#cb6-478"></a>        bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-479"><a href="#cb6-479"></a>    }</span>
<span id="cb6-480"><a href="#cb6-480"></a>}</span>
<span id="cb6-481"><a href="#cb6-481"></a></span>
<span id="cb6-482"><a href="#cb6-482"></a></span>
<span id="cb6-483"><a href="#cb6-483"></a><span class="co">// ============================================</span></span>
<span id="cb6-484"><a href="#cb6-484"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb6-485"><a href="#cb6-485"></a><span class="co">// ============================================</span></span>
<span id="cb6-486"><a href="#cb6-486"></a></span>
<span id="cb6-487"><a href="#cb6-487"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb6-488"><a href="#cb6-488"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-489"><a href="#cb6-489"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb6-490"><a href="#cb6-490"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb6-491"><a href="#cb6-491"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb6-492"><a href="#cb6-492"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb6-493"><a href="#cb6-493"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb6-494"><a href="#cb6-494"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb6-495"><a href="#cb6-495"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb6-496"><a href="#cb6-496"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb6-497"><a href="#cb6-497"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb6-498"><a href="#cb6-498"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb6-499"><a href="#cb6-499"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb6-500"><a href="#cb6-500"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb6-501"><a href="#cb6-501"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb6-502"><a href="#cb6-502"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb6-503"><a href="#cb6-503"></a>        })<span class="op">;</span></span>
<span id="cb6-504"><a href="#cb6-504"></a>    }<span class="op">,</span></span>
<span id="cb6-505"><a href="#cb6-505"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-506"><a href="#cb6-506"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb6-507"><a href="#cb6-507"></a>    }<span class="op">,</span></span>
<span id="cb6-508"><a href="#cb6-508"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-509"><a href="#cb6-509"></a>      bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb6-510"><a href="#cb6-510"></a>    }<span class="op">,</span></span>
<span id="cb6-511"><a href="#cb6-511"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb6-512"><a href="#cb6-512"></a>      bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb6-513"><a href="#cb6-513"></a>      bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-514"><a href="#cb6-514"></a>    }</span>
<span id="cb6-515"><a href="#cb6-515"></a>}<span class="op">;</span></span>
<span id="cb6-516"><a href="#cb6-516"></a></span>
<span id="cb6-517"><a href="#cb6-517"></a><span class="co">// ============================================</span></span>
<span id="cb6-518"><a href="#cb6-518"></a><span class="co">// Run jsPsych</span></span>
<span id="cb6-519"><a href="#cb6-519"></a><span class="co">// ============================================</span></span>
<span id="cb6-520"><a href="#cb6-520"></a></span>
<span id="cb6-521"><a href="#cb6-521"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb6-522"><a href="#cb6-522"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-523"><a href="#cb6-523"></a>        preload<span class="op">,</span></span>
<span id="cb6-524"><a href="#cb6-524"></a>        welcome<span class="op">,</span></span>
<span id="cb6-525"><a href="#cb6-525"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb6-526"><a href="#cb6-526"></a>        learning<span class="op">,</span></span>
<span id="cb6-527"><a href="#cb6-527"></a>        test<span class="op">,</span></span>
<span id="cb6-528"><a href="#cb6-528"></a>        saveData</span>
<span id="cb6-529"><a href="#cb6-529"></a>    ])<span class="op">;</span></span>
<span id="cb6-530"><a href="#cb6-530"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb6-531"><a href="#cb6-531"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-532"><a href="#cb6-532"></a>        preload<span class="op">,</span></span>
<span id="cb6-533"><a href="#cb6-533"></a>        welcome<span class="op">,</span></span>
<span id="cb6-534"><a href="#cb6-534"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb6-535"><a href="#cb6-535"></a>        learning<span class="op">,</span></span>
<span id="cb6-536"><a href="#cb6-536"></a>        test<span class="op">,</span></span>
<span id="cb6-537"><a href="#cb6-537"></a>        saveData</span>
<span id="cb6-538"><a href="#cb6-538"></a>    ])<span class="op">;</span></span>
<span id="cb6-539"><a href="#cb6-539"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1"></a> </span>
<span id="cb7-2"><a href="#cb7-2"></a>body {</span>
<span id="cb7-3"><a href="#cb7-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>}  </span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb7-11"><a href="#cb7-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-15"><a href="#cb7-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>}</span>
<span id="cb7-17"><a href="#cb7-17"></a></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="fu">.box</span> {</span>
<span id="cb7-19"><a href="#cb7-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-20"><a href="#cb7-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-21"><a href="#cb7-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb7-22"><a href="#cb7-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-23"><a href="#cb7-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-24"><a href="#cb7-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-27"><a href="#cb7-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-28"><a href="#cb7-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-29"><a href="#cb7-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb7-30"><a href="#cb7-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb7-31"><a href="#cb7-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb7-32"><a href="#cb7-32"></a>}</span>
<span id="cb7-33"><a href="#cb7-33"></a></span>
<span id="cb7-34"><a href="#cb7-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb7-35"><a href="#cb7-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb7-36"><a href="#cb7-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb7-37"><a href="#cb7-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-38"><a href="#cb7-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-39"><a href="#cb7-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-40"><a href="#cb7-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb7-41"><a href="#cb7-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb7-42"><a href="#cb7-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb7-43"><a href="#cb7-43"></a>}</span>
<span id="cb7-44"><a href="#cb7-44"></a></span>
<span id="cb7-45"><a href="#cb7-45"></a><span class="fu">.grid</span> {</span>
<span id="cb7-46"><a href="#cb7-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb7-47"><a href="#cb7-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb7-48"><a href="#cb7-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb7-49"><a href="#cb7-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb7-50"><a href="#cb7-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-51"><a href="#cb7-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb7-52"><a href="#cb7-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb7-53"><a href="#cb7-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-54"><a href="#cb7-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-55"><a href="#cb7-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-56"><a href="#cb7-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-57"><a href="#cb7-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-58"><a href="#cb7-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb7-59"><a href="#cb7-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb7-60"><a href="#cb7-60"></a></span>
<span id="cb7-61"><a href="#cb7-61"></a>}</span>
<span id="cb7-62"><a href="#cb7-62"></a></span>
<span id="cb7-63"><a href="#cb7-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb7-64"><a href="#cb7-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb7-65"><a href="#cb7-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb7-66"><a href="#cb7-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb7-67"><a href="#cb7-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb7-68"><a href="#cb7-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb7-69"><a href="#cb7-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb7-70"><a href="#cb7-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb7-71"><a href="#cb7-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb7-72"><a href="#cb7-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb7-73"><a href="#cb7-73"></a></span>
<span id="cb7-74"><a href="#cb7-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb7-75"><a href="#cb7-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb7-76"><a href="#cb7-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb7-77"><a href="#cb7-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb7-78"><a href="#cb7-78"></a><span class="co">}</span></span>
<span id="cb7-79"><a href="#cb7-79"></a><span class="co">*/</span></span>
<span id="cb7-80"><a href="#cb7-80"></a></span>
<span id="cb7-81"><a href="#cb7-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb7-82"><a href="#cb7-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-83"><a href="#cb7-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-84"><a href="#cb7-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb7-85"><a href="#cb7-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb7-86"><a href="#cb7-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb7-87"><a href="#cb7-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-88"><a href="#cb7-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb7-89"><a href="#cb7-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-90"><a href="#cb7-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-91"><a href="#cb7-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-92"><a href="#cb7-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-93"><a href="#cb7-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-94"><a href="#cb7-94"></a>}</span>
<span id="cb7-95"><a href="#cb7-95"></a></span>
<span id="cb7-96"><a href="#cb7-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb7-97"><a href="#cb7-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb7-98"><a href="#cb7-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-99"><a href="#cb7-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-100"><a href="#cb7-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb7-101"><a href="#cb7-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb7-102"><a href="#cb7-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb7-103"><a href="#cb7-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb7-104"><a href="#cb7-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-105"><a href="#cb7-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb7-106"><a href="#cb7-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-107"><a href="#cb7-107"></a>}</span>
<span id="cb7-108"><a href="#cb7-108"></a></span>
<span id="cb7-109"><a href="#cb7-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb7-110"><a href="#cb7-110"></a>    <span class="dv">from</span> {</span>
<span id="cb7-111"><a href="#cb7-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-112"><a href="#cb7-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-113"><a href="#cb7-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-114"><a href="#cb7-114"></a>    }</span>
<span id="cb7-115"><a href="#cb7-115"></a>    <span class="dv">to</span> {</span>
<span id="cb7-116"><a href="#cb7-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-117"><a href="#cb7-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-118"><a href="#cb7-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-119"><a href="#cb7-119"></a>    }</span>
<span id="cb7-120"><a href="#cb7-120"></a>}</span>
<span id="cb7-121"><a href="#cb7-121"></a></span>
<span id="cb7-122"><a href="#cb7-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb7-123"><a href="#cb7-123"></a>    <span class="dv">from</span> {</span>
<span id="cb7-124"><a href="#cb7-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-125"><a href="#cb7-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-126"><a href="#cb7-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-127"><a href="#cb7-127"></a>    }</span>
<span id="cb7-128"><a href="#cb7-128"></a>    <span class="dv">to</span> {</span>
<span id="cb7-129"><a href="#cb7-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-130"><a href="#cb7-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-131"><a href="#cb7-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-132"><a href="#cb7-132"></a>    }</span>
<span id="cb7-133"><a href="#cb7-133"></a>}</span>
<span id="cb7-134"><a href="#cb7-134"></a></span>
<span id="cb7-135"><a href="#cb7-135"></a></span>
<span id="cb7-136"><a href="#cb7-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb7-137"><a href="#cb7-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-138"><a href="#cb7-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-139"><a href="#cb7-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb7-140"><a href="#cb7-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb7-141"><a href="#cb7-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-142"><a href="#cb7-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-143"><a href="#cb7-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-144"><a href="#cb7-144"></a>}</span>
<span id="cb7-145"><a href="#cb7-145"></a></span>
<span id="cb7-146"><a href="#cb7-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb7-147"><a href="#cb7-147"></a>    <span class="dv">from</span> {</span>
<span id="cb7-148"><a href="#cb7-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-149"><a href="#cb7-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-150"><a href="#cb7-150"></a>    }</span>
<span id="cb7-151"><a href="#cb7-151"></a>    <span class="dv">to</span> {</span>
<span id="cb7-152"><a href="#cb7-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-153"><a href="#cb7-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-154"><a href="#cb7-154"></a>    }</span>
<span id="cb7-155"><a href="#cb7-155"></a>}</span>
<span id="cb7-156"><a href="#cb7-156"></a></span>
<span id="cb7-157"><a href="#cb7-157"></a></span>
<span id="cb7-158"><a href="#cb7-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb7-159"><a href="#cb7-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-160"><a href="#cb7-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-161"><a href="#cb7-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb7-162"><a href="#cb7-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb7-163"><a href="#cb7-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb7-164"><a href="#cb7-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb7-165"><a href="#cb7-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-166"><a href="#cb7-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb7-167"><a href="#cb7-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-168"><a href="#cb7-168"></a>}</span>
<span id="cb7-169"><a href="#cb7-169"></a></span>
<span id="cb7-170"><a href="#cb7-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb7-171"><a href="#cb7-171"></a>    <span class="dv">from</span> {</span>
<span id="cb7-172"><a href="#cb7-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-173"><a href="#cb7-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-174"><a href="#cb7-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-175"><a href="#cb7-175"></a>    }</span>
<span id="cb7-176"><a href="#cb7-176"></a>    <span class="dv">to</span> {</span>
<span id="cb7-177"><a href="#cb7-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-178"><a href="#cb7-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-179"><a href="#cb7-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-180"><a href="#cb7-180"></a>    }</span>
<span id="cb7-181"><a href="#cb7-181"></a>}</span>
<span id="cb7-182"><a href="#cb7-182"></a></span>
<span id="cb7-183"><a href="#cb7-183"></a></span>
<span id="cb7-184"><a href="#cb7-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb7-185"><a href="#cb7-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb7-186"><a href="#cb7-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb7-187"><a href="#cb7-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb7-188"><a href="#cb7-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb7-189"><a href="#cb7-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-190"><a href="#cb7-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb7-191"><a href="#cb7-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-192"><a href="#cb7-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-193"><a href="#cb7-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-194"><a href="#cb7-194"></a>}</span>
<span id="cb7-195"><a href="#cb7-195"></a></span>
<span id="cb7-196"><a href="#cb7-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb7-197"><a href="#cb7-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-198"><a href="#cb7-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb7-199"><a href="#cb7-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb7-200"><a href="#cb7-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-201"><a href="#cb7-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-202"><a href="#cb7-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-203"><a href="#cb7-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-204"><a href="#cb7-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-205"><a href="#cb7-205"></a>}</span>
<span id="cb7-206"><a href="#cb7-206"></a></span>
<span id="cb7-207"><a href="#cb7-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb7-208"><a href="#cb7-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-209"><a href="#cb7-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb7-210"><a href="#cb7-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb7-211"><a href="#cb7-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-212"><a href="#cb7-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-213"><a href="#cb7-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-214"><a href="#cb7-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-215"><a href="#cb7-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-216"><a href="#cb7-216"></a>}</span>
<span id="cb7-217"><a href="#cb7-217"></a></span>
<span id="cb7-218"><a href="#cb7-218"></a><span class="co">/* Lives display */</span></span>
<span id="cb7-219"><a href="#cb7-219"></a><span class="fu">.lives-display</span> {</span>
<span id="cb7-220"><a href="#cb7-220"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb7-221"><a href="#cb7-221"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-222"><a href="#cb7-222"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb7-223"><a href="#cb7-223"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-224"><a href="#cb7-224"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-225"><a href="#cb7-225"></a>}</span>
<span id="cb7-226"><a href="#cb7-226"></a></span>
<span id="cb7-227"><a href="#cb7-227"></a><span class="fu">.hearts</span> {</span>
<span id="cb7-228"><a href="#cb7-228"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-229"><a href="#cb7-229"></a>  <span class="kw">filter</span><span class="ch">:</span> <span class="fu">drop-shadow(</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff0066</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-230"><a href="#cb7-230"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb7-231"><a href="#cb7-231"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb7-232"><a href="#cb7-232"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-233"><a href="#cb7-233"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb7-234"><a href="#cb7-234"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-235"><a href="#cb7-235"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-236"><a href="#cb7-236"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-237"><a href="#cb7-237"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb7-238"><a href="#cb7-238"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-239"><a href="#cb7-239"></a>}</span>
<span id="cb7-240"><a href="#cb7-240"></a></span>
<span id="cb7-241"><a href="#cb7-241"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb7-242"><a href="#cb7-242"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb7-243"><a href="#cb7-243"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb7-244"><a href="#cb7-244"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb7-245"><a href="#cb7-245"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb7-246"><a href="#cb7-246"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb7-247"><a href="#cb7-247"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-248"><a href="#cb7-248"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-249"><a href="#cb7-249"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb7-250"><a href="#cb7-250"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb7-251"><a href="#cb7-251"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb7-252"><a href="#cb7-252"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb7-253"><a href="#cb7-253"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb7-254"><a href="#cb7-254"></a>}</span>
<span id="cb7-255"><a href="#cb7-255"></a></span>
<span id="cb7-256"><a href="#cb7-256"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb7-257"><a href="#cb7-257"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb7-258"><a href="#cb7-258"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb7-259"><a href="#cb7-259"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb7-260"><a href="#cb7-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb7-261"><a href="#cb7-261"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb7-262"><a href="#cb7-262"></a>}</span>
<span id="cb7-263"><a href="#cb7-263"></a></span>
<span id="cb7-264"><a href="#cb7-264"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb7-265"><a href="#cb7-265"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-266"><a href="#cb7-266"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-267"><a href="#cb7-267"></a>}</span>
<span id="cb7-268"><a href="#cb7-268"></a></span>
<span id="cb7-269"><a href="#cb7-269"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb7-270"><a href="#cb7-270"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb7-271"><a href="#cb7-271"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-272"><a href="#cb7-272"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-273"><a href="#cb7-273"></a>}</span>
<span id="cb7-274"><a href="#cb7-274"></a></span>
<span id="cb7-275"><a href="#cb7-275"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb7-276"><a href="#cb7-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-277"><a href="#cb7-277"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-278"><a href="#cb7-278"></a>}</span>
<span id="cb7-279"><a href="#cb7-279"></a></span>
<span id="cb7-280"><a href="#cb7-280"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb7-281"><a href="#cb7-281"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb7-282"><a href="#cb7-282"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb7-283"><a href="#cb7-283"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-284"><a href="#cb7-284"></a>}</span>
<span id="cb7-285"><a href="#cb7-285"></a></span>
<span id="cb7-286"><a href="#cb7-286"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb7-287"><a href="#cb7-287"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb7-288"><a href="#cb7-288"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb7-289"><a href="#cb7-289"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb7-290"><a href="#cb7-290"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb7-291"><a href="#cb7-291"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-292"><a href="#cb7-292"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb7-293"><a href="#cb7-293"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-294"><a href="#cb7-294"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb7-295"><a href="#cb7-295"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb7-296"><a href="#cb7-296"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb7-297"><a href="#cb7-297"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb7-298"><a href="#cb7-298"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-299"><a href="#cb7-299"></a>}</span>
<span id="cb7-300"><a href="#cb7-300"></a></span>
<span id="cb7-301"><a href="#cb7-301"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb7-302"><a href="#cb7-302"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb7-303"><a href="#cb7-303"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-304"><a href="#cb7-304"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb7-305"><a href="#cb7-305"></a>}</span>
<span id="cb7-306"><a href="#cb7-306"></a></span>
<span id="cb7-307"><a href="#cb7-307"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb7-308"><a href="#cb7-308"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-309"><a href="#cb7-309"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb7-310"><a href="#cb7-310"></a>}</span>
<span id="cb7-311"><a href="#cb7-311"></a></span>
<span id="cb7-312"><a href="#cb7-312"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb7-313"><a href="#cb7-313"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb7-314"><a href="#cb7-314"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb7-315"><a href="#cb7-315"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb7-316"><a href="#cb7-316"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb7-317"><a href="#cb7-317"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb7-318"><a href="#cb7-318"></a>}</span>
<span id="cb7-319"><a href="#cb7-319"></a></span>
<span id="cb7-320"><a href="#cb7-320"></a><span class="co">/* Style the button container */</span></span>
<span id="cb7-321"><a href="#cb7-321"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb7-322"><a href="#cb7-322"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-323"><a href="#cb7-323"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-324"><a href="#cb7-324"></a>}</span>
<span id="cb7-325"><a href="#cb7-325"></a></span>
<span id="cb7-326"><a href="#cb7-326"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb7-327"><a href="#cb7-327"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb7-328"><a href="#cb7-328"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb7-329"><a href="#cb7-329"></a>}</span>
<span id="cb7-330"><a href="#cb7-330"></a></span>
<span id="cb7-331"><a href="#cb7-331"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb7-332"><a href="#cb7-332"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb7-333"><a href="#cb7-333"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb7-334"><a href="#cb7-334"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb7-335"><a href="#cb7-335"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb7-336"><a href="#cb7-336"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb7-337"><a href="#cb7-337"></a></span>
<span id="cb7-338"><a href="#cb7-338"></a><span class="co">/**</span></span>
<span id="cb7-339"><a href="#cb7-339"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb7-340"><a href="#cb7-340"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb7-341"><a href="#cb7-341"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb7-342"><a href="#cb7-342"></a><span class="co"> */</span></span>
<span id="cb7-343"><a href="#cb7-343"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb7-344"><a href="#cb7-344"></a>  from {</span>
<span id="cb7-345"><a href="#cb7-345"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-346"><a href="#cb7-346"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-347"><a href="#cb7-347"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-348"><a href="#cb7-348"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-349"><a href="#cb7-349"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-350"><a href="#cb7-350"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-351"><a href="#cb7-351"></a>  }</span>
<span id="cb7-352"><a href="#cb7-352"></a>  10% {</span>
<span id="cb7-353"><a href="#cb7-353"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-354"><a href="#cb7-354"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-355"><a href="#cb7-355"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-356"><a href="#cb7-356"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-357"><a href="#cb7-357"></a>  }</span>
<span id="cb7-358"><a href="#cb7-358"></a>  17% {</span>
<span id="cb7-359"><a href="#cb7-359"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-360"><a href="#cb7-360"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-361"><a href="#cb7-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-362"><a href="#cb7-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-363"><a href="#cb7-363"></a>  }</span>
<span id="cb7-364"><a href="#cb7-364"></a>  33% {</span>
<span id="cb7-365"><a href="#cb7-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-366"><a href="#cb7-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-367"><a href="#cb7-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-368"><a href="#cb7-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-369"><a href="#cb7-369"></a>  }</span>
<span id="cb7-370"><a href="#cb7-370"></a>  45% {</span>
<span id="cb7-371"><a href="#cb7-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-372"><a href="#cb7-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-373"><a href="#cb7-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-374"><a href="#cb7-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-375"><a href="#cb7-375"></a>  }</span>
<span id="cb7-376"><a href="#cb7-376"></a>}</span>
<span id="cb7-377"><a href="#cb7-377"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb7-378"><a href="#cb7-378"></a>  <span class="dv">from</span> {</span>
<span id="cb7-379"><a href="#cb7-379"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-380"><a href="#cb7-380"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-381"><a href="#cb7-381"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-382"><a href="#cb7-382"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-383"><a href="#cb7-383"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-384"><a href="#cb7-384"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-385"><a href="#cb7-385"></a>  }</span>
<span id="cb7-386"><a href="#cb7-386"></a>  <span class="dv">10%</span> {</span>
<span id="cb7-387"><a href="#cb7-387"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-388"><a href="#cb7-388"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-389"><a href="#cb7-389"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-390"><a href="#cb7-390"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-391"><a href="#cb7-391"></a>  }</span>
<span id="cb7-392"><a href="#cb7-392"></a>  <span class="dv">17%</span> {</span>
<span id="cb7-393"><a href="#cb7-393"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-394"><a href="#cb7-394"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-395"><a href="#cb7-395"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-396"><a href="#cb7-396"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-397"><a href="#cb7-397"></a>  }</span>
<span id="cb7-398"><a href="#cb7-398"></a>  <span class="dv">33%</span> {</span>
<span id="cb7-399"><a href="#cb7-399"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-400"><a href="#cb7-400"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-401"><a href="#cb7-401"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-402"><a href="#cb7-402"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb7-403"><a href="#cb7-403"></a>  }</span>
<span id="cb7-404"><a href="#cb7-404"></a>  <span class="dv">45%</span> {</span>
<span id="cb7-405"><a href="#cb7-405"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-406"><a href="#cb7-406"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-407"><a href="#cb7-407"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-408"><a href="#cb7-408"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb7-409"><a href="#cb7-409"></a>  }</span>
<span id="cb7-410"><a href="#cb7-410"></a>}</span>
<span id="cb7-411"><a href="#cb7-411"></a></span>
<span id="cb7-412"><a href="#cb7-412"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb7-413"><a href="#cb7-413"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb7-414"><a href="#cb7-414"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb7-415"><a href="#cb7-415"></a>}</span>
<span id="cb7-416"><a href="#cb7-416"></a></span>
<span id="cb7-417"><a href="#cb7-417"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb7-418"><a href="#cb7-418"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb7-419"><a href="#cb7-419"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb7-420"><a href="#cb7-420"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb7-421"><a href="#cb7-421"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb7-422"><a href="#cb7-422"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb7-423"><a href="#cb7-423"></a></span>
<span id="cb7-424"><a href="#cb7-424"></a><span class="co">/**</span></span>
<span id="cb7-425"><a href="#cb7-425"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb7-426"><a href="#cb7-426"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb7-427"><a href="#cb7-427"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb7-428"><a href="#cb7-428"></a><span class="co"> */</span></span>
<span id="cb7-429"><a href="#cb7-429"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb7-430"><a href="#cb7-430"></a>  0%<span class="op">,</span></span>
<span id="cb7-431"><a href="#cb7-431"></a>  100% {</span>
<span id="cb7-432"><a href="#cb7-432"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-433"><a href="#cb7-433"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-434"><a href="#cb7-434"></a>  }</span>
<span id="cb7-435"><a href="#cb7-435"></a>  10%<span class="op">,</span></span>
<span id="cb7-436"><a href="#cb7-436"></a>  30%<span class="op">,</span></span>
<span id="cb7-437"><a href="#cb7-437"></a>  50%<span class="op">,</span></span>
<span id="cb7-438"><a href="#cb7-438"></a>  70% {</span>
<span id="cb7-439"><a href="#cb7-439"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-440"><a href="#cb7-440"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-441"><a href="#cb7-441"></a>  }</span>
<span id="cb7-442"><a href="#cb7-442"></a>  20%<span class="op">,</span></span>
<span id="cb7-443"><a href="#cb7-443"></a>  40%<span class="op">,</span></span>
<span id="cb7-444"><a href="#cb7-444"></a>  60% {</span>
<span id="cb7-445"><a href="#cb7-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-446"><a href="#cb7-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-447"><a href="#cb7-447"></a>  }</span>
<span id="cb7-448"><a href="#cb7-448"></a>  80% {</span>
<span id="cb7-449"><a href="#cb7-449"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-450"><a href="#cb7-450"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-451"><a href="#cb7-451"></a>  }</span>
<span id="cb7-452"><a href="#cb7-452"></a>  90% {</span>
<span id="cb7-453"><a href="#cb7-453"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-454"><a href="#cb7-454"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-455"><a href="#cb7-455"></a>  }</span>
<span id="cb7-456"><a href="#cb7-456"></a>}</span>
<span id="cb7-457"><a href="#cb7-457"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb7-458"><a href="#cb7-458"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb7-459"><a href="#cb7-459"></a>  <span class="dv">100%</span> {</span>
<span id="cb7-460"><a href="#cb7-460"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-461"><a href="#cb7-461"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-462"><a href="#cb7-462"></a>  }</span>
<span id="cb7-463"><a href="#cb7-463"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb7-464"><a href="#cb7-464"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb7-465"><a href="#cb7-465"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb7-466"><a href="#cb7-466"></a>  <span class="dv">70%</span> {</span>
<span id="cb7-467"><a href="#cb7-467"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-468"><a href="#cb7-468"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-469"><a href="#cb7-469"></a>  }</span>
<span id="cb7-470"><a href="#cb7-470"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb7-471"><a href="#cb7-471"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb7-472"><a href="#cb7-472"></a>  <span class="dv">60%</span> {</span>
<span id="cb7-473"><a href="#cb7-473"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-474"><a href="#cb7-474"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-475"><a href="#cb7-475"></a>  }</span>
<span id="cb7-476"><a href="#cb7-476"></a>  <span class="dv">80%</span> {</span>
<span id="cb7-477"><a href="#cb7-477"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-478"><a href="#cb7-478"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-479"><a href="#cb7-479"></a>  }</span>
<span id="cb7-480"><a href="#cb7-480"></a>  <span class="dv">90%</span> {</span>
<span id="cb7-481"><a href="#cb7-481"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-482"><a href="#cb7-482"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb7-483"><a href="#cb7-483"></a>  }</span>
<span id="cb7-484"><a href="#cb7-484"></a>}</span>
<span id="cb7-485"><a href="#cb7-485"></a></span>
<span id="cb7-486"><a href="#cb7-486"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div id="demo-container-fullDemo" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-fullDemo" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n/* Lives display */\n.lives-display {\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.hearts {\n  font-size: 16px;\n  filter: drop-shadow(0 0 5px #ff0066);\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n  -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;>\n      <div class=&quot;lives-display&quot;>\n          <div class=&quot;hearts&quot;>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n          </div>\n      </div>\n    </div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\nlet hearts = 5\n\nlet high_score = 0\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\nlet bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)\nbg_start.volume = .2\nbg_start.loop = true\n\nlet bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_game.volume = .2\nbg_game.loop = true\n\nlet bg_end = new Audio(&quot;audio/creep.mp3&quot;)\nbg_end.volume = .2\nbg_end.loop = true\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, \n&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          //score = score - 100\n          \n          hearts = hearts - 1\n          let heart_display = document.querySelector(&quot;.hearts&quot;)\n          if(hearts == 5){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n          } else if(hearts == 4){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`\n          } else if(hearts == 3){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 2){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 1){\n                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 0){\n                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          }\n          \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        //update high score\n        if(score > high_score){\n          high_score = score\n          document.querySelector(&quot;#high-score&quot;).innerHTML = high_score.toString().padStart(6, &quot;0&quot;);\n          document.querySelector(&quot;#high-score&quot;).classList.add(&quot;heartbeat&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)\n          document.querySelector(&quot;#high-score&quot;).classList.remove(&quot;heartbeat&quot;)\n    }\n}\n\n// check death\nlet death = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>\n                      <p>Press &quot;ENTER&quot; to try again.</p>\n                    </div>`,\n      choices: [&quot;ENTER&quot;],\n      trial_duration: null,\n      data: {trial_part: &quot;death&quot;},\n      on_start: function(){\n          bg_game.pause();\n          bg_end.play();\n      },\n      on_finish: function(){\n          bg_end.pause();\n      }\n    }\n  ],\n   conditional_function: function(){\n        // this timeline runs IF hearts is 0 or less\n        if(hearts <= 0){\n            return true;\n        } else {\n            return false;\n        }\n  },\n  on_timeline_finish: function(){\n    // pause all music\n    bg_game.pause();\n    bg_game.currentTime = 0;\n    bg_start.pause();\n    bg_start.currentTime = 0;\n    bg_end.pause();\n    bg_end.currentTime = 0;\n    \n    // end jsPsych early\n    jsPsych.abortExperiment();\n\n    // clear the jspsych display display \n    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;\n    \n    // restart the score/hearts\n    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;\n    score = 0\n    hearts = 5\n    \n    // restart jspsych\n    if(assigned_condition === &quot;implicit&quot;){\n      jsPsych.run([\n                implicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        } else if(assigned_condition === &quot;explicit&quot;){\n            jsPsych.run([\n                explicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        }\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_game.play();\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 2,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_finish: function(){\n        bg_game.pause();\n        bg_game.currentTime = 0;\n    }\n}\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    },\n    on_start: function(){\n      bg_end.play();\n    },\n    on_finish: function(){\n      bg_end.pause();\n      bg_end.currentTime = 0;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-fullDemo');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-fullDemo" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}

/* Lives display */
.lives-display {
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.hearts {
  font-size: 16px;
  filter: drop-shadow(0 0 5px #ff0066);
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
 -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;>
      <div class=&quot;lives-display&quot;>
          <div class=&quot;hearts&quot;>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
          </div>
      </div>
    </div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

let hearts = 5

let high_score = 0

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2

let bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)
bg_start.volume = .2
bg_start.loop = true

let bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_game.volume = .2
bg_game.loop = true

let bg_end = new Audio(&quot;audio/creep.mp3&quot;)
bg_end.volume = .2
bg_end.loop = true

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, 
&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          //score = score - 100
          
          hearts = hearts - 1
          let heart_display = document.querySelector(&quot;.hearts&quot;)
          if(hearts == 5){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
          } else if(hearts == 4){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`
          } else if(hearts == 3){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 2){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 1){
                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 0){
                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          }
          
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        //update high score
        if(score > high_score){
          high_score = score
          document.querySelector(&quot;#high-score&quot;).innerHTML = high_score.toString().padStart(6, &quot;0&quot;);
          document.querySelector(&quot;#high-score&quot;).classList.add(&quot;heartbeat&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)
          document.querySelector(&quot;#high-score&quot;).classList.remove(&quot;heartbeat&quot;)
    }
}

// check death
let death = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>
                      <p>Press &quot;ENTER&quot; to try again.</p>
                    </div>`,
      choices: [&quot;ENTER&quot;],
      trial_duration: null,
      data: {trial_part: &quot;death&quot;},
      on_start: function(){
          bg_game.pause();
          bg_end.play();
      },
      on_finish: function(){
          bg_end.pause();
      }
    }
  ],
   conditional_function: function(){
        // this timeline runs IF hearts is 0 or less
        if(hearts <= 0){
            return true;
        } else {
            return false;
        }
  },
  on_timeline_finish: function(){
    // pause all music
    bg_game.pause();
    bg_game.currentTime = 0;
    bg_start.pause();
    bg_start.currentTime = 0;
    bg_end.pause();
    bg_end.currentTime = 0;
    
    // end jsPsych early
    jsPsych.abortExperiment();

    // clear the jspsych display display 
    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;
    
    // restart the score/hearts
    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;
    score = 0
    hearts = 5
    
    // restart jspsych
    if(assigned_condition === &quot;implicit&quot;){
      jsPsych.run([
                implicit_instructions,
                learning,
                test,
                saveData
            ]);
        } else if(assigned_condition === &quot;explicit&quot;){
            jsPsych.run([
                explicit_instructions,
                learning,
                test,
                saveData
            ]);
        }
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_game.play();
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 2,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_finish: function(){
        bg_game.pause();
        bg_game.currentTime = 0;
    }
}


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    },
    on_start: function(){
      bg_end.play();
    },
    on_finish: function(){
      bg_end.pause();
      bg_end.currentTime = 0;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-fullDemo&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-fullDemo&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stage-1-basic-game-with-animations" class="level2" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="stage-1-basic-game-with-animations"><span class="header-section-number">26.3</span> Stage 1: Basic Game with Animations</h2>
<section id="create-a-game-display" class="level3" data-number="26.3.1">
<h3 data-number="26.3.1" class="anchored" data-anchor-id="create-a-game-display"><span class="header-section-number">26.3.1</span> Create a Game Display</h3>
<p>To begin, we’re going to create an HTML game display and insert the jsPsych experiment into the center grid area.</p>
<p>Changes:</p>
<ol type="1">
<li><code>index.html</code> - Added the game display HTML</li>
<li><code>exp.js</code> - updated the jsPsych init function and updated the <code>preload</code> trial</li>
<li><code>style.css</code> - Added CSS to style the game display with a background image.</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>We added a white border to visualize the divisions. We’ll remove this later</li>
<li><code>.boxContainer</code> - removed the height/width settings (commented them out so they are ignored) to allow it fill the entire center grid space</li>
<li><code>body</code> - added styling so that our game display is centered on the screen</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB8 */
[id^="cb8-"]:nth-child(n+18):nth-child(-n+32) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB9 */
[id^="cb9-"]:nth-child(n+6):nth-child(-n+8),
[id^="cb6-"]:nth-child(n+43):nth-child(-n+43) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB10 */
[id^="cb10-"]:nth-child(n+2):nth-child(-n+8),
[id^="cb10-"]:nth-child(n+11):nth-child(-n+12),
[id^="cb10-"]:nth-child(n+43):nth-child(-n+43),
[id^="cb10-"]:nth-child(n+30):nth-child(-n+57),
[id^="cb10-"]:nth-child(n+59):nth-child(-n+68),
[id^="cb10-"]:nth-child(n+70):nth-child(-n+74),
[id^="cb10-"]:nth-child(n+76):nth-child(-n+79) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>    </span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-22"><a href="#cb8-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-23"><a href="#cb8-23"></a>    </span>
<span id="cb8-24"><a href="#cb8-24"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-25"><a href="#cb8-25"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-26"><a href="#cb8-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-27"><a href="#cb8-27"></a>    </span>
<span id="cb8-28"><a href="#cb8-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-29"><a href="#cb8-29"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-30"><a href="#cb8-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-31"><a href="#cb8-31"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb8-33"><a href="#cb8-33"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb8-34"><a href="#cb8-34"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-35"><a href="#cb8-35"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-36"><a href="#cb8-36"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-37"><a href="#cb8-37"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a> </span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">// ============================================</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">// ============================================</span></span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb9-7"><a href="#cb9-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb9-8"><a href="#cb9-8"></a>                ) </span>
<span id="cb9-9"><a href="#cb9-9"></a></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">// ============================================</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">// ============================================</span></span>
<span id="cb9-13"><a href="#cb9-13"></a></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb9-18"><a href="#cb9-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>    }</span>
<span id="cb9-20"><a href="#cb9-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>}</span>
<span id="cb9-22"><a href="#cb9-22"></a></span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb9-24"><a href="#cb9-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb9-25"><a href="#cb9-25"></a></span>
<span id="cb9-26"><a href="#cb9-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb9-27"><a href="#cb9-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb9-28"><a href="#cb9-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb9-29"><a href="#cb9-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb9-30"><a href="#cb9-30"></a></span>
<span id="cb9-31"><a href="#cb9-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb9-32"><a href="#cb9-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb9-33"><a href="#cb9-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb9-34"><a href="#cb9-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb9-35"><a href="#cb9-35"></a>})<span class="op">;</span></span>
<span id="cb9-36"><a href="#cb9-36"></a></span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="co">// ============================================</span></span>
<span id="cb9-38"><a href="#cb9-38"></a><span class="co">// Preload</span></span>
<span id="cb9-39"><a href="#cb9-39"></a><span class="co">// ============================================</span></span>
<span id="cb9-40"><a href="#cb9-40"></a></span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb9-42"><a href="#cb9-42"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb9-43"><a href="#cb9-43"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span>]</span>
<span id="cb9-44"><a href="#cb9-44"></a>}</span>
<span id="cb9-45"><a href="#cb9-45"></a></span>
<span id="cb9-46"><a href="#cb9-46"></a><span class="co">// ============================================</span></span>
<span id="cb9-47"><a href="#cb9-47"></a><span class="co">// Welcome</span></span>
<span id="cb9-48"><a href="#cb9-48"></a><span class="co">// ============================================</span></span>
<span id="cb9-49"><a href="#cb9-49"></a></span>
<span id="cb9-50"><a href="#cb9-50"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb9-51"><a href="#cb9-51"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-52"><a href="#cb9-52"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb9-53"><a href="#cb9-53"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb9-54"><a href="#cb9-54"></a>}</span>
<span id="cb9-55"><a href="#cb9-55"></a></span>
<span id="cb9-56"><a href="#cb9-56"></a><span class="co">// ============================================</span></span>
<span id="cb9-57"><a href="#cb9-57"></a><span class="co">// Instructions</span></span>
<span id="cb9-58"><a href="#cb9-58"></a><span class="co">// ============================================</span></span>
<span id="cb9-59"><a href="#cb9-59"></a></span>
<span id="cb9-60"><a href="#cb9-60"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb9-61"><a href="#cb9-61"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb9-62"><a href="#cb9-62"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb9-63"><a href="#cb9-63"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb9-64"><a href="#cb9-64"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb9-65"><a href="#cb9-65"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb9-66"><a href="#cb9-66"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb9-67"><a href="#cb9-67"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb9-68"><a href="#cb9-68"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb9-69"><a href="#cb9-69"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb9-70"><a href="#cb9-70"></a><span class="vs">                 &lt;p&gt;When you are ready to begin, press any NEXT&lt;/p&gt;</span></span>
<span id="cb9-71"><a href="#cb9-71"></a><span class="vs">               &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb9-72"><a href="#cb9-72"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-73"><a href="#cb9-73"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-74"><a href="#cb9-74"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb9-75"><a href="#cb9-75"></a>    }</span>
<span id="cb9-76"><a href="#cb9-76"></a>}</span>
<span id="cb9-77"><a href="#cb9-77"></a></span>
<span id="cb9-78"><a href="#cb9-78"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb9-79"><a href="#cb9-79"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb9-80"><a href="#cb9-80"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb9-81"><a href="#cb9-81"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb9-82"><a href="#cb9-82"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb9-83"><a href="#cb9-83"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb9-84"><a href="#cb9-84"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb9-85"><a href="#cb9-85"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb9-86"><a href="#cb9-86"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb9-87"><a href="#cb9-87"></a><span class="vs">                 &lt;/ul&gt;             </span></span>
<span id="cb9-88"><a href="#cb9-88"></a><span class="vs">               &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb9-89"><a href="#cb9-89"></a>            <span class="vs">`&lt;div&gt;     </span></span>
<span id="cb9-90"><a href="#cb9-90"></a><span class="vs">                &lt;p&gt;Important: The spatial location of the target will repeat in a predictable sequence. &lt;/p&gt;</span></span>
<span id="cb9-91"><a href="#cb9-91"></a><span class="vs">                &lt;p&gt;Your task is to try to learn that sequence of locations while you complete the experiment &lt;/p&gt;</span></span>
<span id="cb9-92"><a href="#cb9-92"></a><span class="vs">                &lt;p&gt;When you are ready to begin, press Next&lt;/p&gt;</span></span>
<span id="cb9-93"><a href="#cb9-93"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb9-94"><a href="#cb9-94"></a>        ]<span class="op">,</span></span>
<span id="cb9-95"><a href="#cb9-95"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-96"><a href="#cb9-96"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-97"><a href="#cb9-97"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb9-98"><a href="#cb9-98"></a>    }</span>
<span id="cb9-99"><a href="#cb9-99"></a>}</span>
<span id="cb9-100"><a href="#cb9-100"></a></span>
<span id="cb9-101"><a href="#cb9-101"></a><span class="co">// ============================================</span></span>
<span id="cb9-102"><a href="#cb9-102"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb9-103"><a href="#cb9-103"></a><span class="co">// ============================================</span></span>
<span id="cb9-104"><a href="#cb9-104"></a></span>
<span id="cb9-105"><a href="#cb9-105"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb9-106"><a href="#cb9-106"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-107"><a href="#cb9-107"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb9-108"><a href="#cb9-108"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-109"><a href="#cb9-109"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-110"><a href="#cb9-110"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-111"><a href="#cb9-111"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-112"><a href="#cb9-112"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb9-113"><a href="#cb9-113"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb9-114"><a href="#cb9-114"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb9-115"><a href="#cb9-115"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-116"><a href="#cb9-116"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb9-117"><a href="#cb9-117"></a>    }</span>
<span id="cb9-118"><a href="#cb9-118"></a>}</span>
<span id="cb9-119"><a href="#cb9-119"></a></span>
<span id="cb9-120"><a href="#cb9-120"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb9-121"><a href="#cb9-121"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-122"><a href="#cb9-122"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb9-123"><a href="#cb9-123"></a>        <span class="kw">let</span> output</span>
<span id="cb9-124"><a href="#cb9-124"></a></span>
<span id="cb9-125"><a href="#cb9-125"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb9-126"><a href="#cb9-126"></a></span>
<span id="cb9-127"><a href="#cb9-127"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb9-128"><a href="#cb9-128"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb9-129"><a href="#cb9-129"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb9-130"><a href="#cb9-130"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-131"><a href="#cb9-131"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-132"><a href="#cb9-132"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-133"><a href="#cb9-133"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb9-134"><a href="#cb9-134"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb9-135"><a href="#cb9-135"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb9-136"><a href="#cb9-136"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-137"><a href="#cb9-137"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb9-138"><a href="#cb9-138"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-139"><a href="#cb9-139"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-140"><a href="#cb9-140"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb9-141"><a href="#cb9-141"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb9-142"><a href="#cb9-142"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb9-143"><a href="#cb9-143"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-144"><a href="#cb9-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-145"><a href="#cb9-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb9-146"><a href="#cb9-146"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-147"><a href="#cb9-147"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb9-148"><a href="#cb9-148"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb9-149"><a href="#cb9-149"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb9-150"><a href="#cb9-150"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-151"><a href="#cb9-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-152"><a href="#cb9-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb9-153"><a href="#cb9-153"></a><span class="vs">                  &lt;div class="box"&gt;&lt;img src="images/black.png" width="90px"&gt;&lt;/div&gt;</span></span>
<span id="cb9-154"><a href="#cb9-154"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb9-155"><a href="#cb9-155"></a>        }</span>
<span id="cb9-156"><a href="#cb9-156"></a></span>
<span id="cb9-157"><a href="#cb9-157"></a>        <span class="cf">return</span> output</span>
<span id="cb9-158"><a href="#cb9-158"></a>    }<span class="op">,</span></span>
<span id="cb9-159"><a href="#cb9-159"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb9-160"><a href="#cb9-160"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-161"><a href="#cb9-161"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb9-162"><a href="#cb9-162"></a>    }</span>
<span id="cb9-163"><a href="#cb9-163"></a>}</span>
<span id="cb9-164"><a href="#cb9-164"></a></span>
<span id="cb9-165"><a href="#cb9-165"></a><span class="co">// learning phase in order</span></span>
<span id="cb9-166"><a href="#cb9-166"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb9-167"><a href="#cb9-167"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb9-168"><a href="#cb9-168"></a>        blank<span class="op">,</span></span>
<span id="cb9-169"><a href="#cb9-169"></a>        target</span>
<span id="cb9-170"><a href="#cb9-170"></a>    ]<span class="op">,</span></span>
<span id="cb9-171"><a href="#cb9-171"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb9-172"><a href="#cb9-172"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb9-173"><a href="#cb9-173"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb9-174"><a href="#cb9-174"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb9-175"><a href="#cb9-175"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb9-176"><a href="#cb9-176"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb9-177"><a href="#cb9-177"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb9-178"><a href="#cb9-178"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb9-179"><a href="#cb9-179"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb9-180"><a href="#cb9-180"></a>    ]<span class="op">,</span></span>
<span id="cb9-181"><a href="#cb9-181"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-182"><a href="#cb9-182"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-183"><a href="#cb9-183"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb9-184"><a href="#cb9-184"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb9-185"><a href="#cb9-185"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb9-186"><a href="#cb9-186"></a>    }</span>
<span id="cb9-187"><a href="#cb9-187"></a>}</span>
<span id="cb9-188"><a href="#cb9-188"></a></span>
<span id="cb9-189"><a href="#cb9-189"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb9-190"><a href="#cb9-190"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb9-191"><a href="#cb9-191"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb9-192"><a href="#cb9-192"></a>        blank<span class="op">,</span></span>
<span id="cb9-193"><a href="#cb9-193"></a>        target</span>
<span id="cb9-194"><a href="#cb9-194"></a>    ]<span class="op">,</span></span>
<span id="cb9-195"><a href="#cb9-195"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb9-196"><a href="#cb9-196"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb9-197"><a href="#cb9-197"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb9-198"><a href="#cb9-198"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb9-199"><a href="#cb9-199"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb9-200"><a href="#cb9-200"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb9-201"><a href="#cb9-201"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb9-202"><a href="#cb9-202"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb9-203"><a href="#cb9-203"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb9-204"><a href="#cb9-204"></a>    ]<span class="op">,</span></span>
<span id="cb9-205"><a href="#cb9-205"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb9-206"><a href="#cb9-206"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb9-207"><a href="#cb9-207"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb9-208"><a href="#cb9-208"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb9-209"><a href="#cb9-209"></a>        }</span>
<span id="cb9-210"><a href="#cb9-210"></a>    }<span class="op">,</span></span>
<span id="cb9-211"><a href="#cb9-211"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-212"><a href="#cb9-212"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-213"><a href="#cb9-213"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb9-214"><a href="#cb9-214"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb9-215"><a href="#cb9-215"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb9-216"><a href="#cb9-216"></a>    }</span>
<span id="cb9-217"><a href="#cb9-217"></a>}</span>
<span id="cb9-218"><a href="#cb9-218"></a></span>
<span id="cb9-219"><a href="#cb9-219"></a><span class="co">// ============================================</span></span>
<span id="cb9-220"><a href="#cb9-220"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb9-221"><a href="#cb9-221"></a><span class="co">// ============================================</span></span>
<span id="cb9-222"><a href="#cb9-222"></a></span>
<span id="cb9-223"><a href="#cb9-223"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb9-224"><a href="#cb9-224"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-225"><a href="#cb9-225"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb9-226"><a href="#cb9-226"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb9-227"><a href="#cb9-227"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb9-228"><a href="#cb9-228"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb9-229"><a href="#cb9-229"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb9-230"><a href="#cb9-230"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb9-231"><a href="#cb9-231"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb9-232"><a href="#cb9-232"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb9-233"><a href="#cb9-233"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb9-234"><a href="#cb9-234"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb9-235"><a href="#cb9-235"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb9-236"><a href="#cb9-236"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb9-237"><a href="#cb9-237"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb9-238"><a href="#cb9-238"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb9-239"><a href="#cb9-239"></a>        })<span class="op">;</span></span>
<span id="cb9-240"><a href="#cb9-240"></a>    }<span class="op">,</span></span>
<span id="cb9-241"><a href="#cb9-241"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-242"><a href="#cb9-242"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb9-243"><a href="#cb9-243"></a>    }</span>
<span id="cb9-244"><a href="#cb9-244"></a>}<span class="op">;</span></span>
<span id="cb9-245"><a href="#cb9-245"></a></span>
<span id="cb9-246"><a href="#cb9-246"></a><span class="co">// ============================================</span></span>
<span id="cb9-247"><a href="#cb9-247"></a><span class="co">// Run jsPsych</span></span>
<span id="cb9-248"><a href="#cb9-248"></a><span class="co">// ============================================</span></span>
<span id="cb9-249"><a href="#cb9-249"></a></span>
<span id="cb9-250"><a href="#cb9-250"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb9-251"><a href="#cb9-251"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb9-252"><a href="#cb9-252"></a>        preload<span class="op">,</span></span>
<span id="cb9-253"><a href="#cb9-253"></a>        welcome<span class="op">,</span></span>
<span id="cb9-254"><a href="#cb9-254"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb9-255"><a href="#cb9-255"></a>        learning<span class="op">,</span></span>
<span id="cb9-256"><a href="#cb9-256"></a>        test<span class="op">,</span></span>
<span id="cb9-257"><a href="#cb9-257"></a>        saveData</span>
<span id="cb9-258"><a href="#cb9-258"></a>    ])<span class="op">;</span></span>
<span id="cb9-259"><a href="#cb9-259"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb9-260"><a href="#cb9-260"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb9-261"><a href="#cb9-261"></a>        preload<span class="op">,</span></span>
<span id="cb9-262"><a href="#cb9-262"></a>        welcome<span class="op">,</span></span>
<span id="cb9-263"><a href="#cb9-263"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb9-264"><a href="#cb9-264"></a>        learning<span class="op">,</span></span>
<span id="cb9-265"><a href="#cb9-265"></a>        test<span class="op">,</span></span>
<span id="cb9-266"><a href="#cb9-266"></a>        saveData</span>
<span id="cb9-267"><a href="#cb9-267"></a>    ])<span class="op">;</span></span>
<span id="cb9-268"><a href="#cb9-268"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1"></a> </span>
<span id="cb10-2"><a href="#cb10-2"></a>body {</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>}  </span>
<span id="cb10-9"><a href="#cb10-9"></a></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb10-11"><a href="#cb10-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>}</span>
<span id="cb10-17"><a href="#cb10-17"></a></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="fu">.box</span> {</span>
<span id="cb10-19"><a href="#cb10-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-21"><a href="#cb10-21"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">solid</span><span class="op">;</span></span>
<span id="cb10-22"><a href="#cb10-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-23"><a href="#cb10-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-24"><a href="#cb10-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-25"><a href="#cb10-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb10-26"><a href="#cb10-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-27"><a href="#cb10-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>}</span>
<span id="cb10-29"><a href="#cb10-29"></a></span>
<span id="cb10-30"><a href="#cb10-30"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb10-31"><a href="#cb10-31"></a><span class="fu">.game-display</span> {</span>
<span id="cb10-32"><a href="#cb10-32"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb10-33"><a href="#cb10-33"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-34"><a href="#cb10-34"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-35"><a href="#cb10-35"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb10-36"><a href="#cb10-36"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb10-37"><a href="#cb10-37"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb10-38"><a href="#cb10-38"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb10-39"><a href="#cb10-39"></a>}</span>
<span id="cb10-40"><a href="#cb10-40"></a></span>
<span id="cb10-41"><a href="#cb10-41"></a><span class="fu">.grid</span> {</span>
<span id="cb10-42"><a href="#cb10-42"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb10-43"><a href="#cb10-43"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb10-44"><a href="#cb10-44"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb10-45"><a href="#cb10-45"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb10-47"><a href="#cb10-47"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb10-48"><a href="#cb10-48"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb10-49"><a href="#cb10-49"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-51"><a href="#cb10-51"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-52"><a href="#cb10-52"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-53"><a href="#cb10-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-54"><a href="#cb10-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb10-55"><a href="#cb10-55"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb10-56"><a href="#cb10-56"></a></span>
<span id="cb10-57"><a href="#cb10-57"></a>}</span>
<span id="cb10-58"><a href="#cb10-58"></a></span>
<span id="cb10-59"><a href="#cb10-59"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb10-60"><a href="#cb10-60"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb10-61"><a href="#cb10-61"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb10-62"><a href="#cb10-62"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb10-63"><a href="#cb10-63"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb10-64"><a href="#cb10-64"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb10-65"><a href="#cb10-65"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb10-66"><a href="#cb10-66"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb10-67"><a href="#cb10-67"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb10-68"><a href="#cb10-68"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb10-69"><a href="#cb10-69"></a></span>
<span id="cb10-70"><a href="#cb10-70"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb10-71"><a href="#cb10-71"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div {</span>
<span id="cb10-72"><a href="#cb10-72"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">white</span><span class="op">;</span></span>
<span id="cb10-73"><a href="#cb10-73"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">-.5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-74"><a href="#cb10-74"></a>}</span>
<span id="cb10-75"><a href="#cb10-75"></a></span>
<span id="cb10-76"><a href="#cb10-76"></a><span class="fu">.game-title</span> {</span>
<span id="cb10-77"><a href="#cb10-77"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb10-78"><a href="#cb10-78"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb10-79"><a href="#cb10-79"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 115px;\n    height: 150px;\n    border: solid;\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n\n.game-title {\n  font-size: 24px;\n  text-align: center;\n}\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;></div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n    choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>\n                 <p>When you are ready to begin, press any NEXT</p>\n               </div>`],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>             \n               </div>`,\n            `<div>     \n                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>\n                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>\n                <p>When you are ready to begin, press Next</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 115px;
    height: 150px;
    border: solid;
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
.grid > div {
    border: 1px solid white;
    margin: -.5px;
}

.game-title {
  font-size: 24px;
  text-align: center;
}
    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;></div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
    choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>
                 <p>When you are ready to begin, press any NEXT</p>
               </div>`],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>             
               </div>`,
            `<div>     
                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>
                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>
                <p>When you are ready to begin, press Next</p>
            </div>`
        ],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><img src=&quot;images/black.png&quot; width=&quot;90px&quot;></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="replace-targets-with-zombies" class="level3" data-number="26.3.2">
<h3 data-number="26.3.2" class="anchored" data-anchor-id="replace-targets-with-zombies"><span class="header-section-number">26.3.2</span> Replace Targets with Zombies</h3>
<p>We’re going to replace the boxes with an image of a dirt pile and replace the target image with animated zombies.</p>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Update the preload with zombie sprite sheets, replace the target image with zombie div in the <code>target</code> trial</li>
<li><code>style.css</code> - Update the <code>.box</code> class to remove the border and add the dirt and add the zombie animation classes</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>Note that the sprite animation is actually two animations chained together. The first one is where the zombie pops out of the grave, the second one is the ‘idle’ movement, which is delayed so it happens after.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB11 */


/* CB12 */
[id^="cb12-"]:nth-child(n+43):nth-child(-n+43),
[id^="cb12-"]:nth-child(n+129):nth-child(-n+129),
[id^="cb12-"]:nth-child(n+137):nth-child(-n+137),
[id^="cb12-"]:nth-child(n+145):nth-child(-n+145),
[id^="cb12-"]:nth-child(n+153):nth-child(-n+153),
[id^="cb12-"]:nth-child(n+129):nth-child(-n+129) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB13 */
[id^="cb13-"]:nth-child(n+21):nth-child(-n+21),
[id^="cb13-"]:nth-child(n+28):nth-child(-n+31),
[id^="cb13-"]:nth-child(n+85):nth-child(-n+122) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>    </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13"></a></span>
<span id="cb11-14"><a href="#cb11-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-22"><a href="#cb11-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23"></a>    </span>
<span id="cb11-24"><a href="#cb11-24"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-25"><a href="#cb11-25"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-26"><a href="#cb11-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-27"><a href="#cb11-27"></a>    </span>
<span id="cb11-28"><a href="#cb11-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-29"><a href="#cb11-29"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-30"><a href="#cb11-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-31"><a href="#cb11-31"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-32"><a href="#cb11-32"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb11-34"><a href="#cb11-34"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-35"><a href="#cb11-35"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-36"><a href="#cb11-36"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-37"><a href="#cb11-37"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a> </span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">// ============================================</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">// ============================================</span></span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb12-7"><a href="#cb12-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb12-8"><a href="#cb12-8"></a>                ) </span>
<span id="cb12-9"><a href="#cb12-9"></a></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">// ============================================</span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co">// ============================================</span></span>
<span id="cb12-13"><a href="#cb12-13"></a></span>
<span id="cb12-14"><a href="#cb12-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb12-16"><a href="#cb12-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb12-18"><a href="#cb12-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>    }</span>
<span id="cb12-20"><a href="#cb12-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb12-21"><a href="#cb12-21"></a>}</span>
<span id="cb12-22"><a href="#cb12-22"></a></span>
<span id="cb12-23"><a href="#cb12-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb12-24"><a href="#cb12-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb12-25"><a href="#cb12-25"></a></span>
<span id="cb12-26"><a href="#cb12-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb12-27"><a href="#cb12-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb12-28"><a href="#cb12-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb12-29"><a href="#cb12-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb12-30"><a href="#cb12-30"></a></span>
<span id="cb12-31"><a href="#cb12-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb12-32"><a href="#cb12-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb12-33"><a href="#cb12-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb12-34"><a href="#cb12-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb12-35"><a href="#cb12-35"></a>})<span class="op">;</span></span>
<span id="cb12-36"><a href="#cb12-36"></a></span>
<span id="cb12-37"><a href="#cb12-37"></a><span class="co">// ============================================</span></span>
<span id="cb12-38"><a href="#cb12-38"></a><span class="co">// Preload</span></span>
<span id="cb12-39"><a href="#cb12-39"></a><span class="co">// ============================================</span></span>
<span id="cb12-40"><a href="#cb12-40"></a></span>
<span id="cb12-41"><a href="#cb12-41"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb12-42"><a href="#cb12-42"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb12-43"><a href="#cb12-43"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]</span>
<span id="cb12-44"><a href="#cb12-44"></a>}</span>
<span id="cb12-45"><a href="#cb12-45"></a></span>
<span id="cb12-46"><a href="#cb12-46"></a><span class="co">// ============================================</span></span>
<span id="cb12-47"><a href="#cb12-47"></a><span class="co">// Welcome</span></span>
<span id="cb12-48"><a href="#cb12-48"></a><span class="co">// ============================================</span></span>
<span id="cb12-49"><a href="#cb12-49"></a></span>
<span id="cb12-50"><a href="#cb12-50"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb12-51"><a href="#cb12-51"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-52"><a href="#cb12-52"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb12-53"><a href="#cb12-53"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb12-54"><a href="#cb12-54"></a>}</span>
<span id="cb12-55"><a href="#cb12-55"></a></span>
<span id="cb12-56"><a href="#cb12-56"></a><span class="co">// ============================================</span></span>
<span id="cb12-57"><a href="#cb12-57"></a><span class="co">// Instructions</span></span>
<span id="cb12-58"><a href="#cb12-58"></a><span class="co">// ============================================</span></span>
<span id="cb12-59"><a href="#cb12-59"></a></span>
<span id="cb12-60"><a href="#cb12-60"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb12-61"><a href="#cb12-61"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb12-62"><a href="#cb12-62"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb12-63"><a href="#cb12-63"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb12-64"><a href="#cb12-64"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb12-65"><a href="#cb12-65"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb12-66"><a href="#cb12-66"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb12-67"><a href="#cb12-67"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb12-68"><a href="#cb12-68"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb12-69"><a href="#cb12-69"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb12-70"><a href="#cb12-70"></a><span class="vs">                 &lt;p&gt;When you are ready to begin, press any NEXT&lt;/p&gt;</span></span>
<span id="cb12-71"><a href="#cb12-71"></a><span class="vs">               &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb12-72"><a href="#cb12-72"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-73"><a href="#cb12-73"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-74"><a href="#cb12-74"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb12-75"><a href="#cb12-75"></a>    }</span>
<span id="cb12-76"><a href="#cb12-76"></a>}</span>
<span id="cb12-77"><a href="#cb12-77"></a></span>
<span id="cb12-78"><a href="#cb12-78"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb12-79"><a href="#cb12-79"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb12-80"><a href="#cb12-80"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb12-81"><a href="#cb12-81"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb12-82"><a href="#cb12-82"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb12-83"><a href="#cb12-83"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb12-84"><a href="#cb12-84"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb12-85"><a href="#cb12-85"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb12-86"><a href="#cb12-86"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb12-87"><a href="#cb12-87"></a><span class="vs">                 &lt;/ul&gt;             </span></span>
<span id="cb12-88"><a href="#cb12-88"></a><span class="vs">               &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb12-89"><a href="#cb12-89"></a>            <span class="vs">`&lt;div&gt;     </span></span>
<span id="cb12-90"><a href="#cb12-90"></a><span class="vs">                &lt;p&gt;Important: The spatial location of the target will repeat in a predictable sequence. &lt;/p&gt;</span></span>
<span id="cb12-91"><a href="#cb12-91"></a><span class="vs">                &lt;p&gt;Your task is to try to learn that sequence of locations while you complete the experiment &lt;/p&gt;</span></span>
<span id="cb12-92"><a href="#cb12-92"></a><span class="vs">                &lt;p&gt;When you are ready to begin, press Next&lt;/p&gt;</span></span>
<span id="cb12-93"><a href="#cb12-93"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb12-94"><a href="#cb12-94"></a>        ]<span class="op">,</span></span>
<span id="cb12-95"><a href="#cb12-95"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-96"><a href="#cb12-96"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-97"><a href="#cb12-97"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb12-98"><a href="#cb12-98"></a>    }</span>
<span id="cb12-99"><a href="#cb12-99"></a>}</span>
<span id="cb12-100"><a href="#cb12-100"></a></span>
<span id="cb12-101"><a href="#cb12-101"></a><span class="co">// ============================================</span></span>
<span id="cb12-102"><a href="#cb12-102"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb12-103"><a href="#cb12-103"></a><span class="co">// ============================================</span></span>
<span id="cb12-104"><a href="#cb12-104"></a></span>
<span id="cb12-105"><a href="#cb12-105"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb12-106"><a href="#cb12-106"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-107"><a href="#cb12-107"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb12-108"><a href="#cb12-108"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-109"><a href="#cb12-109"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-110"><a href="#cb12-110"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-111"><a href="#cb12-111"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-112"><a href="#cb12-112"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb12-113"><a href="#cb12-113"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb12-114"><a href="#cb12-114"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb12-115"><a href="#cb12-115"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-116"><a href="#cb12-116"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb12-117"><a href="#cb12-117"></a>    }</span>
<span id="cb12-118"><a href="#cb12-118"></a>}</span>
<span id="cb12-119"><a href="#cb12-119"></a></span>
<span id="cb12-120"><a href="#cb12-120"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb12-121"><a href="#cb12-121"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-122"><a href="#cb12-122"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb12-123"><a href="#cb12-123"></a>        <span class="kw">let</span> output</span>
<span id="cb12-124"><a href="#cb12-124"></a></span>
<span id="cb12-125"><a href="#cb12-125"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb12-126"><a href="#cb12-126"></a></span>
<span id="cb12-127"><a href="#cb12-127"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb12-128"><a href="#cb12-128"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb12-129"><a href="#cb12-129"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb12-130"><a href="#cb12-130"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-131"><a href="#cb12-131"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-132"><a href="#cb12-132"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-133"><a href="#cb12-133"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb12-134"><a href="#cb12-134"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb12-135"><a href="#cb12-135"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb12-136"><a href="#cb12-136"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-137"><a href="#cb12-137"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb12-138"><a href="#cb12-138"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-139"><a href="#cb12-139"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-140"><a href="#cb12-140"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb12-141"><a href="#cb12-141"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb12-142"><a href="#cb12-142"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb12-143"><a href="#cb12-143"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-144"><a href="#cb12-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-145"><a href="#cb12-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb12-146"><a href="#cb12-146"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-147"><a href="#cb12-147"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb12-148"><a href="#cb12-148"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb12-149"><a href="#cb12-149"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb12-150"><a href="#cb12-150"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-151"><a href="#cb12-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-152"><a href="#cb12-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb12-153"><a href="#cb12-153"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb12-154"><a href="#cb12-154"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb12-155"><a href="#cb12-155"></a>        }</span>
<span id="cb12-156"><a href="#cb12-156"></a></span>
<span id="cb12-157"><a href="#cb12-157"></a>        <span class="cf">return</span> output</span>
<span id="cb12-158"><a href="#cb12-158"></a>    }<span class="op">,</span></span>
<span id="cb12-159"><a href="#cb12-159"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb12-160"><a href="#cb12-160"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-161"><a href="#cb12-161"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb12-162"><a href="#cb12-162"></a>    }</span>
<span id="cb12-163"><a href="#cb12-163"></a>}</span>
<span id="cb12-164"><a href="#cb12-164"></a></span>
<span id="cb12-165"><a href="#cb12-165"></a><span class="co">// learning phase in order</span></span>
<span id="cb12-166"><a href="#cb12-166"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb12-167"><a href="#cb12-167"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-168"><a href="#cb12-168"></a>        blank<span class="op">,</span></span>
<span id="cb12-169"><a href="#cb12-169"></a>        target</span>
<span id="cb12-170"><a href="#cb12-170"></a>    ]<span class="op">,</span></span>
<span id="cb12-171"><a href="#cb12-171"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb12-172"><a href="#cb12-172"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb12-173"><a href="#cb12-173"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb12-174"><a href="#cb12-174"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb12-175"><a href="#cb12-175"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb12-176"><a href="#cb12-176"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb12-177"><a href="#cb12-177"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb12-178"><a href="#cb12-178"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb12-179"><a href="#cb12-179"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb12-180"><a href="#cb12-180"></a>    ]<span class="op">,</span></span>
<span id="cb12-181"><a href="#cb12-181"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-182"><a href="#cb12-182"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-183"><a href="#cb12-183"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb12-184"><a href="#cb12-184"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb12-185"><a href="#cb12-185"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb12-186"><a href="#cb12-186"></a>    }</span>
<span id="cb12-187"><a href="#cb12-187"></a>}</span>
<span id="cb12-188"><a href="#cb12-188"></a></span>
<span id="cb12-189"><a href="#cb12-189"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb12-190"><a href="#cb12-190"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb12-191"><a href="#cb12-191"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-192"><a href="#cb12-192"></a>        blank<span class="op">,</span></span>
<span id="cb12-193"><a href="#cb12-193"></a>        target</span>
<span id="cb12-194"><a href="#cb12-194"></a>    ]<span class="op">,</span></span>
<span id="cb12-195"><a href="#cb12-195"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb12-196"><a href="#cb12-196"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb12-197"><a href="#cb12-197"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb12-198"><a href="#cb12-198"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb12-199"><a href="#cb12-199"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb12-200"><a href="#cb12-200"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb12-201"><a href="#cb12-201"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb12-202"><a href="#cb12-202"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb12-203"><a href="#cb12-203"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb12-204"><a href="#cb12-204"></a>    ]<span class="op">,</span></span>
<span id="cb12-205"><a href="#cb12-205"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb12-206"><a href="#cb12-206"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb12-207"><a href="#cb12-207"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb12-208"><a href="#cb12-208"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb12-209"><a href="#cb12-209"></a>        }</span>
<span id="cb12-210"><a href="#cb12-210"></a>    }<span class="op">,</span></span>
<span id="cb12-211"><a href="#cb12-211"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-212"><a href="#cb12-212"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-213"><a href="#cb12-213"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb12-214"><a href="#cb12-214"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb12-215"><a href="#cb12-215"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb12-216"><a href="#cb12-216"></a>    }</span>
<span id="cb12-217"><a href="#cb12-217"></a>}</span>
<span id="cb12-218"><a href="#cb12-218"></a></span>
<span id="cb12-219"><a href="#cb12-219"></a><span class="co">// ============================================</span></span>
<span id="cb12-220"><a href="#cb12-220"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb12-221"><a href="#cb12-221"></a><span class="co">// ============================================</span></span>
<span id="cb12-222"><a href="#cb12-222"></a></span>
<span id="cb12-223"><a href="#cb12-223"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb12-224"><a href="#cb12-224"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-225"><a href="#cb12-225"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb12-226"><a href="#cb12-226"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb12-227"><a href="#cb12-227"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb12-228"><a href="#cb12-228"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb12-229"><a href="#cb12-229"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb12-230"><a href="#cb12-230"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb12-231"><a href="#cb12-231"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb12-232"><a href="#cb12-232"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb12-233"><a href="#cb12-233"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb12-234"><a href="#cb12-234"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb12-235"><a href="#cb12-235"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb12-236"><a href="#cb12-236"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb12-237"><a href="#cb12-237"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb12-238"><a href="#cb12-238"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb12-239"><a href="#cb12-239"></a>        })<span class="op">;</span></span>
<span id="cb12-240"><a href="#cb12-240"></a>    }<span class="op">,</span></span>
<span id="cb12-241"><a href="#cb12-241"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-242"><a href="#cb12-242"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb12-243"><a href="#cb12-243"></a>    }</span>
<span id="cb12-244"><a href="#cb12-244"></a>}<span class="op">;</span></span>
<span id="cb12-245"><a href="#cb12-245"></a></span>
<span id="cb12-246"><a href="#cb12-246"></a><span class="co">// ============================================</span></span>
<span id="cb12-247"><a href="#cb12-247"></a><span class="co">// Run jsPsych</span></span>
<span id="cb12-248"><a href="#cb12-248"></a><span class="co">// ============================================</span></span>
<span id="cb12-249"><a href="#cb12-249"></a></span>
<span id="cb12-250"><a href="#cb12-250"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb12-251"><a href="#cb12-251"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb12-252"><a href="#cb12-252"></a>        preload<span class="op">,</span></span>
<span id="cb12-253"><a href="#cb12-253"></a>        welcome<span class="op">,</span></span>
<span id="cb12-254"><a href="#cb12-254"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb12-255"><a href="#cb12-255"></a>        learning<span class="op">,</span></span>
<span id="cb12-256"><a href="#cb12-256"></a>        test<span class="op">,</span></span>
<span id="cb12-257"><a href="#cb12-257"></a>        saveData</span>
<span id="cb12-258"><a href="#cb12-258"></a>    ])<span class="op">;</span></span>
<span id="cb12-259"><a href="#cb12-259"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb12-260"><a href="#cb12-260"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb12-261"><a href="#cb12-261"></a>        preload<span class="op">,</span></span>
<span id="cb12-262"><a href="#cb12-262"></a>        welcome<span class="op">,</span></span>
<span id="cb12-263"><a href="#cb12-263"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb12-264"><a href="#cb12-264"></a>        learning<span class="op">,</span></span>
<span id="cb12-265"><a href="#cb12-265"></a>        test<span class="op">,</span></span>
<span id="cb12-266"><a href="#cb12-266"></a>        saveData</span>
<span id="cb12-267"><a href="#cb12-267"></a>    ])<span class="op">;</span></span>
<span id="cb12-268"><a href="#cb12-268"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1"></a> </span>
<span id="cb13-2"><a href="#cb13-2"></a>body {</span>
<span id="cb13-3"><a href="#cb13-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>}  </span>
<span id="cb13-9"><a href="#cb13-9"></a></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb13-11"><a href="#cb13-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-16"><a href="#cb13-16"></a>}</span>
<span id="cb13-17"><a href="#cb13-17"></a></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="fu">.box</span> {</span>
<span id="cb13-19"><a href="#cb13-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-20"><a href="#cb13-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-21"><a href="#cb13-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb13-22"><a href="#cb13-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-23"><a href="#cb13-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-24"><a href="#cb13-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-25"><a href="#cb13-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb13-26"><a href="#cb13-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-27"><a href="#cb13-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-28"><a href="#cb13-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-29"><a href="#cb13-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb13-30"><a href="#cb13-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb13-31"><a href="#cb13-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb13-32"><a href="#cb13-32"></a>}</span>
<span id="cb13-33"><a href="#cb13-33"></a></span>
<span id="cb13-34"><a href="#cb13-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb13-35"><a href="#cb13-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb13-36"><a href="#cb13-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb13-37"><a href="#cb13-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-38"><a href="#cb13-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-39"><a href="#cb13-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-40"><a href="#cb13-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb13-41"><a href="#cb13-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb13-42"><a href="#cb13-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb13-43"><a href="#cb13-43"></a>}</span>
<span id="cb13-44"><a href="#cb13-44"></a></span>
<span id="cb13-45"><a href="#cb13-45"></a><span class="fu">.grid</span> {</span>
<span id="cb13-46"><a href="#cb13-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb13-47"><a href="#cb13-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb13-48"><a href="#cb13-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb13-49"><a href="#cb13-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb13-50"><a href="#cb13-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-51"><a href="#cb13-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb13-52"><a href="#cb13-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb13-53"><a href="#cb13-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-54"><a href="#cb13-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-55"><a href="#cb13-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-56"><a href="#cb13-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-57"><a href="#cb13-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-58"><a href="#cb13-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb13-59"><a href="#cb13-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb13-60"><a href="#cb13-60"></a></span>
<span id="cb13-61"><a href="#cb13-61"></a>}</span>
<span id="cb13-62"><a href="#cb13-62"></a></span>
<span id="cb13-63"><a href="#cb13-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb13-64"><a href="#cb13-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb13-65"><a href="#cb13-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb13-66"><a href="#cb13-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb13-67"><a href="#cb13-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb13-68"><a href="#cb13-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb13-69"><a href="#cb13-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb13-70"><a href="#cb13-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb13-71"><a href="#cb13-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb13-72"><a href="#cb13-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb13-73"><a href="#cb13-73"></a></span>
<span id="cb13-74"><a href="#cb13-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb13-75"><a href="#cb13-75"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div {</span>
<span id="cb13-76"><a href="#cb13-76"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">white</span><span class="op">;</span></span>
<span id="cb13-77"><a href="#cb13-77"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">-.5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-78"><a href="#cb13-78"></a>}</span>
<span id="cb13-79"><a href="#cb13-79"></a></span>
<span id="cb13-80"><a href="#cb13-80"></a><span class="fu">.game-title</span> {</span>
<span id="cb13-81"><a href="#cb13-81"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-82"><a href="#cb13-82"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb13-83"><a href="#cb13-83"></a>}</span>
<span id="cb13-84"><a href="#cb13-84"></a></span>
<span id="cb13-85"><a href="#cb13-85"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb13-86"><a href="#cb13-86"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb13-87"><a href="#cb13-87"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-88"><a href="#cb13-88"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-89"><a href="#cb13-89"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb13-90"><a href="#cb13-90"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb13-91"><a href="#cb13-91"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb13-92"><a href="#cb13-92"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb13-93"><a href="#cb13-93"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-94"><a href="#cb13-94"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb13-95"><a href="#cb13-95"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-96"><a href="#cb13-96"></a>}</span>
<span id="cb13-97"><a href="#cb13-97"></a></span>
<span id="cb13-98"><a href="#cb13-98"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb13-99"><a href="#cb13-99"></a>    <span class="dv">from</span> {</span>
<span id="cb13-100"><a href="#cb13-100"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-101"><a href="#cb13-101"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-102"><a href="#cb13-102"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-103"><a href="#cb13-103"></a>    }</span>
<span id="cb13-104"><a href="#cb13-104"></a>    <span class="dv">to</span> {</span>
<span id="cb13-105"><a href="#cb13-105"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-106"><a href="#cb13-106"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-107"><a href="#cb13-107"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-108"><a href="#cb13-108"></a>    }</span>
<span id="cb13-109"><a href="#cb13-109"></a>}</span>
<span id="cb13-110"><a href="#cb13-110"></a></span>
<span id="cb13-111"><a href="#cb13-111"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb13-112"><a href="#cb13-112"></a>    <span class="dv">from</span> {</span>
<span id="cb13-113"><a href="#cb13-113"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-114"><a href="#cb13-114"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-115"><a href="#cb13-115"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-116"><a href="#cb13-116"></a>    }</span>
<span id="cb13-117"><a href="#cb13-117"></a>    <span class="dv">to</span> {</span>
<span id="cb13-118"><a href="#cb13-118"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-119"><a href="#cb13-119"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb13-120"><a href="#cb13-120"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-121"><a href="#cb13-121"></a>    }</span>
<span id="cb13-122"><a href="#cb13-122"></a>}</span>
<span id="cb13-123"><a href="#cb13-123"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div id="demo-container-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 115px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n\n.game-title {\n  font-size: 24px;\n  text-align: center;\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;></div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n    choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>\n                 <p>When you are ready to begin, press any NEXT</p>\n               </div>`],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>             \n               </div>`,\n            `<div>     \n                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>\n                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>\n                <p>When you are ready to begin, press Next</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 115px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
.grid > div {
    border: 1px solid white;
    margin: -.5px;
}

.game-title {
  font-size: 24px;
  text-align: center;
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;></div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
    choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>
                 <p>When you are ready to begin, press any NEXT</p>
               </div>`],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>             
               </div>`,
            `<div>     
                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>
                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>
                <p>When you are ready to begin, press Next</p>
            </div>`
        ],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-feedback-animations" class="level3" data-number="26.3.3">
<h3 data-number="26.3.3" class="anchored" data-anchor-id="add-feedback-animations"><span class="header-section-number">26.3.3</span> Add Feedback Animations</h3>
<p>We’ll add a feedback part to each trial, where either the zombie is squished after a correct response or the zombie attacks after an incorrect response.</p>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Create the feedback trial and add it to both the <code>learning</code> and <code>test</code> timelines</li>
<li><code>style.css</code> - Add new zombie animations</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>Note that the only difference between the correct/incorrect feedback display is the CSS animation class (<code>zombie-death</code> vs.&nbsp;<code>zombie-attack</code>). Instead of writing a series of <code>if else</code> statements, I just swap the class name in the <code>feedback</code> variable using <code>if else</code> and insert it into the HTML we’re already using.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB14 */


/* CB15 */
[id^="cb15-"]:nth-child(n+166):nth-child(-n+223),
[id^="cb15-"]:nth-child(n+229):nth-child(-n+230),
[id^="cb15-"]:nth-child(n+254):nth-child(-n+255) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB16 */
[id^="cb16-"]:nth-child(n+125):nth-child(-n+144),
[id^="cb16-"]:nth-child(n+147):nth-child(-n+170) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>    </span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13"></a></span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-18"><a href="#cb14-18"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-22"><a href="#cb14-22"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-23"><a href="#cb14-23"></a>    </span>
<span id="cb14-24"><a href="#cb14-24"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-26"><a href="#cb14-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-27"><a href="#cb14-27"></a>    </span>
<span id="cb14-28"><a href="#cb14-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-29"><a href="#cb14-29"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-30"><a href="#cb14-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-31"><a href="#cb14-31"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-32"><a href="#cb14-32"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb14-33"><a href="#cb14-33"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb14-34"><a href="#cb14-34"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-35"><a href="#cb14-35"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-36"><a href="#cb14-36"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-37"><a href="#cb14-37"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a> </span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">// ============================================</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">// ============================================</span></span>
<span id="cb15-5"><a href="#cb15-5"></a></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb15-7"><a href="#cb15-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb15-8"><a href="#cb15-8"></a>                ) </span>
<span id="cb15-9"><a href="#cb15-9"></a></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">// ============================================</span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="co">// ============================================</span></span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb15-15"><a href="#cb15-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb15-16"><a href="#cb15-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb15-18"><a href="#cb15-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb15-19"><a href="#cb15-19"></a>    }</span>
<span id="cb15-20"><a href="#cb15-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb15-21"><a href="#cb15-21"></a>}</span>
<span id="cb15-22"><a href="#cb15-22"></a></span>
<span id="cb15-23"><a href="#cb15-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb15-24"><a href="#cb15-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb15-25"><a href="#cb15-25"></a></span>
<span id="cb15-26"><a href="#cb15-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb15-27"><a href="#cb15-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb15-28"><a href="#cb15-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb15-29"><a href="#cb15-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb15-30"><a href="#cb15-30"></a></span>
<span id="cb15-31"><a href="#cb15-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb15-32"><a href="#cb15-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb15-33"><a href="#cb15-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb15-34"><a href="#cb15-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb15-35"><a href="#cb15-35"></a>})<span class="op">;</span></span>
<span id="cb15-36"><a href="#cb15-36"></a></span>
<span id="cb15-37"><a href="#cb15-37"></a><span class="co">// ============================================</span></span>
<span id="cb15-38"><a href="#cb15-38"></a><span class="co">// Preload</span></span>
<span id="cb15-39"><a href="#cb15-39"></a><span class="co">// ============================================</span></span>
<span id="cb15-40"><a href="#cb15-40"></a></span>
<span id="cb15-41"><a href="#cb15-41"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb15-42"><a href="#cb15-42"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb15-43"><a href="#cb15-43"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]</span>
<span id="cb15-44"><a href="#cb15-44"></a>}</span>
<span id="cb15-45"><a href="#cb15-45"></a></span>
<span id="cb15-46"><a href="#cb15-46"></a></span>
<span id="cb15-47"><a href="#cb15-47"></a><span class="co">// ============================================</span></span>
<span id="cb15-48"><a href="#cb15-48"></a><span class="co">// Welcome</span></span>
<span id="cb15-49"><a href="#cb15-49"></a><span class="co">// ============================================</span></span>
<span id="cb15-50"><a href="#cb15-50"></a></span>
<span id="cb15-51"><a href="#cb15-51"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb15-52"><a href="#cb15-52"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-53"><a href="#cb15-53"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb15-54"><a href="#cb15-54"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb15-55"><a href="#cb15-55"></a>}</span>
<span id="cb15-56"><a href="#cb15-56"></a></span>
<span id="cb15-57"><a href="#cb15-57"></a><span class="co">// ============================================</span></span>
<span id="cb15-58"><a href="#cb15-58"></a><span class="co">// Instructions</span></span>
<span id="cb15-59"><a href="#cb15-59"></a><span class="co">// ============================================</span></span>
<span id="cb15-60"><a href="#cb15-60"></a></span>
<span id="cb15-61"><a href="#cb15-61"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb15-62"><a href="#cb15-62"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb15-63"><a href="#cb15-63"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb15-64"><a href="#cb15-64"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb15-65"><a href="#cb15-65"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb15-66"><a href="#cb15-66"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb15-67"><a href="#cb15-67"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb15-68"><a href="#cb15-68"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb15-69"><a href="#cb15-69"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb15-70"><a href="#cb15-70"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb15-71"><a href="#cb15-71"></a><span class="vs">                 &lt;p&gt;When you are ready to begin, press any NEXT&lt;/p&gt;</span></span>
<span id="cb15-72"><a href="#cb15-72"></a><span class="vs">               &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb15-73"><a href="#cb15-73"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-74"><a href="#cb15-74"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-75"><a href="#cb15-75"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb15-76"><a href="#cb15-76"></a>    }</span>
<span id="cb15-77"><a href="#cb15-77"></a>}</span>
<span id="cb15-78"><a href="#cb15-78"></a></span>
<span id="cb15-79"><a href="#cb15-79"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb15-80"><a href="#cb15-80"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb15-81"><a href="#cb15-81"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb15-82"><a href="#cb15-82"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb15-83"><a href="#cb15-83"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb15-84"><a href="#cb15-84"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb15-85"><a href="#cb15-85"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb15-86"><a href="#cb15-86"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb15-87"><a href="#cb15-87"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb15-88"><a href="#cb15-88"></a><span class="vs">                 &lt;/ul&gt;             </span></span>
<span id="cb15-89"><a href="#cb15-89"></a><span class="vs">               &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb15-90"><a href="#cb15-90"></a>            <span class="vs">`&lt;div&gt;     </span></span>
<span id="cb15-91"><a href="#cb15-91"></a><span class="vs">                &lt;p&gt;Important: The spatial location of the target will repeat in a predictable sequence. &lt;/p&gt;</span></span>
<span id="cb15-92"><a href="#cb15-92"></a><span class="vs">                &lt;p&gt;Your task is to try to learn that sequence of locations while you complete the experiment &lt;/p&gt;</span></span>
<span id="cb15-93"><a href="#cb15-93"></a><span class="vs">                &lt;p&gt;When you are ready to begin, press Next&lt;/p&gt;</span></span>
<span id="cb15-94"><a href="#cb15-94"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb15-95"><a href="#cb15-95"></a>        ]<span class="op">,</span></span>
<span id="cb15-96"><a href="#cb15-96"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-97"><a href="#cb15-97"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-98"><a href="#cb15-98"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb15-99"><a href="#cb15-99"></a>    }</span>
<span id="cb15-100"><a href="#cb15-100"></a>}</span>
<span id="cb15-101"><a href="#cb15-101"></a></span>
<span id="cb15-102"><a href="#cb15-102"></a><span class="co">// ============================================</span></span>
<span id="cb15-103"><a href="#cb15-103"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb15-104"><a href="#cb15-104"></a><span class="co">// ============================================</span></span>
<span id="cb15-105"><a href="#cb15-105"></a></span>
<span id="cb15-106"><a href="#cb15-106"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb15-107"><a href="#cb15-107"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-108"><a href="#cb15-108"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-109"><a href="#cb15-109"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-110"><a href="#cb15-110"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-111"><a href="#cb15-111"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-112"><a href="#cb15-112"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-113"><a href="#cb15-113"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb15-114"><a href="#cb15-114"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb15-115"><a href="#cb15-115"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-116"><a href="#cb15-116"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-117"><a href="#cb15-117"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb15-118"><a href="#cb15-118"></a>    }</span>
<span id="cb15-119"><a href="#cb15-119"></a>}</span>
<span id="cb15-120"><a href="#cb15-120"></a></span>
<span id="cb15-121"><a href="#cb15-121"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb15-122"><a href="#cb15-122"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-123"><a href="#cb15-123"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-124"><a href="#cb15-124"></a>        <span class="kw">let</span> output</span>
<span id="cb15-125"><a href="#cb15-125"></a></span>
<span id="cb15-126"><a href="#cb15-126"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb15-127"><a href="#cb15-127"></a></span>
<span id="cb15-128"><a href="#cb15-128"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb15-129"><a href="#cb15-129"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-130"><a href="#cb15-130"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-131"><a href="#cb15-131"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-132"><a href="#cb15-132"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-133"><a href="#cb15-133"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-134"><a href="#cb15-134"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-135"><a href="#cb15-135"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb15-136"><a href="#cb15-136"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-137"><a href="#cb15-137"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-138"><a href="#cb15-138"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-139"><a href="#cb15-139"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-140"><a href="#cb15-140"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-141"><a href="#cb15-141"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-142"><a href="#cb15-142"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb15-143"><a href="#cb15-143"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-144"><a href="#cb15-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-145"><a href="#cb15-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-146"><a href="#cb15-146"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-147"><a href="#cb15-147"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-148"><a href="#cb15-148"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-149"><a href="#cb15-149"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb15-150"><a href="#cb15-150"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-151"><a href="#cb15-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-152"><a href="#cb15-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-153"><a href="#cb15-153"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-154"><a href="#cb15-154"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-155"><a href="#cb15-155"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-156"><a href="#cb15-156"></a>        }</span>
<span id="cb15-157"><a href="#cb15-157"></a></span>
<span id="cb15-158"><a href="#cb15-158"></a>        <span class="cf">return</span> output</span>
<span id="cb15-159"><a href="#cb15-159"></a>    }<span class="op">,</span></span>
<span id="cb15-160"><a href="#cb15-160"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb15-161"><a href="#cb15-161"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-162"><a href="#cb15-162"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb15-163"><a href="#cb15-163"></a>    }</span>
<span id="cb15-164"><a href="#cb15-164"></a>}</span>
<span id="cb15-165"><a href="#cb15-165"></a></span>
<span id="cb15-166"><a href="#cb15-166"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb15-167"><a href="#cb15-167"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-168"><a href="#cb15-168"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb15-169"><a href="#cb15-169"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb15-170"><a href="#cb15-170"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb15-171"><a href="#cb15-171"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb15-172"><a href="#cb15-172"></a>        </span>
<span id="cb15-173"><a href="#cb15-173"></a>        <span class="kw">let</span> feedback</span>
<span id="cb15-174"><a href="#cb15-174"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb15-175"><a href="#cb15-175"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb15-176"><a href="#cb15-176"></a>        } <span class="cf">else</span> {</span>
<span id="cb15-177"><a href="#cb15-177"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb15-178"><a href="#cb15-178"></a>        }</span>
<span id="cb15-179"><a href="#cb15-179"></a></span>
<span id="cb15-180"><a href="#cb15-180"></a>        <span class="co">// update output</span></span>
<span id="cb15-181"><a href="#cb15-181"></a>        <span class="kw">let</span> output</span>
<span id="cb15-182"><a href="#cb15-182"></a></span>
<span id="cb15-183"><a href="#cb15-183"></a>        <span class="co">// still need the location</span></span>
<span id="cb15-184"><a href="#cb15-184"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb15-185"><a href="#cb15-185"></a></span>
<span id="cb15-186"><a href="#cb15-186"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb15-187"><a href="#cb15-187"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-188"><a href="#cb15-188"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-189"><a href="#cb15-189"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-190"><a href="#cb15-190"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-191"><a href="#cb15-191"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-192"><a href="#cb15-192"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-193"><a href="#cb15-193"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb15-194"><a href="#cb15-194"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-195"><a href="#cb15-195"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-196"><a href="#cb15-196"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-197"><a href="#cb15-197"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-198"><a href="#cb15-198"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-199"><a href="#cb15-199"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-200"><a href="#cb15-200"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb15-201"><a href="#cb15-201"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-202"><a href="#cb15-202"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-203"><a href="#cb15-203"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-204"><a href="#cb15-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-205"><a href="#cb15-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-206"><a href="#cb15-206"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-207"><a href="#cb15-207"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb15-208"><a href="#cb15-208"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb15-209"><a href="#cb15-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-210"><a href="#cb15-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-211"><a href="#cb15-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb15-212"><a href="#cb15-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb15-213"><a href="#cb15-213"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb15-214"><a href="#cb15-214"></a>        }</span>
<span id="cb15-215"><a href="#cb15-215"></a></span>
<span id="cb15-216"><a href="#cb15-216"></a>        <span class="cf">return</span> output</span>
<span id="cb15-217"><a href="#cb15-217"></a>    }<span class="op">,</span></span>
<span id="cb15-218"><a href="#cb15-218"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-219"><a href="#cb15-219"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb15-220"><a href="#cb15-220"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-221"><a href="#cb15-221"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb15-222"><a href="#cb15-222"></a>    }</span>
<span id="cb15-223"><a href="#cb15-223"></a>}</span>
<span id="cb15-224"><a href="#cb15-224"></a></span>
<span id="cb15-225"><a href="#cb15-225"></a><span class="co">// learning phase in order</span></span>
<span id="cb15-226"><a href="#cb15-226"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb15-227"><a href="#cb15-227"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-228"><a href="#cb15-228"></a>        blank<span class="op">,</span></span>
<span id="cb15-229"><a href="#cb15-229"></a>        target<span class="op">,</span></span>
<span id="cb15-230"><a href="#cb15-230"></a>        feedback</span>
<span id="cb15-231"><a href="#cb15-231"></a>    ]<span class="op">,</span></span>
<span id="cb15-232"><a href="#cb15-232"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-233"><a href="#cb15-233"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb15-234"><a href="#cb15-234"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb15-235"><a href="#cb15-235"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb15-236"><a href="#cb15-236"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb15-237"><a href="#cb15-237"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb15-238"><a href="#cb15-238"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb15-239"><a href="#cb15-239"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb15-240"><a href="#cb15-240"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb15-241"><a href="#cb15-241"></a>    ]<span class="op">,</span></span>
<span id="cb15-242"><a href="#cb15-242"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb15-243"><a href="#cb15-243"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-244"><a href="#cb15-244"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb15-245"><a href="#cb15-245"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb15-246"><a href="#cb15-246"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb15-247"><a href="#cb15-247"></a>    }</span>
<span id="cb15-248"><a href="#cb15-248"></a>}</span>
<span id="cb15-249"><a href="#cb15-249"></a></span>
<span id="cb15-250"><a href="#cb15-250"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb15-251"><a href="#cb15-251"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb15-252"><a href="#cb15-252"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-253"><a href="#cb15-253"></a>        blank<span class="op">,</span></span>
<span id="cb15-254"><a href="#cb15-254"></a>        target<span class="op">,</span></span>
<span id="cb15-255"><a href="#cb15-255"></a>        feedback</span>
<span id="cb15-256"><a href="#cb15-256"></a>    ]<span class="op">,</span></span>
<span id="cb15-257"><a href="#cb15-257"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-258"><a href="#cb15-258"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb15-259"><a href="#cb15-259"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb15-260"><a href="#cb15-260"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb15-261"><a href="#cb15-261"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb15-262"><a href="#cb15-262"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb15-263"><a href="#cb15-263"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb15-264"><a href="#cb15-264"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb15-265"><a href="#cb15-265"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb15-266"><a href="#cb15-266"></a>    ]<span class="op">,</span></span>
<span id="cb15-267"><a href="#cb15-267"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb15-268"><a href="#cb15-268"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb15-269"><a href="#cb15-269"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb15-270"><a href="#cb15-270"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb15-271"><a href="#cb15-271"></a>        }</span>
<span id="cb15-272"><a href="#cb15-272"></a>    }<span class="op">,</span></span>
<span id="cb15-273"><a href="#cb15-273"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb15-274"><a href="#cb15-274"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-275"><a href="#cb15-275"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb15-276"><a href="#cb15-276"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb15-277"><a href="#cb15-277"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb15-278"><a href="#cb15-278"></a>    }</span>
<span id="cb15-279"><a href="#cb15-279"></a>}</span>
<span id="cb15-280"><a href="#cb15-280"></a></span>
<span id="cb15-281"><a href="#cb15-281"></a><span class="co">// ============================================</span></span>
<span id="cb15-282"><a href="#cb15-282"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb15-283"><a href="#cb15-283"></a><span class="co">// ============================================</span></span>
<span id="cb15-284"><a href="#cb15-284"></a></span>
<span id="cb15-285"><a href="#cb15-285"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb15-286"><a href="#cb15-286"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-287"><a href="#cb15-287"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb15-288"><a href="#cb15-288"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb15-289"><a href="#cb15-289"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb15-290"><a href="#cb15-290"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb15-291"><a href="#cb15-291"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb15-292"><a href="#cb15-292"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb15-293"><a href="#cb15-293"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb15-294"><a href="#cb15-294"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb15-295"><a href="#cb15-295"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb15-296"><a href="#cb15-296"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-297"><a href="#cb15-297"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb15-298"><a href="#cb15-298"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb15-299"><a href="#cb15-299"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb15-300"><a href="#cb15-300"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb15-301"><a href="#cb15-301"></a>        })<span class="op">;</span></span>
<span id="cb15-302"><a href="#cb15-302"></a>    }<span class="op">,</span></span>
<span id="cb15-303"><a href="#cb15-303"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-304"><a href="#cb15-304"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb15-305"><a href="#cb15-305"></a>    }</span>
<span id="cb15-306"><a href="#cb15-306"></a>}<span class="op">;</span></span>
<span id="cb15-307"><a href="#cb15-307"></a></span>
<span id="cb15-308"><a href="#cb15-308"></a><span class="co">// ============================================</span></span>
<span id="cb15-309"><a href="#cb15-309"></a><span class="co">// Run jsPsych</span></span>
<span id="cb15-310"><a href="#cb15-310"></a><span class="co">// ============================================</span></span>
<span id="cb15-311"><a href="#cb15-311"></a></span>
<span id="cb15-312"><a href="#cb15-312"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb15-313"><a href="#cb15-313"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb15-314"><a href="#cb15-314"></a>        preload<span class="op">,</span></span>
<span id="cb15-315"><a href="#cb15-315"></a>        welcome<span class="op">,</span></span>
<span id="cb15-316"><a href="#cb15-316"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb15-317"><a href="#cb15-317"></a>        learning<span class="op">,</span></span>
<span id="cb15-318"><a href="#cb15-318"></a>        test<span class="op">,</span></span>
<span id="cb15-319"><a href="#cb15-319"></a>        saveData</span>
<span id="cb15-320"><a href="#cb15-320"></a>    ])<span class="op">;</span></span>
<span id="cb15-321"><a href="#cb15-321"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb15-322"><a href="#cb15-322"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb15-323"><a href="#cb15-323"></a>        preload<span class="op">,</span></span>
<span id="cb15-324"><a href="#cb15-324"></a>        welcome<span class="op">,</span></span>
<span id="cb15-325"><a href="#cb15-325"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb15-326"><a href="#cb15-326"></a>        learning<span class="op">,</span></span>
<span id="cb15-327"><a href="#cb15-327"></a>        test<span class="op">,</span></span>
<span id="cb15-328"><a href="#cb15-328"></a>        saveData</span>
<span id="cb15-329"><a href="#cb15-329"></a>    ])<span class="op">;</span></span>
<span id="cb15-330"><a href="#cb15-330"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb16-1"><a href="#cb16-1"></a> </span>
<span id="cb16-2"><a href="#cb16-2"></a>body {</span>
<span id="cb16-3"><a href="#cb16-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>}  </span>
<span id="cb16-9"><a href="#cb16-9"></a></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb16-11"><a href="#cb16-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb16-14"><a href="#cb16-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-15"><a href="#cb16-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>}</span>
<span id="cb16-17"><a href="#cb16-17"></a></span>
<span id="cb16-18"><a href="#cb16-18"></a><span class="fu">.box</span> {</span>
<span id="cb16-19"><a href="#cb16-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-20"><a href="#cb16-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-21"><a href="#cb16-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb16-22"><a href="#cb16-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-23"><a href="#cb16-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-24"><a href="#cb16-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-25"><a href="#cb16-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb16-26"><a href="#cb16-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-27"><a href="#cb16-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-28"><a href="#cb16-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-29"><a href="#cb16-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb16-30"><a href="#cb16-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb16-31"><a href="#cb16-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb16-32"><a href="#cb16-32"></a>}</span>
<span id="cb16-33"><a href="#cb16-33"></a></span>
<span id="cb16-34"><a href="#cb16-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb16-35"><a href="#cb16-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb16-36"><a href="#cb16-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb16-37"><a href="#cb16-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-38"><a href="#cb16-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-39"><a href="#cb16-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-40"><a href="#cb16-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb16-41"><a href="#cb16-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb16-42"><a href="#cb16-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb16-43"><a href="#cb16-43"></a>}</span>
<span id="cb16-44"><a href="#cb16-44"></a></span>
<span id="cb16-45"><a href="#cb16-45"></a><span class="fu">.grid</span> {</span>
<span id="cb16-46"><a href="#cb16-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb16-47"><a href="#cb16-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb16-48"><a href="#cb16-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb16-49"><a href="#cb16-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb16-50"><a href="#cb16-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-51"><a href="#cb16-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb16-52"><a href="#cb16-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb16-53"><a href="#cb16-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-54"><a href="#cb16-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-55"><a href="#cb16-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-56"><a href="#cb16-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-57"><a href="#cb16-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-58"><a href="#cb16-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb16-59"><a href="#cb16-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb16-60"><a href="#cb16-60"></a></span>
<span id="cb16-61"><a href="#cb16-61"></a>}</span>
<span id="cb16-62"><a href="#cb16-62"></a></span>
<span id="cb16-63"><a href="#cb16-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb16-64"><a href="#cb16-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb16-65"><a href="#cb16-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb16-66"><a href="#cb16-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb16-67"><a href="#cb16-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb16-68"><a href="#cb16-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb16-69"><a href="#cb16-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb16-70"><a href="#cb16-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb16-71"><a href="#cb16-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb16-72"><a href="#cb16-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb16-73"><a href="#cb16-73"></a></span>
<span id="cb16-74"><a href="#cb16-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb16-75"><a href="#cb16-75"></a><span class="fu">.grid</span> <span class="op">&gt;</span> div {</span>
<span id="cb16-76"><a href="#cb16-76"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">white</span><span class="op">;</span></span>
<span id="cb16-77"><a href="#cb16-77"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">-.5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-78"><a href="#cb16-78"></a>}</span>
<span id="cb16-79"><a href="#cb16-79"></a></span>
<span id="cb16-80"><a href="#cb16-80"></a><span class="fu">.game-title</span> {</span>
<span id="cb16-81"><a href="#cb16-81"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-82"><a href="#cb16-82"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb16-83"><a href="#cb16-83"></a>}</span>
<span id="cb16-84"><a href="#cb16-84"></a></span>
<span id="cb16-85"><a href="#cb16-85"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb16-86"><a href="#cb16-86"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb16-87"><a href="#cb16-87"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-88"><a href="#cb16-88"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-89"><a href="#cb16-89"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb16-90"><a href="#cb16-90"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb16-91"><a href="#cb16-91"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb16-92"><a href="#cb16-92"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb16-93"><a href="#cb16-93"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-94"><a href="#cb16-94"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb16-95"><a href="#cb16-95"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-96"><a href="#cb16-96"></a>}</span>
<span id="cb16-97"><a href="#cb16-97"></a></span>
<span id="cb16-98"><a href="#cb16-98"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb16-99"><a href="#cb16-99"></a>    <span class="dv">from</span> {</span>
<span id="cb16-100"><a href="#cb16-100"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-101"><a href="#cb16-101"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-102"><a href="#cb16-102"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-103"><a href="#cb16-103"></a>    }</span>
<span id="cb16-104"><a href="#cb16-104"></a>    <span class="dv">to</span> {</span>
<span id="cb16-105"><a href="#cb16-105"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-106"><a href="#cb16-106"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-107"><a href="#cb16-107"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-108"><a href="#cb16-108"></a>    }</span>
<span id="cb16-109"><a href="#cb16-109"></a>}</span>
<span id="cb16-110"><a href="#cb16-110"></a></span>
<span id="cb16-111"><a href="#cb16-111"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb16-112"><a href="#cb16-112"></a>    <span class="dv">from</span> {</span>
<span id="cb16-113"><a href="#cb16-113"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-114"><a href="#cb16-114"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-115"><a href="#cb16-115"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-116"><a href="#cb16-116"></a>    }</span>
<span id="cb16-117"><a href="#cb16-117"></a>    <span class="dv">to</span> {</span>
<span id="cb16-118"><a href="#cb16-118"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-119"><a href="#cb16-119"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-120"><a href="#cb16-120"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-121"><a href="#cb16-121"></a>    }</span>
<span id="cb16-122"><a href="#cb16-122"></a>}</span>
<span id="cb16-123"><a href="#cb16-123"></a></span>
<span id="cb16-124"><a href="#cb16-124"></a></span>
<span id="cb16-125"><a href="#cb16-125"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb16-126"><a href="#cb16-126"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-127"><a href="#cb16-127"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-128"><a href="#cb16-128"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb16-129"><a href="#cb16-129"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb16-130"><a href="#cb16-130"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-131"><a href="#cb16-131"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-132"><a href="#cb16-132"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-133"><a href="#cb16-133"></a>}</span>
<span id="cb16-134"><a href="#cb16-134"></a></span>
<span id="cb16-135"><a href="#cb16-135"></a><span class="im">@keyframes</span> death {</span>
<span id="cb16-136"><a href="#cb16-136"></a>    <span class="dv">from</span> {</span>
<span id="cb16-137"><a href="#cb16-137"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-138"><a href="#cb16-138"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-139"><a href="#cb16-139"></a>    }</span>
<span id="cb16-140"><a href="#cb16-140"></a>    <span class="dv">to</span> {</span>
<span id="cb16-141"><a href="#cb16-141"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-142"><a href="#cb16-142"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-143"><a href="#cb16-143"></a>    }</span>
<span id="cb16-144"><a href="#cb16-144"></a>}</span>
<span id="cb16-145"><a href="#cb16-145"></a></span>
<span id="cb16-146"><a href="#cb16-146"></a></span>
<span id="cb16-147"><a href="#cb16-147"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb16-148"><a href="#cb16-148"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-149"><a href="#cb16-149"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-150"><a href="#cb16-150"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb16-151"><a href="#cb16-151"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb16-152"><a href="#cb16-152"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb16-153"><a href="#cb16-153"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb16-154"><a href="#cb16-154"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-155"><a href="#cb16-155"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb16-156"><a href="#cb16-156"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-157"><a href="#cb16-157"></a>}</span>
<span id="cb16-158"><a href="#cb16-158"></a></span>
<span id="cb16-159"><a href="#cb16-159"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb16-160"><a href="#cb16-160"></a>    <span class="dv">from</span> {</span>
<span id="cb16-161"><a href="#cb16-161"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-162"><a href="#cb16-162"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-163"><a href="#cb16-163"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-164"><a href="#cb16-164"></a>    }</span>
<span id="cb16-165"><a href="#cb16-165"></a>    <span class="dv">to</span> {</span>
<span id="cb16-166"><a href="#cb16-166"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb16-167"><a href="#cb16-167"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb16-168"><a href="#cb16-168"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-169"><a href="#cb16-169"></a>    }</span>
<span id="cb16-170"><a href="#cb16-170"></a>}</span>
<span id="cb16-171"><a href="#cb16-171"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div id="demo-container-4" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-4" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n\n.game-title {\n  font-size: 24px;\n  text-align: center;\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;></div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;></div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]\n}\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n    choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>\n                 <p>When you are ready to begin, press any NEXT</p>\n               </div>`],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>             \n               </div>`,\n            `<div>     \n                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>\n                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>\n                <p>When you are ready to begin, press Next</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n        } else {\n          feedback = &quot;zombie-attack&quot;\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-4');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-4" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
.grid > div {
    border: 1px solid white;
    margin: -.5px;
}

.game-title {
  font-size: 24px;
  text-align: center;
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;></div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;></div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]
}


// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
    choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>
                 <p>When you are ready to begin, press any NEXT</p>
               </div>`],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>             
               </div>`,
            `<div>     
                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>
                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>
                <p>When you are ready to begin, press Next</p>
            </div>`
        ],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
        } else {
          feedback = &quot;zombie-attack&quot;
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-4&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-4&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="update-the-display" class="level3" data-number="26.3.4">
<h3 data-number="26.3.4" class="anchored" data-anchor-id="update-the-display"><span class="header-section-number">26.3.4</span> Update the Display</h3>
<p>Changes:</p>
<ol type="1">
<li><code>index.html</code> - Add links to the Google fonts, Add the score and high-score HTML to the display</li>
<li><code>exp.js</code> - Add score tracker, Add logic to update the score after correct/incorrect</li>
<li><code>style.css</code> - Remove the white border, Update the styling for the title, Add styling to the score elements</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>They get +100 for correct and -100 for incorrect. But I’ve added additional logic to prevent the score from ever going below 0. I used an additional built-in function <code>.toString().padStart(6, "0")</code> to add leading 0s to the score.</li>
<li>Note the use of CSS selectors <code>.score-display .value</code> targets any <code>.value</code> classes that are INSIDE of a <code>.score-display</code> div. That way, I could re-use the <code>.value</code> class and give it different styling if it were inside a different kind of display.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB17 */
[id^="cb17-"]:nth-child(n+27):nth-child(-n+30),  
[id^="cb17-"]:nth-child(n+36):nth-child(-n+39),  
[id^="cb17-"]:nth-child(n+14):nth-child(-n+18) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB18 */
[id^="cb18-"]:nth-child(n+38):nth-child(-n+42),
[id^="cb18-"]:nth-child(n+183):nth-child(-n+183),
[id^="cb18-"]:nth-child(n+186):nth-child(-n+186),
[id^="cb18-"]:nth-child(n+189):nth-child(-n+189),
[id^="cb18-"]:nth-child(n+191):nth-child(-n+192){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB19 */
[id^="cb19-"]:nth-child(n+74):nth-child(-n+79),
[id^="cb19-"]:nth-child(n+81):nth-child(-n+94),
[id^="cb19-"]:nth-child(n+184):nth-child(-n+216){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb17-1"><a href="#cb17-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>    </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb17-18"><a href="#cb17-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb17-19"><a href="#cb17-19"></a></span>
<span id="cb17-20"><a href="#cb17-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb17-22"><a href="#cb17-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb17-23"><a href="#cb17-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-24"><a href="#cb17-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb17-25"><a href="#cb17-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb17-26"><a href="#cb17-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb17-28"><a href="#cb17-28"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-29"><a href="#cb17-29"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-30"><a href="#cb17-30"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-32"><a href="#cb17-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb17-33"><a href="#cb17-33"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>WHACK-A-ZOMBIE!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb17-34"><a href="#cb17-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-35"><a href="#cb17-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb17-36"><a href="#cb17-36"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb17-37"><a href="#cb17-37"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HIGH-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-38"><a href="#cb17-38"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"high-score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>999999<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-39"><a href="#cb17-39"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-40"><a href="#cb17-40"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-41"><a href="#cb17-41"></a>    </span>
<span id="cb17-42"><a href="#cb17-42"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-43"><a href="#cb17-43"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-44"><a href="#cb17-44"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-45"><a href="#cb17-45"></a>    </span>
<span id="cb17-46"><a href="#cb17-46"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-47"><a href="#cb17-47"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-48"><a href="#cb17-48"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-49"><a href="#cb17-49"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-50"><a href="#cb17-50"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb17-51"><a href="#cb17-51"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb17-52"><a href="#cb17-52"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb17-53"><a href="#cb17-53"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb17-54"><a href="#cb17-54"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb17-55"><a href="#cb17-55"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a> </span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">// ============================================</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">// ============================================</span></span>
<span id="cb18-5"><a href="#cb18-5"></a></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb18-7"><a href="#cb18-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb18-8"><a href="#cb18-8"></a>                ) </span>
<span id="cb18-9"><a href="#cb18-9"></a></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="co">// ============================================</span></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="co">// ============================================</span></span>
<span id="cb18-13"><a href="#cb18-13"></a></span>
<span id="cb18-14"><a href="#cb18-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb18-16"><a href="#cb18-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb18-18"><a href="#cb18-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb18-19"><a href="#cb18-19"></a>    }</span>
<span id="cb18-20"><a href="#cb18-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb18-21"><a href="#cb18-21"></a>}</span>
<span id="cb18-22"><a href="#cb18-22"></a></span>
<span id="cb18-23"><a href="#cb18-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb18-24"><a href="#cb18-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb18-25"><a href="#cb18-25"></a></span>
<span id="cb18-26"><a href="#cb18-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb18-27"><a href="#cb18-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb18-28"><a href="#cb18-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb18-29"><a href="#cb18-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb18-30"><a href="#cb18-30"></a></span>
<span id="cb18-31"><a href="#cb18-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb18-32"><a href="#cb18-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb18-33"><a href="#cb18-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb18-34"><a href="#cb18-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb18-35"><a href="#cb18-35"></a>})<span class="op">;</span></span>
<span id="cb18-36"><a href="#cb18-36"></a></span>
<span id="cb18-37"><a href="#cb18-37"></a></span>
<span id="cb18-38"><a href="#cb18-38"></a><span class="co">// ============================================</span></span>
<span id="cb18-39"><a href="#cb18-39"></a><span class="co">// Trackers</span></span>
<span id="cb18-40"><a href="#cb18-40"></a><span class="co">// ============================================</span></span>
<span id="cb18-41"><a href="#cb18-41"></a></span>
<span id="cb18-42"><a href="#cb18-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb18-43"><a href="#cb18-43"></a></span>
<span id="cb18-44"><a href="#cb18-44"></a><span class="co">// ============================================</span></span>
<span id="cb18-45"><a href="#cb18-45"></a><span class="co">// Preload</span></span>
<span id="cb18-46"><a href="#cb18-46"></a><span class="co">// ============================================</span></span>
<span id="cb18-47"><a href="#cb18-47"></a></span>
<span id="cb18-48"><a href="#cb18-48"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb18-49"><a href="#cb18-49"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb18-50"><a href="#cb18-50"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]</span>
<span id="cb18-51"><a href="#cb18-51"></a>}</span>
<span id="cb18-52"><a href="#cb18-52"></a></span>
<span id="cb18-53"><a href="#cb18-53"></a></span>
<span id="cb18-54"><a href="#cb18-54"></a><span class="co">// ============================================</span></span>
<span id="cb18-55"><a href="#cb18-55"></a><span class="co">// Welcome</span></span>
<span id="cb18-56"><a href="#cb18-56"></a><span class="co">// ============================================</span></span>
<span id="cb18-57"><a href="#cb18-57"></a></span>
<span id="cb18-58"><a href="#cb18-58"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb18-59"><a href="#cb18-59"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-60"><a href="#cb18-60"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb18-61"><a href="#cb18-61"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb18-62"><a href="#cb18-62"></a>}</span>
<span id="cb18-63"><a href="#cb18-63"></a></span>
<span id="cb18-64"><a href="#cb18-64"></a><span class="co">// ============================================</span></span>
<span id="cb18-65"><a href="#cb18-65"></a><span class="co">// Instructions</span></span>
<span id="cb18-66"><a href="#cb18-66"></a><span class="co">// ============================================</span></span>
<span id="cb18-67"><a href="#cb18-67"></a></span>
<span id="cb18-68"><a href="#cb18-68"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb18-69"><a href="#cb18-69"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb18-70"><a href="#cb18-70"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb18-71"><a href="#cb18-71"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb18-72"><a href="#cb18-72"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb18-73"><a href="#cb18-73"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb18-74"><a href="#cb18-74"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb18-75"><a href="#cb18-75"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb18-76"><a href="#cb18-76"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb18-77"><a href="#cb18-77"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb18-78"><a href="#cb18-78"></a><span class="vs">                 &lt;p&gt;When you are ready to begin, press any NEXT&lt;/p&gt;</span></span>
<span id="cb18-79"><a href="#cb18-79"></a><span class="vs">               &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb18-80"><a href="#cb18-80"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb18-81"><a href="#cb18-81"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-82"><a href="#cb18-82"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb18-83"><a href="#cb18-83"></a>    }</span>
<span id="cb18-84"><a href="#cb18-84"></a>}</span>
<span id="cb18-85"><a href="#cb18-85"></a></span>
<span id="cb18-86"><a href="#cb18-86"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb18-87"><a href="#cb18-87"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb18-88"><a href="#cb18-88"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div&gt;</span></span>
<span id="cb18-89"><a href="#cb18-89"></a><span class="vs">                 &lt;p&gt;In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:&lt;/p&gt;</span></span>
<span id="cb18-90"><a href="#cb18-90"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb18-91"><a href="#cb18-91"></a><span class="vs">                   &lt;li&gt;"D" if it is in the first box from the left&lt;/li&gt;</span></span>
<span id="cb18-92"><a href="#cb18-92"></a><span class="vs">                   &lt;li&gt;"F" if it is in the second box from the left&lt;/li&gt;</span></span>
<span id="cb18-93"><a href="#cb18-93"></a><span class="vs">                   &lt;li&gt;"J" if it is in the third box from the left&lt;/li&gt;</span></span>
<span id="cb18-94"><a href="#cb18-94"></a><span class="vs">                   &lt;li&gt;"K" if it is in the fourth box from the left&lt;/li&gt;</span></span>
<span id="cb18-95"><a href="#cb18-95"></a><span class="vs">                 &lt;/ul&gt;             </span></span>
<span id="cb18-96"><a href="#cb18-96"></a><span class="vs">               &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb18-97"><a href="#cb18-97"></a>            <span class="vs">`&lt;div&gt;     </span></span>
<span id="cb18-98"><a href="#cb18-98"></a><span class="vs">                &lt;p&gt;Important: The spatial location of the target will repeat in a predictable sequence. &lt;/p&gt;</span></span>
<span id="cb18-99"><a href="#cb18-99"></a><span class="vs">                &lt;p&gt;Your task is to try to learn that sequence of locations while you complete the experiment &lt;/p&gt;</span></span>
<span id="cb18-100"><a href="#cb18-100"></a><span class="vs">                &lt;p&gt;When you are ready to begin, press Next&lt;/p&gt;</span></span>
<span id="cb18-101"><a href="#cb18-101"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb18-102"><a href="#cb18-102"></a>        ]<span class="op">,</span></span>
<span id="cb18-103"><a href="#cb18-103"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb18-104"><a href="#cb18-104"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-105"><a href="#cb18-105"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb18-106"><a href="#cb18-106"></a>    }</span>
<span id="cb18-107"><a href="#cb18-107"></a>}</span>
<span id="cb18-108"><a href="#cb18-108"></a></span>
<span id="cb18-109"><a href="#cb18-109"></a><span class="co">// ============================================</span></span>
<span id="cb18-110"><a href="#cb18-110"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb18-111"><a href="#cb18-111"></a><span class="co">// ============================================</span></span>
<span id="cb18-112"><a href="#cb18-112"></a></span>
<span id="cb18-113"><a href="#cb18-113"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb18-114"><a href="#cb18-114"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-115"><a href="#cb18-115"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-116"><a href="#cb18-116"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-117"><a href="#cb18-117"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-118"><a href="#cb18-118"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-119"><a href="#cb18-119"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-120"><a href="#cb18-120"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb18-121"><a href="#cb18-121"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb18-122"><a href="#cb18-122"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb18-123"><a href="#cb18-123"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-124"><a href="#cb18-124"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb18-125"><a href="#cb18-125"></a>    }</span>
<span id="cb18-126"><a href="#cb18-126"></a>}</span>
<span id="cb18-127"><a href="#cb18-127"></a></span>
<span id="cb18-128"><a href="#cb18-128"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb18-129"><a href="#cb18-129"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-130"><a href="#cb18-130"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb18-131"><a href="#cb18-131"></a>        <span class="kw">let</span> output</span>
<span id="cb18-132"><a href="#cb18-132"></a></span>
<span id="cb18-133"><a href="#cb18-133"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb18-134"><a href="#cb18-134"></a></span>
<span id="cb18-135"><a href="#cb18-135"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb18-136"><a href="#cb18-136"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-137"><a href="#cb18-137"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-138"><a href="#cb18-138"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-139"><a href="#cb18-139"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-140"><a href="#cb18-140"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-141"><a href="#cb18-141"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-142"><a href="#cb18-142"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb18-143"><a href="#cb18-143"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-144"><a href="#cb18-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-145"><a href="#cb18-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-146"><a href="#cb18-146"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-147"><a href="#cb18-147"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-148"><a href="#cb18-148"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-149"><a href="#cb18-149"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb18-150"><a href="#cb18-150"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-151"><a href="#cb18-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-152"><a href="#cb18-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-153"><a href="#cb18-153"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-154"><a href="#cb18-154"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-155"><a href="#cb18-155"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-156"><a href="#cb18-156"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb18-157"><a href="#cb18-157"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-158"><a href="#cb18-158"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-159"><a href="#cb18-159"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-160"><a href="#cb18-160"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-161"><a href="#cb18-161"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-162"><a href="#cb18-162"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-163"><a href="#cb18-163"></a>        }</span>
<span id="cb18-164"><a href="#cb18-164"></a></span>
<span id="cb18-165"><a href="#cb18-165"></a>        <span class="cf">return</span> output</span>
<span id="cb18-166"><a href="#cb18-166"></a>    }<span class="op">,</span></span>
<span id="cb18-167"><a href="#cb18-167"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb18-168"><a href="#cb18-168"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-169"><a href="#cb18-169"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb18-170"><a href="#cb18-170"></a>    }</span>
<span id="cb18-171"><a href="#cb18-171"></a>}</span>
<span id="cb18-172"><a href="#cb18-172"></a></span>
<span id="cb18-173"><a href="#cb18-173"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb18-174"><a href="#cb18-174"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-175"><a href="#cb18-175"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb18-176"><a href="#cb18-176"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb18-177"><a href="#cb18-177"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb18-178"><a href="#cb18-178"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb18-179"><a href="#cb18-179"></a>        </span>
<span id="cb18-180"><a href="#cb18-180"></a>        <span class="kw">let</span> feedback</span>
<span id="cb18-181"><a href="#cb18-181"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb18-182"><a href="#cb18-182"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb18-183"><a href="#cb18-183"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb18-184"><a href="#cb18-184"></a>        } <span class="cf">else</span> {</span>
<span id="cb18-185"><a href="#cb18-185"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb18-186"><a href="#cb18-186"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span></span>
<span id="cb18-187"><a href="#cb18-187"></a>        }</span>
<span id="cb18-188"><a href="#cb18-188"></a>        </span>
<span id="cb18-189"><a href="#cb18-189"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb18-190"><a href="#cb18-190"></a></span>
<span id="cb18-191"><a href="#cb18-191"></a>        <span class="co">// update score</span></span>
<span id="cb18-192"><a href="#cb18-192"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb18-193"><a href="#cb18-193"></a>        </span>
<span id="cb18-194"><a href="#cb18-194"></a>        <span class="co">// update output</span></span>
<span id="cb18-195"><a href="#cb18-195"></a>        <span class="kw">let</span> output</span>
<span id="cb18-196"><a href="#cb18-196"></a></span>
<span id="cb18-197"><a href="#cb18-197"></a>        <span class="co">// still need the location</span></span>
<span id="cb18-198"><a href="#cb18-198"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb18-199"><a href="#cb18-199"></a></span>
<span id="cb18-200"><a href="#cb18-200"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb18-201"><a href="#cb18-201"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-202"><a href="#cb18-202"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-203"><a href="#cb18-203"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-204"><a href="#cb18-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-205"><a href="#cb18-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-206"><a href="#cb18-206"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-207"><a href="#cb18-207"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb18-208"><a href="#cb18-208"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-209"><a href="#cb18-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-210"><a href="#cb18-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-211"><a href="#cb18-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-212"><a href="#cb18-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-213"><a href="#cb18-213"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-214"><a href="#cb18-214"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb18-215"><a href="#cb18-215"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-216"><a href="#cb18-216"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-217"><a href="#cb18-217"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-218"><a href="#cb18-218"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-219"><a href="#cb18-219"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-220"><a href="#cb18-220"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-221"><a href="#cb18-221"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb18-222"><a href="#cb18-222"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb18-223"><a href="#cb18-223"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-224"><a href="#cb18-224"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-225"><a href="#cb18-225"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb18-226"><a href="#cb18-226"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb18-227"><a href="#cb18-227"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb18-228"><a href="#cb18-228"></a>        }</span>
<span id="cb18-229"><a href="#cb18-229"></a></span>
<span id="cb18-230"><a href="#cb18-230"></a>        <span class="cf">return</span> output</span>
<span id="cb18-231"><a href="#cb18-231"></a>    }<span class="op">,</span></span>
<span id="cb18-232"><a href="#cb18-232"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb18-233"><a href="#cb18-233"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb18-234"><a href="#cb18-234"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-235"><a href="#cb18-235"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb18-236"><a href="#cb18-236"></a>    }</span>
<span id="cb18-237"><a href="#cb18-237"></a>}</span>
<span id="cb18-238"><a href="#cb18-238"></a></span>
<span id="cb18-239"><a href="#cb18-239"></a><span class="co">// learning phase in order</span></span>
<span id="cb18-240"><a href="#cb18-240"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb18-241"><a href="#cb18-241"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb18-242"><a href="#cb18-242"></a>        blank<span class="op">,</span></span>
<span id="cb18-243"><a href="#cb18-243"></a>        target<span class="op">,</span></span>
<span id="cb18-244"><a href="#cb18-244"></a>        feedback</span>
<span id="cb18-245"><a href="#cb18-245"></a>    ]<span class="op">,</span></span>
<span id="cb18-246"><a href="#cb18-246"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb18-247"><a href="#cb18-247"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb18-248"><a href="#cb18-248"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb18-249"><a href="#cb18-249"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb18-250"><a href="#cb18-250"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb18-251"><a href="#cb18-251"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb18-252"><a href="#cb18-252"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb18-253"><a href="#cb18-253"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb18-254"><a href="#cb18-254"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb18-255"><a href="#cb18-255"></a>    ]<span class="op">,</span></span>
<span id="cb18-256"><a href="#cb18-256"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb18-257"><a href="#cb18-257"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-258"><a href="#cb18-258"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb18-259"><a href="#cb18-259"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb18-260"><a href="#cb18-260"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb18-261"><a href="#cb18-261"></a>    }</span>
<span id="cb18-262"><a href="#cb18-262"></a>}</span>
<span id="cb18-263"><a href="#cb18-263"></a></span>
<span id="cb18-264"><a href="#cb18-264"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb18-265"><a href="#cb18-265"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb18-266"><a href="#cb18-266"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb18-267"><a href="#cb18-267"></a>        blank<span class="op">,</span></span>
<span id="cb18-268"><a href="#cb18-268"></a>        target<span class="op">,</span></span>
<span id="cb18-269"><a href="#cb18-269"></a>        feedback</span>
<span id="cb18-270"><a href="#cb18-270"></a>    ]<span class="op">,</span></span>
<span id="cb18-271"><a href="#cb18-271"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb18-272"><a href="#cb18-272"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb18-273"><a href="#cb18-273"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb18-274"><a href="#cb18-274"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb18-275"><a href="#cb18-275"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb18-276"><a href="#cb18-276"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb18-277"><a href="#cb18-277"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb18-278"><a href="#cb18-278"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb18-279"><a href="#cb18-279"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb18-280"><a href="#cb18-280"></a>    ]<span class="op">,</span></span>
<span id="cb18-281"><a href="#cb18-281"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb18-282"><a href="#cb18-282"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb18-283"><a href="#cb18-283"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb18-284"><a href="#cb18-284"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb18-285"><a href="#cb18-285"></a>        }</span>
<span id="cb18-286"><a href="#cb18-286"></a>    }<span class="op">,</span></span>
<span id="cb18-287"><a href="#cb18-287"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb18-288"><a href="#cb18-288"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-289"><a href="#cb18-289"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb18-290"><a href="#cb18-290"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb18-291"><a href="#cb18-291"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb18-292"><a href="#cb18-292"></a>    }</span>
<span id="cb18-293"><a href="#cb18-293"></a>}</span>
<span id="cb18-294"><a href="#cb18-294"></a></span>
<span id="cb18-295"><a href="#cb18-295"></a><span class="co">// ============================================</span></span>
<span id="cb18-296"><a href="#cb18-296"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb18-297"><a href="#cb18-297"></a><span class="co">// ============================================</span></span>
<span id="cb18-298"><a href="#cb18-298"></a></span>
<span id="cb18-299"><a href="#cb18-299"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb18-300"><a href="#cb18-300"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb18-301"><a href="#cb18-301"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb18-302"><a href="#cb18-302"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb18-303"><a href="#cb18-303"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb18-304"><a href="#cb18-304"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb18-305"><a href="#cb18-305"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb18-306"><a href="#cb18-306"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb18-307"><a href="#cb18-307"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb18-308"><a href="#cb18-308"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb18-309"><a href="#cb18-309"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb18-310"><a href="#cb18-310"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb18-311"><a href="#cb18-311"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb18-312"><a href="#cb18-312"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb18-313"><a href="#cb18-313"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb18-314"><a href="#cb18-314"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb18-315"><a href="#cb18-315"></a>        })<span class="op">;</span></span>
<span id="cb18-316"><a href="#cb18-316"></a>    }<span class="op">,</span></span>
<span id="cb18-317"><a href="#cb18-317"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb18-318"><a href="#cb18-318"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb18-319"><a href="#cb18-319"></a>    }</span>
<span id="cb18-320"><a href="#cb18-320"></a>}<span class="op">;</span></span>
<span id="cb18-321"><a href="#cb18-321"></a></span>
<span id="cb18-322"><a href="#cb18-322"></a><span class="co">// ============================================</span></span>
<span id="cb18-323"><a href="#cb18-323"></a><span class="co">// Run jsPsych</span></span>
<span id="cb18-324"><a href="#cb18-324"></a><span class="co">// ============================================</span></span>
<span id="cb18-325"><a href="#cb18-325"></a></span>
<span id="cb18-326"><a href="#cb18-326"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb18-327"><a href="#cb18-327"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb18-328"><a href="#cb18-328"></a>        preload<span class="op">,</span></span>
<span id="cb18-329"><a href="#cb18-329"></a>        welcome<span class="op">,</span></span>
<span id="cb18-330"><a href="#cb18-330"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb18-331"><a href="#cb18-331"></a>        learning<span class="op">,</span></span>
<span id="cb18-332"><a href="#cb18-332"></a>        test<span class="op">,</span></span>
<span id="cb18-333"><a href="#cb18-333"></a>        saveData</span>
<span id="cb18-334"><a href="#cb18-334"></a>    ])<span class="op">;</span></span>
<span id="cb18-335"><a href="#cb18-335"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb18-336"><a href="#cb18-336"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb18-337"><a href="#cb18-337"></a>        preload<span class="op">,</span></span>
<span id="cb18-338"><a href="#cb18-338"></a>        welcome<span class="op">,</span></span>
<span id="cb18-339"><a href="#cb18-339"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb18-340"><a href="#cb18-340"></a>        learning<span class="op">,</span></span>
<span id="cb18-341"><a href="#cb18-341"></a>        test<span class="op">,</span></span>
<span id="cb18-342"><a href="#cb18-342"></a>        saveData</span>
<span id="cb18-343"><a href="#cb18-343"></a>    ])<span class="op">;</span></span>
<span id="cb18-344"><a href="#cb18-344"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb19-1"><a href="#cb19-1"></a> </span>
<span id="cb19-2"><a href="#cb19-2"></a>body {</span>
<span id="cb19-3"><a href="#cb19-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb19-7"><a href="#cb19-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>}  </span>
<span id="cb19-9"><a href="#cb19-9"></a></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb19-11"><a href="#cb19-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb19-12"><a href="#cb19-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb19-13"><a href="#cb19-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-15"><a href="#cb19-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-16"><a href="#cb19-16"></a>}</span>
<span id="cb19-17"><a href="#cb19-17"></a></span>
<span id="cb19-18"><a href="#cb19-18"></a><span class="fu">.box</span> {</span>
<span id="cb19-19"><a href="#cb19-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-20"><a href="#cb19-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-21"><a href="#cb19-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb19-22"><a href="#cb19-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-23"><a href="#cb19-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-24"><a href="#cb19-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-25"><a href="#cb19-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-26"><a href="#cb19-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-27"><a href="#cb19-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-28"><a href="#cb19-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-29"><a href="#cb19-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb19-30"><a href="#cb19-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb19-31"><a href="#cb19-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb19-32"><a href="#cb19-32"></a>}</span>
<span id="cb19-33"><a href="#cb19-33"></a></span>
<span id="cb19-34"><a href="#cb19-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb19-35"><a href="#cb19-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb19-36"><a href="#cb19-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb19-37"><a href="#cb19-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-38"><a href="#cb19-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-39"><a href="#cb19-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-40"><a href="#cb19-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb19-41"><a href="#cb19-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb19-42"><a href="#cb19-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb19-43"><a href="#cb19-43"></a>}</span>
<span id="cb19-44"><a href="#cb19-44"></a></span>
<span id="cb19-45"><a href="#cb19-45"></a><span class="fu">.grid</span> {</span>
<span id="cb19-46"><a href="#cb19-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb19-47"><a href="#cb19-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb19-48"><a href="#cb19-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb19-49"><a href="#cb19-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb19-50"><a href="#cb19-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-51"><a href="#cb19-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb19-52"><a href="#cb19-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb19-53"><a href="#cb19-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-54"><a href="#cb19-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-55"><a href="#cb19-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-56"><a href="#cb19-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-57"><a href="#cb19-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-58"><a href="#cb19-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb19-59"><a href="#cb19-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb19-60"><a href="#cb19-60"></a></span>
<span id="cb19-61"><a href="#cb19-61"></a>}</span>
<span id="cb19-62"><a href="#cb19-62"></a></span>
<span id="cb19-63"><a href="#cb19-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb19-64"><a href="#cb19-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb19-65"><a href="#cb19-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb19-66"><a href="#cb19-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb19-67"><a href="#cb19-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb19-68"><a href="#cb19-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb19-69"><a href="#cb19-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb19-70"><a href="#cb19-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb19-71"><a href="#cb19-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb19-72"><a href="#cb19-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb19-73"><a href="#cb19-73"></a></span>
<span id="cb19-74"><a href="#cb19-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb19-75"><a href="#cb19-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb19-76"><a href="#cb19-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb19-77"><a href="#cb19-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb19-78"><a href="#cb19-78"></a><span class="co">}</span></span>
<span id="cb19-79"><a href="#cb19-79"></a><span class="co">*/</span></span>
<span id="cb19-80"><a href="#cb19-80"></a></span>
<span id="cb19-81"><a href="#cb19-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb19-82"><a href="#cb19-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-83"><a href="#cb19-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-84"><a href="#cb19-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb19-85"><a href="#cb19-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb19-86"><a href="#cb19-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb19-87"><a href="#cb19-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-88"><a href="#cb19-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb19-89"><a href="#cb19-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-90"><a href="#cb19-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-91"><a href="#cb19-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-92"><a href="#cb19-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-93"><a href="#cb19-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-94"><a href="#cb19-94"></a>}</span>
<span id="cb19-95"><a href="#cb19-95"></a></span>
<span id="cb19-96"><a href="#cb19-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb19-97"><a href="#cb19-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb19-98"><a href="#cb19-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-99"><a href="#cb19-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-100"><a href="#cb19-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb19-101"><a href="#cb19-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb19-102"><a href="#cb19-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb19-103"><a href="#cb19-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb19-104"><a href="#cb19-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-105"><a href="#cb19-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb19-106"><a href="#cb19-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-107"><a href="#cb19-107"></a>}</span>
<span id="cb19-108"><a href="#cb19-108"></a></span>
<span id="cb19-109"><a href="#cb19-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb19-110"><a href="#cb19-110"></a>    <span class="dv">from</span> {</span>
<span id="cb19-111"><a href="#cb19-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-112"><a href="#cb19-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-113"><a href="#cb19-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-114"><a href="#cb19-114"></a>    }</span>
<span id="cb19-115"><a href="#cb19-115"></a>    <span class="dv">to</span> {</span>
<span id="cb19-116"><a href="#cb19-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-117"><a href="#cb19-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-118"><a href="#cb19-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-119"><a href="#cb19-119"></a>    }</span>
<span id="cb19-120"><a href="#cb19-120"></a>}</span>
<span id="cb19-121"><a href="#cb19-121"></a></span>
<span id="cb19-122"><a href="#cb19-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb19-123"><a href="#cb19-123"></a>    <span class="dv">from</span> {</span>
<span id="cb19-124"><a href="#cb19-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-125"><a href="#cb19-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-126"><a href="#cb19-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-127"><a href="#cb19-127"></a>    }</span>
<span id="cb19-128"><a href="#cb19-128"></a>    <span class="dv">to</span> {</span>
<span id="cb19-129"><a href="#cb19-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-130"><a href="#cb19-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-131"><a href="#cb19-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-132"><a href="#cb19-132"></a>    }</span>
<span id="cb19-133"><a href="#cb19-133"></a>}</span>
<span id="cb19-134"><a href="#cb19-134"></a></span>
<span id="cb19-135"><a href="#cb19-135"></a></span>
<span id="cb19-136"><a href="#cb19-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb19-137"><a href="#cb19-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-138"><a href="#cb19-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-139"><a href="#cb19-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb19-140"><a href="#cb19-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb19-141"><a href="#cb19-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-142"><a href="#cb19-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-143"><a href="#cb19-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-144"><a href="#cb19-144"></a>}</span>
<span id="cb19-145"><a href="#cb19-145"></a></span>
<span id="cb19-146"><a href="#cb19-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb19-147"><a href="#cb19-147"></a>    <span class="dv">from</span> {</span>
<span id="cb19-148"><a href="#cb19-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-149"><a href="#cb19-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-150"><a href="#cb19-150"></a>    }</span>
<span id="cb19-151"><a href="#cb19-151"></a>    <span class="dv">to</span> {</span>
<span id="cb19-152"><a href="#cb19-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-153"><a href="#cb19-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-154"><a href="#cb19-154"></a>    }</span>
<span id="cb19-155"><a href="#cb19-155"></a>}</span>
<span id="cb19-156"><a href="#cb19-156"></a></span>
<span id="cb19-157"><a href="#cb19-157"></a></span>
<span id="cb19-158"><a href="#cb19-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb19-159"><a href="#cb19-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-160"><a href="#cb19-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-161"><a href="#cb19-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb19-162"><a href="#cb19-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb19-163"><a href="#cb19-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb19-164"><a href="#cb19-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb19-165"><a href="#cb19-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-166"><a href="#cb19-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb19-167"><a href="#cb19-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-168"><a href="#cb19-168"></a>}</span>
<span id="cb19-169"><a href="#cb19-169"></a></span>
<span id="cb19-170"><a href="#cb19-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb19-171"><a href="#cb19-171"></a>    <span class="dv">from</span> {</span>
<span id="cb19-172"><a href="#cb19-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-173"><a href="#cb19-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-174"><a href="#cb19-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-175"><a href="#cb19-175"></a>    }</span>
<span id="cb19-176"><a href="#cb19-176"></a>    <span class="dv">to</span> {</span>
<span id="cb19-177"><a href="#cb19-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-178"><a href="#cb19-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-179"><a href="#cb19-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-180"><a href="#cb19-180"></a>    }</span>
<span id="cb19-181"><a href="#cb19-181"></a>}</span>
<span id="cb19-182"><a href="#cb19-182"></a></span>
<span id="cb19-183"><a href="#cb19-183"></a></span>
<span id="cb19-184"><a href="#cb19-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb19-185"><a href="#cb19-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb19-186"><a href="#cb19-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb19-187"><a href="#cb19-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb19-188"><a href="#cb19-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb19-189"><a href="#cb19-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb19-190"><a href="#cb19-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb19-191"><a href="#cb19-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-192"><a href="#cb19-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-193"><a href="#cb19-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb19-194"><a href="#cb19-194"></a>}</span>
<span id="cb19-195"><a href="#cb19-195"></a></span>
<span id="cb19-196"><a href="#cb19-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb19-197"><a href="#cb19-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-198"><a href="#cb19-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb19-199"><a href="#cb19-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb19-200"><a href="#cb19-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-201"><a href="#cb19-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-202"><a href="#cb19-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-203"><a href="#cb19-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-204"><a href="#cb19-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-205"><a href="#cb19-205"></a>}</span>
<span id="cb19-206"><a href="#cb19-206"></a></span>
<span id="cb19-207"><a href="#cb19-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb19-208"><a href="#cb19-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb19-209"><a href="#cb19-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb19-210"><a href="#cb19-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb19-211"><a href="#cb19-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-212"><a href="#cb19-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-213"><a href="#cb19-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-214"><a href="#cb19-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb19-215"><a href="#cb19-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb19-216"><a href="#cb19-216"></a>}</span>
<span id="cb19-217"><a href="#cb19-217"></a></span>
<span id="cb19-218"><a href="#cb19-218"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div id="demo-container-5" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-5" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]\n}\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n    choices: &quot; &quot;\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>\n                 <p>When you are ready to begin, press any NEXT</p>\n               </div>`],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div>\n                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>\n                 <ul>\n                   <li>&quot;D&quot; if it is in the first box from the left</li>\n                   <li>&quot;F&quot; if it is in the second box from the left</li>\n                   <li>&quot;J&quot; if it is in the third box from the left</li>\n                   <li>&quot;K&quot; if it is in the fourth box from the left</li>\n                 </ul>             \n               </div>`,\n            `<div>     \n                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>\n                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>\n                <p>When you are ready to begin, press Next</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    data: {\n        phase: &quot;instructions&quot;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n        } else {\n          feedback = &quot;zombie-attack&quot;\n          score = score - 100\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        \n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-5');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-5" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]
}


// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
    choices: &quot; &quot;
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>
                 <p>When you are ready to begin, press any NEXT</p>
               </div>`],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div>
                 <p>In this experiment, you will see a target appear in one of four boxes. You will use the keyboard to respond:</p>
                 <ul>
                   <li>&quot;D&quot; if it is in the first box from the left</li>
                   <li>&quot;F&quot; if it is in the second box from the left</li>
                   <li>&quot;J&quot; if it is in the third box from the left</li>
                   <li>&quot;K&quot; if it is in the fourth box from the left</li>
                 </ul>             
               </div>`,
            `<div>     
                <p>Important: The spatial location of the target will repeat in a predictable sequence. </p>
                <p>Your task is to try to learn that sequence of locations while you complete the experiment </p>
                <p>When you are ready to begin, press Next</p>
            </div>`
        ],
    show_clickable_nav: true,
    data: {
        phase: &quot;instructions&quot;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
        } else {
          feedback = &quot;zombie-attack&quot;
          score = score - 100
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        
        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-5&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-5&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="update-instructions-welcome-game-over" class="level3" data-number="26.3.5">
<h3 data-number="26.3.5" class="anchored" data-anchor-id="update-instructions-welcome-game-over"><span class="header-section-number">26.3.5</span> Update Instructions, Welcome, &amp; Game Over</h3>
<p>We’ll update our instructions to give it a game-like narrative and re-style it so it looks like a retro game.</p>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Update both the implicit and explicit instruction trials, Update the Welcome and Save Data trials</li>
<li><code>style.css</code> - Create a <code>instructionStyle</code> class, re-write the default <code>jspsych-btn</code> class</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>I don’t claim to be a CSS expert! It took me quite a bit of trial-and-error to get the styling I was happy with (plus googling things like “how do I create a retro CSS text style”).</li>
<li>Note the use of CSS selectors like <code>.instructionStyle p</code>. This will re-style any <code>&lt;p&gt;</code> elements that are inside of a <code>instructionStyle</code> element. This is a helpful way of restyling all the paragraph tags without messing up the style of paragraph tags that are not part of the instructions.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB20 */


/* CB21 */
[id^="cb21-"]:nth-child(n+57):nth-child(-n+63),
[id^="cb21-"]:nth-child(n+69):nth-child(-n+88),
[id^="cb21-"]:nth-child(n+90):nth-child(-n+112),
[id^="cb21-"]:nth-child(n+306):nth-child(-n+312) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */
[id^="cb22-"]:nth-child(n+218):nth-child(-n+252),
[id^="cb22-"]:nth-child(n+254):nth-child(-n+292) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb20-1"><a href="#cb20-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>    </span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13"></a></span>
<span id="cb20-14"><a href="#cb20-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb20-15"><a href="#cb20-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb20-16"><a href="#cb20-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb20-18"><a href="#cb20-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb20-19"><a href="#cb20-19"></a></span>
<span id="cb20-20"><a href="#cb20-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb20-21"><a href="#cb20-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb20-22"><a href="#cb20-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb20-23"><a href="#cb20-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-24"><a href="#cb20-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb20-25"><a href="#cb20-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb20-26"><a href="#cb20-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-27"><a href="#cb20-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-28"><a href="#cb20-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-29"><a href="#cb20-29"></a>    </span>
<span id="cb20-30"><a href="#cb20-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-31"><a href="#cb20-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-32"><a href="#cb20-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-33"><a href="#cb20-33"></a>    </span>
<span id="cb20-34"><a href="#cb20-34"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-35"><a href="#cb20-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-36"><a href="#cb20-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-37"><a href="#cb20-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-38"><a href="#cb20-38"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb20-39"><a href="#cb20-39"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb20-40"><a href="#cb20-40"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb20-41"><a href="#cb20-41"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb20-42"><a href="#cb20-42"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb20-43"><a href="#cb20-43"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a> </span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co">// ============================================</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">// ============================================</span></span>
<span id="cb21-5"><a href="#cb21-5"></a></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb21-7"><a href="#cb21-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb21-8"><a href="#cb21-8"></a>                ) </span>
<span id="cb21-9"><a href="#cb21-9"></a></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co">// ============================================</span></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb21-12"><a href="#cb21-12"></a><span class="co">// ============================================</span></span>
<span id="cb21-13"><a href="#cb21-13"></a></span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb21-16"><a href="#cb21-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb21-18"><a href="#cb21-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb21-19"><a href="#cb21-19"></a>    }</span>
<span id="cb21-20"><a href="#cb21-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>}</span>
<span id="cb21-22"><a href="#cb21-22"></a></span>
<span id="cb21-23"><a href="#cb21-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb21-24"><a href="#cb21-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb21-25"><a href="#cb21-25"></a></span>
<span id="cb21-26"><a href="#cb21-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb21-27"><a href="#cb21-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb21-28"><a href="#cb21-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb21-29"><a href="#cb21-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb21-30"><a href="#cb21-30"></a></span>
<span id="cb21-31"><a href="#cb21-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb21-32"><a href="#cb21-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb21-33"><a href="#cb21-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb21-34"><a href="#cb21-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb21-35"><a href="#cb21-35"></a>})<span class="op">;</span></span>
<span id="cb21-36"><a href="#cb21-36"></a></span>
<span id="cb21-37"><a href="#cb21-37"></a></span>
<span id="cb21-38"><a href="#cb21-38"></a><span class="co">// ============================================</span></span>
<span id="cb21-39"><a href="#cb21-39"></a><span class="co">// Trackers</span></span>
<span id="cb21-40"><a href="#cb21-40"></a><span class="co">// ============================================</span></span>
<span id="cb21-41"><a href="#cb21-41"></a></span>
<span id="cb21-42"><a href="#cb21-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb21-43"><a href="#cb21-43"></a></span>
<span id="cb21-44"><a href="#cb21-44"></a><span class="co">// ============================================</span></span>
<span id="cb21-45"><a href="#cb21-45"></a><span class="co">// Preload</span></span>
<span id="cb21-46"><a href="#cb21-46"></a><span class="co">// ============================================</span></span>
<span id="cb21-47"><a href="#cb21-47"></a></span>
<span id="cb21-48"><a href="#cb21-48"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb21-49"><a href="#cb21-49"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb21-50"><a href="#cb21-50"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]</span>
<span id="cb21-51"><a href="#cb21-51"></a>}</span>
<span id="cb21-52"><a href="#cb21-52"></a></span>
<span id="cb21-53"><a href="#cb21-53"></a><span class="co">// ============================================</span></span>
<span id="cb21-54"><a href="#cb21-54"></a><span class="co">// Welcome</span></span>
<span id="cb21-55"><a href="#cb21-55"></a><span class="co">// ============================================</span></span>
<span id="cb21-56"><a href="#cb21-56"></a></span>
<span id="cb21-57"><a href="#cb21-57"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb21-58"><a href="#cb21-58"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-59"><a href="#cb21-59"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-60"><a href="#cb21-60"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb21-61"><a href="#cb21-61"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-62"><a href="#cb21-62"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb21-63"><a href="#cb21-63"></a>}</span>
<span id="cb21-64"><a href="#cb21-64"></a></span>
<span id="cb21-65"><a href="#cb21-65"></a><span class="co">// ============================================</span></span>
<span id="cb21-66"><a href="#cb21-66"></a><span class="co">// Instructions</span></span>
<span id="cb21-67"><a href="#cb21-67"></a><span class="co">// ============================================</span></span>
<span id="cb21-68"><a href="#cb21-68"></a></span>
<span id="cb21-69"><a href="#cb21-69"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb21-70"><a href="#cb21-70"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb21-71"><a href="#cb21-71"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-72"><a href="#cb21-72"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb21-73"><a href="#cb21-73"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb21-74"><a href="#cb21-74"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-75"><a href="#cb21-75"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-76"><a href="#cb21-76"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb21-77"><a href="#cb21-77"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb21-78"><a href="#cb21-78"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb21-79"><a href="#cb21-79"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb21-80"><a href="#cb21-80"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb21-81"><a href="#cb21-81"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb21-82"><a href="#cb21-82"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-83"><a href="#cb21-83"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-84"><a href="#cb21-84"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb21-85"><a href="#cb21-85"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb21-86"><a href="#cb21-86"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb21-87"><a href="#cb21-87"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-88"><a href="#cb21-88"></a>}</span>
<span id="cb21-89"><a href="#cb21-89"></a></span>
<span id="cb21-90"><a href="#cb21-90"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb21-91"><a href="#cb21-91"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb21-92"><a href="#cb21-92"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-93"><a href="#cb21-93"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb21-94"><a href="#cb21-94"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb21-95"><a href="#cb21-95"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-96"><a href="#cb21-96"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb21-97"><a href="#cb21-97"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb21-98"><a href="#cb21-98"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb21-99"><a href="#cb21-99"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb21-100"><a href="#cb21-100"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb21-101"><a href="#cb21-101"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb21-102"><a href="#cb21-102"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb21-103"><a href="#cb21-103"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-104"><a href="#cb21-104"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb21-105"><a href="#cb21-105"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb21-106"><a href="#cb21-106"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb21-107"><a href="#cb21-107"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb21-108"><a href="#cb21-108"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb21-109"><a href="#cb21-109"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb21-110"><a href="#cb21-110"></a>        ]<span class="op">,</span></span>
<span id="cb21-111"><a href="#cb21-111"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb21-112"><a href="#cb21-112"></a>}</span>
<span id="cb21-113"><a href="#cb21-113"></a></span>
<span id="cb21-114"><a href="#cb21-114"></a><span class="co">// ============================================</span></span>
<span id="cb21-115"><a href="#cb21-115"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb21-116"><a href="#cb21-116"></a><span class="co">// ============================================</span></span>
<span id="cb21-117"><a href="#cb21-117"></a></span>
<span id="cb21-118"><a href="#cb21-118"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb21-119"><a href="#cb21-119"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-120"><a href="#cb21-120"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-121"><a href="#cb21-121"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-122"><a href="#cb21-122"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-123"><a href="#cb21-123"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-124"><a href="#cb21-124"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-125"><a href="#cb21-125"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-126"><a href="#cb21-126"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb21-127"><a href="#cb21-127"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-128"><a href="#cb21-128"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-129"><a href="#cb21-129"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb21-130"><a href="#cb21-130"></a>    }</span>
<span id="cb21-131"><a href="#cb21-131"></a>}</span>
<span id="cb21-132"><a href="#cb21-132"></a></span>
<span id="cb21-133"><a href="#cb21-133"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb21-134"><a href="#cb21-134"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-135"><a href="#cb21-135"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb21-136"><a href="#cb21-136"></a>        <span class="kw">let</span> output</span>
<span id="cb21-137"><a href="#cb21-137"></a></span>
<span id="cb21-138"><a href="#cb21-138"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb21-139"><a href="#cb21-139"></a></span>
<span id="cb21-140"><a href="#cb21-140"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb21-141"><a href="#cb21-141"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-142"><a href="#cb21-142"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-143"><a href="#cb21-143"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-144"><a href="#cb21-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-145"><a href="#cb21-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-146"><a href="#cb21-146"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-147"><a href="#cb21-147"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb21-148"><a href="#cb21-148"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-149"><a href="#cb21-149"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-150"><a href="#cb21-150"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-151"><a href="#cb21-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-152"><a href="#cb21-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-153"><a href="#cb21-153"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-154"><a href="#cb21-154"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb21-155"><a href="#cb21-155"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-156"><a href="#cb21-156"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-157"><a href="#cb21-157"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-158"><a href="#cb21-158"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-159"><a href="#cb21-159"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-160"><a href="#cb21-160"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-161"><a href="#cb21-161"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb21-162"><a href="#cb21-162"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-163"><a href="#cb21-163"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-164"><a href="#cb21-164"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-165"><a href="#cb21-165"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-166"><a href="#cb21-166"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-167"><a href="#cb21-167"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-168"><a href="#cb21-168"></a>        }</span>
<span id="cb21-169"><a href="#cb21-169"></a></span>
<span id="cb21-170"><a href="#cb21-170"></a>        <span class="cf">return</span> output</span>
<span id="cb21-171"><a href="#cb21-171"></a>    }<span class="op">,</span></span>
<span id="cb21-172"><a href="#cb21-172"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb21-173"><a href="#cb21-173"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-174"><a href="#cb21-174"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb21-175"><a href="#cb21-175"></a>    }</span>
<span id="cb21-176"><a href="#cb21-176"></a>}</span>
<span id="cb21-177"><a href="#cb21-177"></a></span>
<span id="cb21-178"><a href="#cb21-178"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb21-179"><a href="#cb21-179"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-180"><a href="#cb21-180"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb21-181"><a href="#cb21-181"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb21-182"><a href="#cb21-182"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb21-183"><a href="#cb21-183"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb21-184"><a href="#cb21-184"></a>        </span>
<span id="cb21-185"><a href="#cb21-185"></a>        <span class="kw">let</span> feedback</span>
<span id="cb21-186"><a href="#cb21-186"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb21-187"><a href="#cb21-187"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb21-188"><a href="#cb21-188"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb21-189"><a href="#cb21-189"></a>        } <span class="cf">else</span> {</span>
<span id="cb21-190"><a href="#cb21-190"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb21-191"><a href="#cb21-191"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span></span>
<span id="cb21-192"><a href="#cb21-192"></a>        }</span>
<span id="cb21-193"><a href="#cb21-193"></a>        </span>
<span id="cb21-194"><a href="#cb21-194"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb21-195"><a href="#cb21-195"></a></span>
<span id="cb21-196"><a href="#cb21-196"></a>        <span class="co">// update score</span></span>
<span id="cb21-197"><a href="#cb21-197"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb21-198"><a href="#cb21-198"></a>        </span>
<span id="cb21-199"><a href="#cb21-199"></a>        <span class="co">// update output</span></span>
<span id="cb21-200"><a href="#cb21-200"></a>        <span class="kw">let</span> output</span>
<span id="cb21-201"><a href="#cb21-201"></a></span>
<span id="cb21-202"><a href="#cb21-202"></a>        <span class="co">// still need the location</span></span>
<span id="cb21-203"><a href="#cb21-203"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb21-204"><a href="#cb21-204"></a></span>
<span id="cb21-205"><a href="#cb21-205"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb21-206"><a href="#cb21-206"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-207"><a href="#cb21-207"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-208"><a href="#cb21-208"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-209"><a href="#cb21-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-210"><a href="#cb21-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-211"><a href="#cb21-211"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-212"><a href="#cb21-212"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb21-213"><a href="#cb21-213"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-214"><a href="#cb21-214"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-215"><a href="#cb21-215"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-216"><a href="#cb21-216"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-217"><a href="#cb21-217"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-218"><a href="#cb21-218"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-219"><a href="#cb21-219"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb21-220"><a href="#cb21-220"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-221"><a href="#cb21-221"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-222"><a href="#cb21-222"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-223"><a href="#cb21-223"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-224"><a href="#cb21-224"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-225"><a href="#cb21-225"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-226"><a href="#cb21-226"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb21-227"><a href="#cb21-227"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb21-228"><a href="#cb21-228"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-229"><a href="#cb21-229"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-230"><a href="#cb21-230"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb21-231"><a href="#cb21-231"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb21-232"><a href="#cb21-232"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb21-233"><a href="#cb21-233"></a>        }</span>
<span id="cb21-234"><a href="#cb21-234"></a></span>
<span id="cb21-235"><a href="#cb21-235"></a>        <span class="cf">return</span> output</span>
<span id="cb21-236"><a href="#cb21-236"></a>    }<span class="op">,</span></span>
<span id="cb21-237"><a href="#cb21-237"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-238"><a href="#cb21-238"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb21-239"><a href="#cb21-239"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-240"><a href="#cb21-240"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb21-241"><a href="#cb21-241"></a>    }</span>
<span id="cb21-242"><a href="#cb21-242"></a>}</span>
<span id="cb21-243"><a href="#cb21-243"></a></span>
<span id="cb21-244"><a href="#cb21-244"></a><span class="co">// learning phase in order</span></span>
<span id="cb21-245"><a href="#cb21-245"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb21-246"><a href="#cb21-246"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb21-247"><a href="#cb21-247"></a>        blank<span class="op">,</span></span>
<span id="cb21-248"><a href="#cb21-248"></a>        target<span class="op">,</span></span>
<span id="cb21-249"><a href="#cb21-249"></a>        feedback</span>
<span id="cb21-250"><a href="#cb21-250"></a>    ]<span class="op">,</span></span>
<span id="cb21-251"><a href="#cb21-251"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb21-252"><a href="#cb21-252"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb21-253"><a href="#cb21-253"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb21-254"><a href="#cb21-254"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb21-255"><a href="#cb21-255"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb21-256"><a href="#cb21-256"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb21-257"><a href="#cb21-257"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb21-258"><a href="#cb21-258"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb21-259"><a href="#cb21-259"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb21-260"><a href="#cb21-260"></a>    ]<span class="op">,</span></span>
<span id="cb21-261"><a href="#cb21-261"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb21-262"><a href="#cb21-262"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-263"><a href="#cb21-263"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb21-264"><a href="#cb21-264"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb21-265"><a href="#cb21-265"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb21-266"><a href="#cb21-266"></a>    }</span>
<span id="cb21-267"><a href="#cb21-267"></a>}</span>
<span id="cb21-268"><a href="#cb21-268"></a></span>
<span id="cb21-269"><a href="#cb21-269"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb21-270"><a href="#cb21-270"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb21-271"><a href="#cb21-271"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb21-272"><a href="#cb21-272"></a>        blank<span class="op">,</span></span>
<span id="cb21-273"><a href="#cb21-273"></a>        target<span class="op">,</span></span>
<span id="cb21-274"><a href="#cb21-274"></a>        feedback</span>
<span id="cb21-275"><a href="#cb21-275"></a>    ]<span class="op">,</span></span>
<span id="cb21-276"><a href="#cb21-276"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb21-277"><a href="#cb21-277"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb21-278"><a href="#cb21-278"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb21-279"><a href="#cb21-279"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb21-280"><a href="#cb21-280"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb21-281"><a href="#cb21-281"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb21-282"><a href="#cb21-282"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb21-283"><a href="#cb21-283"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb21-284"><a href="#cb21-284"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb21-285"><a href="#cb21-285"></a>    ]<span class="op">,</span></span>
<span id="cb21-286"><a href="#cb21-286"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb21-287"><a href="#cb21-287"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb21-288"><a href="#cb21-288"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb21-289"><a href="#cb21-289"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb21-290"><a href="#cb21-290"></a>        }</span>
<span id="cb21-291"><a href="#cb21-291"></a>    }<span class="op">,</span></span>
<span id="cb21-292"><a href="#cb21-292"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb21-293"><a href="#cb21-293"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-294"><a href="#cb21-294"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb21-295"><a href="#cb21-295"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb21-296"><a href="#cb21-296"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb21-297"><a href="#cb21-297"></a>    }</span>
<span id="cb21-298"><a href="#cb21-298"></a>}</span>
<span id="cb21-299"><a href="#cb21-299"></a></span>
<span id="cb21-300"><a href="#cb21-300"></a><span class="co">// ============================================</span></span>
<span id="cb21-301"><a href="#cb21-301"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb21-302"><a href="#cb21-302"></a><span class="co">// ============================================</span></span>
<span id="cb21-303"><a href="#cb21-303"></a></span>
<span id="cb21-304"><a href="#cb21-304"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb21-305"><a href="#cb21-305"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb21-306"><a href="#cb21-306"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb21-307"><a href="#cb21-307"></a><span class="vs">                  &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb21-308"><a href="#cb21-308"></a><span class="vs">                  &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb21-309"><a href="#cb21-309"></a><span class="vs">                  &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb21-310"><a href="#cb21-310"></a><span class="vs">                    SAVE DATA</span></span>
<span id="cb21-311"><a href="#cb21-311"></a><span class="vs">                  &lt;/button&gt;</span></span>
<span id="cb21-312"><a href="#cb21-312"></a><span class="vs">                &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb21-313"><a href="#cb21-313"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb21-314"><a href="#cb21-314"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb21-315"><a href="#cb21-315"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb21-316"><a href="#cb21-316"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb21-317"><a href="#cb21-317"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb21-318"><a href="#cb21-318"></a>        })<span class="op">;</span></span>
<span id="cb21-319"><a href="#cb21-319"></a>    }<span class="op">,</span></span>
<span id="cb21-320"><a href="#cb21-320"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb21-321"><a href="#cb21-321"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb21-322"><a href="#cb21-322"></a>    }</span>
<span id="cb21-323"><a href="#cb21-323"></a>}<span class="op">;</span></span>
<span id="cb21-324"><a href="#cb21-324"></a></span>
<span id="cb21-325"><a href="#cb21-325"></a><span class="co">// ============================================</span></span>
<span id="cb21-326"><a href="#cb21-326"></a><span class="co">// Run jsPsych</span></span>
<span id="cb21-327"><a href="#cb21-327"></a><span class="co">// ============================================</span></span>
<span id="cb21-328"><a href="#cb21-328"></a></span>
<span id="cb21-329"><a href="#cb21-329"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb21-330"><a href="#cb21-330"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb21-331"><a href="#cb21-331"></a>        preload<span class="op">,</span></span>
<span id="cb21-332"><a href="#cb21-332"></a>        welcome<span class="op">,</span></span>
<span id="cb21-333"><a href="#cb21-333"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb21-334"><a href="#cb21-334"></a>        learning<span class="op">,</span></span>
<span id="cb21-335"><a href="#cb21-335"></a>        test<span class="op">,</span></span>
<span id="cb21-336"><a href="#cb21-336"></a>        saveData</span>
<span id="cb21-337"><a href="#cb21-337"></a>    ])<span class="op">;</span></span>
<span id="cb21-338"><a href="#cb21-338"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb21-339"><a href="#cb21-339"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb21-340"><a href="#cb21-340"></a>        preload<span class="op">,</span></span>
<span id="cb21-341"><a href="#cb21-341"></a>        welcome<span class="op">,</span></span>
<span id="cb21-342"><a href="#cb21-342"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb21-343"><a href="#cb21-343"></a>        learning<span class="op">,</span></span>
<span id="cb21-344"><a href="#cb21-344"></a>        test<span class="op">,</span></span>
<span id="cb21-345"><a href="#cb21-345"></a>        saveData</span>
<span id="cb21-346"><a href="#cb21-346"></a>    ])<span class="op">;</span></span>
<span id="cb21-347"><a href="#cb21-347"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb22-1"><a href="#cb22-1"></a> </span>
<span id="cb22-2"><a href="#cb22-2"></a>body {</span>
<span id="cb22-3"><a href="#cb22-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>}  </span>
<span id="cb22-9"><a href="#cb22-9"></a></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb22-11"><a href="#cb22-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-15"><a href="#cb22-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-16"><a href="#cb22-16"></a>}</span>
<span id="cb22-17"><a href="#cb22-17"></a></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="fu">.box</span> {</span>
<span id="cb22-19"><a href="#cb22-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-20"><a href="#cb22-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-21"><a href="#cb22-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb22-22"><a href="#cb22-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-23"><a href="#cb22-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-24"><a href="#cb22-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-25"><a href="#cb22-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-26"><a href="#cb22-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-27"><a href="#cb22-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-28"><a href="#cb22-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-29"><a href="#cb22-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb22-30"><a href="#cb22-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb22-31"><a href="#cb22-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb22-32"><a href="#cb22-32"></a>}</span>
<span id="cb22-33"><a href="#cb22-33"></a></span>
<span id="cb22-34"><a href="#cb22-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb22-35"><a href="#cb22-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb22-36"><a href="#cb22-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb22-37"><a href="#cb22-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-38"><a href="#cb22-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-39"><a href="#cb22-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-40"><a href="#cb22-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb22-41"><a href="#cb22-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb22-42"><a href="#cb22-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb22-43"><a href="#cb22-43"></a>}</span>
<span id="cb22-44"><a href="#cb22-44"></a></span>
<span id="cb22-45"><a href="#cb22-45"></a><span class="fu">.grid</span> {</span>
<span id="cb22-46"><a href="#cb22-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb22-47"><a href="#cb22-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb22-48"><a href="#cb22-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb22-49"><a href="#cb22-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb22-50"><a href="#cb22-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-51"><a href="#cb22-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb22-52"><a href="#cb22-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb22-53"><a href="#cb22-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-54"><a href="#cb22-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-55"><a href="#cb22-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-56"><a href="#cb22-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-57"><a href="#cb22-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-58"><a href="#cb22-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb22-59"><a href="#cb22-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb22-60"><a href="#cb22-60"></a></span>
<span id="cb22-61"><a href="#cb22-61"></a>}</span>
<span id="cb22-62"><a href="#cb22-62"></a></span>
<span id="cb22-63"><a href="#cb22-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb22-64"><a href="#cb22-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb22-65"><a href="#cb22-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb22-66"><a href="#cb22-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb22-67"><a href="#cb22-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb22-68"><a href="#cb22-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb22-69"><a href="#cb22-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb22-70"><a href="#cb22-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb22-71"><a href="#cb22-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb22-72"><a href="#cb22-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb22-73"><a href="#cb22-73"></a></span>
<span id="cb22-74"><a href="#cb22-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb22-75"><a href="#cb22-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb22-76"><a href="#cb22-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb22-77"><a href="#cb22-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb22-78"><a href="#cb22-78"></a><span class="co">}</span></span>
<span id="cb22-79"><a href="#cb22-79"></a><span class="co">*/</span></span>
<span id="cb22-80"><a href="#cb22-80"></a></span>
<span id="cb22-81"><a href="#cb22-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb22-82"><a href="#cb22-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-83"><a href="#cb22-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-84"><a href="#cb22-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb22-85"><a href="#cb22-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb22-86"><a href="#cb22-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb22-87"><a href="#cb22-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-88"><a href="#cb22-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb22-89"><a href="#cb22-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-90"><a href="#cb22-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-91"><a href="#cb22-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-92"><a href="#cb22-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-93"><a href="#cb22-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-94"><a href="#cb22-94"></a>}</span>
<span id="cb22-95"><a href="#cb22-95"></a></span>
<span id="cb22-96"><a href="#cb22-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb22-97"><a href="#cb22-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb22-98"><a href="#cb22-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-99"><a href="#cb22-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-100"><a href="#cb22-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb22-101"><a href="#cb22-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb22-102"><a href="#cb22-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb22-103"><a href="#cb22-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb22-104"><a href="#cb22-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-105"><a href="#cb22-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb22-106"><a href="#cb22-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-107"><a href="#cb22-107"></a>}</span>
<span id="cb22-108"><a href="#cb22-108"></a></span>
<span id="cb22-109"><a href="#cb22-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb22-110"><a href="#cb22-110"></a>    <span class="dv">from</span> {</span>
<span id="cb22-111"><a href="#cb22-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-112"><a href="#cb22-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-113"><a href="#cb22-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-114"><a href="#cb22-114"></a>    }</span>
<span id="cb22-115"><a href="#cb22-115"></a>    <span class="dv">to</span> {</span>
<span id="cb22-116"><a href="#cb22-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-117"><a href="#cb22-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-118"><a href="#cb22-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-119"><a href="#cb22-119"></a>    }</span>
<span id="cb22-120"><a href="#cb22-120"></a>}</span>
<span id="cb22-121"><a href="#cb22-121"></a></span>
<span id="cb22-122"><a href="#cb22-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb22-123"><a href="#cb22-123"></a>    <span class="dv">from</span> {</span>
<span id="cb22-124"><a href="#cb22-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-125"><a href="#cb22-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-126"><a href="#cb22-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-127"><a href="#cb22-127"></a>    }</span>
<span id="cb22-128"><a href="#cb22-128"></a>    <span class="dv">to</span> {</span>
<span id="cb22-129"><a href="#cb22-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-130"><a href="#cb22-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-131"><a href="#cb22-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-132"><a href="#cb22-132"></a>    }</span>
<span id="cb22-133"><a href="#cb22-133"></a>}</span>
<span id="cb22-134"><a href="#cb22-134"></a></span>
<span id="cb22-135"><a href="#cb22-135"></a></span>
<span id="cb22-136"><a href="#cb22-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb22-137"><a href="#cb22-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-138"><a href="#cb22-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-139"><a href="#cb22-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb22-140"><a href="#cb22-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb22-141"><a href="#cb22-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-142"><a href="#cb22-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-143"><a href="#cb22-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-144"><a href="#cb22-144"></a>}</span>
<span id="cb22-145"><a href="#cb22-145"></a></span>
<span id="cb22-146"><a href="#cb22-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb22-147"><a href="#cb22-147"></a>    <span class="dv">from</span> {</span>
<span id="cb22-148"><a href="#cb22-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-149"><a href="#cb22-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-150"><a href="#cb22-150"></a>    }</span>
<span id="cb22-151"><a href="#cb22-151"></a>    <span class="dv">to</span> {</span>
<span id="cb22-152"><a href="#cb22-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-153"><a href="#cb22-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-154"><a href="#cb22-154"></a>    }</span>
<span id="cb22-155"><a href="#cb22-155"></a>}</span>
<span id="cb22-156"><a href="#cb22-156"></a></span>
<span id="cb22-157"><a href="#cb22-157"></a></span>
<span id="cb22-158"><a href="#cb22-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb22-159"><a href="#cb22-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-160"><a href="#cb22-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-161"><a href="#cb22-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb22-162"><a href="#cb22-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb22-163"><a href="#cb22-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb22-164"><a href="#cb22-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb22-165"><a href="#cb22-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-166"><a href="#cb22-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb22-167"><a href="#cb22-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-168"><a href="#cb22-168"></a>}</span>
<span id="cb22-169"><a href="#cb22-169"></a></span>
<span id="cb22-170"><a href="#cb22-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb22-171"><a href="#cb22-171"></a>    <span class="dv">from</span> {</span>
<span id="cb22-172"><a href="#cb22-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-173"><a href="#cb22-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-174"><a href="#cb22-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-175"><a href="#cb22-175"></a>    }</span>
<span id="cb22-176"><a href="#cb22-176"></a>    <span class="dv">to</span> {</span>
<span id="cb22-177"><a href="#cb22-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-178"><a href="#cb22-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-179"><a href="#cb22-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-180"><a href="#cb22-180"></a>    }</span>
<span id="cb22-181"><a href="#cb22-181"></a>}</span>
<span id="cb22-182"><a href="#cb22-182"></a></span>
<span id="cb22-183"><a href="#cb22-183"></a></span>
<span id="cb22-184"><a href="#cb22-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb22-185"><a href="#cb22-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb22-186"><a href="#cb22-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb22-187"><a href="#cb22-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb22-188"><a href="#cb22-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb22-189"><a href="#cb22-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb22-190"><a href="#cb22-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb22-191"><a href="#cb22-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-192"><a href="#cb22-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-193"><a href="#cb22-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-194"><a href="#cb22-194"></a>}</span>
<span id="cb22-195"><a href="#cb22-195"></a></span>
<span id="cb22-196"><a href="#cb22-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb22-197"><a href="#cb22-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-198"><a href="#cb22-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb22-199"><a href="#cb22-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb22-200"><a href="#cb22-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-201"><a href="#cb22-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-202"><a href="#cb22-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-203"><a href="#cb22-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-204"><a href="#cb22-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-205"><a href="#cb22-205"></a>}</span>
<span id="cb22-206"><a href="#cb22-206"></a></span>
<span id="cb22-207"><a href="#cb22-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb22-208"><a href="#cb22-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-209"><a href="#cb22-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb22-210"><a href="#cb22-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb22-211"><a href="#cb22-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-212"><a href="#cb22-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-213"><a href="#cb22-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-214"><a href="#cb22-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb22-215"><a href="#cb22-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-216"><a href="#cb22-216"></a>}</span>
<span id="cb22-217"><a href="#cb22-217"></a></span>
<span id="cb22-218"><a href="#cb22-218"></a><span class="co">/* Instruction Text Styling */</span></span>
<span id="cb22-219"><a href="#cb22-219"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb22-220"><a href="#cb22-220"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb22-221"><a href="#cb22-221"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb22-222"><a href="#cb22-222"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb22-223"><a href="#cb22-223"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb22-224"><a href="#cb22-224"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-225"><a href="#cb22-225"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb22-226"><a href="#cb22-226"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb22-227"><a href="#cb22-227"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb22-228"><a href="#cb22-228"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb22-229"><a href="#cb22-229"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb22-230"><a href="#cb22-230"></a>}</span>
<span id="cb22-231"><a href="#cb22-231"></a></span>
<span id="cb22-232"><a href="#cb22-232"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb22-233"><a href="#cb22-233"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-234"><a href="#cb22-234"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-235"><a href="#cb22-235"></a>}</span>
<span id="cb22-236"><a href="#cb22-236"></a></span>
<span id="cb22-237"><a href="#cb22-237"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb22-238"><a href="#cb22-238"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb22-239"><a href="#cb22-239"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-240"><a href="#cb22-240"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-241"><a href="#cb22-241"></a>}</span>
<span id="cb22-242"><a href="#cb22-242"></a></span>
<span id="cb22-243"><a href="#cb22-243"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb22-244"><a href="#cb22-244"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-245"><a href="#cb22-245"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-246"><a href="#cb22-246"></a>}</span>
<span id="cb22-247"><a href="#cb22-247"></a></span>
<span id="cb22-248"><a href="#cb22-248"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb22-249"><a href="#cb22-249"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb22-250"><a href="#cb22-250"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb22-251"><a href="#cb22-251"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-252"><a href="#cb22-252"></a>}</span>
<span id="cb22-253"><a href="#cb22-253"></a></span>
<span id="cb22-254"><a href="#cb22-254"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb22-255"><a href="#cb22-255"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb22-256"><a href="#cb22-256"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb22-257"><a href="#cb22-257"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb22-258"><a href="#cb22-258"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb22-259"><a href="#cb22-259"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-260"><a href="#cb22-260"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb22-261"><a href="#cb22-261"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-262"><a href="#cb22-262"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb22-263"><a href="#cb22-263"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb22-264"><a href="#cb22-264"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb22-265"><a href="#cb22-265"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb22-266"><a href="#cb22-266"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-267"><a href="#cb22-267"></a>}</span>
<span id="cb22-268"><a href="#cb22-268"></a></span>
<span id="cb22-269"><a href="#cb22-269"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb22-270"><a href="#cb22-270"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb22-271"><a href="#cb22-271"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-272"><a href="#cb22-272"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb22-273"><a href="#cb22-273"></a>}</span>
<span id="cb22-274"><a href="#cb22-274"></a></span>
<span id="cb22-275"><a href="#cb22-275"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb22-276"><a href="#cb22-276"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb22-277"><a href="#cb22-277"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb22-278"><a href="#cb22-278"></a>}</span>
<span id="cb22-279"><a href="#cb22-279"></a></span>
<span id="cb22-280"><a href="#cb22-280"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb22-281"><a href="#cb22-281"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb22-282"><a href="#cb22-282"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb22-283"><a href="#cb22-283"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb22-284"><a href="#cb22-284"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb22-285"><a href="#cb22-285"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb22-286"><a href="#cb22-286"></a>}</span>
<span id="cb22-287"><a href="#cb22-287"></a></span>
<span id="cb22-288"><a href="#cb22-288"></a><span class="co">/* Style the button container */</span></span>
<span id="cb22-289"><a href="#cb22-289"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb22-290"><a href="#cb22-290"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb22-291"><a href="#cb22-291"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb22-292"><a href="#cb22-292"></a>}</span>
<span id="cb22-293"><a href="#cb22-293"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div id="demo-container-6" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-6" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n/* Instruction Text Styling */\n.instructionStyle {\n    text-align: left;\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    padding: 5px;\n    margin: 5px auto;\n    color: #ff00ff;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n        } else {\n          feedback = &quot;zombie-attack&quot;\n          score = score - 100\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        \n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n                  <p>GAME OVER!</p>\n                  <p>Click the button below to save your data:</p>\n                  <button class=&quot;jspsych-btn&quot;>\n                    SAVE DATA\n                  </button>\n                </div>`,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-6');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-6" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}

/* Instruction Text Styling */
.instructionStyle {
    text-align: left;
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    padding: 5px;
    margin: 5px auto;
    color: #ff00ff;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
        } else {
          feedback = &quot;zombie-attack&quot;
          score = score - 100
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        
        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
                  <p>GAME OVER!</p>
                  <p>Click the button below to save your data:</p>
                  <button class=&quot;jspsych-btn&quot;>
                    SAVE DATA
                  </button>
                </div>`,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-6&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-6&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="additional-score-animations" class="level3" data-number="26.3.6">
<h3 data-number="26.3.6" class="anchored" data-anchor-id="additional-score-animations"><span class="header-section-number">26.3.6</span> Additional Score Animations</h3>
<p>As a final little flourish, let’s add some additional CSS animations to the score changes. I didn’t think it was rewarding/punishing enough yet, so I added a little ‘pulse’ to the score when you get points, and ‘shake’ when you lose points.</p>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Use JavaScript to add the heartbeat or shake class to the score display, Update <code>on_finish</code> to remove the class at the end of the trial</li>
<li><code>style.css</code> - Add the new animation classes</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>Note that the animation is triggered when we add the class. But we can only add it if it doesn’t have the class already. Therefore, at the end of each trial, we need to make sure we remove the class, so we can add it again on the next feedback trial.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB23 */

/* CB24 */
[id^="cb24-"]:nth-child(n+198):nth-child(-n+203),
[id^="cb24-"]:nth-child(n+247):nth-child(-n+252) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB25 */
[id^="cb25-"]:nth-child(n+304):nth-child(-n+462) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-3" role="tab" aria-controls="tabset-8-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-4" role="tab" aria-controls="tabset-8-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb23-1"><a href="#cb23-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8"></a>    </span>
<span id="cb23-9"><a href="#cb23-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-12"><a href="#cb23-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-13"><a href="#cb23-13"></a></span>
<span id="cb23-14"><a href="#cb23-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb23-15"><a href="#cb23-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb23-16"><a href="#cb23-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb23-17"><a href="#cb23-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb23-18"><a href="#cb23-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb23-19"><a href="#cb23-19"></a></span>
<span id="cb23-20"><a href="#cb23-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb23-21"><a href="#cb23-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb23-22"><a href="#cb23-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb23-23"><a href="#cb23-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-24"><a href="#cb23-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb23-25"><a href="#cb23-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb23-26"><a href="#cb23-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-27"><a href="#cb23-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-28"><a href="#cb23-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-29"><a href="#cb23-29"></a>    </span>
<span id="cb23-30"><a href="#cb23-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-31"><a href="#cb23-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-32"><a href="#cb23-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-33"><a href="#cb23-33"></a>    </span>
<span id="cb23-34"><a href="#cb23-34"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-35"><a href="#cb23-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-36"><a href="#cb23-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-37"><a href="#cb23-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-38"><a href="#cb23-38"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb23-39"><a href="#cb23-39"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb23-40"><a href="#cb23-40"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb23-41"><a href="#cb23-41"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb23-42"><a href="#cb23-42"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb23-43"><a href="#cb23-43"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1"></a> </span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="co">// ============================================</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="co">// ============================================</span></span>
<span id="cb24-5"><a href="#cb24-5"></a></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb24-7"><a href="#cb24-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb24-8"><a href="#cb24-8"></a>                ) </span>
<span id="cb24-9"><a href="#cb24-9"></a></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="co">// ============================================</span></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb24-12"><a href="#cb24-12"></a><span class="co">// ============================================</span></span>
<span id="cb24-13"><a href="#cb24-13"></a></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb24-16"><a href="#cb24-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb24-17"><a href="#cb24-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb24-18"><a href="#cb24-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb24-19"><a href="#cb24-19"></a>    }</span>
<span id="cb24-20"><a href="#cb24-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>}</span>
<span id="cb24-22"><a href="#cb24-22"></a></span>
<span id="cb24-23"><a href="#cb24-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb24-24"><a href="#cb24-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb24-25"><a href="#cb24-25"></a></span>
<span id="cb24-26"><a href="#cb24-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb24-27"><a href="#cb24-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb24-28"><a href="#cb24-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb24-29"><a href="#cb24-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb24-30"><a href="#cb24-30"></a></span>
<span id="cb24-31"><a href="#cb24-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb24-33"><a href="#cb24-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb24-34"><a href="#cb24-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb24-35"><a href="#cb24-35"></a>})<span class="op">;</span></span>
<span id="cb24-36"><a href="#cb24-36"></a></span>
<span id="cb24-37"><a href="#cb24-37"></a></span>
<span id="cb24-38"><a href="#cb24-38"></a><span class="co">// ============================================</span></span>
<span id="cb24-39"><a href="#cb24-39"></a><span class="co">// Trackers</span></span>
<span id="cb24-40"><a href="#cb24-40"></a><span class="co">// ============================================</span></span>
<span id="cb24-41"><a href="#cb24-41"></a></span>
<span id="cb24-42"><a href="#cb24-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb24-43"><a href="#cb24-43"></a></span>
<span id="cb24-44"><a href="#cb24-44"></a><span class="co">// ============================================</span></span>
<span id="cb24-45"><a href="#cb24-45"></a><span class="co">// Preload</span></span>
<span id="cb24-46"><a href="#cb24-46"></a><span class="co">// ============================================</span></span>
<span id="cb24-47"><a href="#cb24-47"></a></span>
<span id="cb24-48"><a href="#cb24-48"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb24-49"><a href="#cb24-49"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb24-50"><a href="#cb24-50"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]</span>
<span id="cb24-51"><a href="#cb24-51"></a>}</span>
<span id="cb24-52"><a href="#cb24-52"></a></span>
<span id="cb24-53"><a href="#cb24-53"></a><span class="co">// ============================================</span></span>
<span id="cb24-54"><a href="#cb24-54"></a><span class="co">// Welcome</span></span>
<span id="cb24-55"><a href="#cb24-55"></a><span class="co">// ============================================</span></span>
<span id="cb24-56"><a href="#cb24-56"></a></span>
<span id="cb24-57"><a href="#cb24-57"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb24-58"><a href="#cb24-58"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-59"><a href="#cb24-59"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-60"><a href="#cb24-60"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb24-61"><a href="#cb24-61"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-62"><a href="#cb24-62"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb24-63"><a href="#cb24-63"></a>}</span>
<span id="cb24-64"><a href="#cb24-64"></a></span>
<span id="cb24-65"><a href="#cb24-65"></a><span class="co">// ============================================</span></span>
<span id="cb24-66"><a href="#cb24-66"></a><span class="co">// Instructions</span></span>
<span id="cb24-67"><a href="#cb24-67"></a><span class="co">// ============================================</span></span>
<span id="cb24-68"><a href="#cb24-68"></a></span>
<span id="cb24-69"><a href="#cb24-69"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb24-70"><a href="#cb24-70"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb24-71"><a href="#cb24-71"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-72"><a href="#cb24-72"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb24-73"><a href="#cb24-73"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb24-74"><a href="#cb24-74"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-75"><a href="#cb24-75"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-76"><a href="#cb24-76"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb24-77"><a href="#cb24-77"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb24-78"><a href="#cb24-78"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb24-79"><a href="#cb24-79"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb24-80"><a href="#cb24-80"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb24-81"><a href="#cb24-81"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb24-82"><a href="#cb24-82"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-83"><a href="#cb24-83"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-84"><a href="#cb24-84"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb24-85"><a href="#cb24-85"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb24-86"><a href="#cb24-86"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb24-87"><a href="#cb24-87"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-88"><a href="#cb24-88"></a>}</span>
<span id="cb24-89"><a href="#cb24-89"></a></span>
<span id="cb24-90"><a href="#cb24-90"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb24-91"><a href="#cb24-91"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb24-92"><a href="#cb24-92"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-93"><a href="#cb24-93"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb24-94"><a href="#cb24-94"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb24-95"><a href="#cb24-95"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-96"><a href="#cb24-96"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb24-97"><a href="#cb24-97"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb24-98"><a href="#cb24-98"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb24-99"><a href="#cb24-99"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb24-100"><a href="#cb24-100"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb24-101"><a href="#cb24-101"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb24-102"><a href="#cb24-102"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb24-103"><a href="#cb24-103"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-104"><a href="#cb24-104"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb24-105"><a href="#cb24-105"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb24-106"><a href="#cb24-106"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb24-107"><a href="#cb24-107"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb24-108"><a href="#cb24-108"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb24-109"><a href="#cb24-109"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb24-110"><a href="#cb24-110"></a>        ]<span class="op">,</span></span>
<span id="cb24-111"><a href="#cb24-111"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb24-112"><a href="#cb24-112"></a>}</span>
<span id="cb24-113"><a href="#cb24-113"></a></span>
<span id="cb24-114"><a href="#cb24-114"></a><span class="co">// ============================================</span></span>
<span id="cb24-115"><a href="#cb24-115"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb24-116"><a href="#cb24-116"></a><span class="co">// ============================================</span></span>
<span id="cb24-117"><a href="#cb24-117"></a></span>
<span id="cb24-118"><a href="#cb24-118"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb24-119"><a href="#cb24-119"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-120"><a href="#cb24-120"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-121"><a href="#cb24-121"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-122"><a href="#cb24-122"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-123"><a href="#cb24-123"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-124"><a href="#cb24-124"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-125"><a href="#cb24-125"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb24-126"><a href="#cb24-126"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb24-127"><a href="#cb24-127"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-128"><a href="#cb24-128"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-129"><a href="#cb24-129"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb24-130"><a href="#cb24-130"></a>    }</span>
<span id="cb24-131"><a href="#cb24-131"></a>}</span>
<span id="cb24-132"><a href="#cb24-132"></a></span>
<span id="cb24-133"><a href="#cb24-133"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb24-134"><a href="#cb24-134"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-135"><a href="#cb24-135"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-136"><a href="#cb24-136"></a>        <span class="kw">let</span> output</span>
<span id="cb24-137"><a href="#cb24-137"></a></span>
<span id="cb24-138"><a href="#cb24-138"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb24-139"><a href="#cb24-139"></a></span>
<span id="cb24-140"><a href="#cb24-140"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb24-141"><a href="#cb24-141"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-142"><a href="#cb24-142"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-143"><a href="#cb24-143"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-144"><a href="#cb24-144"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-145"><a href="#cb24-145"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-146"><a href="#cb24-146"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-147"><a href="#cb24-147"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb24-148"><a href="#cb24-148"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-149"><a href="#cb24-149"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-150"><a href="#cb24-150"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-151"><a href="#cb24-151"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-152"><a href="#cb24-152"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-153"><a href="#cb24-153"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-154"><a href="#cb24-154"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb24-155"><a href="#cb24-155"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-156"><a href="#cb24-156"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-157"><a href="#cb24-157"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-158"><a href="#cb24-158"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-159"><a href="#cb24-159"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-160"><a href="#cb24-160"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-161"><a href="#cb24-161"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb24-162"><a href="#cb24-162"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-163"><a href="#cb24-163"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-164"><a href="#cb24-164"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-165"><a href="#cb24-165"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-166"><a href="#cb24-166"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-167"><a href="#cb24-167"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-168"><a href="#cb24-168"></a>        }</span>
<span id="cb24-169"><a href="#cb24-169"></a></span>
<span id="cb24-170"><a href="#cb24-170"></a>        <span class="cf">return</span> output</span>
<span id="cb24-171"><a href="#cb24-171"></a>    }<span class="op">,</span></span>
<span id="cb24-172"><a href="#cb24-172"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb24-173"><a href="#cb24-173"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-174"><a href="#cb24-174"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb24-175"><a href="#cb24-175"></a>    }</span>
<span id="cb24-176"><a href="#cb24-176"></a>}</span>
<span id="cb24-177"><a href="#cb24-177"></a></span>
<span id="cb24-178"><a href="#cb24-178"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb24-179"><a href="#cb24-179"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-180"><a href="#cb24-180"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-181"><a href="#cb24-181"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb24-182"><a href="#cb24-182"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb24-183"><a href="#cb24-183"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb24-184"><a href="#cb24-184"></a>        </span>
<span id="cb24-185"><a href="#cb24-185"></a>        <span class="kw">let</span> feedback</span>
<span id="cb24-186"><a href="#cb24-186"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb24-187"><a href="#cb24-187"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb24-188"><a href="#cb24-188"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb24-189"><a href="#cb24-189"></a>        } <span class="cf">else</span> {</span>
<span id="cb24-190"><a href="#cb24-190"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb24-191"><a href="#cb24-191"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span></span>
<span id="cb24-192"><a href="#cb24-192"></a>        }</span>
<span id="cb24-193"><a href="#cb24-193"></a>        </span>
<span id="cb24-194"><a href="#cb24-194"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb24-195"><a href="#cb24-195"></a></span>
<span id="cb24-196"><a href="#cb24-196"></a>        <span class="co">// update score</span></span>
<span id="cb24-197"><a href="#cb24-197"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb24-198"><a href="#cb24-198"></a>        <span class="co">// add animation to score</span></span>
<span id="cb24-199"><a href="#cb24-199"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb24-200"><a href="#cb24-200"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb24-201"><a href="#cb24-201"></a>        } <span class="cf">else</span> {</span>
<span id="cb24-202"><a href="#cb24-202"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb24-203"><a href="#cb24-203"></a>        }</span>
<span id="cb24-204"><a href="#cb24-204"></a></span>
<span id="cb24-205"><a href="#cb24-205"></a>        <span class="co">// update output</span></span>
<span id="cb24-206"><a href="#cb24-206"></a>        <span class="kw">let</span> output</span>
<span id="cb24-207"><a href="#cb24-207"></a></span>
<span id="cb24-208"><a href="#cb24-208"></a>        <span class="co">// still need the location</span></span>
<span id="cb24-209"><a href="#cb24-209"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb24-210"><a href="#cb24-210"></a></span>
<span id="cb24-211"><a href="#cb24-211"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb24-212"><a href="#cb24-212"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-213"><a href="#cb24-213"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-214"><a href="#cb24-214"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-215"><a href="#cb24-215"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-216"><a href="#cb24-216"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-217"><a href="#cb24-217"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-218"><a href="#cb24-218"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb24-219"><a href="#cb24-219"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-220"><a href="#cb24-220"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-221"><a href="#cb24-221"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-222"><a href="#cb24-222"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-223"><a href="#cb24-223"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-224"><a href="#cb24-224"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-225"><a href="#cb24-225"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb24-226"><a href="#cb24-226"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-227"><a href="#cb24-227"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-228"><a href="#cb24-228"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-229"><a href="#cb24-229"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-230"><a href="#cb24-230"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-231"><a href="#cb24-231"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-232"><a href="#cb24-232"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb24-233"><a href="#cb24-233"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb24-234"><a href="#cb24-234"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-235"><a href="#cb24-235"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-236"><a href="#cb24-236"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb24-237"><a href="#cb24-237"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb24-238"><a href="#cb24-238"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb24-239"><a href="#cb24-239"></a>        }</span>
<span id="cb24-240"><a href="#cb24-240"></a></span>
<span id="cb24-241"><a href="#cb24-241"></a>        <span class="cf">return</span> output</span>
<span id="cb24-242"><a href="#cb24-242"></a>    }<span class="op">,</span></span>
<span id="cb24-243"><a href="#cb24-243"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-244"><a href="#cb24-244"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb24-245"><a href="#cb24-245"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-246"><a href="#cb24-246"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb24-247"><a href="#cb24-247"></a>    }<span class="op">,</span></span>
<span id="cb24-248"><a href="#cb24-248"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb24-249"><a href="#cb24-249"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb24-250"><a href="#cb24-250"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb24-251"><a href="#cb24-251"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb24-252"><a href="#cb24-252"></a>    }</span>
<span id="cb24-253"><a href="#cb24-253"></a>}</span>
<span id="cb24-254"><a href="#cb24-254"></a></span>
<span id="cb24-255"><a href="#cb24-255"></a><span class="co">// learning phase in order</span></span>
<span id="cb24-256"><a href="#cb24-256"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb24-257"><a href="#cb24-257"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb24-258"><a href="#cb24-258"></a>        blank<span class="op">,</span></span>
<span id="cb24-259"><a href="#cb24-259"></a>        target<span class="op">,</span></span>
<span id="cb24-260"><a href="#cb24-260"></a>        feedback</span>
<span id="cb24-261"><a href="#cb24-261"></a>    ]<span class="op">,</span></span>
<span id="cb24-262"><a href="#cb24-262"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb24-263"><a href="#cb24-263"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb24-264"><a href="#cb24-264"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb24-265"><a href="#cb24-265"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb24-266"><a href="#cb24-266"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb24-267"><a href="#cb24-267"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb24-268"><a href="#cb24-268"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb24-269"><a href="#cb24-269"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb24-270"><a href="#cb24-270"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb24-271"><a href="#cb24-271"></a>    ]<span class="op">,</span></span>
<span id="cb24-272"><a href="#cb24-272"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb24-273"><a href="#cb24-273"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-274"><a href="#cb24-274"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb24-275"><a href="#cb24-275"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb24-276"><a href="#cb24-276"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb24-277"><a href="#cb24-277"></a>    }</span>
<span id="cb24-278"><a href="#cb24-278"></a>}</span>
<span id="cb24-279"><a href="#cb24-279"></a></span>
<span id="cb24-280"><a href="#cb24-280"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb24-281"><a href="#cb24-281"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb24-282"><a href="#cb24-282"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb24-283"><a href="#cb24-283"></a>        blank<span class="op">,</span></span>
<span id="cb24-284"><a href="#cb24-284"></a>        target<span class="op">,</span></span>
<span id="cb24-285"><a href="#cb24-285"></a>        feedback</span>
<span id="cb24-286"><a href="#cb24-286"></a>    ]<span class="op">,</span></span>
<span id="cb24-287"><a href="#cb24-287"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb24-288"><a href="#cb24-288"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb24-289"><a href="#cb24-289"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb24-290"><a href="#cb24-290"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb24-291"><a href="#cb24-291"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb24-292"><a href="#cb24-292"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb24-293"><a href="#cb24-293"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb24-294"><a href="#cb24-294"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb24-295"><a href="#cb24-295"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb24-296"><a href="#cb24-296"></a>    ]<span class="op">,</span></span>
<span id="cb24-297"><a href="#cb24-297"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb24-298"><a href="#cb24-298"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb24-299"><a href="#cb24-299"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb24-300"><a href="#cb24-300"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb24-301"><a href="#cb24-301"></a>        }</span>
<span id="cb24-302"><a href="#cb24-302"></a>    }<span class="op">,</span></span>
<span id="cb24-303"><a href="#cb24-303"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb24-304"><a href="#cb24-304"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-305"><a href="#cb24-305"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb24-306"><a href="#cb24-306"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb24-307"><a href="#cb24-307"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb24-308"><a href="#cb24-308"></a>    }</span>
<span id="cb24-309"><a href="#cb24-309"></a>}</span>
<span id="cb24-310"><a href="#cb24-310"></a></span>
<span id="cb24-311"><a href="#cb24-311"></a><span class="co">// ============================================</span></span>
<span id="cb24-312"><a href="#cb24-312"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb24-313"><a href="#cb24-313"></a><span class="co">// ============================================</span></span>
<span id="cb24-314"><a href="#cb24-314"></a></span>
<span id="cb24-315"><a href="#cb24-315"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb24-316"><a href="#cb24-316"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb24-317"><a href="#cb24-317"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb24-318"><a href="#cb24-318"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb24-319"><a href="#cb24-319"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb24-320"><a href="#cb24-320"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb24-321"><a href="#cb24-321"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb24-322"><a href="#cb24-322"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb24-323"><a href="#cb24-323"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb24-324"><a href="#cb24-324"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb24-325"><a href="#cb24-325"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb24-326"><a href="#cb24-326"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb24-327"><a href="#cb24-327"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb24-328"><a href="#cb24-328"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb24-329"><a href="#cb24-329"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb24-330"><a href="#cb24-330"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb24-331"><a href="#cb24-331"></a>        })<span class="op">;</span></span>
<span id="cb24-332"><a href="#cb24-332"></a>    }<span class="op">,</span></span>
<span id="cb24-333"><a href="#cb24-333"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb24-334"><a href="#cb24-334"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb24-335"><a href="#cb24-335"></a>    }</span>
<span id="cb24-336"><a href="#cb24-336"></a>}<span class="op">;</span></span>
<span id="cb24-337"><a href="#cb24-337"></a></span>
<span id="cb24-338"><a href="#cb24-338"></a><span class="co">// ============================================</span></span>
<span id="cb24-339"><a href="#cb24-339"></a><span class="co">// Run jsPsych</span></span>
<span id="cb24-340"><a href="#cb24-340"></a><span class="co">// ============================================</span></span>
<span id="cb24-341"><a href="#cb24-341"></a></span>
<span id="cb24-342"><a href="#cb24-342"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb24-343"><a href="#cb24-343"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb24-344"><a href="#cb24-344"></a>        preload<span class="op">,</span></span>
<span id="cb24-345"><a href="#cb24-345"></a>        welcome<span class="op">,</span></span>
<span id="cb24-346"><a href="#cb24-346"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb24-347"><a href="#cb24-347"></a>        learning<span class="op">,</span></span>
<span id="cb24-348"><a href="#cb24-348"></a>        test<span class="op">,</span></span>
<span id="cb24-349"><a href="#cb24-349"></a>        saveData</span>
<span id="cb24-350"><a href="#cb24-350"></a>    ])<span class="op">;</span></span>
<span id="cb24-351"><a href="#cb24-351"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb24-352"><a href="#cb24-352"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb24-353"><a href="#cb24-353"></a>        preload<span class="op">,</span></span>
<span id="cb24-354"><a href="#cb24-354"></a>        welcome<span class="op">,</span></span>
<span id="cb24-355"><a href="#cb24-355"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb24-356"><a href="#cb24-356"></a>        learning<span class="op">,</span></span>
<span id="cb24-357"><a href="#cb24-357"></a>        test<span class="op">,</span></span>
<span id="cb24-358"><a href="#cb24-358"></a>        saveData</span>
<span id="cb24-359"><a href="#cb24-359"></a>    ])<span class="op">;</span></span>
<span id="cb24-360"><a href="#cb24-360"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-3-tab">
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb25-1"><a href="#cb25-1"></a> </span>
<span id="cb25-2"><a href="#cb25-2"></a>body {</span>
<span id="cb25-3"><a href="#cb25-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb25-7"><a href="#cb25-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-8"><a href="#cb25-8"></a>}  </span>
<span id="cb25-9"><a href="#cb25-9"></a></span>
<span id="cb25-10"><a href="#cb25-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb25-11"><a href="#cb25-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb25-12"><a href="#cb25-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb25-13"><a href="#cb25-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-14"><a href="#cb25-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-15"><a href="#cb25-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-16"><a href="#cb25-16"></a>}</span>
<span id="cb25-17"><a href="#cb25-17"></a></span>
<span id="cb25-18"><a href="#cb25-18"></a><span class="fu">.box</span> {</span>
<span id="cb25-19"><a href="#cb25-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-20"><a href="#cb25-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-21"><a href="#cb25-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb25-22"><a href="#cb25-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-23"><a href="#cb25-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-24"><a href="#cb25-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-25"><a href="#cb25-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-26"><a href="#cb25-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-27"><a href="#cb25-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-28"><a href="#cb25-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-29"><a href="#cb25-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb25-30"><a href="#cb25-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb25-31"><a href="#cb25-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb25-32"><a href="#cb25-32"></a>}</span>
<span id="cb25-33"><a href="#cb25-33"></a></span>
<span id="cb25-34"><a href="#cb25-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb25-35"><a href="#cb25-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb25-36"><a href="#cb25-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb25-37"><a href="#cb25-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-38"><a href="#cb25-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-39"><a href="#cb25-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-40"><a href="#cb25-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb25-41"><a href="#cb25-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb25-42"><a href="#cb25-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb25-43"><a href="#cb25-43"></a>}</span>
<span id="cb25-44"><a href="#cb25-44"></a></span>
<span id="cb25-45"><a href="#cb25-45"></a><span class="fu">.grid</span> {</span>
<span id="cb25-46"><a href="#cb25-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb25-47"><a href="#cb25-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb25-48"><a href="#cb25-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb25-49"><a href="#cb25-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb25-50"><a href="#cb25-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-51"><a href="#cb25-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb25-52"><a href="#cb25-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb25-53"><a href="#cb25-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-54"><a href="#cb25-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-55"><a href="#cb25-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-56"><a href="#cb25-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-57"><a href="#cb25-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-58"><a href="#cb25-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb25-59"><a href="#cb25-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb25-60"><a href="#cb25-60"></a></span>
<span id="cb25-61"><a href="#cb25-61"></a>}</span>
<span id="cb25-62"><a href="#cb25-62"></a></span>
<span id="cb25-63"><a href="#cb25-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb25-64"><a href="#cb25-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb25-65"><a href="#cb25-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb25-66"><a href="#cb25-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb25-67"><a href="#cb25-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb25-68"><a href="#cb25-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb25-69"><a href="#cb25-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb25-70"><a href="#cb25-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb25-71"><a href="#cb25-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb25-72"><a href="#cb25-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb25-73"><a href="#cb25-73"></a></span>
<span id="cb25-74"><a href="#cb25-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb25-75"><a href="#cb25-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb25-76"><a href="#cb25-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb25-77"><a href="#cb25-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb25-78"><a href="#cb25-78"></a><span class="co">}</span></span>
<span id="cb25-79"><a href="#cb25-79"></a><span class="co">*/</span></span>
<span id="cb25-80"><a href="#cb25-80"></a></span>
<span id="cb25-81"><a href="#cb25-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb25-82"><a href="#cb25-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-83"><a href="#cb25-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-84"><a href="#cb25-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb25-85"><a href="#cb25-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb25-86"><a href="#cb25-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb25-87"><a href="#cb25-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-88"><a href="#cb25-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb25-89"><a href="#cb25-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-90"><a href="#cb25-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-91"><a href="#cb25-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-92"><a href="#cb25-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-93"><a href="#cb25-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-94"><a href="#cb25-94"></a>}</span>
<span id="cb25-95"><a href="#cb25-95"></a></span>
<span id="cb25-96"><a href="#cb25-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb25-97"><a href="#cb25-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb25-98"><a href="#cb25-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-99"><a href="#cb25-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-100"><a href="#cb25-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb25-101"><a href="#cb25-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb25-102"><a href="#cb25-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb25-103"><a href="#cb25-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb25-104"><a href="#cb25-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-105"><a href="#cb25-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb25-106"><a href="#cb25-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-107"><a href="#cb25-107"></a>}</span>
<span id="cb25-108"><a href="#cb25-108"></a></span>
<span id="cb25-109"><a href="#cb25-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb25-110"><a href="#cb25-110"></a>    <span class="dv">from</span> {</span>
<span id="cb25-111"><a href="#cb25-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-112"><a href="#cb25-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-113"><a href="#cb25-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-114"><a href="#cb25-114"></a>    }</span>
<span id="cb25-115"><a href="#cb25-115"></a>    <span class="dv">to</span> {</span>
<span id="cb25-116"><a href="#cb25-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-117"><a href="#cb25-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-118"><a href="#cb25-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-119"><a href="#cb25-119"></a>    }</span>
<span id="cb25-120"><a href="#cb25-120"></a>}</span>
<span id="cb25-121"><a href="#cb25-121"></a></span>
<span id="cb25-122"><a href="#cb25-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb25-123"><a href="#cb25-123"></a>    <span class="dv">from</span> {</span>
<span id="cb25-124"><a href="#cb25-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-125"><a href="#cb25-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-126"><a href="#cb25-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-127"><a href="#cb25-127"></a>    }</span>
<span id="cb25-128"><a href="#cb25-128"></a>    <span class="dv">to</span> {</span>
<span id="cb25-129"><a href="#cb25-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-130"><a href="#cb25-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-131"><a href="#cb25-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-132"><a href="#cb25-132"></a>    }</span>
<span id="cb25-133"><a href="#cb25-133"></a>}</span>
<span id="cb25-134"><a href="#cb25-134"></a></span>
<span id="cb25-135"><a href="#cb25-135"></a></span>
<span id="cb25-136"><a href="#cb25-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb25-137"><a href="#cb25-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-138"><a href="#cb25-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-139"><a href="#cb25-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb25-140"><a href="#cb25-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb25-141"><a href="#cb25-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-142"><a href="#cb25-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-143"><a href="#cb25-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-144"><a href="#cb25-144"></a>}</span>
<span id="cb25-145"><a href="#cb25-145"></a></span>
<span id="cb25-146"><a href="#cb25-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb25-147"><a href="#cb25-147"></a>    <span class="dv">from</span> {</span>
<span id="cb25-148"><a href="#cb25-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-149"><a href="#cb25-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-150"><a href="#cb25-150"></a>    }</span>
<span id="cb25-151"><a href="#cb25-151"></a>    <span class="dv">to</span> {</span>
<span id="cb25-152"><a href="#cb25-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-153"><a href="#cb25-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-154"><a href="#cb25-154"></a>    }</span>
<span id="cb25-155"><a href="#cb25-155"></a>}</span>
<span id="cb25-156"><a href="#cb25-156"></a></span>
<span id="cb25-157"><a href="#cb25-157"></a></span>
<span id="cb25-158"><a href="#cb25-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb25-159"><a href="#cb25-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-160"><a href="#cb25-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-161"><a href="#cb25-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb25-162"><a href="#cb25-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb25-163"><a href="#cb25-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb25-164"><a href="#cb25-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb25-165"><a href="#cb25-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-166"><a href="#cb25-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb25-167"><a href="#cb25-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-168"><a href="#cb25-168"></a>}</span>
<span id="cb25-169"><a href="#cb25-169"></a></span>
<span id="cb25-170"><a href="#cb25-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb25-171"><a href="#cb25-171"></a>    <span class="dv">from</span> {</span>
<span id="cb25-172"><a href="#cb25-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-173"><a href="#cb25-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-174"><a href="#cb25-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-175"><a href="#cb25-175"></a>    }</span>
<span id="cb25-176"><a href="#cb25-176"></a>    <span class="dv">to</span> {</span>
<span id="cb25-177"><a href="#cb25-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-178"><a href="#cb25-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-179"><a href="#cb25-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-180"><a href="#cb25-180"></a>    }</span>
<span id="cb25-181"><a href="#cb25-181"></a>}</span>
<span id="cb25-182"><a href="#cb25-182"></a></span>
<span id="cb25-183"><a href="#cb25-183"></a></span>
<span id="cb25-184"><a href="#cb25-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb25-185"><a href="#cb25-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb25-186"><a href="#cb25-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb25-187"><a href="#cb25-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb25-188"><a href="#cb25-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb25-189"><a href="#cb25-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb25-190"><a href="#cb25-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb25-191"><a href="#cb25-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-192"><a href="#cb25-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-193"><a href="#cb25-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-194"><a href="#cb25-194"></a>}</span>
<span id="cb25-195"><a href="#cb25-195"></a></span>
<span id="cb25-196"><a href="#cb25-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb25-197"><a href="#cb25-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-198"><a href="#cb25-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb25-199"><a href="#cb25-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb25-200"><a href="#cb25-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-201"><a href="#cb25-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-202"><a href="#cb25-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-203"><a href="#cb25-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-204"><a href="#cb25-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-205"><a href="#cb25-205"></a>}</span>
<span id="cb25-206"><a href="#cb25-206"></a></span>
<span id="cb25-207"><a href="#cb25-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb25-208"><a href="#cb25-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-209"><a href="#cb25-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb25-210"><a href="#cb25-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb25-211"><a href="#cb25-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-212"><a href="#cb25-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-213"><a href="#cb25-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-214"><a href="#cb25-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb25-215"><a href="#cb25-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-216"><a href="#cb25-216"></a>}</span>
<span id="cb25-217"><a href="#cb25-217"></a></span>
<span id="cb25-218"><a href="#cb25-218"></a></span>
<span id="cb25-219"><a href="#cb25-219"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb25-220"><a href="#cb25-220"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb25-221"><a href="#cb25-221"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb25-222"><a href="#cb25-222"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb25-223"><a href="#cb25-223"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb25-224"><a href="#cb25-224"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb25-225"><a href="#cb25-225"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-226"><a href="#cb25-226"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-227"><a href="#cb25-227"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb25-228"><a href="#cb25-228"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb25-229"><a href="#cb25-229"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb25-230"><a href="#cb25-230"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb25-231"><a href="#cb25-231"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb25-232"><a href="#cb25-232"></a>}</span>
<span id="cb25-233"><a href="#cb25-233"></a></span>
<span id="cb25-234"><a href="#cb25-234"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb25-235"><a href="#cb25-235"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb25-236"><a href="#cb25-236"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb25-237"><a href="#cb25-237"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb25-238"><a href="#cb25-238"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb25-239"><a href="#cb25-239"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb25-240"><a href="#cb25-240"></a>}</span>
<span id="cb25-241"><a href="#cb25-241"></a></span>
<span id="cb25-242"><a href="#cb25-242"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb25-243"><a href="#cb25-243"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-244"><a href="#cb25-244"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-245"><a href="#cb25-245"></a>}</span>
<span id="cb25-246"><a href="#cb25-246"></a></span>
<span id="cb25-247"><a href="#cb25-247"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb25-248"><a href="#cb25-248"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb25-249"><a href="#cb25-249"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-250"><a href="#cb25-250"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-251"><a href="#cb25-251"></a>}</span>
<span id="cb25-252"><a href="#cb25-252"></a></span>
<span id="cb25-253"><a href="#cb25-253"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb25-254"><a href="#cb25-254"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-255"><a href="#cb25-255"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-256"><a href="#cb25-256"></a>}</span>
<span id="cb25-257"><a href="#cb25-257"></a></span>
<span id="cb25-258"><a href="#cb25-258"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb25-259"><a href="#cb25-259"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb25-260"><a href="#cb25-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb25-261"><a href="#cb25-261"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-262"><a href="#cb25-262"></a>}</span>
<span id="cb25-263"><a href="#cb25-263"></a></span>
<span id="cb25-264"><a href="#cb25-264"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb25-265"><a href="#cb25-265"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb25-266"><a href="#cb25-266"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb25-267"><a href="#cb25-267"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb25-268"><a href="#cb25-268"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb25-269"><a href="#cb25-269"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-270"><a href="#cb25-270"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb25-271"><a href="#cb25-271"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-272"><a href="#cb25-272"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb25-273"><a href="#cb25-273"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb25-274"><a href="#cb25-274"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb25-275"><a href="#cb25-275"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb25-276"><a href="#cb25-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-277"><a href="#cb25-277"></a>}</span>
<span id="cb25-278"><a href="#cb25-278"></a></span>
<span id="cb25-279"><a href="#cb25-279"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb25-280"><a href="#cb25-280"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb25-281"><a href="#cb25-281"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-282"><a href="#cb25-282"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb25-283"><a href="#cb25-283"></a>}</span>
<span id="cb25-284"><a href="#cb25-284"></a></span>
<span id="cb25-285"><a href="#cb25-285"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb25-286"><a href="#cb25-286"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-287"><a href="#cb25-287"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb25-288"><a href="#cb25-288"></a>}</span>
<span id="cb25-289"><a href="#cb25-289"></a></span>
<span id="cb25-290"><a href="#cb25-290"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb25-291"><a href="#cb25-291"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb25-292"><a href="#cb25-292"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb25-293"><a href="#cb25-293"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb25-294"><a href="#cb25-294"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb25-295"><a href="#cb25-295"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb25-296"><a href="#cb25-296"></a>}</span>
<span id="cb25-297"><a href="#cb25-297"></a></span>
<span id="cb25-298"><a href="#cb25-298"></a><span class="co">/* Style the button container */</span></span>
<span id="cb25-299"><a href="#cb25-299"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb25-300"><a href="#cb25-300"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb25-301"><a href="#cb25-301"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-302"><a href="#cb25-302"></a>}</span>
<span id="cb25-303"><a href="#cb25-303"></a></span>
<span id="cb25-304"><a href="#cb25-304"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb25-305"><a href="#cb25-305"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb25-306"><a href="#cb25-306"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb25-307"><a href="#cb25-307"></a>}</span>
<span id="cb25-308"><a href="#cb25-308"></a></span>
<span id="cb25-309"><a href="#cb25-309"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb25-310"><a href="#cb25-310"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb25-311"><a href="#cb25-311"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb25-312"><a href="#cb25-312"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb25-313"><a href="#cb25-313"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb25-314"><a href="#cb25-314"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb25-315"><a href="#cb25-315"></a></span>
<span id="cb25-316"><a href="#cb25-316"></a><span class="co">/**</span></span>
<span id="cb25-317"><a href="#cb25-317"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb25-318"><a href="#cb25-318"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb25-319"><a href="#cb25-319"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb25-320"><a href="#cb25-320"></a><span class="co"> */</span></span>
<span id="cb25-321"><a href="#cb25-321"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb25-322"><a href="#cb25-322"></a>  from {</span>
<span id="cb25-323"><a href="#cb25-323"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-324"><a href="#cb25-324"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-325"><a href="#cb25-325"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-326"><a href="#cb25-326"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-327"><a href="#cb25-327"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-328"><a href="#cb25-328"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-329"><a href="#cb25-329"></a>  }</span>
<span id="cb25-330"><a href="#cb25-330"></a>  10% {</span>
<span id="cb25-331"><a href="#cb25-331"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-332"><a href="#cb25-332"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-333"><a href="#cb25-333"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-334"><a href="#cb25-334"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-335"><a href="#cb25-335"></a>  }</span>
<span id="cb25-336"><a href="#cb25-336"></a>  17% {</span>
<span id="cb25-337"><a href="#cb25-337"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-338"><a href="#cb25-338"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-339"><a href="#cb25-339"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-340"><a href="#cb25-340"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-341"><a href="#cb25-341"></a>  }</span>
<span id="cb25-342"><a href="#cb25-342"></a>  33% {</span>
<span id="cb25-343"><a href="#cb25-343"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-344"><a href="#cb25-344"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-345"><a href="#cb25-345"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-346"><a href="#cb25-346"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-347"><a href="#cb25-347"></a>  }</span>
<span id="cb25-348"><a href="#cb25-348"></a>  45% {</span>
<span id="cb25-349"><a href="#cb25-349"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-350"><a href="#cb25-350"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-351"><a href="#cb25-351"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-352"><a href="#cb25-352"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-353"><a href="#cb25-353"></a>  }</span>
<span id="cb25-354"><a href="#cb25-354"></a>}</span>
<span id="cb25-355"><a href="#cb25-355"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb25-356"><a href="#cb25-356"></a>  <span class="dv">from</span> {</span>
<span id="cb25-357"><a href="#cb25-357"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-358"><a href="#cb25-358"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-359"><a href="#cb25-359"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-360"><a href="#cb25-360"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb25-361"><a href="#cb25-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-362"><a href="#cb25-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-363"><a href="#cb25-363"></a>  }</span>
<span id="cb25-364"><a href="#cb25-364"></a>  <span class="dv">10%</span> {</span>
<span id="cb25-365"><a href="#cb25-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-366"><a href="#cb25-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-367"><a href="#cb25-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-368"><a href="#cb25-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-369"><a href="#cb25-369"></a>  }</span>
<span id="cb25-370"><a href="#cb25-370"></a>  <span class="dv">17%</span> {</span>
<span id="cb25-371"><a href="#cb25-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-372"><a href="#cb25-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-373"><a href="#cb25-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-374"><a href="#cb25-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-375"><a href="#cb25-375"></a>  }</span>
<span id="cb25-376"><a href="#cb25-376"></a>  <span class="dv">33%</span> {</span>
<span id="cb25-377"><a href="#cb25-377"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-378"><a href="#cb25-378"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-379"><a href="#cb25-379"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-380"><a href="#cb25-380"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb25-381"><a href="#cb25-381"></a>  }</span>
<span id="cb25-382"><a href="#cb25-382"></a>  <span class="dv">45%</span> {</span>
<span id="cb25-383"><a href="#cb25-383"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-384"><a href="#cb25-384"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-385"><a href="#cb25-385"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-386"><a href="#cb25-386"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb25-387"><a href="#cb25-387"></a>  }</span>
<span id="cb25-388"><a href="#cb25-388"></a>}</span>
<span id="cb25-389"><a href="#cb25-389"></a></span>
<span id="cb25-390"><a href="#cb25-390"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb25-391"><a href="#cb25-391"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb25-392"><a href="#cb25-392"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb25-393"><a href="#cb25-393"></a>}</span>
<span id="cb25-394"><a href="#cb25-394"></a></span>
<span id="cb25-395"><a href="#cb25-395"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb25-396"><a href="#cb25-396"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb25-397"><a href="#cb25-397"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb25-398"><a href="#cb25-398"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb25-399"><a href="#cb25-399"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb25-400"><a href="#cb25-400"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb25-401"><a href="#cb25-401"></a></span>
<span id="cb25-402"><a href="#cb25-402"></a><span class="co">/**</span></span>
<span id="cb25-403"><a href="#cb25-403"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb25-404"><a href="#cb25-404"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb25-405"><a href="#cb25-405"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb25-406"><a href="#cb25-406"></a><span class="co"> */</span></span>
<span id="cb25-407"><a href="#cb25-407"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb25-408"><a href="#cb25-408"></a>  0%<span class="op">,</span></span>
<span id="cb25-409"><a href="#cb25-409"></a>  100% {</span>
<span id="cb25-410"><a href="#cb25-410"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-411"><a href="#cb25-411"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-412"><a href="#cb25-412"></a>  }</span>
<span id="cb25-413"><a href="#cb25-413"></a>  10%<span class="op">,</span></span>
<span id="cb25-414"><a href="#cb25-414"></a>  30%<span class="op">,</span></span>
<span id="cb25-415"><a href="#cb25-415"></a>  50%<span class="op">,</span></span>
<span id="cb25-416"><a href="#cb25-416"></a>  70% {</span>
<span id="cb25-417"><a href="#cb25-417"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-418"><a href="#cb25-418"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-419"><a href="#cb25-419"></a>  }</span>
<span id="cb25-420"><a href="#cb25-420"></a>  20%<span class="op">,</span></span>
<span id="cb25-421"><a href="#cb25-421"></a>  40%<span class="op">,</span></span>
<span id="cb25-422"><a href="#cb25-422"></a>  60% {</span>
<span id="cb25-423"><a href="#cb25-423"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-424"><a href="#cb25-424"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-425"><a href="#cb25-425"></a>  }</span>
<span id="cb25-426"><a href="#cb25-426"></a>  80% {</span>
<span id="cb25-427"><a href="#cb25-427"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-428"><a href="#cb25-428"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-429"><a href="#cb25-429"></a>  }</span>
<span id="cb25-430"><a href="#cb25-430"></a>  90% {</span>
<span id="cb25-431"><a href="#cb25-431"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-432"><a href="#cb25-432"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-433"><a href="#cb25-433"></a>  }</span>
<span id="cb25-434"><a href="#cb25-434"></a>}</span>
<span id="cb25-435"><a href="#cb25-435"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb25-436"><a href="#cb25-436"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb25-437"><a href="#cb25-437"></a>  <span class="dv">100%</span> {</span>
<span id="cb25-438"><a href="#cb25-438"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-439"><a href="#cb25-439"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-440"><a href="#cb25-440"></a>  }</span>
<span id="cb25-441"><a href="#cb25-441"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb25-442"><a href="#cb25-442"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb25-443"><a href="#cb25-443"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb25-444"><a href="#cb25-444"></a>  <span class="dv">70%</span> {</span>
<span id="cb25-445"><a href="#cb25-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-446"><a href="#cb25-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-447"><a href="#cb25-447"></a>  }</span>
<span id="cb25-448"><a href="#cb25-448"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb25-449"><a href="#cb25-449"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb25-450"><a href="#cb25-450"></a>  <span class="dv">60%</span> {</span>
<span id="cb25-451"><a href="#cb25-451"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-452"><a href="#cb25-452"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-453"><a href="#cb25-453"></a>  }</span>
<span id="cb25-454"><a href="#cb25-454"></a>  <span class="dv">80%</span> {</span>
<span id="cb25-455"><a href="#cb25-455"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-456"><a href="#cb25-456"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-457"><a href="#cb25-457"></a>  }</span>
<span id="cb25-458"><a href="#cb25-458"></a>  <span class="dv">90%</span> {</span>
<span id="cb25-459"><a href="#cb25-459"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-460"><a href="#cb25-460"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb25-461"><a href="#cb25-461"></a>  }</span>
<span id="cb25-462"><a href="#cb25-462"></a>}</span>
<span id="cb25-463"><a href="#cb25-463"></a></span>
<span id="cb25-464"><a href="#cb25-464"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-4-tab">
<div id="demo-container-7" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-7" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n        } else {\n          feedback = &quot;zombie-attack&quot;\n          score = score - 100\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-7');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-7" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}


.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
        } else {
          feedback = &quot;zombie-attack&quot;
          score = score - 100
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-7&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-7&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stage-2-sound-music" class="level2" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="stage-2-sound-music"><span class="header-section-number">26.4</span> Stage 2: Sound &amp; Music</h2>
<section id="add-sound-effects" class="level3" data-number="26.4.1">
<h3 data-number="26.4.1" class="anchored" data-anchor-id="add-sound-effects"><span class="header-section-number">26.4.1</span> Add Sound Effects</h3>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Update the preload trial, add audio setup, Add audio play triggers, add audio clean up in on_finish function</li>
</ol>
<p>Additional Notes:</p>
<ul>
<li>The audio files are short and should complete by the time the feedback trial finishes. But, it’s good practice to include fallbacks in case something fails. In this case, in the <code>on_finish</code> function I ‘clean up’ the audio by pausing all the audio files and resetting the <code>currentTime</code> to 0. This is probably unnecessary, but if I ever changed the trial feedback duration, this will prevent audio files from playing beyond the trial itself.</li>
</ul>
<div class="cell">
<style type="text/css">
/* CB26 */

/* CB27 */
[id^="cb27-"]:nth-child(n+44):nth-child(-n+58),
[id^="cb27-"]:nth-child(n+65):nth-child(-n+69),
[id^="cb27-"]:nth-child(n+211):nth-child(-n+213),
[id^="cb27-"]:nth-child(n+219):nth-child(-n+220) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB27 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-4" role="tab" aria-controls="tabset-9-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb26-1"><a href="#cb26-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>    </span>
<span id="cb26-9"><a href="#cb26-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13"></a></span>
<span id="cb26-14"><a href="#cb26-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb26-15"><a href="#cb26-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb26-16"><a href="#cb26-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a></span>
<span id="cb26-20"><a href="#cb26-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-22"><a href="#cb26-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-23"><a href="#cb26-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-24"><a href="#cb26-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb26-25"><a href="#cb26-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb26-26"><a href="#cb26-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-27"><a href="#cb26-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-28"><a href="#cb26-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-29"><a href="#cb26-29"></a>    </span>
<span id="cb26-30"><a href="#cb26-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-31"><a href="#cb26-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-32"><a href="#cb26-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-33"><a href="#cb26-33"></a>    </span>
<span id="cb26-34"><a href="#cb26-34"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-35"><a href="#cb26-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-36"><a href="#cb26-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-37"><a href="#cb26-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-38"><a href="#cb26-38"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb26-39"><a href="#cb26-39"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb26-40"><a href="#cb26-40"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-41"><a href="#cb26-41"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-42"><a href="#cb26-42"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-43"><a href="#cb26-43"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1"></a> </span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="co">// ============================================</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co">// ============================================</span></span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb27-7"><a href="#cb27-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb27-8"><a href="#cb27-8"></a>                ) </span>
<span id="cb27-9"><a href="#cb27-9"></a></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="co">// ============================================</span></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="co">// ============================================</span></span>
<span id="cb27-13"><a href="#cb27-13"></a></span>
<span id="cb27-14"><a href="#cb27-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb27-16"><a href="#cb27-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb27-17"><a href="#cb27-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb27-18"><a href="#cb27-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb27-19"><a href="#cb27-19"></a>    }</span>
<span id="cb27-20"><a href="#cb27-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb27-21"><a href="#cb27-21"></a>}</span>
<span id="cb27-22"><a href="#cb27-22"></a></span>
<span id="cb27-23"><a href="#cb27-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb27-24"><a href="#cb27-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb27-25"><a href="#cb27-25"></a></span>
<span id="cb27-26"><a href="#cb27-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb27-27"><a href="#cb27-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb27-28"><a href="#cb27-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb27-29"><a href="#cb27-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb27-30"><a href="#cb27-30"></a></span>
<span id="cb27-31"><a href="#cb27-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb27-32"><a href="#cb27-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb27-33"><a href="#cb27-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb27-34"><a href="#cb27-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb27-35"><a href="#cb27-35"></a>})<span class="op">;</span></span>
<span id="cb27-36"><a href="#cb27-36"></a></span>
<span id="cb27-37"><a href="#cb27-37"></a></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="co">// ============================================</span></span>
<span id="cb27-39"><a href="#cb27-39"></a><span class="co">// Trackers</span></span>
<span id="cb27-40"><a href="#cb27-40"></a><span class="co">// ============================================</span></span>
<span id="cb27-41"><a href="#cb27-41"></a></span>
<span id="cb27-42"><a href="#cb27-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb27-43"><a href="#cb27-43"></a></span>
<span id="cb27-44"><a href="#cb27-44"></a><span class="co">// ============================================</span></span>
<span id="cb27-45"><a href="#cb27-45"></a><span class="co">// Audio Setup</span></span>
<span id="cb27-46"><a href="#cb27-46"></a><span class="co">// ============================================</span></span>
<span id="cb27-47"><a href="#cb27-47"></a></span>
<span id="cb27-48"><a href="#cb27-48"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb27-49"><a href="#cb27-49"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb27-50"><a href="#cb27-50"></a></span>
<span id="cb27-51"><a href="#cb27-51"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb27-52"><a href="#cb27-52"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb27-53"><a href="#cb27-53"></a></span>
<span id="cb27-54"><a href="#cb27-54"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb27-55"><a href="#cb27-55"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb27-56"><a href="#cb27-56"></a></span>
<span id="cb27-57"><a href="#cb27-57"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb27-58"><a href="#cb27-58"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb27-59"><a href="#cb27-59"></a></span>
<span id="cb27-60"><a href="#cb27-60"></a></span>
<span id="cb27-61"><a href="#cb27-61"></a><span class="co">// ============================================</span></span>
<span id="cb27-62"><a href="#cb27-62"></a><span class="co">// Preload</span></span>
<span id="cb27-63"><a href="#cb27-63"></a><span class="co">// ============================================</span></span>
<span id="cb27-64"><a href="#cb27-64"></a></span>
<span id="cb27-65"><a href="#cb27-65"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb27-66"><a href="#cb27-66"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb27-67"><a href="#cb27-67"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb27-68"><a href="#cb27-68"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span>]</span>
<span id="cb27-69"><a href="#cb27-69"></a>}</span>
<span id="cb27-70"><a href="#cb27-70"></a></span>
<span id="cb27-71"><a href="#cb27-71"></a><span class="co">// ============================================</span></span>
<span id="cb27-72"><a href="#cb27-72"></a><span class="co">// Welcome</span></span>
<span id="cb27-73"><a href="#cb27-73"></a><span class="co">// ============================================</span></span>
<span id="cb27-74"><a href="#cb27-74"></a></span>
<span id="cb27-75"><a href="#cb27-75"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb27-76"><a href="#cb27-76"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-77"><a href="#cb27-77"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-78"><a href="#cb27-78"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb27-79"><a href="#cb27-79"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-80"><a href="#cb27-80"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb27-81"><a href="#cb27-81"></a>}</span>
<span id="cb27-82"><a href="#cb27-82"></a></span>
<span id="cb27-83"><a href="#cb27-83"></a><span class="co">// ============================================</span></span>
<span id="cb27-84"><a href="#cb27-84"></a><span class="co">// Instructions</span></span>
<span id="cb27-85"><a href="#cb27-85"></a><span class="co">// ============================================</span></span>
<span id="cb27-86"><a href="#cb27-86"></a></span>
<span id="cb27-87"><a href="#cb27-87"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb27-88"><a href="#cb27-88"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-89"><a href="#cb27-89"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-90"><a href="#cb27-90"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb27-91"><a href="#cb27-91"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb27-92"><a href="#cb27-92"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-93"><a href="#cb27-93"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-94"><a href="#cb27-94"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb27-95"><a href="#cb27-95"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb27-96"><a href="#cb27-96"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb27-97"><a href="#cb27-97"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb27-98"><a href="#cb27-98"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb27-99"><a href="#cb27-99"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb27-100"><a href="#cb27-100"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-101"><a href="#cb27-101"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-102"><a href="#cb27-102"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb27-103"><a href="#cb27-103"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb27-104"><a href="#cb27-104"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb27-105"><a href="#cb27-105"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb27-106"><a href="#cb27-106"></a>}</span>
<span id="cb27-107"><a href="#cb27-107"></a></span>
<span id="cb27-108"><a href="#cb27-108"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb27-109"><a href="#cb27-109"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-110"><a href="#cb27-110"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-111"><a href="#cb27-111"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb27-112"><a href="#cb27-112"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb27-113"><a href="#cb27-113"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-114"><a href="#cb27-114"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-115"><a href="#cb27-115"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb27-116"><a href="#cb27-116"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb27-117"><a href="#cb27-117"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb27-118"><a href="#cb27-118"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb27-119"><a href="#cb27-119"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb27-120"><a href="#cb27-120"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb27-121"><a href="#cb27-121"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-122"><a href="#cb27-122"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb27-123"><a href="#cb27-123"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb27-124"><a href="#cb27-124"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb27-125"><a href="#cb27-125"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb27-126"><a href="#cb27-126"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb27-127"><a href="#cb27-127"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb27-128"><a href="#cb27-128"></a>        ]<span class="op">,</span></span>
<span id="cb27-129"><a href="#cb27-129"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb27-130"><a href="#cb27-130"></a>}</span>
<span id="cb27-131"><a href="#cb27-131"></a></span>
<span id="cb27-132"><a href="#cb27-132"></a><span class="co">// ============================================</span></span>
<span id="cb27-133"><a href="#cb27-133"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb27-134"><a href="#cb27-134"></a><span class="co">// ============================================</span></span>
<span id="cb27-135"><a href="#cb27-135"></a></span>
<span id="cb27-136"><a href="#cb27-136"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb27-137"><a href="#cb27-137"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-138"><a href="#cb27-138"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-139"><a href="#cb27-139"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-140"><a href="#cb27-140"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-141"><a href="#cb27-141"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-142"><a href="#cb27-142"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-143"><a href="#cb27-143"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-144"><a href="#cb27-144"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb27-145"><a href="#cb27-145"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-146"><a href="#cb27-146"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-147"><a href="#cb27-147"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb27-148"><a href="#cb27-148"></a>    }</span>
<span id="cb27-149"><a href="#cb27-149"></a>}</span>
<span id="cb27-150"><a href="#cb27-150"></a></span>
<span id="cb27-151"><a href="#cb27-151"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb27-152"><a href="#cb27-152"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-153"><a href="#cb27-153"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-154"><a href="#cb27-154"></a>        <span class="kw">let</span> output</span>
<span id="cb27-155"><a href="#cb27-155"></a></span>
<span id="cb27-156"><a href="#cb27-156"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb27-157"><a href="#cb27-157"></a></span>
<span id="cb27-158"><a href="#cb27-158"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb27-159"><a href="#cb27-159"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-160"><a href="#cb27-160"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-161"><a href="#cb27-161"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-162"><a href="#cb27-162"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-163"><a href="#cb27-163"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-164"><a href="#cb27-164"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-165"><a href="#cb27-165"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb27-166"><a href="#cb27-166"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-167"><a href="#cb27-167"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-168"><a href="#cb27-168"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-169"><a href="#cb27-169"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-170"><a href="#cb27-170"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-171"><a href="#cb27-171"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-172"><a href="#cb27-172"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb27-173"><a href="#cb27-173"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-174"><a href="#cb27-174"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-175"><a href="#cb27-175"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-176"><a href="#cb27-176"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-177"><a href="#cb27-177"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-178"><a href="#cb27-178"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-179"><a href="#cb27-179"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb27-180"><a href="#cb27-180"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-181"><a href="#cb27-181"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-182"><a href="#cb27-182"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-183"><a href="#cb27-183"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-184"><a href="#cb27-184"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-185"><a href="#cb27-185"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-186"><a href="#cb27-186"></a>        }</span>
<span id="cb27-187"><a href="#cb27-187"></a></span>
<span id="cb27-188"><a href="#cb27-188"></a>        <span class="cf">return</span> output</span>
<span id="cb27-189"><a href="#cb27-189"></a>    }<span class="op">,</span></span>
<span id="cb27-190"><a href="#cb27-190"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb27-191"><a href="#cb27-191"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-192"><a href="#cb27-192"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb27-193"><a href="#cb27-193"></a>    }<span class="op">,</span></span>
<span id="cb27-194"><a href="#cb27-194"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-195"><a href="#cb27-195"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb27-196"><a href="#cb27-196"></a>    }</span>
<span id="cb27-197"><a href="#cb27-197"></a>}</span>
<span id="cb27-198"><a href="#cb27-198"></a></span>
<span id="cb27-199"><a href="#cb27-199"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb27-200"><a href="#cb27-200"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-201"><a href="#cb27-201"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-202"><a href="#cb27-202"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb27-203"><a href="#cb27-203"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb27-204"><a href="#cb27-204"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb27-205"><a href="#cb27-205"></a>        </span>
<span id="cb27-206"><a href="#cb27-206"></a>        <span class="kw">let</span> feedback</span>
<span id="cb27-207"><a href="#cb27-207"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb27-208"><a href="#cb27-208"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb27-209"><a href="#cb27-209"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb27-210"><a href="#cb27-210"></a>          </span>
<span id="cb27-211"><a href="#cb27-211"></a>          <span class="co">// play correct audio </span></span>
<span id="cb27-212"><a href="#cb27-212"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb27-213"><a href="#cb27-213"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb27-214"><a href="#cb27-214"></a>  </span>
<span id="cb27-215"><a href="#cb27-215"></a>        } <span class="cf">else</span> {</span>
<span id="cb27-216"><a href="#cb27-216"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb27-217"><a href="#cb27-217"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span></span>
<span id="cb27-218"><a href="#cb27-218"></a>      </span>
<span id="cb27-219"><a href="#cb27-219"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb27-220"><a href="#cb27-220"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb27-221"><a href="#cb27-221"></a>        }</span>
<span id="cb27-222"><a href="#cb27-222"></a>        </span>
<span id="cb27-223"><a href="#cb27-223"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb27-224"><a href="#cb27-224"></a></span>
<span id="cb27-225"><a href="#cb27-225"></a>        <span class="co">// update score</span></span>
<span id="cb27-226"><a href="#cb27-226"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb27-227"><a href="#cb27-227"></a>        <span class="co">// add animation to score</span></span>
<span id="cb27-228"><a href="#cb27-228"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb27-229"><a href="#cb27-229"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb27-230"><a href="#cb27-230"></a>        } <span class="cf">else</span> {</span>
<span id="cb27-231"><a href="#cb27-231"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb27-232"><a href="#cb27-232"></a>        }</span>
<span id="cb27-233"><a href="#cb27-233"></a></span>
<span id="cb27-234"><a href="#cb27-234"></a>        <span class="co">// update output</span></span>
<span id="cb27-235"><a href="#cb27-235"></a>        <span class="kw">let</span> output</span>
<span id="cb27-236"><a href="#cb27-236"></a></span>
<span id="cb27-237"><a href="#cb27-237"></a>        <span class="co">// still need the location</span></span>
<span id="cb27-238"><a href="#cb27-238"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb27-239"><a href="#cb27-239"></a></span>
<span id="cb27-240"><a href="#cb27-240"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb27-241"><a href="#cb27-241"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-242"><a href="#cb27-242"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-243"><a href="#cb27-243"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-244"><a href="#cb27-244"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-245"><a href="#cb27-245"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-246"><a href="#cb27-246"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-247"><a href="#cb27-247"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb27-248"><a href="#cb27-248"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-249"><a href="#cb27-249"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-250"><a href="#cb27-250"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-251"><a href="#cb27-251"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-252"><a href="#cb27-252"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-253"><a href="#cb27-253"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-254"><a href="#cb27-254"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb27-255"><a href="#cb27-255"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-256"><a href="#cb27-256"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-257"><a href="#cb27-257"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-258"><a href="#cb27-258"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-259"><a href="#cb27-259"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-260"><a href="#cb27-260"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-261"><a href="#cb27-261"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb27-262"><a href="#cb27-262"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb27-263"><a href="#cb27-263"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-264"><a href="#cb27-264"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-265"><a href="#cb27-265"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb27-266"><a href="#cb27-266"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb27-267"><a href="#cb27-267"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb27-268"><a href="#cb27-268"></a>        }</span>
<span id="cb27-269"><a href="#cb27-269"></a></span>
<span id="cb27-270"><a href="#cb27-270"></a>        <span class="cf">return</span> output</span>
<span id="cb27-271"><a href="#cb27-271"></a>    }<span class="op">,</span></span>
<span id="cb27-272"><a href="#cb27-272"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-273"><a href="#cb27-273"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb27-274"><a href="#cb27-274"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-275"><a href="#cb27-275"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb27-276"><a href="#cb27-276"></a>    }<span class="op">,</span></span>
<span id="cb27-277"><a href="#cb27-277"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb27-278"><a href="#cb27-278"></a>          </span>
<span id="cb27-279"><a href="#cb27-279"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb27-280"><a href="#cb27-280"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb27-281"><a href="#cb27-281"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb27-282"><a href="#cb27-282"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb27-283"><a href="#cb27-283"></a>          </span>
<span id="cb27-284"><a href="#cb27-284"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb27-285"><a href="#cb27-285"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb27-286"><a href="#cb27-286"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb27-287"><a href="#cb27-287"></a></span>
<span id="cb27-288"><a href="#cb27-288"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb27-289"><a href="#cb27-289"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb27-290"><a href="#cb27-290"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb27-291"><a href="#cb27-291"></a>    }</span>
<span id="cb27-292"><a href="#cb27-292"></a>}</span>
<span id="cb27-293"><a href="#cb27-293"></a></span>
<span id="cb27-294"><a href="#cb27-294"></a><span class="co">// learning phase in order</span></span>
<span id="cb27-295"><a href="#cb27-295"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb27-296"><a href="#cb27-296"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb27-297"><a href="#cb27-297"></a>        blank<span class="op">,</span></span>
<span id="cb27-298"><a href="#cb27-298"></a>        target<span class="op">,</span></span>
<span id="cb27-299"><a href="#cb27-299"></a>        feedback</span>
<span id="cb27-300"><a href="#cb27-300"></a>    ]<span class="op">,</span></span>
<span id="cb27-301"><a href="#cb27-301"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb27-302"><a href="#cb27-302"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb27-303"><a href="#cb27-303"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb27-304"><a href="#cb27-304"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb27-305"><a href="#cb27-305"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb27-306"><a href="#cb27-306"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb27-307"><a href="#cb27-307"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb27-308"><a href="#cb27-308"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb27-309"><a href="#cb27-309"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb27-310"><a href="#cb27-310"></a>    ]<span class="op">,</span></span>
<span id="cb27-311"><a href="#cb27-311"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb27-312"><a href="#cb27-312"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-313"><a href="#cb27-313"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb27-314"><a href="#cb27-314"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb27-315"><a href="#cb27-315"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb27-316"><a href="#cb27-316"></a>    }</span>
<span id="cb27-317"><a href="#cb27-317"></a>}</span>
<span id="cb27-318"><a href="#cb27-318"></a></span>
<span id="cb27-319"><a href="#cb27-319"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb27-320"><a href="#cb27-320"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb27-321"><a href="#cb27-321"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb27-322"><a href="#cb27-322"></a>        blank<span class="op">,</span></span>
<span id="cb27-323"><a href="#cb27-323"></a>        target<span class="op">,</span></span>
<span id="cb27-324"><a href="#cb27-324"></a>        feedback</span>
<span id="cb27-325"><a href="#cb27-325"></a>    ]<span class="op">,</span></span>
<span id="cb27-326"><a href="#cb27-326"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb27-327"><a href="#cb27-327"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb27-328"><a href="#cb27-328"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb27-329"><a href="#cb27-329"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb27-330"><a href="#cb27-330"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb27-331"><a href="#cb27-331"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb27-332"><a href="#cb27-332"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb27-333"><a href="#cb27-333"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb27-334"><a href="#cb27-334"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb27-335"><a href="#cb27-335"></a>    ]<span class="op">,</span></span>
<span id="cb27-336"><a href="#cb27-336"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb27-337"><a href="#cb27-337"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb27-338"><a href="#cb27-338"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb27-339"><a href="#cb27-339"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb27-340"><a href="#cb27-340"></a>        }</span>
<span id="cb27-341"><a href="#cb27-341"></a>    }<span class="op">,</span></span>
<span id="cb27-342"><a href="#cb27-342"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb27-343"><a href="#cb27-343"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-344"><a href="#cb27-344"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb27-345"><a href="#cb27-345"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb27-346"><a href="#cb27-346"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb27-347"><a href="#cb27-347"></a>    }</span>
<span id="cb27-348"><a href="#cb27-348"></a>}</span>
<span id="cb27-349"><a href="#cb27-349"></a></span>
<span id="cb27-350"><a href="#cb27-350"></a><span class="co">// ============================================</span></span>
<span id="cb27-351"><a href="#cb27-351"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb27-352"><a href="#cb27-352"></a><span class="co">// ============================================</span></span>
<span id="cb27-353"><a href="#cb27-353"></a></span>
<span id="cb27-354"><a href="#cb27-354"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb27-355"><a href="#cb27-355"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-356"><a href="#cb27-356"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb27-357"><a href="#cb27-357"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb27-358"><a href="#cb27-358"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb27-359"><a href="#cb27-359"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb27-360"><a href="#cb27-360"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb27-361"><a href="#cb27-361"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb27-362"><a href="#cb27-362"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb27-363"><a href="#cb27-363"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb27-364"><a href="#cb27-364"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb27-365"><a href="#cb27-365"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-366"><a href="#cb27-366"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb27-367"><a href="#cb27-367"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb27-368"><a href="#cb27-368"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb27-369"><a href="#cb27-369"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb27-370"><a href="#cb27-370"></a>        })<span class="op">;</span></span>
<span id="cb27-371"><a href="#cb27-371"></a>    }<span class="op">,</span></span>
<span id="cb27-372"><a href="#cb27-372"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-373"><a href="#cb27-373"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb27-374"><a href="#cb27-374"></a>    }</span>
<span id="cb27-375"><a href="#cb27-375"></a>}<span class="op">;</span></span>
<span id="cb27-376"><a href="#cb27-376"></a></span>
<span id="cb27-377"><a href="#cb27-377"></a><span class="co">// ============================================</span></span>
<span id="cb27-378"><a href="#cb27-378"></a><span class="co">// Run jsPsych</span></span>
<span id="cb27-379"><a href="#cb27-379"></a><span class="co">// ============================================</span></span>
<span id="cb27-380"><a href="#cb27-380"></a></span>
<span id="cb27-381"><a href="#cb27-381"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb27-382"><a href="#cb27-382"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb27-383"><a href="#cb27-383"></a>        preload<span class="op">,</span></span>
<span id="cb27-384"><a href="#cb27-384"></a>        welcome<span class="op">,</span></span>
<span id="cb27-385"><a href="#cb27-385"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb27-386"><a href="#cb27-386"></a>        learning<span class="op">,</span></span>
<span id="cb27-387"><a href="#cb27-387"></a>        test<span class="op">,</span></span>
<span id="cb27-388"><a href="#cb27-388"></a>        saveData</span>
<span id="cb27-389"><a href="#cb27-389"></a>    ])<span class="op">;</span></span>
<span id="cb27-390"><a href="#cb27-390"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb27-391"><a href="#cb27-391"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb27-392"><a href="#cb27-392"></a>        preload<span class="op">,</span></span>
<span id="cb27-393"><a href="#cb27-393"></a>        welcome<span class="op">,</span></span>
<span id="cb27-394"><a href="#cb27-394"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb27-395"><a href="#cb27-395"></a>        learning<span class="op">,</span></span>
<span id="cb27-396"><a href="#cb27-396"></a>        test<span class="op">,</span></span>
<span id="cb27-397"><a href="#cb27-397"></a>        saveData</span>
<span id="cb27-398"><a href="#cb27-398"></a>    ])<span class="op">;</span></span>
<span id="cb27-399"><a href="#cb27-399"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb28-1"><a href="#cb28-1"></a> </span>
<span id="cb28-2"><a href="#cb28-2"></a>body {</span>
<span id="cb28-3"><a href="#cb28-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-8"><a href="#cb28-8"></a>}  </span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb28-11"><a href="#cb28-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb28-13"><a href="#cb28-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-14"><a href="#cb28-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-15"><a href="#cb28-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-16"><a href="#cb28-16"></a>}</span>
<span id="cb28-17"><a href="#cb28-17"></a></span>
<span id="cb28-18"><a href="#cb28-18"></a><span class="fu">.box</span> {</span>
<span id="cb28-19"><a href="#cb28-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-20"><a href="#cb28-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-21"><a href="#cb28-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb28-22"><a href="#cb28-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-23"><a href="#cb28-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-24"><a href="#cb28-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-25"><a href="#cb28-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-26"><a href="#cb28-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-27"><a href="#cb28-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-28"><a href="#cb28-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-29"><a href="#cb28-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb28-30"><a href="#cb28-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb28-31"><a href="#cb28-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb28-32"><a href="#cb28-32"></a>}</span>
<span id="cb28-33"><a href="#cb28-33"></a></span>
<span id="cb28-34"><a href="#cb28-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb28-35"><a href="#cb28-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb28-36"><a href="#cb28-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb28-37"><a href="#cb28-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-38"><a href="#cb28-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-39"><a href="#cb28-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-40"><a href="#cb28-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb28-41"><a href="#cb28-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb28-42"><a href="#cb28-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb28-43"><a href="#cb28-43"></a>}</span>
<span id="cb28-44"><a href="#cb28-44"></a></span>
<span id="cb28-45"><a href="#cb28-45"></a><span class="fu">.grid</span> {</span>
<span id="cb28-46"><a href="#cb28-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb28-47"><a href="#cb28-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb28-48"><a href="#cb28-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb28-49"><a href="#cb28-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb28-50"><a href="#cb28-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-51"><a href="#cb28-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb28-52"><a href="#cb28-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb28-53"><a href="#cb28-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-54"><a href="#cb28-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-55"><a href="#cb28-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-56"><a href="#cb28-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-57"><a href="#cb28-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-58"><a href="#cb28-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb28-59"><a href="#cb28-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb28-60"><a href="#cb28-60"></a></span>
<span id="cb28-61"><a href="#cb28-61"></a>}</span>
<span id="cb28-62"><a href="#cb28-62"></a></span>
<span id="cb28-63"><a href="#cb28-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb28-64"><a href="#cb28-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb28-65"><a href="#cb28-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb28-66"><a href="#cb28-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb28-67"><a href="#cb28-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb28-68"><a href="#cb28-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb28-69"><a href="#cb28-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb28-70"><a href="#cb28-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb28-71"><a href="#cb28-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb28-72"><a href="#cb28-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb28-73"><a href="#cb28-73"></a></span>
<span id="cb28-74"><a href="#cb28-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb28-75"><a href="#cb28-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb28-76"><a href="#cb28-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb28-77"><a href="#cb28-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb28-78"><a href="#cb28-78"></a><span class="co">}</span></span>
<span id="cb28-79"><a href="#cb28-79"></a><span class="co">*/</span></span>
<span id="cb28-80"><a href="#cb28-80"></a></span>
<span id="cb28-81"><a href="#cb28-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb28-82"><a href="#cb28-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-83"><a href="#cb28-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-84"><a href="#cb28-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb28-85"><a href="#cb28-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb28-86"><a href="#cb28-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb28-87"><a href="#cb28-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-88"><a href="#cb28-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb28-89"><a href="#cb28-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-90"><a href="#cb28-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-91"><a href="#cb28-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-92"><a href="#cb28-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-93"><a href="#cb28-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-94"><a href="#cb28-94"></a>}</span>
<span id="cb28-95"><a href="#cb28-95"></a></span>
<span id="cb28-96"><a href="#cb28-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb28-97"><a href="#cb28-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb28-98"><a href="#cb28-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-99"><a href="#cb28-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-100"><a href="#cb28-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb28-101"><a href="#cb28-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb28-102"><a href="#cb28-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb28-103"><a href="#cb28-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb28-104"><a href="#cb28-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-105"><a href="#cb28-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb28-106"><a href="#cb28-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-107"><a href="#cb28-107"></a>}</span>
<span id="cb28-108"><a href="#cb28-108"></a></span>
<span id="cb28-109"><a href="#cb28-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb28-110"><a href="#cb28-110"></a>    <span class="dv">from</span> {</span>
<span id="cb28-111"><a href="#cb28-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-112"><a href="#cb28-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-113"><a href="#cb28-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-114"><a href="#cb28-114"></a>    }</span>
<span id="cb28-115"><a href="#cb28-115"></a>    <span class="dv">to</span> {</span>
<span id="cb28-116"><a href="#cb28-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-117"><a href="#cb28-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-118"><a href="#cb28-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-119"><a href="#cb28-119"></a>    }</span>
<span id="cb28-120"><a href="#cb28-120"></a>}</span>
<span id="cb28-121"><a href="#cb28-121"></a></span>
<span id="cb28-122"><a href="#cb28-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb28-123"><a href="#cb28-123"></a>    <span class="dv">from</span> {</span>
<span id="cb28-124"><a href="#cb28-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-125"><a href="#cb28-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-126"><a href="#cb28-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-127"><a href="#cb28-127"></a>    }</span>
<span id="cb28-128"><a href="#cb28-128"></a>    <span class="dv">to</span> {</span>
<span id="cb28-129"><a href="#cb28-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-130"><a href="#cb28-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-131"><a href="#cb28-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-132"><a href="#cb28-132"></a>    }</span>
<span id="cb28-133"><a href="#cb28-133"></a>}</span>
<span id="cb28-134"><a href="#cb28-134"></a></span>
<span id="cb28-135"><a href="#cb28-135"></a></span>
<span id="cb28-136"><a href="#cb28-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb28-137"><a href="#cb28-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-138"><a href="#cb28-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-139"><a href="#cb28-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb28-140"><a href="#cb28-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb28-141"><a href="#cb28-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-142"><a href="#cb28-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-143"><a href="#cb28-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-144"><a href="#cb28-144"></a>}</span>
<span id="cb28-145"><a href="#cb28-145"></a></span>
<span id="cb28-146"><a href="#cb28-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb28-147"><a href="#cb28-147"></a>    <span class="dv">from</span> {</span>
<span id="cb28-148"><a href="#cb28-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-149"><a href="#cb28-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-150"><a href="#cb28-150"></a>    }</span>
<span id="cb28-151"><a href="#cb28-151"></a>    <span class="dv">to</span> {</span>
<span id="cb28-152"><a href="#cb28-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-153"><a href="#cb28-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-154"><a href="#cb28-154"></a>    }</span>
<span id="cb28-155"><a href="#cb28-155"></a>}</span>
<span id="cb28-156"><a href="#cb28-156"></a></span>
<span id="cb28-157"><a href="#cb28-157"></a></span>
<span id="cb28-158"><a href="#cb28-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb28-159"><a href="#cb28-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-160"><a href="#cb28-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-161"><a href="#cb28-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb28-162"><a href="#cb28-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb28-163"><a href="#cb28-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb28-164"><a href="#cb28-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb28-165"><a href="#cb28-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-166"><a href="#cb28-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb28-167"><a href="#cb28-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-168"><a href="#cb28-168"></a>}</span>
<span id="cb28-169"><a href="#cb28-169"></a></span>
<span id="cb28-170"><a href="#cb28-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb28-171"><a href="#cb28-171"></a>    <span class="dv">from</span> {</span>
<span id="cb28-172"><a href="#cb28-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-173"><a href="#cb28-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-174"><a href="#cb28-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-175"><a href="#cb28-175"></a>    }</span>
<span id="cb28-176"><a href="#cb28-176"></a>    <span class="dv">to</span> {</span>
<span id="cb28-177"><a href="#cb28-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-178"><a href="#cb28-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-179"><a href="#cb28-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-180"><a href="#cb28-180"></a>    }</span>
<span id="cb28-181"><a href="#cb28-181"></a>}</span>
<span id="cb28-182"><a href="#cb28-182"></a></span>
<span id="cb28-183"><a href="#cb28-183"></a></span>
<span id="cb28-184"><a href="#cb28-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb28-185"><a href="#cb28-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb28-186"><a href="#cb28-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb28-187"><a href="#cb28-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb28-188"><a href="#cb28-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb28-189"><a href="#cb28-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb28-190"><a href="#cb28-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb28-191"><a href="#cb28-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-192"><a href="#cb28-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-193"><a href="#cb28-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-194"><a href="#cb28-194"></a>}</span>
<span id="cb28-195"><a href="#cb28-195"></a></span>
<span id="cb28-196"><a href="#cb28-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb28-197"><a href="#cb28-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-198"><a href="#cb28-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb28-199"><a href="#cb28-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb28-200"><a href="#cb28-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-201"><a href="#cb28-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-202"><a href="#cb28-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-203"><a href="#cb28-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-204"><a href="#cb28-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-205"><a href="#cb28-205"></a>}</span>
<span id="cb28-206"><a href="#cb28-206"></a></span>
<span id="cb28-207"><a href="#cb28-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb28-208"><a href="#cb28-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-209"><a href="#cb28-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb28-210"><a href="#cb28-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb28-211"><a href="#cb28-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-212"><a href="#cb28-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-213"><a href="#cb28-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-214"><a href="#cb28-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb28-215"><a href="#cb28-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-216"><a href="#cb28-216"></a>}</span>
<span id="cb28-217"><a href="#cb28-217"></a></span>
<span id="cb28-218"><a href="#cb28-218"></a></span>
<span id="cb28-219"><a href="#cb28-219"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb28-220"><a href="#cb28-220"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb28-221"><a href="#cb28-221"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb28-222"><a href="#cb28-222"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb28-223"><a href="#cb28-223"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb28-224"><a href="#cb28-224"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb28-225"><a href="#cb28-225"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-226"><a href="#cb28-226"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-227"><a href="#cb28-227"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb28-228"><a href="#cb28-228"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb28-229"><a href="#cb28-229"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb28-230"><a href="#cb28-230"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb28-231"><a href="#cb28-231"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb28-232"><a href="#cb28-232"></a>}</span>
<span id="cb28-233"><a href="#cb28-233"></a></span>
<span id="cb28-234"><a href="#cb28-234"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb28-235"><a href="#cb28-235"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb28-236"><a href="#cb28-236"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb28-237"><a href="#cb28-237"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb28-238"><a href="#cb28-238"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb28-239"><a href="#cb28-239"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb28-240"><a href="#cb28-240"></a>}</span>
<span id="cb28-241"><a href="#cb28-241"></a></span>
<span id="cb28-242"><a href="#cb28-242"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb28-243"><a href="#cb28-243"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-244"><a href="#cb28-244"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-245"><a href="#cb28-245"></a>}</span>
<span id="cb28-246"><a href="#cb28-246"></a></span>
<span id="cb28-247"><a href="#cb28-247"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb28-248"><a href="#cb28-248"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb28-249"><a href="#cb28-249"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-250"><a href="#cb28-250"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-251"><a href="#cb28-251"></a>}</span>
<span id="cb28-252"><a href="#cb28-252"></a></span>
<span id="cb28-253"><a href="#cb28-253"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb28-254"><a href="#cb28-254"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-255"><a href="#cb28-255"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-256"><a href="#cb28-256"></a>}</span>
<span id="cb28-257"><a href="#cb28-257"></a></span>
<span id="cb28-258"><a href="#cb28-258"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb28-259"><a href="#cb28-259"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb28-260"><a href="#cb28-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb28-261"><a href="#cb28-261"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-262"><a href="#cb28-262"></a>}</span>
<span id="cb28-263"><a href="#cb28-263"></a></span>
<span id="cb28-264"><a href="#cb28-264"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb28-265"><a href="#cb28-265"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb28-266"><a href="#cb28-266"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb28-267"><a href="#cb28-267"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb28-268"><a href="#cb28-268"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb28-269"><a href="#cb28-269"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-270"><a href="#cb28-270"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb28-271"><a href="#cb28-271"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-272"><a href="#cb28-272"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb28-273"><a href="#cb28-273"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb28-274"><a href="#cb28-274"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb28-275"><a href="#cb28-275"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb28-276"><a href="#cb28-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-277"><a href="#cb28-277"></a>}</span>
<span id="cb28-278"><a href="#cb28-278"></a></span>
<span id="cb28-279"><a href="#cb28-279"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb28-280"><a href="#cb28-280"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb28-281"><a href="#cb28-281"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-282"><a href="#cb28-282"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb28-283"><a href="#cb28-283"></a>}</span>
<span id="cb28-284"><a href="#cb28-284"></a></span>
<span id="cb28-285"><a href="#cb28-285"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb28-286"><a href="#cb28-286"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-287"><a href="#cb28-287"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb28-288"><a href="#cb28-288"></a>}</span>
<span id="cb28-289"><a href="#cb28-289"></a></span>
<span id="cb28-290"><a href="#cb28-290"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb28-291"><a href="#cb28-291"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb28-292"><a href="#cb28-292"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb28-293"><a href="#cb28-293"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb28-294"><a href="#cb28-294"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb28-295"><a href="#cb28-295"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb28-296"><a href="#cb28-296"></a>}</span>
<span id="cb28-297"><a href="#cb28-297"></a></span>
<span id="cb28-298"><a href="#cb28-298"></a><span class="co">/* Style the button container */</span></span>
<span id="cb28-299"><a href="#cb28-299"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb28-300"><a href="#cb28-300"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-301"><a href="#cb28-301"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-302"><a href="#cb28-302"></a>}</span>
<span id="cb28-303"><a href="#cb28-303"></a></span>
<span id="cb28-304"><a href="#cb28-304"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb28-305"><a href="#cb28-305"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb28-306"><a href="#cb28-306"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb28-307"><a href="#cb28-307"></a>}</span>
<span id="cb28-308"><a href="#cb28-308"></a></span>
<span id="cb28-309"><a href="#cb28-309"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb28-310"><a href="#cb28-310"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb28-311"><a href="#cb28-311"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb28-312"><a href="#cb28-312"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb28-313"><a href="#cb28-313"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb28-314"><a href="#cb28-314"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb28-315"><a href="#cb28-315"></a></span>
<span id="cb28-316"><a href="#cb28-316"></a><span class="co">/**</span></span>
<span id="cb28-317"><a href="#cb28-317"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb28-318"><a href="#cb28-318"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb28-319"><a href="#cb28-319"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb28-320"><a href="#cb28-320"></a><span class="co"> */</span></span>
<span id="cb28-321"><a href="#cb28-321"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb28-322"><a href="#cb28-322"></a>  from {</span>
<span id="cb28-323"><a href="#cb28-323"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-324"><a href="#cb28-324"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-325"><a href="#cb28-325"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-326"><a href="#cb28-326"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-327"><a href="#cb28-327"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-328"><a href="#cb28-328"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-329"><a href="#cb28-329"></a>  }</span>
<span id="cb28-330"><a href="#cb28-330"></a>  10% {</span>
<span id="cb28-331"><a href="#cb28-331"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-332"><a href="#cb28-332"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-333"><a href="#cb28-333"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-334"><a href="#cb28-334"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-335"><a href="#cb28-335"></a>  }</span>
<span id="cb28-336"><a href="#cb28-336"></a>  17% {</span>
<span id="cb28-337"><a href="#cb28-337"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-338"><a href="#cb28-338"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-339"><a href="#cb28-339"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-340"><a href="#cb28-340"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-341"><a href="#cb28-341"></a>  }</span>
<span id="cb28-342"><a href="#cb28-342"></a>  33% {</span>
<span id="cb28-343"><a href="#cb28-343"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-344"><a href="#cb28-344"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-345"><a href="#cb28-345"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-346"><a href="#cb28-346"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-347"><a href="#cb28-347"></a>  }</span>
<span id="cb28-348"><a href="#cb28-348"></a>  45% {</span>
<span id="cb28-349"><a href="#cb28-349"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-350"><a href="#cb28-350"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-351"><a href="#cb28-351"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-352"><a href="#cb28-352"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-353"><a href="#cb28-353"></a>  }</span>
<span id="cb28-354"><a href="#cb28-354"></a>}</span>
<span id="cb28-355"><a href="#cb28-355"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb28-356"><a href="#cb28-356"></a>  <span class="dv">from</span> {</span>
<span id="cb28-357"><a href="#cb28-357"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-358"><a href="#cb28-358"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-359"><a href="#cb28-359"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-360"><a href="#cb28-360"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb28-361"><a href="#cb28-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-362"><a href="#cb28-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-363"><a href="#cb28-363"></a>  }</span>
<span id="cb28-364"><a href="#cb28-364"></a>  <span class="dv">10%</span> {</span>
<span id="cb28-365"><a href="#cb28-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-366"><a href="#cb28-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-367"><a href="#cb28-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-368"><a href="#cb28-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-369"><a href="#cb28-369"></a>  }</span>
<span id="cb28-370"><a href="#cb28-370"></a>  <span class="dv">17%</span> {</span>
<span id="cb28-371"><a href="#cb28-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-372"><a href="#cb28-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-373"><a href="#cb28-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-374"><a href="#cb28-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-375"><a href="#cb28-375"></a>  }</span>
<span id="cb28-376"><a href="#cb28-376"></a>  <span class="dv">33%</span> {</span>
<span id="cb28-377"><a href="#cb28-377"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-378"><a href="#cb28-378"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-379"><a href="#cb28-379"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-380"><a href="#cb28-380"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb28-381"><a href="#cb28-381"></a>  }</span>
<span id="cb28-382"><a href="#cb28-382"></a>  <span class="dv">45%</span> {</span>
<span id="cb28-383"><a href="#cb28-383"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-384"><a href="#cb28-384"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-385"><a href="#cb28-385"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-386"><a href="#cb28-386"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb28-387"><a href="#cb28-387"></a>  }</span>
<span id="cb28-388"><a href="#cb28-388"></a>}</span>
<span id="cb28-389"><a href="#cb28-389"></a></span>
<span id="cb28-390"><a href="#cb28-390"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb28-391"><a href="#cb28-391"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb28-392"><a href="#cb28-392"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb28-393"><a href="#cb28-393"></a>}</span>
<span id="cb28-394"><a href="#cb28-394"></a></span>
<span id="cb28-395"><a href="#cb28-395"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb28-396"><a href="#cb28-396"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb28-397"><a href="#cb28-397"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb28-398"><a href="#cb28-398"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb28-399"><a href="#cb28-399"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb28-400"><a href="#cb28-400"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb28-401"><a href="#cb28-401"></a></span>
<span id="cb28-402"><a href="#cb28-402"></a><span class="co">/**</span></span>
<span id="cb28-403"><a href="#cb28-403"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb28-404"><a href="#cb28-404"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb28-405"><a href="#cb28-405"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb28-406"><a href="#cb28-406"></a><span class="co"> */</span></span>
<span id="cb28-407"><a href="#cb28-407"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb28-408"><a href="#cb28-408"></a>  0%<span class="op">,</span></span>
<span id="cb28-409"><a href="#cb28-409"></a>  100% {</span>
<span id="cb28-410"><a href="#cb28-410"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-411"><a href="#cb28-411"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-412"><a href="#cb28-412"></a>  }</span>
<span id="cb28-413"><a href="#cb28-413"></a>  10%<span class="op">,</span></span>
<span id="cb28-414"><a href="#cb28-414"></a>  30%<span class="op">,</span></span>
<span id="cb28-415"><a href="#cb28-415"></a>  50%<span class="op">,</span></span>
<span id="cb28-416"><a href="#cb28-416"></a>  70% {</span>
<span id="cb28-417"><a href="#cb28-417"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-418"><a href="#cb28-418"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-419"><a href="#cb28-419"></a>  }</span>
<span id="cb28-420"><a href="#cb28-420"></a>  20%<span class="op">,</span></span>
<span id="cb28-421"><a href="#cb28-421"></a>  40%<span class="op">,</span></span>
<span id="cb28-422"><a href="#cb28-422"></a>  60% {</span>
<span id="cb28-423"><a href="#cb28-423"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-424"><a href="#cb28-424"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-425"><a href="#cb28-425"></a>  }</span>
<span id="cb28-426"><a href="#cb28-426"></a>  80% {</span>
<span id="cb28-427"><a href="#cb28-427"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-428"><a href="#cb28-428"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-429"><a href="#cb28-429"></a>  }</span>
<span id="cb28-430"><a href="#cb28-430"></a>  90% {</span>
<span id="cb28-431"><a href="#cb28-431"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-432"><a href="#cb28-432"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-433"><a href="#cb28-433"></a>  }</span>
<span id="cb28-434"><a href="#cb28-434"></a>}</span>
<span id="cb28-435"><a href="#cb28-435"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb28-436"><a href="#cb28-436"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb28-437"><a href="#cb28-437"></a>  <span class="dv">100%</span> {</span>
<span id="cb28-438"><a href="#cb28-438"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-439"><a href="#cb28-439"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-440"><a href="#cb28-440"></a>  }</span>
<span id="cb28-441"><a href="#cb28-441"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb28-442"><a href="#cb28-442"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb28-443"><a href="#cb28-443"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb28-444"><a href="#cb28-444"></a>  <span class="dv">70%</span> {</span>
<span id="cb28-445"><a href="#cb28-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-446"><a href="#cb28-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-447"><a href="#cb28-447"></a>  }</span>
<span id="cb28-448"><a href="#cb28-448"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb28-449"><a href="#cb28-449"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb28-450"><a href="#cb28-450"></a>  <span class="dv">60%</span> {</span>
<span id="cb28-451"><a href="#cb28-451"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-452"><a href="#cb28-452"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-453"><a href="#cb28-453"></a>  }</span>
<span id="cb28-454"><a href="#cb28-454"></a>  <span class="dv">80%</span> {</span>
<span id="cb28-455"><a href="#cb28-455"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-456"><a href="#cb28-456"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-457"><a href="#cb28-457"></a>  }</span>
<span id="cb28-458"><a href="#cb28-458"></a>  <span class="dv">90%</span> {</span>
<span id="cb28-459"><a href="#cb28-459"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-460"><a href="#cb28-460"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb28-461"><a href="#cb28-461"></a>  }</span>
<span id="cb28-462"><a href="#cb28-462"></a>}</span>
<span id="cb28-463"><a href="#cb28-463"></a></span>
<span id="cb28-464"><a href="#cb28-464"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-4-tab">
<div id="demo-container-8" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-8" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          score = score - 100\n      \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 1,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-8');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-8" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}


.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2


// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          score = score - 100
      
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 1,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-8&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-8&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-looping-background-music" class="level3" data-number="26.4.2">
<h3 data-number="26.4.2" class="anchored" data-anchor-id="add-looping-background-music"><span class="header-section-number">26.4.2</span> Add Looping Background Music</h3>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Update the preload trial, update the audio setup, add music play/pause functions</li>
</ol>
<div class="cell">
<style type="text/css">
/* CB29 */

/* CB30 */
[id^="cb30-"]:nth-child(n+198):nth-child(-n+203),
[id^="cb30-"]:nth-child(n+247):nth-child(-n+252) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */
[id^="cb31-"]:nth-child(n+304):nth-child(-n+462) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-4" role="tab" aria-controls="tabset-10-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb29-1"><a href="#cb29-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>    </span>
<span id="cb29-9"><a href="#cb29-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-11"><a href="#cb29-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-12"><a href="#cb29-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-13"><a href="#cb29-13"></a></span>
<span id="cb29-14"><a href="#cb29-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb29-15"><a href="#cb29-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb29-16"><a href="#cb29-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb29-17"><a href="#cb29-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb29-18"><a href="#cb29-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb29-19"><a href="#cb29-19"></a></span>
<span id="cb29-20"><a href="#cb29-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb29-21"><a href="#cb29-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb29-22"><a href="#cb29-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb29-23"><a href="#cb29-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb29-24"><a href="#cb29-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb29-25"><a href="#cb29-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb29-26"><a href="#cb29-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span>top-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-27"><a href="#cb29-27"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span>top<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-28"><a href="#cb29-28"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span>top-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-29"><a href="#cb29-29"></a>    </span>
<span id="cb29-30"><a href="#cb29-30"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span>left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-31"><a href="#cb29-31"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;</span>center<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-32"><a href="#cb29-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;</span>right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-33"><a href="#cb29-33"></a>    </span>
<span id="cb29-34"><a href="#cb29-34"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;</span>bottom-left<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-35"><a href="#cb29-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;</span>bottom<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-36"><a href="#cb29-36"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;</span>bottom-right<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-37"><a href="#cb29-37"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-38"><a href="#cb29-38"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-39"><a href="#cb29-39"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb29-40"><a href="#cb29-40"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb29-41"><a href="#cb29-41"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb29-42"><a href="#cb29-42"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb29-43"><a href="#cb29-43"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb30-1"><a href="#cb30-1"></a> </span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="co">// ============================================</span></span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="co">// ============================================</span></span>
<span id="cb30-5"><a href="#cb30-5"></a></span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb30-7"><a href="#cb30-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb30-8"><a href="#cb30-8"></a>                ) </span>
<span id="cb30-9"><a href="#cb30-9"></a></span>
<span id="cb30-10"><a href="#cb30-10"></a><span class="co">// ============================================</span></span>
<span id="cb30-11"><a href="#cb30-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb30-12"><a href="#cb30-12"></a><span class="co">// ============================================</span></span>
<span id="cb30-13"><a href="#cb30-13"></a></span>
<span id="cb30-14"><a href="#cb30-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb30-15"><a href="#cb30-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb30-16"><a href="#cb30-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-17"><a href="#cb30-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb30-18"><a href="#cb30-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb30-19"><a href="#cb30-19"></a>    }</span>
<span id="cb30-20"><a href="#cb30-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb30-21"><a href="#cb30-21"></a>}</span>
<span id="cb30-22"><a href="#cb30-22"></a></span>
<span id="cb30-23"><a href="#cb30-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb30-24"><a href="#cb30-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb30-25"><a href="#cb30-25"></a></span>
<span id="cb30-26"><a href="#cb30-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb30-27"><a href="#cb30-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb30-28"><a href="#cb30-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb30-29"><a href="#cb30-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb30-30"><a href="#cb30-30"></a></span>
<span id="cb30-31"><a href="#cb30-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb30-32"><a href="#cb30-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb30-33"><a href="#cb30-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb30-34"><a href="#cb30-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb30-35"><a href="#cb30-35"></a>})<span class="op">;</span></span>
<span id="cb30-36"><a href="#cb30-36"></a></span>
<span id="cb30-37"><a href="#cb30-37"></a></span>
<span id="cb30-38"><a href="#cb30-38"></a><span class="co">// ============================================</span></span>
<span id="cb30-39"><a href="#cb30-39"></a><span class="co">// Trackers</span></span>
<span id="cb30-40"><a href="#cb30-40"></a><span class="co">// ============================================</span></span>
<span id="cb30-41"><a href="#cb30-41"></a></span>
<span id="cb30-42"><a href="#cb30-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb30-43"><a href="#cb30-43"></a></span>
<span id="cb30-44"><a href="#cb30-44"></a><span class="co">// ============================================</span></span>
<span id="cb30-45"><a href="#cb30-45"></a><span class="co">// Audio Setup</span></span>
<span id="cb30-46"><a href="#cb30-46"></a><span class="co">// ============================================</span></span>
<span id="cb30-47"><a href="#cb30-47"></a></span>
<span id="cb30-48"><a href="#cb30-48"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb30-49"><a href="#cb30-49"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb30-50"><a href="#cb30-50"></a></span>
<span id="cb30-51"><a href="#cb30-51"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb30-52"><a href="#cb30-52"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb30-53"><a href="#cb30-53"></a></span>
<span id="cb30-54"><a href="#cb30-54"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb30-55"><a href="#cb30-55"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb30-56"><a href="#cb30-56"></a></span>
<span id="cb30-57"><a href="#cb30-57"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb30-58"><a href="#cb30-58"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb30-59"><a href="#cb30-59"></a></span>
<span id="cb30-60"><a href="#cb30-60"></a><span class="kw">let</span> bg_start <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/SeriousCutScene.wav"</span>)</span>
<span id="cb30-61"><a href="#cb30-61"></a>bg_start<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb30-62"><a href="#cb30-62"></a>bg_start<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb30-63"><a href="#cb30-63"></a></span>
<span id="cb30-64"><a href="#cb30-64"></a><span class="kw">let</span> bg_game <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb30-65"><a href="#cb30-65"></a>bg_game<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb30-66"><a href="#cb30-66"></a>bg_game<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb30-67"><a href="#cb30-67"></a></span>
<span id="cb30-68"><a href="#cb30-68"></a><span class="kw">let</span> bg_end <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/creep.mp3"</span>)</span>
<span id="cb30-69"><a href="#cb30-69"></a>bg_end<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb30-70"><a href="#cb30-70"></a>bg_end<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb30-71"><a href="#cb30-71"></a></span>
<span id="cb30-72"><a href="#cb30-72"></a><span class="co">// ============================================</span></span>
<span id="cb30-73"><a href="#cb30-73"></a><span class="co">// Preload</span></span>
<span id="cb30-74"><a href="#cb30-74"></a><span class="co">// ============================================</span></span>
<span id="cb30-75"><a href="#cb30-75"></a></span>
<span id="cb30-76"><a href="#cb30-76"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb30-77"><a href="#cb30-77"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb30-78"><a href="#cb30-78"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb30-79"><a href="#cb30-79"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span><span class="op">,</span> </span>
<span id="cb30-80"><a href="#cb30-80"></a><span class="st">"audio/SeriousCutScene.wav"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span><span class="op">,</span> <span class="st">"audio/creep.mp3"</span>]</span>
<span id="cb30-81"><a href="#cb30-81"></a>}</span>
<span id="cb30-82"><a href="#cb30-82"></a></span>
<span id="cb30-83"><a href="#cb30-83"></a><span class="co">// ============================================</span></span>
<span id="cb30-84"><a href="#cb30-84"></a><span class="co">// Welcome</span></span>
<span id="cb30-85"><a href="#cb30-85"></a><span class="co">// ============================================</span></span>
<span id="cb30-86"><a href="#cb30-86"></a></span>
<span id="cb30-87"><a href="#cb30-87"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb30-88"><a href="#cb30-88"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-89"><a href="#cb30-89"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-90"><a href="#cb30-90"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb30-91"><a href="#cb30-91"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-92"><a href="#cb30-92"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb30-93"><a href="#cb30-93"></a>}</span>
<span id="cb30-94"><a href="#cb30-94"></a></span>
<span id="cb30-95"><a href="#cb30-95"></a><span class="co">// ============================================</span></span>
<span id="cb30-96"><a href="#cb30-96"></a><span class="co">// Instructions</span></span>
<span id="cb30-97"><a href="#cb30-97"></a><span class="co">// ============================================</span></span>
<span id="cb30-98"><a href="#cb30-98"></a></span>
<span id="cb30-99"><a href="#cb30-99"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb30-100"><a href="#cb30-100"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb30-101"><a href="#cb30-101"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-102"><a href="#cb30-102"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb30-103"><a href="#cb30-103"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb30-104"><a href="#cb30-104"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-105"><a href="#cb30-105"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-106"><a href="#cb30-106"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb30-107"><a href="#cb30-107"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb30-108"><a href="#cb30-108"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb30-109"><a href="#cb30-109"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb30-110"><a href="#cb30-110"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb30-111"><a href="#cb30-111"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb30-112"><a href="#cb30-112"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-113"><a href="#cb30-113"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-114"><a href="#cb30-114"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb30-115"><a href="#cb30-115"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb30-116"><a href="#cb30-116"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb30-117"><a href="#cb30-117"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb30-118"><a href="#cb30-118"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-119"><a href="#cb30-119"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-120"><a href="#cb30-120"></a>    }<span class="op">,</span></span>
<span id="cb30-121"><a href="#cb30-121"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-122"><a href="#cb30-122"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-123"><a href="#cb30-123"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-124"><a href="#cb30-124"></a>    }</span>
<span id="cb30-125"><a href="#cb30-125"></a>}</span>
<span id="cb30-126"><a href="#cb30-126"></a></span>
<span id="cb30-127"><a href="#cb30-127"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb30-128"><a href="#cb30-128"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb30-129"><a href="#cb30-129"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-130"><a href="#cb30-130"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb30-131"><a href="#cb30-131"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb30-132"><a href="#cb30-132"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-133"><a href="#cb30-133"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb30-134"><a href="#cb30-134"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb30-135"><a href="#cb30-135"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb30-136"><a href="#cb30-136"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb30-137"><a href="#cb30-137"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb30-138"><a href="#cb30-138"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb30-139"><a href="#cb30-139"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb30-140"><a href="#cb30-140"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-141"><a href="#cb30-141"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb30-142"><a href="#cb30-142"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb30-143"><a href="#cb30-143"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb30-144"><a href="#cb30-144"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb30-145"><a href="#cb30-145"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb30-146"><a href="#cb30-146"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb30-147"><a href="#cb30-147"></a>        ]<span class="op">,</span></span>
<span id="cb30-148"><a href="#cb30-148"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb30-149"><a href="#cb30-149"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-150"><a href="#cb30-150"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-151"><a href="#cb30-151"></a>    }<span class="op">,</span></span>
<span id="cb30-152"><a href="#cb30-152"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-153"><a href="#cb30-153"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-154"><a href="#cb30-154"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-155"><a href="#cb30-155"></a>    }</span>
<span id="cb30-156"><a href="#cb30-156"></a>}</span>
<span id="cb30-157"><a href="#cb30-157"></a></span>
<span id="cb30-158"><a href="#cb30-158"></a><span class="co">// ============================================</span></span>
<span id="cb30-159"><a href="#cb30-159"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb30-160"><a href="#cb30-160"></a><span class="co">// ============================================</span></span>
<span id="cb30-161"><a href="#cb30-161"></a></span>
<span id="cb30-162"><a href="#cb30-162"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb30-163"><a href="#cb30-163"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-164"><a href="#cb30-164"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-165"><a href="#cb30-165"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-166"><a href="#cb30-166"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-167"><a href="#cb30-167"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-168"><a href="#cb30-168"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-169"><a href="#cb30-169"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb30-170"><a href="#cb30-170"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb30-171"><a href="#cb30-171"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb30-172"><a href="#cb30-172"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-173"><a href="#cb30-173"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb30-174"><a href="#cb30-174"></a>    }</span>
<span id="cb30-175"><a href="#cb30-175"></a>}</span>
<span id="cb30-176"><a href="#cb30-176"></a></span>
<span id="cb30-177"><a href="#cb30-177"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb30-178"><a href="#cb30-178"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-179"><a href="#cb30-179"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-180"><a href="#cb30-180"></a>        <span class="kw">let</span> output</span>
<span id="cb30-181"><a href="#cb30-181"></a></span>
<span id="cb30-182"><a href="#cb30-182"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb30-183"><a href="#cb30-183"></a></span>
<span id="cb30-184"><a href="#cb30-184"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb30-185"><a href="#cb30-185"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-186"><a href="#cb30-186"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-187"><a href="#cb30-187"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-188"><a href="#cb30-188"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-189"><a href="#cb30-189"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-190"><a href="#cb30-190"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-191"><a href="#cb30-191"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb30-192"><a href="#cb30-192"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-193"><a href="#cb30-193"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-194"><a href="#cb30-194"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-195"><a href="#cb30-195"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-196"><a href="#cb30-196"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-197"><a href="#cb30-197"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-198"><a href="#cb30-198"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb30-199"><a href="#cb30-199"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-200"><a href="#cb30-200"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-201"><a href="#cb30-201"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-202"><a href="#cb30-202"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-203"><a href="#cb30-203"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-204"><a href="#cb30-204"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-205"><a href="#cb30-205"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb30-206"><a href="#cb30-206"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-207"><a href="#cb30-207"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-208"><a href="#cb30-208"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-209"><a href="#cb30-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-210"><a href="#cb30-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-211"><a href="#cb30-211"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-212"><a href="#cb30-212"></a>        }</span>
<span id="cb30-213"><a href="#cb30-213"></a></span>
<span id="cb30-214"><a href="#cb30-214"></a>        <span class="cf">return</span> output</span>
<span id="cb30-215"><a href="#cb30-215"></a>    }<span class="op">,</span></span>
<span id="cb30-216"><a href="#cb30-216"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb30-217"><a href="#cb30-217"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-218"><a href="#cb30-218"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb30-219"><a href="#cb30-219"></a>    }<span class="op">,</span></span>
<span id="cb30-220"><a href="#cb30-220"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-221"><a href="#cb30-221"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-222"><a href="#cb30-222"></a>    }</span>
<span id="cb30-223"><a href="#cb30-223"></a>}</span>
<span id="cb30-224"><a href="#cb30-224"></a></span>
<span id="cb30-225"><a href="#cb30-225"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb30-226"><a href="#cb30-226"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-227"><a href="#cb30-227"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-228"><a href="#cb30-228"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb30-229"><a href="#cb30-229"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb30-230"><a href="#cb30-230"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb30-231"><a href="#cb30-231"></a>        </span>
<span id="cb30-232"><a href="#cb30-232"></a>        <span class="kw">let</span> feedback</span>
<span id="cb30-233"><a href="#cb30-233"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb30-234"><a href="#cb30-234"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb30-235"><a href="#cb30-235"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb30-236"><a href="#cb30-236"></a>          </span>
<span id="cb30-237"><a href="#cb30-237"></a>          <span class="co">// play correct audio </span></span>
<span id="cb30-238"><a href="#cb30-238"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-239"><a href="#cb30-239"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-240"><a href="#cb30-240"></a>  </span>
<span id="cb30-241"><a href="#cb30-241"></a>        } <span class="cf">else</span> {</span>
<span id="cb30-242"><a href="#cb30-242"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb30-243"><a href="#cb30-243"></a>          score <span class="op">=</span> score <span class="op">-</span> <span class="dv">100</span></span>
<span id="cb30-244"><a href="#cb30-244"></a>      </span>
<span id="cb30-245"><a href="#cb30-245"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb30-246"><a href="#cb30-246"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-247"><a href="#cb30-247"></a>        }</span>
<span id="cb30-248"><a href="#cb30-248"></a>        </span>
<span id="cb30-249"><a href="#cb30-249"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb30-250"><a href="#cb30-250"></a></span>
<span id="cb30-251"><a href="#cb30-251"></a>        <span class="co">// update score</span></span>
<span id="cb30-252"><a href="#cb30-252"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb30-253"><a href="#cb30-253"></a>        <span class="co">// add animation to score</span></span>
<span id="cb30-254"><a href="#cb30-254"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb30-255"><a href="#cb30-255"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb30-256"><a href="#cb30-256"></a>        } <span class="cf">else</span> {</span>
<span id="cb30-257"><a href="#cb30-257"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb30-258"><a href="#cb30-258"></a>        }</span>
<span id="cb30-259"><a href="#cb30-259"></a></span>
<span id="cb30-260"><a href="#cb30-260"></a>        <span class="co">// update output</span></span>
<span id="cb30-261"><a href="#cb30-261"></a>        <span class="kw">let</span> output</span>
<span id="cb30-262"><a href="#cb30-262"></a></span>
<span id="cb30-263"><a href="#cb30-263"></a>        <span class="co">// still need the location</span></span>
<span id="cb30-264"><a href="#cb30-264"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb30-265"><a href="#cb30-265"></a></span>
<span id="cb30-266"><a href="#cb30-266"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb30-267"><a href="#cb30-267"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-268"><a href="#cb30-268"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-269"><a href="#cb30-269"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-270"><a href="#cb30-270"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-271"><a href="#cb30-271"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-272"><a href="#cb30-272"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-273"><a href="#cb30-273"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb30-274"><a href="#cb30-274"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-275"><a href="#cb30-275"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-276"><a href="#cb30-276"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-277"><a href="#cb30-277"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-278"><a href="#cb30-278"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-279"><a href="#cb30-279"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-280"><a href="#cb30-280"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb30-281"><a href="#cb30-281"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-282"><a href="#cb30-282"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-283"><a href="#cb30-283"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-284"><a href="#cb30-284"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-285"><a href="#cb30-285"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-286"><a href="#cb30-286"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-287"><a href="#cb30-287"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb30-288"><a href="#cb30-288"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb30-289"><a href="#cb30-289"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-290"><a href="#cb30-290"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-291"><a href="#cb30-291"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb30-292"><a href="#cb30-292"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb30-293"><a href="#cb30-293"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb30-294"><a href="#cb30-294"></a>        }</span>
<span id="cb30-295"><a href="#cb30-295"></a></span>
<span id="cb30-296"><a href="#cb30-296"></a>        <span class="cf">return</span> output</span>
<span id="cb30-297"><a href="#cb30-297"></a>    }<span class="op">,</span></span>
<span id="cb30-298"><a href="#cb30-298"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb30-299"><a href="#cb30-299"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb30-300"><a href="#cb30-300"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-301"><a href="#cb30-301"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb30-302"><a href="#cb30-302"></a>    }<span class="op">,</span></span>
<span id="cb30-303"><a href="#cb30-303"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-304"><a href="#cb30-304"></a>          </span>
<span id="cb30-305"><a href="#cb30-305"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb30-306"><a href="#cb30-306"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-307"><a href="#cb30-307"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-308"><a href="#cb30-308"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-309"><a href="#cb30-309"></a>          </span>
<span id="cb30-310"><a href="#cb30-310"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-311"><a href="#cb30-311"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-312"><a href="#cb30-312"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-313"><a href="#cb30-313"></a></span>
<span id="cb30-314"><a href="#cb30-314"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb30-315"><a href="#cb30-315"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb30-316"><a href="#cb30-316"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb30-317"><a href="#cb30-317"></a>    }</span>
<span id="cb30-318"><a href="#cb30-318"></a>}</span>
<span id="cb30-319"><a href="#cb30-319"></a></span>
<span id="cb30-320"><a href="#cb30-320"></a><span class="co">// learning phase in order</span></span>
<span id="cb30-321"><a href="#cb30-321"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb30-322"><a href="#cb30-322"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb30-323"><a href="#cb30-323"></a>        blank<span class="op">,</span></span>
<span id="cb30-324"><a href="#cb30-324"></a>        target<span class="op">,</span></span>
<span id="cb30-325"><a href="#cb30-325"></a>        feedback</span>
<span id="cb30-326"><a href="#cb30-326"></a>    ]<span class="op">,</span></span>
<span id="cb30-327"><a href="#cb30-327"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb30-328"><a href="#cb30-328"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb30-329"><a href="#cb30-329"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb30-330"><a href="#cb30-330"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb30-331"><a href="#cb30-331"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb30-332"><a href="#cb30-332"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb30-333"><a href="#cb30-333"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb30-334"><a href="#cb30-334"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb30-335"><a href="#cb30-335"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb30-336"><a href="#cb30-336"></a>    ]<span class="op">,</span></span>
<span id="cb30-337"><a href="#cb30-337"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb30-338"><a href="#cb30-338"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-339"><a href="#cb30-339"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb30-340"><a href="#cb30-340"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb30-341"><a href="#cb30-341"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb30-342"><a href="#cb30-342"></a>    }<span class="op">,</span></span>
<span id="cb30-343"><a href="#cb30-343"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-344"><a href="#cb30-344"></a>        bg_game<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-345"><a href="#cb30-345"></a>    }</span>
<span id="cb30-346"><a href="#cb30-346"></a>}</span>
<span id="cb30-347"><a href="#cb30-347"></a></span>
<span id="cb30-348"><a href="#cb30-348"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb30-349"><a href="#cb30-349"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb30-350"><a href="#cb30-350"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb30-351"><a href="#cb30-351"></a>        blank<span class="op">,</span></span>
<span id="cb30-352"><a href="#cb30-352"></a>        target<span class="op">,</span></span>
<span id="cb30-353"><a href="#cb30-353"></a>        feedback</span>
<span id="cb30-354"><a href="#cb30-354"></a>    ]<span class="op">,</span></span>
<span id="cb30-355"><a href="#cb30-355"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb30-356"><a href="#cb30-356"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb30-357"><a href="#cb30-357"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb30-358"><a href="#cb30-358"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb30-359"><a href="#cb30-359"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb30-360"><a href="#cb30-360"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb30-361"><a href="#cb30-361"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb30-362"><a href="#cb30-362"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb30-363"><a href="#cb30-363"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb30-364"><a href="#cb30-364"></a>    ]<span class="op">,</span></span>
<span id="cb30-365"><a href="#cb30-365"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb30-366"><a href="#cb30-366"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb30-367"><a href="#cb30-367"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb30-368"><a href="#cb30-368"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb30-369"><a href="#cb30-369"></a>        }</span>
<span id="cb30-370"><a href="#cb30-370"></a>    }<span class="op">,</span></span>
<span id="cb30-371"><a href="#cb30-371"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb30-372"><a href="#cb30-372"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-373"><a href="#cb30-373"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb30-374"><a href="#cb30-374"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb30-375"><a href="#cb30-375"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb30-376"><a href="#cb30-376"></a>    }<span class="op">,</span></span>
<span id="cb30-377"><a href="#cb30-377"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-378"><a href="#cb30-378"></a>        bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-379"><a href="#cb30-379"></a>        bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-380"><a href="#cb30-380"></a>    }</span>
<span id="cb30-381"><a href="#cb30-381"></a>}</span>
<span id="cb30-382"><a href="#cb30-382"></a></span>
<span id="cb30-383"><a href="#cb30-383"></a><span class="co">// ============================================</span></span>
<span id="cb30-384"><a href="#cb30-384"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb30-385"><a href="#cb30-385"></a><span class="co">// ============================================</span></span>
<span id="cb30-386"><a href="#cb30-386"></a></span>
<span id="cb30-387"><a href="#cb30-387"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb30-388"><a href="#cb30-388"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb30-389"><a href="#cb30-389"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb30-390"><a href="#cb30-390"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb30-391"><a href="#cb30-391"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb30-392"><a href="#cb30-392"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb30-393"><a href="#cb30-393"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb30-394"><a href="#cb30-394"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb30-395"><a href="#cb30-395"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb30-396"><a href="#cb30-396"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb30-397"><a href="#cb30-397"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb30-398"><a href="#cb30-398"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb30-399"><a href="#cb30-399"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb30-400"><a href="#cb30-400"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb30-401"><a href="#cb30-401"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb30-402"><a href="#cb30-402"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb30-403"><a href="#cb30-403"></a>        })<span class="op">;</span></span>
<span id="cb30-404"><a href="#cb30-404"></a>    }<span class="op">,</span></span>
<span id="cb30-405"><a href="#cb30-405"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb30-406"><a href="#cb30-406"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb30-407"><a href="#cb30-407"></a>    }<span class="op">,</span></span>
<span id="cb30-408"><a href="#cb30-408"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-409"><a href="#cb30-409"></a>      bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb30-410"><a href="#cb30-410"></a>    }<span class="op">,</span></span>
<span id="cb30-411"><a href="#cb30-411"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb30-412"><a href="#cb30-412"></a>      bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb30-413"><a href="#cb30-413"></a>      bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb30-414"><a href="#cb30-414"></a>    }</span>
<span id="cb30-415"><a href="#cb30-415"></a>}<span class="op">;</span></span>
<span id="cb30-416"><a href="#cb30-416"></a></span>
<span id="cb30-417"><a href="#cb30-417"></a><span class="co">// ============================================</span></span>
<span id="cb30-418"><a href="#cb30-418"></a><span class="co">// Run jsPsych</span></span>
<span id="cb30-419"><a href="#cb30-419"></a><span class="co">// ============================================</span></span>
<span id="cb30-420"><a href="#cb30-420"></a></span>
<span id="cb30-421"><a href="#cb30-421"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb30-422"><a href="#cb30-422"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb30-423"><a href="#cb30-423"></a>        preload<span class="op">,</span></span>
<span id="cb30-424"><a href="#cb30-424"></a>        welcome<span class="op">,</span></span>
<span id="cb30-425"><a href="#cb30-425"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb30-426"><a href="#cb30-426"></a>        learning<span class="op">,</span></span>
<span id="cb30-427"><a href="#cb30-427"></a>        test<span class="op">,</span></span>
<span id="cb30-428"><a href="#cb30-428"></a>        saveData</span>
<span id="cb30-429"><a href="#cb30-429"></a>    ])<span class="op">;</span></span>
<span id="cb30-430"><a href="#cb30-430"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb30-431"><a href="#cb30-431"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb30-432"><a href="#cb30-432"></a>        preload<span class="op">,</span></span>
<span id="cb30-433"><a href="#cb30-433"></a>        welcome<span class="op">,</span></span>
<span id="cb30-434"><a href="#cb30-434"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb30-435"><a href="#cb30-435"></a>        learning<span class="op">,</span></span>
<span id="cb30-436"><a href="#cb30-436"></a>        test<span class="op">,</span></span>
<span id="cb30-437"><a href="#cb30-437"></a>        saveData</span>
<span id="cb30-438"><a href="#cb30-438"></a>    ])<span class="op">;</span></span>
<span id="cb30-439"><a href="#cb30-439"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb31-1"><a href="#cb31-1"></a> </span>
<span id="cb31-2"><a href="#cb31-2"></a>body {</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-4"><a href="#cb31-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-5"><a href="#cb31-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-6"><a href="#cb31-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb31-7"><a href="#cb31-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-8"><a href="#cb31-8"></a>}  </span>
<span id="cb31-9"><a href="#cb31-9"></a></span>
<span id="cb31-10"><a href="#cb31-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb31-11"><a href="#cb31-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb31-12"><a href="#cb31-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb31-13"><a href="#cb31-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-14"><a href="#cb31-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-15"><a href="#cb31-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-16"><a href="#cb31-16"></a>}</span>
<span id="cb31-17"><a href="#cb31-17"></a></span>
<span id="cb31-18"><a href="#cb31-18"></a><span class="fu">.box</span> {</span>
<span id="cb31-19"><a href="#cb31-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-20"><a href="#cb31-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-21"><a href="#cb31-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb31-22"><a href="#cb31-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-23"><a href="#cb31-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-24"><a href="#cb31-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-25"><a href="#cb31-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-26"><a href="#cb31-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-27"><a href="#cb31-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-28"><a href="#cb31-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-29"><a href="#cb31-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb31-30"><a href="#cb31-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb31-31"><a href="#cb31-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb31-32"><a href="#cb31-32"></a>}</span>
<span id="cb31-33"><a href="#cb31-33"></a></span>
<span id="cb31-34"><a href="#cb31-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb31-35"><a href="#cb31-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb31-36"><a href="#cb31-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb31-37"><a href="#cb31-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-38"><a href="#cb31-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-39"><a href="#cb31-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-40"><a href="#cb31-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb31-41"><a href="#cb31-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb31-42"><a href="#cb31-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb31-43"><a href="#cb31-43"></a>}</span>
<span id="cb31-44"><a href="#cb31-44"></a></span>
<span id="cb31-45"><a href="#cb31-45"></a><span class="fu">.grid</span> {</span>
<span id="cb31-46"><a href="#cb31-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb31-47"><a href="#cb31-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb31-48"><a href="#cb31-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb31-49"><a href="#cb31-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb31-50"><a href="#cb31-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-51"><a href="#cb31-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb31-52"><a href="#cb31-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb31-53"><a href="#cb31-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-54"><a href="#cb31-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-55"><a href="#cb31-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-56"><a href="#cb31-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-57"><a href="#cb31-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-58"><a href="#cb31-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb31-59"><a href="#cb31-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb31-60"><a href="#cb31-60"></a></span>
<span id="cb31-61"><a href="#cb31-61"></a>}</span>
<span id="cb31-62"><a href="#cb31-62"></a></span>
<span id="cb31-63"><a href="#cb31-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb31-64"><a href="#cb31-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb31-65"><a href="#cb31-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb31-66"><a href="#cb31-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb31-67"><a href="#cb31-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb31-68"><a href="#cb31-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb31-69"><a href="#cb31-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb31-70"><a href="#cb31-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb31-71"><a href="#cb31-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb31-72"><a href="#cb31-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb31-73"><a href="#cb31-73"></a></span>
<span id="cb31-74"><a href="#cb31-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb31-75"><a href="#cb31-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb31-76"><a href="#cb31-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb31-77"><a href="#cb31-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb31-78"><a href="#cb31-78"></a><span class="co">}</span></span>
<span id="cb31-79"><a href="#cb31-79"></a><span class="co">*/</span></span>
<span id="cb31-80"><a href="#cb31-80"></a></span>
<span id="cb31-81"><a href="#cb31-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb31-82"><a href="#cb31-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-83"><a href="#cb31-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-84"><a href="#cb31-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb31-85"><a href="#cb31-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb31-86"><a href="#cb31-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb31-87"><a href="#cb31-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-88"><a href="#cb31-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb31-89"><a href="#cb31-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-90"><a href="#cb31-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-91"><a href="#cb31-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-92"><a href="#cb31-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-93"><a href="#cb31-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-94"><a href="#cb31-94"></a>}</span>
<span id="cb31-95"><a href="#cb31-95"></a></span>
<span id="cb31-96"><a href="#cb31-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb31-97"><a href="#cb31-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb31-98"><a href="#cb31-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-99"><a href="#cb31-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-100"><a href="#cb31-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb31-101"><a href="#cb31-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb31-102"><a href="#cb31-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb31-103"><a href="#cb31-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb31-104"><a href="#cb31-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-105"><a href="#cb31-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb31-106"><a href="#cb31-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-107"><a href="#cb31-107"></a>}</span>
<span id="cb31-108"><a href="#cb31-108"></a></span>
<span id="cb31-109"><a href="#cb31-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb31-110"><a href="#cb31-110"></a>    <span class="dv">from</span> {</span>
<span id="cb31-111"><a href="#cb31-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-112"><a href="#cb31-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-113"><a href="#cb31-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-114"><a href="#cb31-114"></a>    }</span>
<span id="cb31-115"><a href="#cb31-115"></a>    <span class="dv">to</span> {</span>
<span id="cb31-116"><a href="#cb31-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-117"><a href="#cb31-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-118"><a href="#cb31-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-119"><a href="#cb31-119"></a>    }</span>
<span id="cb31-120"><a href="#cb31-120"></a>}</span>
<span id="cb31-121"><a href="#cb31-121"></a></span>
<span id="cb31-122"><a href="#cb31-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb31-123"><a href="#cb31-123"></a>    <span class="dv">from</span> {</span>
<span id="cb31-124"><a href="#cb31-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-125"><a href="#cb31-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-126"><a href="#cb31-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-127"><a href="#cb31-127"></a>    }</span>
<span id="cb31-128"><a href="#cb31-128"></a>    <span class="dv">to</span> {</span>
<span id="cb31-129"><a href="#cb31-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-130"><a href="#cb31-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-131"><a href="#cb31-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-132"><a href="#cb31-132"></a>    }</span>
<span id="cb31-133"><a href="#cb31-133"></a>}</span>
<span id="cb31-134"><a href="#cb31-134"></a></span>
<span id="cb31-135"><a href="#cb31-135"></a></span>
<span id="cb31-136"><a href="#cb31-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb31-137"><a href="#cb31-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-138"><a href="#cb31-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-139"><a href="#cb31-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb31-140"><a href="#cb31-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb31-141"><a href="#cb31-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-142"><a href="#cb31-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-143"><a href="#cb31-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-144"><a href="#cb31-144"></a>}</span>
<span id="cb31-145"><a href="#cb31-145"></a></span>
<span id="cb31-146"><a href="#cb31-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb31-147"><a href="#cb31-147"></a>    <span class="dv">from</span> {</span>
<span id="cb31-148"><a href="#cb31-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-149"><a href="#cb31-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-150"><a href="#cb31-150"></a>    }</span>
<span id="cb31-151"><a href="#cb31-151"></a>    <span class="dv">to</span> {</span>
<span id="cb31-152"><a href="#cb31-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-153"><a href="#cb31-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-154"><a href="#cb31-154"></a>    }</span>
<span id="cb31-155"><a href="#cb31-155"></a>}</span>
<span id="cb31-156"><a href="#cb31-156"></a></span>
<span id="cb31-157"><a href="#cb31-157"></a></span>
<span id="cb31-158"><a href="#cb31-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb31-159"><a href="#cb31-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-160"><a href="#cb31-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-161"><a href="#cb31-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb31-162"><a href="#cb31-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb31-163"><a href="#cb31-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb31-164"><a href="#cb31-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb31-165"><a href="#cb31-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-166"><a href="#cb31-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb31-167"><a href="#cb31-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-168"><a href="#cb31-168"></a>}</span>
<span id="cb31-169"><a href="#cb31-169"></a></span>
<span id="cb31-170"><a href="#cb31-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb31-171"><a href="#cb31-171"></a>    <span class="dv">from</span> {</span>
<span id="cb31-172"><a href="#cb31-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-173"><a href="#cb31-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-174"><a href="#cb31-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-175"><a href="#cb31-175"></a>    }</span>
<span id="cb31-176"><a href="#cb31-176"></a>    <span class="dv">to</span> {</span>
<span id="cb31-177"><a href="#cb31-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-178"><a href="#cb31-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-179"><a href="#cb31-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-180"><a href="#cb31-180"></a>    }</span>
<span id="cb31-181"><a href="#cb31-181"></a>}</span>
<span id="cb31-182"><a href="#cb31-182"></a></span>
<span id="cb31-183"><a href="#cb31-183"></a></span>
<span id="cb31-184"><a href="#cb31-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb31-185"><a href="#cb31-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb31-186"><a href="#cb31-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb31-187"><a href="#cb31-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb31-188"><a href="#cb31-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb31-189"><a href="#cb31-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb31-190"><a href="#cb31-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb31-191"><a href="#cb31-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-192"><a href="#cb31-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-193"><a href="#cb31-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-194"><a href="#cb31-194"></a>}</span>
<span id="cb31-195"><a href="#cb31-195"></a></span>
<span id="cb31-196"><a href="#cb31-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb31-197"><a href="#cb31-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-198"><a href="#cb31-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb31-199"><a href="#cb31-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb31-200"><a href="#cb31-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-201"><a href="#cb31-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-202"><a href="#cb31-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-203"><a href="#cb31-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-204"><a href="#cb31-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-205"><a href="#cb31-205"></a>}</span>
<span id="cb31-206"><a href="#cb31-206"></a></span>
<span id="cb31-207"><a href="#cb31-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb31-208"><a href="#cb31-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-209"><a href="#cb31-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb31-210"><a href="#cb31-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb31-211"><a href="#cb31-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-212"><a href="#cb31-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-213"><a href="#cb31-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-214"><a href="#cb31-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb31-215"><a href="#cb31-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-216"><a href="#cb31-216"></a>}</span>
<span id="cb31-217"><a href="#cb31-217"></a></span>
<span id="cb31-218"><a href="#cb31-218"></a></span>
<span id="cb31-219"><a href="#cb31-219"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb31-220"><a href="#cb31-220"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb31-221"><a href="#cb31-221"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb31-222"><a href="#cb31-222"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb31-223"><a href="#cb31-223"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb31-224"><a href="#cb31-224"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb31-225"><a href="#cb31-225"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-226"><a href="#cb31-226"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-227"><a href="#cb31-227"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb31-228"><a href="#cb31-228"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb31-229"><a href="#cb31-229"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb31-230"><a href="#cb31-230"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb31-231"><a href="#cb31-231"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb31-232"><a href="#cb31-232"></a>}</span>
<span id="cb31-233"><a href="#cb31-233"></a></span>
<span id="cb31-234"><a href="#cb31-234"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb31-235"><a href="#cb31-235"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb31-236"><a href="#cb31-236"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb31-237"><a href="#cb31-237"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb31-238"><a href="#cb31-238"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb31-239"><a href="#cb31-239"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb31-240"><a href="#cb31-240"></a>}</span>
<span id="cb31-241"><a href="#cb31-241"></a></span>
<span id="cb31-242"><a href="#cb31-242"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb31-243"><a href="#cb31-243"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-244"><a href="#cb31-244"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-245"><a href="#cb31-245"></a>}</span>
<span id="cb31-246"><a href="#cb31-246"></a></span>
<span id="cb31-247"><a href="#cb31-247"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb31-248"><a href="#cb31-248"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb31-249"><a href="#cb31-249"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-250"><a href="#cb31-250"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-251"><a href="#cb31-251"></a>}</span>
<span id="cb31-252"><a href="#cb31-252"></a></span>
<span id="cb31-253"><a href="#cb31-253"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb31-254"><a href="#cb31-254"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb31-255"><a href="#cb31-255"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-256"><a href="#cb31-256"></a>}</span>
<span id="cb31-257"><a href="#cb31-257"></a></span>
<span id="cb31-258"><a href="#cb31-258"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb31-259"><a href="#cb31-259"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb31-260"><a href="#cb31-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb31-261"><a href="#cb31-261"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-262"><a href="#cb31-262"></a>}</span>
<span id="cb31-263"><a href="#cb31-263"></a></span>
<span id="cb31-264"><a href="#cb31-264"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb31-265"><a href="#cb31-265"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb31-266"><a href="#cb31-266"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb31-267"><a href="#cb31-267"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb31-268"><a href="#cb31-268"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb31-269"><a href="#cb31-269"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-270"><a href="#cb31-270"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb31-271"><a href="#cb31-271"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-272"><a href="#cb31-272"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb31-273"><a href="#cb31-273"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb31-274"><a href="#cb31-274"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb31-275"><a href="#cb31-275"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb31-276"><a href="#cb31-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-277"><a href="#cb31-277"></a>}</span>
<span id="cb31-278"><a href="#cb31-278"></a></span>
<span id="cb31-279"><a href="#cb31-279"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb31-280"><a href="#cb31-280"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb31-281"><a href="#cb31-281"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-282"><a href="#cb31-282"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb31-283"><a href="#cb31-283"></a>}</span>
<span id="cb31-284"><a href="#cb31-284"></a></span>
<span id="cb31-285"><a href="#cb31-285"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb31-286"><a href="#cb31-286"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-287"><a href="#cb31-287"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb31-288"><a href="#cb31-288"></a>}</span>
<span id="cb31-289"><a href="#cb31-289"></a></span>
<span id="cb31-290"><a href="#cb31-290"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb31-291"><a href="#cb31-291"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb31-292"><a href="#cb31-292"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb31-293"><a href="#cb31-293"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb31-294"><a href="#cb31-294"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb31-295"><a href="#cb31-295"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb31-296"><a href="#cb31-296"></a>}</span>
<span id="cb31-297"><a href="#cb31-297"></a></span>
<span id="cb31-298"><a href="#cb31-298"></a><span class="co">/* Style the button container */</span></span>
<span id="cb31-299"><a href="#cb31-299"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb31-300"><a href="#cb31-300"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb31-301"><a href="#cb31-301"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-302"><a href="#cb31-302"></a>}</span>
<span id="cb31-303"><a href="#cb31-303"></a></span>
<span id="cb31-304"><a href="#cb31-304"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb31-305"><a href="#cb31-305"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb31-306"><a href="#cb31-306"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb31-307"><a href="#cb31-307"></a>}</span>
<span id="cb31-308"><a href="#cb31-308"></a></span>
<span id="cb31-309"><a href="#cb31-309"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb31-310"><a href="#cb31-310"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb31-311"><a href="#cb31-311"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb31-312"><a href="#cb31-312"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb31-313"><a href="#cb31-313"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb31-314"><a href="#cb31-314"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb31-315"><a href="#cb31-315"></a></span>
<span id="cb31-316"><a href="#cb31-316"></a><span class="co">/**</span></span>
<span id="cb31-317"><a href="#cb31-317"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb31-318"><a href="#cb31-318"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb31-319"><a href="#cb31-319"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb31-320"><a href="#cb31-320"></a><span class="co"> */</span></span>
<span id="cb31-321"><a href="#cb31-321"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb31-322"><a href="#cb31-322"></a>  from {</span>
<span id="cb31-323"><a href="#cb31-323"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-324"><a href="#cb31-324"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-325"><a href="#cb31-325"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-326"><a href="#cb31-326"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-327"><a href="#cb31-327"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-328"><a href="#cb31-328"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-329"><a href="#cb31-329"></a>  }</span>
<span id="cb31-330"><a href="#cb31-330"></a>  10% {</span>
<span id="cb31-331"><a href="#cb31-331"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-332"><a href="#cb31-332"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-333"><a href="#cb31-333"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-334"><a href="#cb31-334"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-335"><a href="#cb31-335"></a>  }</span>
<span id="cb31-336"><a href="#cb31-336"></a>  17% {</span>
<span id="cb31-337"><a href="#cb31-337"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-338"><a href="#cb31-338"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-339"><a href="#cb31-339"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-340"><a href="#cb31-340"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-341"><a href="#cb31-341"></a>  }</span>
<span id="cb31-342"><a href="#cb31-342"></a>  33% {</span>
<span id="cb31-343"><a href="#cb31-343"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-344"><a href="#cb31-344"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-345"><a href="#cb31-345"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-346"><a href="#cb31-346"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-347"><a href="#cb31-347"></a>  }</span>
<span id="cb31-348"><a href="#cb31-348"></a>  45% {</span>
<span id="cb31-349"><a href="#cb31-349"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-350"><a href="#cb31-350"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-351"><a href="#cb31-351"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-352"><a href="#cb31-352"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-353"><a href="#cb31-353"></a>  }</span>
<span id="cb31-354"><a href="#cb31-354"></a>}</span>
<span id="cb31-355"><a href="#cb31-355"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb31-356"><a href="#cb31-356"></a>  <span class="dv">from</span> {</span>
<span id="cb31-357"><a href="#cb31-357"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-358"><a href="#cb31-358"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-359"><a href="#cb31-359"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-360"><a href="#cb31-360"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb31-361"><a href="#cb31-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-362"><a href="#cb31-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-363"><a href="#cb31-363"></a>  }</span>
<span id="cb31-364"><a href="#cb31-364"></a>  <span class="dv">10%</span> {</span>
<span id="cb31-365"><a href="#cb31-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-366"><a href="#cb31-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-367"><a href="#cb31-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-368"><a href="#cb31-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-369"><a href="#cb31-369"></a>  }</span>
<span id="cb31-370"><a href="#cb31-370"></a>  <span class="dv">17%</span> {</span>
<span id="cb31-371"><a href="#cb31-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-372"><a href="#cb31-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-373"><a href="#cb31-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-374"><a href="#cb31-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-375"><a href="#cb31-375"></a>  }</span>
<span id="cb31-376"><a href="#cb31-376"></a>  <span class="dv">33%</span> {</span>
<span id="cb31-377"><a href="#cb31-377"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-378"><a href="#cb31-378"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-379"><a href="#cb31-379"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-380"><a href="#cb31-380"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb31-381"><a href="#cb31-381"></a>  }</span>
<span id="cb31-382"><a href="#cb31-382"></a>  <span class="dv">45%</span> {</span>
<span id="cb31-383"><a href="#cb31-383"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-384"><a href="#cb31-384"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-385"><a href="#cb31-385"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-386"><a href="#cb31-386"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb31-387"><a href="#cb31-387"></a>  }</span>
<span id="cb31-388"><a href="#cb31-388"></a>}</span>
<span id="cb31-389"><a href="#cb31-389"></a></span>
<span id="cb31-390"><a href="#cb31-390"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb31-391"><a href="#cb31-391"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb31-392"><a href="#cb31-392"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb31-393"><a href="#cb31-393"></a>}</span>
<span id="cb31-394"><a href="#cb31-394"></a></span>
<span id="cb31-395"><a href="#cb31-395"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb31-396"><a href="#cb31-396"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb31-397"><a href="#cb31-397"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb31-398"><a href="#cb31-398"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb31-399"><a href="#cb31-399"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb31-400"><a href="#cb31-400"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb31-401"><a href="#cb31-401"></a></span>
<span id="cb31-402"><a href="#cb31-402"></a><span class="co">/**</span></span>
<span id="cb31-403"><a href="#cb31-403"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb31-404"><a href="#cb31-404"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb31-405"><a href="#cb31-405"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb31-406"><a href="#cb31-406"></a><span class="co"> */</span></span>
<span id="cb31-407"><a href="#cb31-407"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb31-408"><a href="#cb31-408"></a>  0%<span class="op">,</span></span>
<span id="cb31-409"><a href="#cb31-409"></a>  100% {</span>
<span id="cb31-410"><a href="#cb31-410"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-411"><a href="#cb31-411"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-412"><a href="#cb31-412"></a>  }</span>
<span id="cb31-413"><a href="#cb31-413"></a>  10%<span class="op">,</span></span>
<span id="cb31-414"><a href="#cb31-414"></a>  30%<span class="op">,</span></span>
<span id="cb31-415"><a href="#cb31-415"></a>  50%<span class="op">,</span></span>
<span id="cb31-416"><a href="#cb31-416"></a>  70% {</span>
<span id="cb31-417"><a href="#cb31-417"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-418"><a href="#cb31-418"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-419"><a href="#cb31-419"></a>  }</span>
<span id="cb31-420"><a href="#cb31-420"></a>  20%<span class="op">,</span></span>
<span id="cb31-421"><a href="#cb31-421"></a>  40%<span class="op">,</span></span>
<span id="cb31-422"><a href="#cb31-422"></a>  60% {</span>
<span id="cb31-423"><a href="#cb31-423"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-424"><a href="#cb31-424"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-425"><a href="#cb31-425"></a>  }</span>
<span id="cb31-426"><a href="#cb31-426"></a>  80% {</span>
<span id="cb31-427"><a href="#cb31-427"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-428"><a href="#cb31-428"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-429"><a href="#cb31-429"></a>  }</span>
<span id="cb31-430"><a href="#cb31-430"></a>  90% {</span>
<span id="cb31-431"><a href="#cb31-431"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-432"><a href="#cb31-432"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-433"><a href="#cb31-433"></a>  }</span>
<span id="cb31-434"><a href="#cb31-434"></a>}</span>
<span id="cb31-435"><a href="#cb31-435"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb31-436"><a href="#cb31-436"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb31-437"><a href="#cb31-437"></a>  <span class="dv">100%</span> {</span>
<span id="cb31-438"><a href="#cb31-438"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-439"><a href="#cb31-439"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-440"><a href="#cb31-440"></a>  }</span>
<span id="cb31-441"><a href="#cb31-441"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb31-442"><a href="#cb31-442"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb31-443"><a href="#cb31-443"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb31-444"><a href="#cb31-444"></a>  <span class="dv">70%</span> {</span>
<span id="cb31-445"><a href="#cb31-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-446"><a href="#cb31-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-447"><a href="#cb31-447"></a>  }</span>
<span id="cb31-448"><a href="#cb31-448"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb31-449"><a href="#cb31-449"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb31-450"><a href="#cb31-450"></a>  <span class="dv">60%</span> {</span>
<span id="cb31-451"><a href="#cb31-451"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-452"><a href="#cb31-452"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-453"><a href="#cb31-453"></a>  }</span>
<span id="cb31-454"><a href="#cb31-454"></a>  <span class="dv">80%</span> {</span>
<span id="cb31-455"><a href="#cb31-455"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-456"><a href="#cb31-456"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-457"><a href="#cb31-457"></a>  }</span>
<span id="cb31-458"><a href="#cb31-458"></a>  <span class="dv">90%</span> {</span>
<span id="cb31-459"><a href="#cb31-459"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-460"><a href="#cb31-460"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb31-461"><a href="#cb31-461"></a>  }</span>
<span id="cb31-462"><a href="#cb31-462"></a>}</span>
<span id="cb31-463"><a href="#cb31-463"></a></span>
<span id="cb31-464"><a href="#cb31-464"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-10-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-4-tab">
<div id="demo-container-9" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-9" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;></div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\nlet bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)\nbg_start.volume = .2\nbg_start.loop = true\n\nlet bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_game.volume = .2\nbg_game.loop = true\n\nlet bg_end = new Audio(&quot;audio/creep.mp3&quot;)\nbg_end.volume = .2\nbg_end.loop = true\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, \n&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          score = score - 100\n      \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_game.play();\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 2,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_finish: function(){\n        bg_game.pause();\n        bg_game.currentTime = 0;\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    },\n    on_start: function(){\n      bg_end.play();\n    },\n    on_finish: function(){\n      bg_end.pause();\n      bg_end.currentTime = 0;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-9');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-9" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}


.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;></div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2

let bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)
bg_start.volume = .2
bg_start.loop = true

let bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_game.volume = .2
bg_game.loop = true

let bg_end = new Audio(&quot;audio/creep.mp3&quot;)
bg_end.volume = .2
bg_end.loop = true

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, 
&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          score = score - 100
      
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;#score&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;shake-horizontal&quot;)
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_game.play();
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 2,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_finish: function(){
        bg_game.pause();
        bg_game.currentTime = 0;
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    },
    on_start: function(){
      bg_end.play();
    },
    on_finish: function(){
      bg_end.pause();
      bg_end.currentTime = 0;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-9&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-9&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stage-3-health-death-and-restart" class="level2" data-number="26.5">
<h2 data-number="26.5" class="anchored" data-anchor-id="stage-3-health-death-and-restart"><span class="header-section-number">26.5</span> Stage 3: Health, Death, and Restart</h2>
<section id="add-a-health-tracker" class="level3" data-number="26.5.1">
<h3 data-number="26.5.1" class="anchored" data-anchor-id="add-a-health-tracker"><span class="header-section-number">26.5.1</span> Add a Health Tracker</h3>
<p>Changes:</p>
<ol type="1">
<li><code>index.html</code> - update the HTML to include a hearts/health tracker</li>
<li><code>exp.js</code> - Update the trackers, update the feedback trial to lose health on hit, switch the shake animation to the health tracker instead of the score.</li>
<li><code>style.css</code> - add heart/health display styling</li>
</ol>
<div class="cell">
<style type="text/css">
/* CB32 */
[id^="cb32-"]:nth-child(n+43):nth-child(-n+50) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB33 */
[id^="cb33-"]:nth-child(n+43):nth-child(-n+44),
[id^="cb33-"]:nth-child(n+245):nth-child(-n+261),
[id^="cb33-"]:nth-child(n+275):nth-child(-n+275) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB34 */
[id^="cb34-"]:nth-child(n+218):nth-child(-n+239) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" role="tab" aria-controls="tabset-11-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb32-1"><a href="#cb32-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8"></a>    </span>
<span id="cb32-9"><a href="#cb32-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb32-10"><a href="#cb32-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb32-11"><a href="#cb32-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb32-12"><a href="#cb32-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb32-13"><a href="#cb32-13"></a></span>
<span id="cb32-14"><a href="#cb32-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb32-15"><a href="#cb32-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb32-16"><a href="#cb32-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb32-17"><a href="#cb32-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb32-18"><a href="#cb32-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb32-19"><a href="#cb32-19"></a></span>
<span id="cb32-20"><a href="#cb32-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb32-21"><a href="#cb32-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb32-22"><a href="#cb32-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb32-23"><a href="#cb32-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb32-24"><a href="#cb32-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb32-25"><a href="#cb32-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb32-26"><a href="#cb32-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb32-27"><a href="#cb32-27"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb32-28"><a href="#cb32-28"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-29"><a href="#cb32-29"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-30"><a href="#cb32-30"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-31"><a href="#cb32-31"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-32"><a href="#cb32-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb32-33"><a href="#cb32-33"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>WHACK-A-ZOMBIE!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb32-34"><a href="#cb32-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-35"><a href="#cb32-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb32-36"><a href="#cb32-36"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb32-37"><a href="#cb32-37"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HIGH-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-38"><a href="#cb32-38"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"high-score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>999999<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-39"><a href="#cb32-39"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-40"><a href="#cb32-40"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-41"><a href="#cb32-41"></a>    </span>
<span id="cb32-42"><a href="#cb32-42"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span></span>
<span id="cb32-43"><a href="#cb32-43"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"lives-display"</span><span class="dt">&gt;</span></span>
<span id="cb32-44"><a href="#cb32-44"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"hearts"</span><span class="dt">&gt;</span></span>
<span id="cb32-45"><a href="#cb32-45"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb32-46"><a href="#cb32-46"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb32-47"><a href="#cb32-47"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb32-48"><a href="#cb32-48"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb32-49"><a href="#cb32-49"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb32-50"><a href="#cb32-50"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-51"><a href="#cb32-51"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-52"><a href="#cb32-52"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-53"><a href="#cb32-53"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-54"><a href="#cb32-54"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-55"><a href="#cb32-55"></a>    </span>
<span id="cb32-56"><a href="#cb32-56"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-57"><a href="#cb32-57"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-58"><a href="#cb32-58"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-59"><a href="#cb32-59"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-60"><a href="#cb32-60"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-61"><a href="#cb32-61"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb32-62"><a href="#cb32-62"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb32-63"><a href="#cb32-63"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb32-64"><a href="#cb32-64"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb32-65"><a href="#cb32-65"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb33-1"><a href="#cb33-1"></a> </span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="co">// ============================================</span></span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co">// ============================================</span></span>
<span id="cb33-5"><a href="#cb33-5"></a></span>
<span id="cb33-6"><a href="#cb33-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb33-7"><a href="#cb33-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb33-8"><a href="#cb33-8"></a>                ) </span>
<span id="cb33-9"><a href="#cb33-9"></a></span>
<span id="cb33-10"><a href="#cb33-10"></a><span class="co">// ============================================</span></span>
<span id="cb33-11"><a href="#cb33-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb33-12"><a href="#cb33-12"></a><span class="co">// ============================================</span></span>
<span id="cb33-13"><a href="#cb33-13"></a></span>
<span id="cb33-14"><a href="#cb33-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb33-15"><a href="#cb33-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb33-16"><a href="#cb33-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-17"><a href="#cb33-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb33-18"><a href="#cb33-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb33-19"><a href="#cb33-19"></a>    }</span>
<span id="cb33-20"><a href="#cb33-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb33-21"><a href="#cb33-21"></a>}</span>
<span id="cb33-22"><a href="#cb33-22"></a></span>
<span id="cb33-23"><a href="#cb33-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb33-24"><a href="#cb33-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb33-25"><a href="#cb33-25"></a></span>
<span id="cb33-26"><a href="#cb33-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb33-27"><a href="#cb33-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb33-28"><a href="#cb33-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb33-29"><a href="#cb33-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb33-30"><a href="#cb33-30"></a></span>
<span id="cb33-31"><a href="#cb33-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb33-32"><a href="#cb33-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb33-33"><a href="#cb33-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb33-34"><a href="#cb33-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb33-35"><a href="#cb33-35"></a>})<span class="op">;</span></span>
<span id="cb33-36"><a href="#cb33-36"></a></span>
<span id="cb33-37"><a href="#cb33-37"></a></span>
<span id="cb33-38"><a href="#cb33-38"></a><span class="co">// ============================================</span></span>
<span id="cb33-39"><a href="#cb33-39"></a><span class="co">// Trackers</span></span>
<span id="cb33-40"><a href="#cb33-40"></a><span class="co">// ============================================</span></span>
<span id="cb33-41"><a href="#cb33-41"></a></span>
<span id="cb33-42"><a href="#cb33-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb33-43"><a href="#cb33-43"></a></span>
<span id="cb33-44"><a href="#cb33-44"></a><span class="kw">let</span> hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb33-45"><a href="#cb33-45"></a></span>
<span id="cb33-46"><a href="#cb33-46"></a><span class="co">// ============================================</span></span>
<span id="cb33-47"><a href="#cb33-47"></a><span class="co">// Audio Setup</span></span>
<span id="cb33-48"><a href="#cb33-48"></a><span class="co">// ============================================</span></span>
<span id="cb33-49"><a href="#cb33-49"></a></span>
<span id="cb33-50"><a href="#cb33-50"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb33-51"><a href="#cb33-51"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb33-52"><a href="#cb33-52"></a></span>
<span id="cb33-53"><a href="#cb33-53"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb33-54"><a href="#cb33-54"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb33-55"><a href="#cb33-55"></a></span>
<span id="cb33-56"><a href="#cb33-56"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb33-57"><a href="#cb33-57"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb33-58"><a href="#cb33-58"></a></span>
<span id="cb33-59"><a href="#cb33-59"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb33-60"><a href="#cb33-60"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb33-61"><a href="#cb33-61"></a></span>
<span id="cb33-62"><a href="#cb33-62"></a><span class="kw">let</span> bg_start <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/SeriousCutScene.wav"</span>)</span>
<span id="cb33-63"><a href="#cb33-63"></a>bg_start<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb33-64"><a href="#cb33-64"></a>bg_start<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb33-65"><a href="#cb33-65"></a></span>
<span id="cb33-66"><a href="#cb33-66"></a><span class="kw">let</span> bg_game <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb33-67"><a href="#cb33-67"></a>bg_game<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb33-68"><a href="#cb33-68"></a>bg_game<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb33-69"><a href="#cb33-69"></a></span>
<span id="cb33-70"><a href="#cb33-70"></a><span class="kw">let</span> bg_end <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/creep.mp3"</span>)</span>
<span id="cb33-71"><a href="#cb33-71"></a>bg_end<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb33-72"><a href="#cb33-72"></a>bg_end<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb33-73"><a href="#cb33-73"></a></span>
<span id="cb33-74"><a href="#cb33-74"></a><span class="co">// ============================================</span></span>
<span id="cb33-75"><a href="#cb33-75"></a><span class="co">// Preload</span></span>
<span id="cb33-76"><a href="#cb33-76"></a><span class="co">// ============================================</span></span>
<span id="cb33-77"><a href="#cb33-77"></a></span>
<span id="cb33-78"><a href="#cb33-78"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb33-79"><a href="#cb33-79"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb33-80"><a href="#cb33-80"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb33-81"><a href="#cb33-81"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span><span class="op">,</span> </span>
<span id="cb33-82"><a href="#cb33-82"></a><span class="st">"audio/SeriousCutScene.wav"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span><span class="op">,</span> <span class="st">"audio/creep.mp3"</span>]</span>
<span id="cb33-83"><a href="#cb33-83"></a>}</span>
<span id="cb33-84"><a href="#cb33-84"></a></span>
<span id="cb33-85"><a href="#cb33-85"></a><span class="co">// ============================================</span></span>
<span id="cb33-86"><a href="#cb33-86"></a><span class="co">// Welcome</span></span>
<span id="cb33-87"><a href="#cb33-87"></a><span class="co">// ============================================</span></span>
<span id="cb33-88"><a href="#cb33-88"></a></span>
<span id="cb33-89"><a href="#cb33-89"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb33-90"><a href="#cb33-90"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb33-91"><a href="#cb33-91"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-92"><a href="#cb33-92"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb33-93"><a href="#cb33-93"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-94"><a href="#cb33-94"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb33-95"><a href="#cb33-95"></a>}</span>
<span id="cb33-96"><a href="#cb33-96"></a></span>
<span id="cb33-97"><a href="#cb33-97"></a><span class="co">// ============================================</span></span>
<span id="cb33-98"><a href="#cb33-98"></a><span class="co">// Instructions</span></span>
<span id="cb33-99"><a href="#cb33-99"></a><span class="co">// ============================================</span></span>
<span id="cb33-100"><a href="#cb33-100"></a></span>
<span id="cb33-101"><a href="#cb33-101"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb33-102"><a href="#cb33-102"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb33-103"><a href="#cb33-103"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-104"><a href="#cb33-104"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb33-105"><a href="#cb33-105"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb33-106"><a href="#cb33-106"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-107"><a href="#cb33-107"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-108"><a href="#cb33-108"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb33-109"><a href="#cb33-109"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb33-110"><a href="#cb33-110"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb33-111"><a href="#cb33-111"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb33-112"><a href="#cb33-112"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb33-113"><a href="#cb33-113"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb33-114"><a href="#cb33-114"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-115"><a href="#cb33-115"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-116"><a href="#cb33-116"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb33-117"><a href="#cb33-117"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb33-118"><a href="#cb33-118"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb33-119"><a href="#cb33-119"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb33-120"><a href="#cb33-120"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-121"><a href="#cb33-121"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-122"><a href="#cb33-122"></a>    }<span class="op">,</span></span>
<span id="cb33-123"><a href="#cb33-123"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-124"><a href="#cb33-124"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-125"><a href="#cb33-125"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-126"><a href="#cb33-126"></a>    }</span>
<span id="cb33-127"><a href="#cb33-127"></a>}</span>
<span id="cb33-128"><a href="#cb33-128"></a></span>
<span id="cb33-129"><a href="#cb33-129"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb33-130"><a href="#cb33-130"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb33-131"><a href="#cb33-131"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-132"><a href="#cb33-132"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb33-133"><a href="#cb33-133"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb33-134"><a href="#cb33-134"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-135"><a href="#cb33-135"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb33-136"><a href="#cb33-136"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb33-137"><a href="#cb33-137"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb33-138"><a href="#cb33-138"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb33-139"><a href="#cb33-139"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb33-140"><a href="#cb33-140"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb33-141"><a href="#cb33-141"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb33-142"><a href="#cb33-142"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-143"><a href="#cb33-143"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb33-144"><a href="#cb33-144"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb33-145"><a href="#cb33-145"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb33-146"><a href="#cb33-146"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb33-147"><a href="#cb33-147"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb33-148"><a href="#cb33-148"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb33-149"><a href="#cb33-149"></a>        ]<span class="op">,</span></span>
<span id="cb33-150"><a href="#cb33-150"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb33-151"><a href="#cb33-151"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-152"><a href="#cb33-152"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-153"><a href="#cb33-153"></a>    }<span class="op">,</span></span>
<span id="cb33-154"><a href="#cb33-154"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-155"><a href="#cb33-155"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-156"><a href="#cb33-156"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-157"><a href="#cb33-157"></a>    }</span>
<span id="cb33-158"><a href="#cb33-158"></a>}</span>
<span id="cb33-159"><a href="#cb33-159"></a></span>
<span id="cb33-160"><a href="#cb33-160"></a><span class="co">// ============================================</span></span>
<span id="cb33-161"><a href="#cb33-161"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb33-162"><a href="#cb33-162"></a><span class="co">// ============================================</span></span>
<span id="cb33-163"><a href="#cb33-163"></a></span>
<span id="cb33-164"><a href="#cb33-164"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb33-165"><a href="#cb33-165"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb33-166"><a href="#cb33-166"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-167"><a href="#cb33-167"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-168"><a href="#cb33-168"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-169"><a href="#cb33-169"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-170"><a href="#cb33-170"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-171"><a href="#cb33-171"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb33-172"><a href="#cb33-172"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb33-173"><a href="#cb33-173"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb33-174"><a href="#cb33-174"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-175"><a href="#cb33-175"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb33-176"><a href="#cb33-176"></a>    }</span>
<span id="cb33-177"><a href="#cb33-177"></a>}</span>
<span id="cb33-178"><a href="#cb33-178"></a></span>
<span id="cb33-179"><a href="#cb33-179"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb33-180"><a href="#cb33-180"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb33-181"><a href="#cb33-181"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-182"><a href="#cb33-182"></a>        <span class="kw">let</span> output</span>
<span id="cb33-183"><a href="#cb33-183"></a></span>
<span id="cb33-184"><a href="#cb33-184"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb33-185"><a href="#cb33-185"></a></span>
<span id="cb33-186"><a href="#cb33-186"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb33-187"><a href="#cb33-187"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-188"><a href="#cb33-188"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-189"><a href="#cb33-189"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-190"><a href="#cb33-190"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-191"><a href="#cb33-191"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-192"><a href="#cb33-192"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-193"><a href="#cb33-193"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb33-194"><a href="#cb33-194"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-195"><a href="#cb33-195"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-196"><a href="#cb33-196"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-197"><a href="#cb33-197"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-198"><a href="#cb33-198"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-199"><a href="#cb33-199"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-200"><a href="#cb33-200"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb33-201"><a href="#cb33-201"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-202"><a href="#cb33-202"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-203"><a href="#cb33-203"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-204"><a href="#cb33-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-205"><a href="#cb33-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-206"><a href="#cb33-206"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-207"><a href="#cb33-207"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb33-208"><a href="#cb33-208"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-209"><a href="#cb33-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-210"><a href="#cb33-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-211"><a href="#cb33-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-212"><a href="#cb33-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-213"><a href="#cb33-213"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-214"><a href="#cb33-214"></a>        }</span>
<span id="cb33-215"><a href="#cb33-215"></a></span>
<span id="cb33-216"><a href="#cb33-216"></a>        <span class="cf">return</span> output</span>
<span id="cb33-217"><a href="#cb33-217"></a>    }<span class="op">,</span></span>
<span id="cb33-218"><a href="#cb33-218"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb33-219"><a href="#cb33-219"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-220"><a href="#cb33-220"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb33-221"><a href="#cb33-221"></a>    }<span class="op">,</span></span>
<span id="cb33-222"><a href="#cb33-222"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-223"><a href="#cb33-223"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-224"><a href="#cb33-224"></a>    }</span>
<span id="cb33-225"><a href="#cb33-225"></a>}</span>
<span id="cb33-226"><a href="#cb33-226"></a></span>
<span id="cb33-227"><a href="#cb33-227"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb33-228"><a href="#cb33-228"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb33-229"><a href="#cb33-229"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-230"><a href="#cb33-230"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb33-231"><a href="#cb33-231"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb33-232"><a href="#cb33-232"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb33-233"><a href="#cb33-233"></a>        </span>
<span id="cb33-234"><a href="#cb33-234"></a>        <span class="kw">let</span> feedback</span>
<span id="cb33-235"><a href="#cb33-235"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb33-236"><a href="#cb33-236"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb33-237"><a href="#cb33-237"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb33-238"><a href="#cb33-238"></a>          </span>
<span id="cb33-239"><a href="#cb33-239"></a>          <span class="co">// play correct audio </span></span>
<span id="cb33-240"><a href="#cb33-240"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-241"><a href="#cb33-241"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-242"><a href="#cb33-242"></a>  </span>
<span id="cb33-243"><a href="#cb33-243"></a>        } <span class="cf">else</span> {</span>
<span id="cb33-244"><a href="#cb33-244"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb33-245"><a href="#cb33-245"></a>          <span class="co">//score = score - 100</span></span>
<span id="cb33-246"><a href="#cb33-246"></a>          </span>
<span id="cb33-247"><a href="#cb33-247"></a>          hearts <span class="op">=</span> hearts <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb33-248"><a href="#cb33-248"></a>          <span class="kw">let</span> heart_display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)</span>
<span id="cb33-249"><a href="#cb33-249"></a>          <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">5</span>){</span>
<span id="cb33-250"><a href="#cb33-250"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb33-251"><a href="#cb33-251"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb33-252"><a href="#cb33-252"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb33-253"><a href="#cb33-253"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb33-254"><a href="#cb33-254"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb33-255"><a href="#cb33-255"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb33-256"><a href="#cb33-256"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb33-257"><a href="#cb33-257"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb33-258"><a href="#cb33-258"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb33-259"><a href="#cb33-259"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">0</span>){</span>
<span id="cb33-260"><a href="#cb33-260"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb33-261"><a href="#cb33-261"></a>          }</span>
<span id="cb33-262"><a href="#cb33-262"></a>          </span>
<span id="cb33-263"><a href="#cb33-263"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb33-264"><a href="#cb33-264"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-265"><a href="#cb33-265"></a>        }</span>
<span id="cb33-266"><a href="#cb33-266"></a>        </span>
<span id="cb33-267"><a href="#cb33-267"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb33-268"><a href="#cb33-268"></a></span>
<span id="cb33-269"><a href="#cb33-269"></a>        <span class="co">// update score</span></span>
<span id="cb33-270"><a href="#cb33-270"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb33-271"><a href="#cb33-271"></a>        <span class="co">// add animation to score</span></span>
<span id="cb33-272"><a href="#cb33-272"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb33-273"><a href="#cb33-273"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb33-274"><a href="#cb33-274"></a>        } <span class="cf">else</span> {</span>
<span id="cb33-275"><a href="#cb33-275"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb33-276"><a href="#cb33-276"></a>        }</span>
<span id="cb33-277"><a href="#cb33-277"></a></span>
<span id="cb33-278"><a href="#cb33-278"></a>        <span class="co">// update output</span></span>
<span id="cb33-279"><a href="#cb33-279"></a>        <span class="kw">let</span> output</span>
<span id="cb33-280"><a href="#cb33-280"></a></span>
<span id="cb33-281"><a href="#cb33-281"></a>        <span class="co">// still need the location</span></span>
<span id="cb33-282"><a href="#cb33-282"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb33-283"><a href="#cb33-283"></a></span>
<span id="cb33-284"><a href="#cb33-284"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb33-285"><a href="#cb33-285"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-286"><a href="#cb33-286"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-287"><a href="#cb33-287"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-288"><a href="#cb33-288"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-289"><a href="#cb33-289"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-290"><a href="#cb33-290"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-291"><a href="#cb33-291"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb33-292"><a href="#cb33-292"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-293"><a href="#cb33-293"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-294"><a href="#cb33-294"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-295"><a href="#cb33-295"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-296"><a href="#cb33-296"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-297"><a href="#cb33-297"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-298"><a href="#cb33-298"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb33-299"><a href="#cb33-299"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-300"><a href="#cb33-300"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-301"><a href="#cb33-301"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-302"><a href="#cb33-302"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-303"><a href="#cb33-303"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-304"><a href="#cb33-304"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-305"><a href="#cb33-305"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb33-306"><a href="#cb33-306"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb33-307"><a href="#cb33-307"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-308"><a href="#cb33-308"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-309"><a href="#cb33-309"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb33-310"><a href="#cb33-310"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb33-311"><a href="#cb33-311"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb33-312"><a href="#cb33-312"></a>        }</span>
<span id="cb33-313"><a href="#cb33-313"></a></span>
<span id="cb33-314"><a href="#cb33-314"></a>        <span class="cf">return</span> output</span>
<span id="cb33-315"><a href="#cb33-315"></a>    }<span class="op">,</span></span>
<span id="cb33-316"><a href="#cb33-316"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb33-317"><a href="#cb33-317"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb33-318"><a href="#cb33-318"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-319"><a href="#cb33-319"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb33-320"><a href="#cb33-320"></a>    }<span class="op">,</span></span>
<span id="cb33-321"><a href="#cb33-321"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-322"><a href="#cb33-322"></a>          </span>
<span id="cb33-323"><a href="#cb33-323"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb33-324"><a href="#cb33-324"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-325"><a href="#cb33-325"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-326"><a href="#cb33-326"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-327"><a href="#cb33-327"></a>          </span>
<span id="cb33-328"><a href="#cb33-328"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-329"><a href="#cb33-329"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-330"><a href="#cb33-330"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-331"><a href="#cb33-331"></a></span>
<span id="cb33-332"><a href="#cb33-332"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb33-333"><a href="#cb33-333"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb33-334"><a href="#cb33-334"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb33-335"><a href="#cb33-335"></a>    }</span>
<span id="cb33-336"><a href="#cb33-336"></a>}</span>
<span id="cb33-337"><a href="#cb33-337"></a></span>
<span id="cb33-338"><a href="#cb33-338"></a><span class="co">// learning phase in order</span></span>
<span id="cb33-339"><a href="#cb33-339"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb33-340"><a href="#cb33-340"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb33-341"><a href="#cb33-341"></a>        blank<span class="op">,</span></span>
<span id="cb33-342"><a href="#cb33-342"></a>        target<span class="op">,</span></span>
<span id="cb33-343"><a href="#cb33-343"></a>        feedback</span>
<span id="cb33-344"><a href="#cb33-344"></a>    ]<span class="op">,</span></span>
<span id="cb33-345"><a href="#cb33-345"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb33-346"><a href="#cb33-346"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb33-347"><a href="#cb33-347"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb33-348"><a href="#cb33-348"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb33-349"><a href="#cb33-349"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb33-350"><a href="#cb33-350"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb33-351"><a href="#cb33-351"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb33-352"><a href="#cb33-352"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb33-353"><a href="#cb33-353"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb33-354"><a href="#cb33-354"></a>    ]<span class="op">,</span></span>
<span id="cb33-355"><a href="#cb33-355"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb33-356"><a href="#cb33-356"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-357"><a href="#cb33-357"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb33-358"><a href="#cb33-358"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb33-359"><a href="#cb33-359"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb33-360"><a href="#cb33-360"></a>    }<span class="op">,</span></span>
<span id="cb33-361"><a href="#cb33-361"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-362"><a href="#cb33-362"></a>        bg_game<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-363"><a href="#cb33-363"></a>    }</span>
<span id="cb33-364"><a href="#cb33-364"></a>}</span>
<span id="cb33-365"><a href="#cb33-365"></a></span>
<span id="cb33-366"><a href="#cb33-366"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb33-367"><a href="#cb33-367"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb33-368"><a href="#cb33-368"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb33-369"><a href="#cb33-369"></a>        blank<span class="op">,</span></span>
<span id="cb33-370"><a href="#cb33-370"></a>        target<span class="op">,</span></span>
<span id="cb33-371"><a href="#cb33-371"></a>        feedback</span>
<span id="cb33-372"><a href="#cb33-372"></a>    ]<span class="op">,</span></span>
<span id="cb33-373"><a href="#cb33-373"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb33-374"><a href="#cb33-374"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb33-375"><a href="#cb33-375"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb33-376"><a href="#cb33-376"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb33-377"><a href="#cb33-377"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb33-378"><a href="#cb33-378"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb33-379"><a href="#cb33-379"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb33-380"><a href="#cb33-380"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb33-381"><a href="#cb33-381"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb33-382"><a href="#cb33-382"></a>    ]<span class="op">,</span></span>
<span id="cb33-383"><a href="#cb33-383"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb33-384"><a href="#cb33-384"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb33-385"><a href="#cb33-385"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb33-386"><a href="#cb33-386"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb33-387"><a href="#cb33-387"></a>        }</span>
<span id="cb33-388"><a href="#cb33-388"></a>    }<span class="op">,</span></span>
<span id="cb33-389"><a href="#cb33-389"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb33-390"><a href="#cb33-390"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-391"><a href="#cb33-391"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb33-392"><a href="#cb33-392"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb33-393"><a href="#cb33-393"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb33-394"><a href="#cb33-394"></a>    }<span class="op">,</span></span>
<span id="cb33-395"><a href="#cb33-395"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-396"><a href="#cb33-396"></a>        bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-397"><a href="#cb33-397"></a>        bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-398"><a href="#cb33-398"></a>    }</span>
<span id="cb33-399"><a href="#cb33-399"></a>}</span>
<span id="cb33-400"><a href="#cb33-400"></a></span>
<span id="cb33-401"><a href="#cb33-401"></a><span class="co">// ============================================</span></span>
<span id="cb33-402"><a href="#cb33-402"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb33-403"><a href="#cb33-403"></a><span class="co">// ============================================</span></span>
<span id="cb33-404"><a href="#cb33-404"></a></span>
<span id="cb33-405"><a href="#cb33-405"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb33-406"><a href="#cb33-406"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb33-407"><a href="#cb33-407"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb33-408"><a href="#cb33-408"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb33-409"><a href="#cb33-409"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb33-410"><a href="#cb33-410"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb33-411"><a href="#cb33-411"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb33-412"><a href="#cb33-412"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb33-413"><a href="#cb33-413"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb33-414"><a href="#cb33-414"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb33-415"><a href="#cb33-415"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb33-416"><a href="#cb33-416"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb33-417"><a href="#cb33-417"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb33-418"><a href="#cb33-418"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb33-419"><a href="#cb33-419"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb33-420"><a href="#cb33-420"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb33-421"><a href="#cb33-421"></a>        })<span class="op">;</span></span>
<span id="cb33-422"><a href="#cb33-422"></a>    }<span class="op">,</span></span>
<span id="cb33-423"><a href="#cb33-423"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb33-424"><a href="#cb33-424"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb33-425"><a href="#cb33-425"></a>    }<span class="op">,</span></span>
<span id="cb33-426"><a href="#cb33-426"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-427"><a href="#cb33-427"></a>      bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb33-428"><a href="#cb33-428"></a>    }<span class="op">,</span></span>
<span id="cb33-429"><a href="#cb33-429"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb33-430"><a href="#cb33-430"></a>      bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb33-431"><a href="#cb33-431"></a>      bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb33-432"><a href="#cb33-432"></a>    }</span>
<span id="cb33-433"><a href="#cb33-433"></a>}<span class="op">;</span></span>
<span id="cb33-434"><a href="#cb33-434"></a></span>
<span id="cb33-435"><a href="#cb33-435"></a><span class="co">// ============================================</span></span>
<span id="cb33-436"><a href="#cb33-436"></a><span class="co">// Run jsPsych</span></span>
<span id="cb33-437"><a href="#cb33-437"></a><span class="co">// ============================================</span></span>
<span id="cb33-438"><a href="#cb33-438"></a></span>
<span id="cb33-439"><a href="#cb33-439"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb33-440"><a href="#cb33-440"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb33-441"><a href="#cb33-441"></a>        preload<span class="op">,</span></span>
<span id="cb33-442"><a href="#cb33-442"></a>        welcome<span class="op">,</span></span>
<span id="cb33-443"><a href="#cb33-443"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb33-444"><a href="#cb33-444"></a>        learning<span class="op">,</span></span>
<span id="cb33-445"><a href="#cb33-445"></a>        test<span class="op">,</span></span>
<span id="cb33-446"><a href="#cb33-446"></a>        saveData</span>
<span id="cb33-447"><a href="#cb33-447"></a>    ])<span class="op">;</span></span>
<span id="cb33-448"><a href="#cb33-448"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb33-449"><a href="#cb33-449"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb33-450"><a href="#cb33-450"></a>        preload<span class="op">,</span></span>
<span id="cb33-451"><a href="#cb33-451"></a>        welcome<span class="op">,</span></span>
<span id="cb33-452"><a href="#cb33-452"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb33-453"><a href="#cb33-453"></a>        learning<span class="op">,</span></span>
<span id="cb33-454"><a href="#cb33-454"></a>        test<span class="op">,</span></span>
<span id="cb33-455"><a href="#cb33-455"></a>        saveData</span>
<span id="cb33-456"><a href="#cb33-456"></a>    ])<span class="op">;</span></span>
<span id="cb33-457"><a href="#cb33-457"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb34-1"><a href="#cb34-1"></a> </span>
<span id="cb34-2"><a href="#cb34-2"></a>body {</span>
<span id="cb34-3"><a href="#cb34-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-5"><a href="#cb34-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-6"><a href="#cb34-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb34-7"><a href="#cb34-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>}  </span>
<span id="cb34-9"><a href="#cb34-9"></a></span>
<span id="cb34-10"><a href="#cb34-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb34-11"><a href="#cb34-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb34-12"><a href="#cb34-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb34-13"><a href="#cb34-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-14"><a href="#cb34-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-15"><a href="#cb34-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-16"><a href="#cb34-16"></a>}</span>
<span id="cb34-17"><a href="#cb34-17"></a></span>
<span id="cb34-18"><a href="#cb34-18"></a><span class="fu">.box</span> {</span>
<span id="cb34-19"><a href="#cb34-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-20"><a href="#cb34-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-21"><a href="#cb34-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb34-22"><a href="#cb34-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-23"><a href="#cb34-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-24"><a href="#cb34-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-25"><a href="#cb34-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-26"><a href="#cb34-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-27"><a href="#cb34-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-28"><a href="#cb34-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-29"><a href="#cb34-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb34-30"><a href="#cb34-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb34-31"><a href="#cb34-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb34-32"><a href="#cb34-32"></a>}</span>
<span id="cb34-33"><a href="#cb34-33"></a></span>
<span id="cb34-34"><a href="#cb34-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb34-35"><a href="#cb34-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb34-36"><a href="#cb34-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb34-37"><a href="#cb34-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-38"><a href="#cb34-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-39"><a href="#cb34-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-40"><a href="#cb34-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb34-41"><a href="#cb34-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb34-42"><a href="#cb34-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb34-43"><a href="#cb34-43"></a>}</span>
<span id="cb34-44"><a href="#cb34-44"></a></span>
<span id="cb34-45"><a href="#cb34-45"></a><span class="fu">.grid</span> {</span>
<span id="cb34-46"><a href="#cb34-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb34-47"><a href="#cb34-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb34-48"><a href="#cb34-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb34-49"><a href="#cb34-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb34-50"><a href="#cb34-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-51"><a href="#cb34-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb34-52"><a href="#cb34-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb34-53"><a href="#cb34-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-54"><a href="#cb34-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-55"><a href="#cb34-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-56"><a href="#cb34-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-57"><a href="#cb34-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-58"><a href="#cb34-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb34-59"><a href="#cb34-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb34-60"><a href="#cb34-60"></a></span>
<span id="cb34-61"><a href="#cb34-61"></a>}</span>
<span id="cb34-62"><a href="#cb34-62"></a></span>
<span id="cb34-63"><a href="#cb34-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb34-64"><a href="#cb34-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb34-65"><a href="#cb34-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb34-66"><a href="#cb34-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb34-67"><a href="#cb34-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb34-68"><a href="#cb34-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb34-69"><a href="#cb34-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb34-70"><a href="#cb34-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb34-71"><a href="#cb34-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb34-72"><a href="#cb34-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb34-73"><a href="#cb34-73"></a></span>
<span id="cb34-74"><a href="#cb34-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb34-75"><a href="#cb34-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb34-76"><a href="#cb34-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb34-77"><a href="#cb34-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb34-78"><a href="#cb34-78"></a><span class="co">}</span></span>
<span id="cb34-79"><a href="#cb34-79"></a><span class="co">*/</span></span>
<span id="cb34-80"><a href="#cb34-80"></a></span>
<span id="cb34-81"><a href="#cb34-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb34-82"><a href="#cb34-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-83"><a href="#cb34-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-84"><a href="#cb34-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb34-85"><a href="#cb34-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb34-86"><a href="#cb34-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb34-87"><a href="#cb34-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-88"><a href="#cb34-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb34-89"><a href="#cb34-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-90"><a href="#cb34-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-91"><a href="#cb34-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-92"><a href="#cb34-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-93"><a href="#cb34-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-94"><a href="#cb34-94"></a>}</span>
<span id="cb34-95"><a href="#cb34-95"></a></span>
<span id="cb34-96"><a href="#cb34-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb34-97"><a href="#cb34-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb34-98"><a href="#cb34-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-99"><a href="#cb34-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-100"><a href="#cb34-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb34-101"><a href="#cb34-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb34-102"><a href="#cb34-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb34-103"><a href="#cb34-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb34-104"><a href="#cb34-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-105"><a href="#cb34-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb34-106"><a href="#cb34-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-107"><a href="#cb34-107"></a>}</span>
<span id="cb34-108"><a href="#cb34-108"></a></span>
<span id="cb34-109"><a href="#cb34-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb34-110"><a href="#cb34-110"></a>    <span class="dv">from</span> {</span>
<span id="cb34-111"><a href="#cb34-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-112"><a href="#cb34-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-113"><a href="#cb34-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-114"><a href="#cb34-114"></a>    }</span>
<span id="cb34-115"><a href="#cb34-115"></a>    <span class="dv">to</span> {</span>
<span id="cb34-116"><a href="#cb34-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-117"><a href="#cb34-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-118"><a href="#cb34-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-119"><a href="#cb34-119"></a>    }</span>
<span id="cb34-120"><a href="#cb34-120"></a>}</span>
<span id="cb34-121"><a href="#cb34-121"></a></span>
<span id="cb34-122"><a href="#cb34-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb34-123"><a href="#cb34-123"></a>    <span class="dv">from</span> {</span>
<span id="cb34-124"><a href="#cb34-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-125"><a href="#cb34-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-126"><a href="#cb34-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-127"><a href="#cb34-127"></a>    }</span>
<span id="cb34-128"><a href="#cb34-128"></a>    <span class="dv">to</span> {</span>
<span id="cb34-129"><a href="#cb34-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-130"><a href="#cb34-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-131"><a href="#cb34-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-132"><a href="#cb34-132"></a>    }</span>
<span id="cb34-133"><a href="#cb34-133"></a>}</span>
<span id="cb34-134"><a href="#cb34-134"></a></span>
<span id="cb34-135"><a href="#cb34-135"></a></span>
<span id="cb34-136"><a href="#cb34-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb34-137"><a href="#cb34-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-138"><a href="#cb34-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-139"><a href="#cb34-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb34-140"><a href="#cb34-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb34-141"><a href="#cb34-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-142"><a href="#cb34-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-143"><a href="#cb34-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-144"><a href="#cb34-144"></a>}</span>
<span id="cb34-145"><a href="#cb34-145"></a></span>
<span id="cb34-146"><a href="#cb34-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb34-147"><a href="#cb34-147"></a>    <span class="dv">from</span> {</span>
<span id="cb34-148"><a href="#cb34-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-149"><a href="#cb34-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-150"><a href="#cb34-150"></a>    }</span>
<span id="cb34-151"><a href="#cb34-151"></a>    <span class="dv">to</span> {</span>
<span id="cb34-152"><a href="#cb34-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-153"><a href="#cb34-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-154"><a href="#cb34-154"></a>    }</span>
<span id="cb34-155"><a href="#cb34-155"></a>}</span>
<span id="cb34-156"><a href="#cb34-156"></a></span>
<span id="cb34-157"><a href="#cb34-157"></a></span>
<span id="cb34-158"><a href="#cb34-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb34-159"><a href="#cb34-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-160"><a href="#cb34-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-161"><a href="#cb34-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb34-162"><a href="#cb34-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb34-163"><a href="#cb34-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb34-164"><a href="#cb34-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb34-165"><a href="#cb34-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-166"><a href="#cb34-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb34-167"><a href="#cb34-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-168"><a href="#cb34-168"></a>}</span>
<span id="cb34-169"><a href="#cb34-169"></a></span>
<span id="cb34-170"><a href="#cb34-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb34-171"><a href="#cb34-171"></a>    <span class="dv">from</span> {</span>
<span id="cb34-172"><a href="#cb34-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-173"><a href="#cb34-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-174"><a href="#cb34-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-175"><a href="#cb34-175"></a>    }</span>
<span id="cb34-176"><a href="#cb34-176"></a>    <span class="dv">to</span> {</span>
<span id="cb34-177"><a href="#cb34-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-178"><a href="#cb34-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-179"><a href="#cb34-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-180"><a href="#cb34-180"></a>    }</span>
<span id="cb34-181"><a href="#cb34-181"></a>}</span>
<span id="cb34-182"><a href="#cb34-182"></a></span>
<span id="cb34-183"><a href="#cb34-183"></a></span>
<span id="cb34-184"><a href="#cb34-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb34-185"><a href="#cb34-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb34-186"><a href="#cb34-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb34-187"><a href="#cb34-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb34-188"><a href="#cb34-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb34-189"><a href="#cb34-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-190"><a href="#cb34-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb34-191"><a href="#cb34-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-192"><a href="#cb34-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-193"><a href="#cb34-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-194"><a href="#cb34-194"></a>}</span>
<span id="cb34-195"><a href="#cb34-195"></a></span>
<span id="cb34-196"><a href="#cb34-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb34-197"><a href="#cb34-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-198"><a href="#cb34-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb34-199"><a href="#cb34-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb34-200"><a href="#cb34-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-201"><a href="#cb34-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-202"><a href="#cb34-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-203"><a href="#cb34-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-204"><a href="#cb34-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-205"><a href="#cb34-205"></a>}</span>
<span id="cb34-206"><a href="#cb34-206"></a></span>
<span id="cb34-207"><a href="#cb34-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb34-208"><a href="#cb34-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-209"><a href="#cb34-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb34-210"><a href="#cb34-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb34-211"><a href="#cb34-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-212"><a href="#cb34-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-213"><a href="#cb34-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-214"><a href="#cb34-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-215"><a href="#cb34-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-216"><a href="#cb34-216"></a>}</span>
<span id="cb34-217"><a href="#cb34-217"></a></span>
<span id="cb34-218"><a href="#cb34-218"></a><span class="co">/* Lives display */</span></span>
<span id="cb34-219"><a href="#cb34-219"></a><span class="fu">.lives-display</span> {</span>
<span id="cb34-220"><a href="#cb34-220"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb34-221"><a href="#cb34-221"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-222"><a href="#cb34-222"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb34-223"><a href="#cb34-223"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-224"><a href="#cb34-224"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-225"><a href="#cb34-225"></a>}</span>
<span id="cb34-226"><a href="#cb34-226"></a></span>
<span id="cb34-227"><a href="#cb34-227"></a><span class="fu">.hearts</span> {</span>
<span id="cb34-228"><a href="#cb34-228"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-229"><a href="#cb34-229"></a>  <span class="kw">filter</span><span class="ch">:</span> <span class="fu">drop-shadow(</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff0066</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-230"><a href="#cb34-230"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb34-231"><a href="#cb34-231"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb34-232"><a href="#cb34-232"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-233"><a href="#cb34-233"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb34-234"><a href="#cb34-234"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-235"><a href="#cb34-235"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-236"><a href="#cb34-236"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-237"><a href="#cb34-237"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb34-238"><a href="#cb34-238"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-239"><a href="#cb34-239"></a>}</span>
<span id="cb34-240"><a href="#cb34-240"></a></span>
<span id="cb34-241"><a href="#cb34-241"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb34-242"><a href="#cb34-242"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb34-243"><a href="#cb34-243"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb34-244"><a href="#cb34-244"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb34-245"><a href="#cb34-245"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb34-246"><a href="#cb34-246"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb34-247"><a href="#cb34-247"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-248"><a href="#cb34-248"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-249"><a href="#cb34-249"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb34-250"><a href="#cb34-250"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb34-251"><a href="#cb34-251"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb34-252"><a href="#cb34-252"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb34-253"><a href="#cb34-253"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb34-254"><a href="#cb34-254"></a>}</span>
<span id="cb34-255"><a href="#cb34-255"></a></span>
<span id="cb34-256"><a href="#cb34-256"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb34-257"><a href="#cb34-257"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb34-258"><a href="#cb34-258"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb34-259"><a href="#cb34-259"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb34-260"><a href="#cb34-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb34-261"><a href="#cb34-261"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb34-262"><a href="#cb34-262"></a>}</span>
<span id="cb34-263"><a href="#cb34-263"></a></span>
<span id="cb34-264"><a href="#cb34-264"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb34-265"><a href="#cb34-265"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-266"><a href="#cb34-266"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-267"><a href="#cb34-267"></a>}</span>
<span id="cb34-268"><a href="#cb34-268"></a></span>
<span id="cb34-269"><a href="#cb34-269"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb34-270"><a href="#cb34-270"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb34-271"><a href="#cb34-271"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-272"><a href="#cb34-272"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-273"><a href="#cb34-273"></a>}</span>
<span id="cb34-274"><a href="#cb34-274"></a></span>
<span id="cb34-275"><a href="#cb34-275"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb34-276"><a href="#cb34-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb34-277"><a href="#cb34-277"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-278"><a href="#cb34-278"></a>}</span>
<span id="cb34-279"><a href="#cb34-279"></a></span>
<span id="cb34-280"><a href="#cb34-280"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb34-281"><a href="#cb34-281"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb34-282"><a href="#cb34-282"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb34-283"><a href="#cb34-283"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-284"><a href="#cb34-284"></a>}</span>
<span id="cb34-285"><a href="#cb34-285"></a></span>
<span id="cb34-286"><a href="#cb34-286"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb34-287"><a href="#cb34-287"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb34-288"><a href="#cb34-288"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb34-289"><a href="#cb34-289"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb34-290"><a href="#cb34-290"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb34-291"><a href="#cb34-291"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-292"><a href="#cb34-292"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb34-293"><a href="#cb34-293"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-294"><a href="#cb34-294"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb34-295"><a href="#cb34-295"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb34-296"><a href="#cb34-296"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb34-297"><a href="#cb34-297"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb34-298"><a href="#cb34-298"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-299"><a href="#cb34-299"></a>}</span>
<span id="cb34-300"><a href="#cb34-300"></a></span>
<span id="cb34-301"><a href="#cb34-301"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb34-302"><a href="#cb34-302"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb34-303"><a href="#cb34-303"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-304"><a href="#cb34-304"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb34-305"><a href="#cb34-305"></a>}</span>
<span id="cb34-306"><a href="#cb34-306"></a></span>
<span id="cb34-307"><a href="#cb34-307"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb34-308"><a href="#cb34-308"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-309"><a href="#cb34-309"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb34-310"><a href="#cb34-310"></a>}</span>
<span id="cb34-311"><a href="#cb34-311"></a></span>
<span id="cb34-312"><a href="#cb34-312"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb34-313"><a href="#cb34-313"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb34-314"><a href="#cb34-314"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb34-315"><a href="#cb34-315"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb34-316"><a href="#cb34-316"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb34-317"><a href="#cb34-317"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb34-318"><a href="#cb34-318"></a>}</span>
<span id="cb34-319"><a href="#cb34-319"></a></span>
<span id="cb34-320"><a href="#cb34-320"></a><span class="co">/* Style the button container */</span></span>
<span id="cb34-321"><a href="#cb34-321"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb34-322"><a href="#cb34-322"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb34-323"><a href="#cb34-323"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-324"><a href="#cb34-324"></a>}</span>
<span id="cb34-325"><a href="#cb34-325"></a></span>
<span id="cb34-326"><a href="#cb34-326"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb34-327"><a href="#cb34-327"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb34-328"><a href="#cb34-328"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb34-329"><a href="#cb34-329"></a>}</span>
<span id="cb34-330"><a href="#cb34-330"></a></span>
<span id="cb34-331"><a href="#cb34-331"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb34-332"><a href="#cb34-332"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb34-333"><a href="#cb34-333"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb34-334"><a href="#cb34-334"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb34-335"><a href="#cb34-335"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb34-336"><a href="#cb34-336"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb34-337"><a href="#cb34-337"></a></span>
<span id="cb34-338"><a href="#cb34-338"></a><span class="co">/**</span></span>
<span id="cb34-339"><a href="#cb34-339"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb34-340"><a href="#cb34-340"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb34-341"><a href="#cb34-341"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb34-342"><a href="#cb34-342"></a><span class="co"> */</span></span>
<span id="cb34-343"><a href="#cb34-343"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb34-344"><a href="#cb34-344"></a>  from {</span>
<span id="cb34-345"><a href="#cb34-345"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-346"><a href="#cb34-346"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-347"><a href="#cb34-347"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-348"><a href="#cb34-348"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-349"><a href="#cb34-349"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-350"><a href="#cb34-350"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-351"><a href="#cb34-351"></a>  }</span>
<span id="cb34-352"><a href="#cb34-352"></a>  10% {</span>
<span id="cb34-353"><a href="#cb34-353"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-354"><a href="#cb34-354"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-355"><a href="#cb34-355"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-356"><a href="#cb34-356"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-357"><a href="#cb34-357"></a>  }</span>
<span id="cb34-358"><a href="#cb34-358"></a>  17% {</span>
<span id="cb34-359"><a href="#cb34-359"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-360"><a href="#cb34-360"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-361"><a href="#cb34-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-362"><a href="#cb34-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-363"><a href="#cb34-363"></a>  }</span>
<span id="cb34-364"><a href="#cb34-364"></a>  33% {</span>
<span id="cb34-365"><a href="#cb34-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-366"><a href="#cb34-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-367"><a href="#cb34-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-368"><a href="#cb34-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-369"><a href="#cb34-369"></a>  }</span>
<span id="cb34-370"><a href="#cb34-370"></a>  45% {</span>
<span id="cb34-371"><a href="#cb34-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-372"><a href="#cb34-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-373"><a href="#cb34-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-374"><a href="#cb34-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-375"><a href="#cb34-375"></a>  }</span>
<span id="cb34-376"><a href="#cb34-376"></a>}</span>
<span id="cb34-377"><a href="#cb34-377"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb34-378"><a href="#cb34-378"></a>  <span class="dv">from</span> {</span>
<span id="cb34-379"><a href="#cb34-379"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-380"><a href="#cb34-380"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-381"><a href="#cb34-381"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-382"><a href="#cb34-382"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb34-383"><a href="#cb34-383"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-384"><a href="#cb34-384"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-385"><a href="#cb34-385"></a>  }</span>
<span id="cb34-386"><a href="#cb34-386"></a>  <span class="dv">10%</span> {</span>
<span id="cb34-387"><a href="#cb34-387"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-388"><a href="#cb34-388"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-389"><a href="#cb34-389"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-390"><a href="#cb34-390"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-391"><a href="#cb34-391"></a>  }</span>
<span id="cb34-392"><a href="#cb34-392"></a>  <span class="dv">17%</span> {</span>
<span id="cb34-393"><a href="#cb34-393"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-394"><a href="#cb34-394"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-395"><a href="#cb34-395"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-396"><a href="#cb34-396"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-397"><a href="#cb34-397"></a>  }</span>
<span id="cb34-398"><a href="#cb34-398"></a>  <span class="dv">33%</span> {</span>
<span id="cb34-399"><a href="#cb34-399"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-400"><a href="#cb34-400"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-401"><a href="#cb34-401"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-402"><a href="#cb34-402"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb34-403"><a href="#cb34-403"></a>  }</span>
<span id="cb34-404"><a href="#cb34-404"></a>  <span class="dv">45%</span> {</span>
<span id="cb34-405"><a href="#cb34-405"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-406"><a href="#cb34-406"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-407"><a href="#cb34-407"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-408"><a href="#cb34-408"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb34-409"><a href="#cb34-409"></a>  }</span>
<span id="cb34-410"><a href="#cb34-410"></a>}</span>
<span id="cb34-411"><a href="#cb34-411"></a></span>
<span id="cb34-412"><a href="#cb34-412"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb34-413"><a href="#cb34-413"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb34-414"><a href="#cb34-414"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb34-415"><a href="#cb34-415"></a>}</span>
<span id="cb34-416"><a href="#cb34-416"></a></span>
<span id="cb34-417"><a href="#cb34-417"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb34-418"><a href="#cb34-418"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb34-419"><a href="#cb34-419"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb34-420"><a href="#cb34-420"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb34-421"><a href="#cb34-421"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb34-422"><a href="#cb34-422"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb34-423"><a href="#cb34-423"></a></span>
<span id="cb34-424"><a href="#cb34-424"></a><span class="co">/**</span></span>
<span id="cb34-425"><a href="#cb34-425"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb34-426"><a href="#cb34-426"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb34-427"><a href="#cb34-427"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb34-428"><a href="#cb34-428"></a><span class="co"> */</span></span>
<span id="cb34-429"><a href="#cb34-429"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb34-430"><a href="#cb34-430"></a>  0%<span class="op">,</span></span>
<span id="cb34-431"><a href="#cb34-431"></a>  100% {</span>
<span id="cb34-432"><a href="#cb34-432"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-433"><a href="#cb34-433"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-434"><a href="#cb34-434"></a>  }</span>
<span id="cb34-435"><a href="#cb34-435"></a>  10%<span class="op">,</span></span>
<span id="cb34-436"><a href="#cb34-436"></a>  30%<span class="op">,</span></span>
<span id="cb34-437"><a href="#cb34-437"></a>  50%<span class="op">,</span></span>
<span id="cb34-438"><a href="#cb34-438"></a>  70% {</span>
<span id="cb34-439"><a href="#cb34-439"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-440"><a href="#cb34-440"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-441"><a href="#cb34-441"></a>  }</span>
<span id="cb34-442"><a href="#cb34-442"></a>  20%<span class="op">,</span></span>
<span id="cb34-443"><a href="#cb34-443"></a>  40%<span class="op">,</span></span>
<span id="cb34-444"><a href="#cb34-444"></a>  60% {</span>
<span id="cb34-445"><a href="#cb34-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-446"><a href="#cb34-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-447"><a href="#cb34-447"></a>  }</span>
<span id="cb34-448"><a href="#cb34-448"></a>  80% {</span>
<span id="cb34-449"><a href="#cb34-449"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-450"><a href="#cb34-450"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-451"><a href="#cb34-451"></a>  }</span>
<span id="cb34-452"><a href="#cb34-452"></a>  90% {</span>
<span id="cb34-453"><a href="#cb34-453"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-454"><a href="#cb34-454"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-455"><a href="#cb34-455"></a>  }</span>
<span id="cb34-456"><a href="#cb34-456"></a>}</span>
<span id="cb34-457"><a href="#cb34-457"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb34-458"><a href="#cb34-458"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb34-459"><a href="#cb34-459"></a>  <span class="dv">100%</span> {</span>
<span id="cb34-460"><a href="#cb34-460"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-461"><a href="#cb34-461"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-462"><a href="#cb34-462"></a>  }</span>
<span id="cb34-463"><a href="#cb34-463"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb34-464"><a href="#cb34-464"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb34-465"><a href="#cb34-465"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb34-466"><a href="#cb34-466"></a>  <span class="dv">70%</span> {</span>
<span id="cb34-467"><a href="#cb34-467"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-468"><a href="#cb34-468"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-469"><a href="#cb34-469"></a>  }</span>
<span id="cb34-470"><a href="#cb34-470"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb34-471"><a href="#cb34-471"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb34-472"><a href="#cb34-472"></a>  <span class="dv">60%</span> {</span>
<span id="cb34-473"><a href="#cb34-473"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-474"><a href="#cb34-474"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-475"><a href="#cb34-475"></a>  }</span>
<span id="cb34-476"><a href="#cb34-476"></a>  <span class="dv">80%</span> {</span>
<span id="cb34-477"><a href="#cb34-477"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-478"><a href="#cb34-478"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-479"><a href="#cb34-479"></a>  }</span>
<span id="cb34-480"><a href="#cb34-480"></a>  <span class="dv">90%</span> {</span>
<span id="cb34-481"><a href="#cb34-481"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-482"><a href="#cb34-482"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb34-483"><a href="#cb34-483"></a>  }</span>
<span id="cb34-484"><a href="#cb34-484"></a>}</span>
<span id="cb34-485"><a href="#cb34-485"></a></span>
<span id="cb34-486"><a href="#cb34-486"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-11-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-4-tab">
<div id="demo-container-10" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-10" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n/* Lives display */\n.lives-display {\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.hearts {\n  font-size: 16px;\n  filter: drop-shadow(0 0 5px #ff0066);\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n  -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;>\n      <div class=&quot;lives-display&quot;>\n          <div class=&quot;hearts&quot;>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n          </div>\n      </div>\n    </div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\nlet hearts = 5\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\nlet bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)\nbg_start.volume = .2\nbg_start.loop = true\n\nlet bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_game.volume = .2\nbg_game.loop = true\n\nlet bg_end = new Audio(&quot;audio/creep.mp3&quot;)\nbg_end.volume = .2\nbg_end.loop = true\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, \n&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          //score = score - 100\n          \n          hearts = hearts - 1\n          let heart_display = document.querySelector(&quot;.hearts&quot;)\n          if(hearts == 5){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n          } else if(hearts == 4){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`\n          } else if(hearts == 3){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 2){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 1){\n                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 0){\n                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          }\n          \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_game.play();\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 2,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_finish: function(){\n        bg_game.pause();\n        bg_game.currentTime = 0;\n    }\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    },\n    on_start: function(){\n      bg_end.play();\n    },\n    on_finish: function(){\n      bg_end.pause();\n      bg_end.currentTime = 0;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-10');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-10" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}

/* Lives display */
.lives-display {
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.hearts {
  font-size: 16px;
  filter: drop-shadow(0 0 5px #ff0066);
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;>
      <div class=&quot;lives-display&quot;>
          <div class=&quot;hearts&quot;>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
          </div>
      </div>
    </div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

let hearts = 5

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2

let bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)
bg_start.volume = .2
bg_start.loop = true

let bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_game.volume = .2
bg_game.loop = true

let bg_end = new Audio(&quot;audio/creep.mp3&quot;)
bg_end.volume = .2
bg_end.loop = true

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, 
&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          //score = score - 100
          
          hearts = hearts - 1
          let heart_display = document.querySelector(&quot;.hearts&quot;)
          if(hearts == 5){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
          } else if(hearts == 4){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`
          } else if(hearts == 3){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 2){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 1){
                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 0){
                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          }
          
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_game.play();
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 2,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_finish: function(){
        bg_game.pause();
        bg_game.currentTime = 0;
    }
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    },
    on_start: function(){
      bg_end.play();
    },
    on_finish: function(){
      bg_end.pause();
      bg_end.currentTime = 0;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-10&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-10&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-a-deathrestart-screen" class="level3" data-number="26.5.2">
<h3 data-number="26.5.2" class="anchored" data-anchor-id="add-a-deathrestart-screen"><span class="header-section-number">26.5.2</span> Add a Death/Restart Screen</h3>
<p>Another gameplay we could add is adding a ‘game over’ death if they lose all their hearts. We’ll make use of the conditional function to check for death on every trial and display the end screen if hearts reaches 0.</p>
<p>To restart the game, I had to end the experiment, clear the display, and restart everything.</p>
<p>Changes:</p>
<ol type="1">
<li><code>exp.js</code> - Add a new conditional trial that occurs after death, add the death trial to the learning and test timelines</li>
</ol>
<div class="cell">
<style type="text/css">
/* CB35 */

/* CB36 */
[id^="cb36-"]:nth-child(n+338):nth-child(-n+405),
[id^="cb36-"]:nth-child(n+412):nth-child(-n+413),
[id^="cb36-"]:nth-child(n+441):nth-child(-n+442){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB37 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-4" role="tab" aria-controls="tabset-12-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb35-1"><a href="#cb35-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb35-6"><a href="#cb35-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb35-7"><a href="#cb35-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb35-8"><a href="#cb35-8"></a>    </span>
<span id="cb35-9"><a href="#cb35-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb35-10"><a href="#cb35-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb35-11"><a href="#cb35-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb35-12"><a href="#cb35-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb35-13"><a href="#cb35-13"></a></span>
<span id="cb35-14"><a href="#cb35-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb35-15"><a href="#cb35-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb35-16"><a href="#cb35-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb35-17"><a href="#cb35-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb35-18"><a href="#cb35-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb35-19"><a href="#cb35-19"></a></span>
<span id="cb35-20"><a href="#cb35-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb35-21"><a href="#cb35-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb35-22"><a href="#cb35-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb35-23"><a href="#cb35-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb35-24"><a href="#cb35-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb35-25"><a href="#cb35-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb35-26"><a href="#cb35-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb35-27"><a href="#cb35-27"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb35-28"><a href="#cb35-28"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-29"><a href="#cb35-29"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-30"><a href="#cb35-30"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-31"><a href="#cb35-31"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-32"><a href="#cb35-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb35-33"><a href="#cb35-33"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>WHACK-A-ZOMBIE!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb35-34"><a href="#cb35-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-35"><a href="#cb35-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb35-36"><a href="#cb35-36"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb35-37"><a href="#cb35-37"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HIGH-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-38"><a href="#cb35-38"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"high-score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>999999<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-39"><a href="#cb35-39"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-40"><a href="#cb35-40"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-41"><a href="#cb35-41"></a>    </span>
<span id="cb35-42"><a href="#cb35-42"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span></span>
<span id="cb35-43"><a href="#cb35-43"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"lives-display"</span><span class="dt">&gt;</span></span>
<span id="cb35-44"><a href="#cb35-44"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"hearts"</span><span class="dt">&gt;</span></span>
<span id="cb35-45"><a href="#cb35-45"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb35-46"><a href="#cb35-46"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb35-47"><a href="#cb35-47"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb35-48"><a href="#cb35-48"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb35-49"><a href="#cb35-49"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb35-50"><a href="#cb35-50"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-51"><a href="#cb35-51"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-52"><a href="#cb35-52"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-53"><a href="#cb35-53"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-54"><a href="#cb35-54"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-55"><a href="#cb35-55"></a>    </span>
<span id="cb35-56"><a href="#cb35-56"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-57"><a href="#cb35-57"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-58"><a href="#cb35-58"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-59"><a href="#cb35-59"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-60"><a href="#cb35-60"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-61"><a href="#cb35-61"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb35-62"><a href="#cb35-62"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb35-63"><a href="#cb35-63"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb35-64"><a href="#cb35-64"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb35-65"><a href="#cb35-65"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb36-1"><a href="#cb36-1"></a> </span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="co">// ============================================</span></span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb36-4"><a href="#cb36-4"></a><span class="co">// ============================================</span></span>
<span id="cb36-5"><a href="#cb36-5"></a></span>
<span id="cb36-6"><a href="#cb36-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb36-7"><a href="#cb36-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb36-8"><a href="#cb36-8"></a>                ) </span>
<span id="cb36-9"><a href="#cb36-9"></a></span>
<span id="cb36-10"><a href="#cb36-10"></a><span class="co">// ============================================</span></span>
<span id="cb36-11"><a href="#cb36-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb36-12"><a href="#cb36-12"></a><span class="co">// ============================================</span></span>
<span id="cb36-13"><a href="#cb36-13"></a></span>
<span id="cb36-14"><a href="#cb36-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb36-15"><a href="#cb36-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb36-16"><a href="#cb36-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-17"><a href="#cb36-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb36-18"><a href="#cb36-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb36-19"><a href="#cb36-19"></a>    }</span>
<span id="cb36-20"><a href="#cb36-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb36-21"><a href="#cb36-21"></a>}</span>
<span id="cb36-22"><a href="#cb36-22"></a></span>
<span id="cb36-23"><a href="#cb36-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb36-24"><a href="#cb36-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb36-25"><a href="#cb36-25"></a></span>
<span id="cb36-26"><a href="#cb36-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb36-27"><a href="#cb36-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb36-28"><a href="#cb36-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb36-29"><a href="#cb36-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb36-30"><a href="#cb36-30"></a></span>
<span id="cb36-31"><a href="#cb36-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb36-32"><a href="#cb36-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb36-33"><a href="#cb36-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb36-34"><a href="#cb36-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb36-35"><a href="#cb36-35"></a>})<span class="op">;</span></span>
<span id="cb36-36"><a href="#cb36-36"></a></span>
<span id="cb36-37"><a href="#cb36-37"></a></span>
<span id="cb36-38"><a href="#cb36-38"></a><span class="co">// ============================================</span></span>
<span id="cb36-39"><a href="#cb36-39"></a><span class="co">// Trackers</span></span>
<span id="cb36-40"><a href="#cb36-40"></a><span class="co">// ============================================</span></span>
<span id="cb36-41"><a href="#cb36-41"></a></span>
<span id="cb36-42"><a href="#cb36-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-43"><a href="#cb36-43"></a></span>
<span id="cb36-44"><a href="#cb36-44"></a><span class="kw">let</span> hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb36-45"><a href="#cb36-45"></a></span>
<span id="cb36-46"><a href="#cb36-46"></a><span class="co">// ============================================</span></span>
<span id="cb36-47"><a href="#cb36-47"></a><span class="co">// Audio Setup</span></span>
<span id="cb36-48"><a href="#cb36-48"></a><span class="co">// ============================================</span></span>
<span id="cb36-49"><a href="#cb36-49"></a></span>
<span id="cb36-50"><a href="#cb36-50"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb36-51"><a href="#cb36-51"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb36-52"><a href="#cb36-52"></a></span>
<span id="cb36-53"><a href="#cb36-53"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb36-54"><a href="#cb36-54"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb36-55"><a href="#cb36-55"></a></span>
<span id="cb36-56"><a href="#cb36-56"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb36-57"><a href="#cb36-57"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb36-58"><a href="#cb36-58"></a></span>
<span id="cb36-59"><a href="#cb36-59"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb36-60"><a href="#cb36-60"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb36-61"><a href="#cb36-61"></a></span>
<span id="cb36-62"><a href="#cb36-62"></a><span class="kw">let</span> bg_start <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/SeriousCutScene.wav"</span>)</span>
<span id="cb36-63"><a href="#cb36-63"></a>bg_start<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb36-64"><a href="#cb36-64"></a>bg_start<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb36-65"><a href="#cb36-65"></a></span>
<span id="cb36-66"><a href="#cb36-66"></a><span class="kw">let</span> bg_game <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb36-67"><a href="#cb36-67"></a>bg_game<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb36-68"><a href="#cb36-68"></a>bg_game<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb36-69"><a href="#cb36-69"></a></span>
<span id="cb36-70"><a href="#cb36-70"></a><span class="kw">let</span> bg_end <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/creep.mp3"</span>)</span>
<span id="cb36-71"><a href="#cb36-71"></a>bg_end<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb36-72"><a href="#cb36-72"></a>bg_end<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb36-73"><a href="#cb36-73"></a></span>
<span id="cb36-74"><a href="#cb36-74"></a><span class="co">// ============================================</span></span>
<span id="cb36-75"><a href="#cb36-75"></a><span class="co">// Preload</span></span>
<span id="cb36-76"><a href="#cb36-76"></a><span class="co">// ============================================</span></span>
<span id="cb36-77"><a href="#cb36-77"></a></span>
<span id="cb36-78"><a href="#cb36-78"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb36-79"><a href="#cb36-79"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb36-80"><a href="#cb36-80"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb36-81"><a href="#cb36-81"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span><span class="op">,</span> </span>
<span id="cb36-82"><a href="#cb36-82"></a><span class="st">"audio/SeriousCutScene.wav"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span><span class="op">,</span> <span class="st">"audio/creep.mp3"</span>]</span>
<span id="cb36-83"><a href="#cb36-83"></a>}</span>
<span id="cb36-84"><a href="#cb36-84"></a></span>
<span id="cb36-85"><a href="#cb36-85"></a><span class="co">// ============================================</span></span>
<span id="cb36-86"><a href="#cb36-86"></a><span class="co">// Welcome</span></span>
<span id="cb36-87"><a href="#cb36-87"></a><span class="co">// ============================================</span></span>
<span id="cb36-88"><a href="#cb36-88"></a></span>
<span id="cb36-89"><a href="#cb36-89"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb36-90"><a href="#cb36-90"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-91"><a href="#cb36-91"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-92"><a href="#cb36-92"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb36-93"><a href="#cb36-93"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-94"><a href="#cb36-94"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb36-95"><a href="#cb36-95"></a>}</span>
<span id="cb36-96"><a href="#cb36-96"></a></span>
<span id="cb36-97"><a href="#cb36-97"></a><span class="co">// ============================================</span></span>
<span id="cb36-98"><a href="#cb36-98"></a><span class="co">// Instructions</span></span>
<span id="cb36-99"><a href="#cb36-99"></a><span class="co">// ============================================</span></span>
<span id="cb36-100"><a href="#cb36-100"></a></span>
<span id="cb36-101"><a href="#cb36-101"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb36-102"><a href="#cb36-102"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb36-103"><a href="#cb36-103"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-104"><a href="#cb36-104"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb36-105"><a href="#cb36-105"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb36-106"><a href="#cb36-106"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-107"><a href="#cb36-107"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-108"><a href="#cb36-108"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb36-109"><a href="#cb36-109"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb36-110"><a href="#cb36-110"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb36-111"><a href="#cb36-111"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb36-112"><a href="#cb36-112"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb36-113"><a href="#cb36-113"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb36-114"><a href="#cb36-114"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-115"><a href="#cb36-115"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-116"><a href="#cb36-116"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb36-117"><a href="#cb36-117"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb36-118"><a href="#cb36-118"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb36-119"><a href="#cb36-119"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb36-120"><a href="#cb36-120"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-121"><a href="#cb36-121"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-122"><a href="#cb36-122"></a>    }<span class="op">,</span></span>
<span id="cb36-123"><a href="#cb36-123"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-124"><a href="#cb36-124"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-125"><a href="#cb36-125"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-126"><a href="#cb36-126"></a>    }</span>
<span id="cb36-127"><a href="#cb36-127"></a>}</span>
<span id="cb36-128"><a href="#cb36-128"></a></span>
<span id="cb36-129"><a href="#cb36-129"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb36-130"><a href="#cb36-130"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb36-131"><a href="#cb36-131"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-132"><a href="#cb36-132"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb36-133"><a href="#cb36-133"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb36-134"><a href="#cb36-134"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-135"><a href="#cb36-135"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb36-136"><a href="#cb36-136"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb36-137"><a href="#cb36-137"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb36-138"><a href="#cb36-138"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb36-139"><a href="#cb36-139"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb36-140"><a href="#cb36-140"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb36-141"><a href="#cb36-141"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb36-142"><a href="#cb36-142"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-143"><a href="#cb36-143"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb36-144"><a href="#cb36-144"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb36-145"><a href="#cb36-145"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb36-146"><a href="#cb36-146"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb36-147"><a href="#cb36-147"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb36-148"><a href="#cb36-148"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb36-149"><a href="#cb36-149"></a>        ]<span class="op">,</span></span>
<span id="cb36-150"><a href="#cb36-150"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb36-151"><a href="#cb36-151"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-152"><a href="#cb36-152"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-153"><a href="#cb36-153"></a>    }<span class="op">,</span></span>
<span id="cb36-154"><a href="#cb36-154"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-155"><a href="#cb36-155"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-156"><a href="#cb36-156"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-157"><a href="#cb36-157"></a>    }</span>
<span id="cb36-158"><a href="#cb36-158"></a>}</span>
<span id="cb36-159"><a href="#cb36-159"></a></span>
<span id="cb36-160"><a href="#cb36-160"></a><span class="co">// ============================================</span></span>
<span id="cb36-161"><a href="#cb36-161"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb36-162"><a href="#cb36-162"></a><span class="co">// ============================================</span></span>
<span id="cb36-163"><a href="#cb36-163"></a></span>
<span id="cb36-164"><a href="#cb36-164"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb36-165"><a href="#cb36-165"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-166"><a href="#cb36-166"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-167"><a href="#cb36-167"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-168"><a href="#cb36-168"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-169"><a href="#cb36-169"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-170"><a href="#cb36-170"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-171"><a href="#cb36-171"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-172"><a href="#cb36-172"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb36-173"><a href="#cb36-173"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb36-174"><a href="#cb36-174"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-175"><a href="#cb36-175"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb36-176"><a href="#cb36-176"></a>    }</span>
<span id="cb36-177"><a href="#cb36-177"></a>}</span>
<span id="cb36-178"><a href="#cb36-178"></a></span>
<span id="cb36-179"><a href="#cb36-179"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb36-180"><a href="#cb36-180"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-181"><a href="#cb36-181"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-182"><a href="#cb36-182"></a>        <span class="kw">let</span> output</span>
<span id="cb36-183"><a href="#cb36-183"></a></span>
<span id="cb36-184"><a href="#cb36-184"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb36-185"><a href="#cb36-185"></a></span>
<span id="cb36-186"><a href="#cb36-186"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb36-187"><a href="#cb36-187"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-188"><a href="#cb36-188"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-189"><a href="#cb36-189"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-190"><a href="#cb36-190"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-191"><a href="#cb36-191"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-192"><a href="#cb36-192"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-193"><a href="#cb36-193"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb36-194"><a href="#cb36-194"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-195"><a href="#cb36-195"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-196"><a href="#cb36-196"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-197"><a href="#cb36-197"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-198"><a href="#cb36-198"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-199"><a href="#cb36-199"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-200"><a href="#cb36-200"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb36-201"><a href="#cb36-201"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-202"><a href="#cb36-202"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-203"><a href="#cb36-203"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-204"><a href="#cb36-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-205"><a href="#cb36-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-206"><a href="#cb36-206"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-207"><a href="#cb36-207"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb36-208"><a href="#cb36-208"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-209"><a href="#cb36-209"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-210"><a href="#cb36-210"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-211"><a href="#cb36-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-212"><a href="#cb36-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-213"><a href="#cb36-213"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-214"><a href="#cb36-214"></a>        }</span>
<span id="cb36-215"><a href="#cb36-215"></a></span>
<span id="cb36-216"><a href="#cb36-216"></a>        <span class="cf">return</span> output</span>
<span id="cb36-217"><a href="#cb36-217"></a>    }<span class="op">,</span></span>
<span id="cb36-218"><a href="#cb36-218"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb36-219"><a href="#cb36-219"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-220"><a href="#cb36-220"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb36-221"><a href="#cb36-221"></a>    }<span class="op">,</span></span>
<span id="cb36-222"><a href="#cb36-222"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-223"><a href="#cb36-223"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-224"><a href="#cb36-224"></a>    }</span>
<span id="cb36-225"><a href="#cb36-225"></a>}</span>
<span id="cb36-226"><a href="#cb36-226"></a></span>
<span id="cb36-227"><a href="#cb36-227"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb36-228"><a href="#cb36-228"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-229"><a href="#cb36-229"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-230"><a href="#cb36-230"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb36-231"><a href="#cb36-231"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb36-232"><a href="#cb36-232"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb36-233"><a href="#cb36-233"></a>        </span>
<span id="cb36-234"><a href="#cb36-234"></a>        <span class="kw">let</span> feedback</span>
<span id="cb36-235"><a href="#cb36-235"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb36-236"><a href="#cb36-236"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb36-237"><a href="#cb36-237"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb36-238"><a href="#cb36-238"></a>          </span>
<span id="cb36-239"><a href="#cb36-239"></a>          <span class="co">// play correct audio </span></span>
<span id="cb36-240"><a href="#cb36-240"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-241"><a href="#cb36-241"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-242"><a href="#cb36-242"></a>  </span>
<span id="cb36-243"><a href="#cb36-243"></a>        } <span class="cf">else</span> {</span>
<span id="cb36-244"><a href="#cb36-244"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb36-245"><a href="#cb36-245"></a>          <span class="co">//score = score - 100</span></span>
<span id="cb36-246"><a href="#cb36-246"></a>          </span>
<span id="cb36-247"><a href="#cb36-247"></a>          hearts <span class="op">=</span> hearts <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb36-248"><a href="#cb36-248"></a>          <span class="kw">let</span> heart_display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)</span>
<span id="cb36-249"><a href="#cb36-249"></a>          <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">5</span>){</span>
<span id="cb36-250"><a href="#cb36-250"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb36-251"><a href="#cb36-251"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb36-252"><a href="#cb36-252"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb36-253"><a href="#cb36-253"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb36-254"><a href="#cb36-254"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb36-255"><a href="#cb36-255"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb36-256"><a href="#cb36-256"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb36-257"><a href="#cb36-257"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb36-258"><a href="#cb36-258"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb36-259"><a href="#cb36-259"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">0</span>){</span>
<span id="cb36-260"><a href="#cb36-260"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb36-261"><a href="#cb36-261"></a>          }</span>
<span id="cb36-262"><a href="#cb36-262"></a>          </span>
<span id="cb36-263"><a href="#cb36-263"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb36-264"><a href="#cb36-264"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-265"><a href="#cb36-265"></a>        }</span>
<span id="cb36-266"><a href="#cb36-266"></a>        </span>
<span id="cb36-267"><a href="#cb36-267"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb36-268"><a href="#cb36-268"></a></span>
<span id="cb36-269"><a href="#cb36-269"></a>        <span class="co">// update score</span></span>
<span id="cb36-270"><a href="#cb36-270"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb36-271"><a href="#cb36-271"></a>        <span class="co">// add animation to score</span></span>
<span id="cb36-272"><a href="#cb36-272"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb36-273"><a href="#cb36-273"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb36-274"><a href="#cb36-274"></a>        } <span class="cf">else</span> {</span>
<span id="cb36-275"><a href="#cb36-275"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb36-276"><a href="#cb36-276"></a>        }</span>
<span id="cb36-277"><a href="#cb36-277"></a></span>
<span id="cb36-278"><a href="#cb36-278"></a>        <span class="co">// update output</span></span>
<span id="cb36-279"><a href="#cb36-279"></a>        <span class="kw">let</span> output</span>
<span id="cb36-280"><a href="#cb36-280"></a></span>
<span id="cb36-281"><a href="#cb36-281"></a>        <span class="co">// still need the location</span></span>
<span id="cb36-282"><a href="#cb36-282"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb36-283"><a href="#cb36-283"></a></span>
<span id="cb36-284"><a href="#cb36-284"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb36-285"><a href="#cb36-285"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-286"><a href="#cb36-286"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-287"><a href="#cb36-287"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-288"><a href="#cb36-288"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-289"><a href="#cb36-289"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-290"><a href="#cb36-290"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-291"><a href="#cb36-291"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb36-292"><a href="#cb36-292"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-293"><a href="#cb36-293"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-294"><a href="#cb36-294"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-295"><a href="#cb36-295"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-296"><a href="#cb36-296"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-297"><a href="#cb36-297"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-298"><a href="#cb36-298"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb36-299"><a href="#cb36-299"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-300"><a href="#cb36-300"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-301"><a href="#cb36-301"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-302"><a href="#cb36-302"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-303"><a href="#cb36-303"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-304"><a href="#cb36-304"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-305"><a href="#cb36-305"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb36-306"><a href="#cb36-306"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb36-307"><a href="#cb36-307"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-308"><a href="#cb36-308"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-309"><a href="#cb36-309"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb36-310"><a href="#cb36-310"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb36-311"><a href="#cb36-311"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb36-312"><a href="#cb36-312"></a>        }</span>
<span id="cb36-313"><a href="#cb36-313"></a></span>
<span id="cb36-314"><a href="#cb36-314"></a>        <span class="cf">return</span> output</span>
<span id="cb36-315"><a href="#cb36-315"></a>    }<span class="op">,</span></span>
<span id="cb36-316"><a href="#cb36-316"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb36-317"><a href="#cb36-317"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb36-318"><a href="#cb36-318"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-319"><a href="#cb36-319"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb36-320"><a href="#cb36-320"></a>    }<span class="op">,</span></span>
<span id="cb36-321"><a href="#cb36-321"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-322"><a href="#cb36-322"></a>          </span>
<span id="cb36-323"><a href="#cb36-323"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb36-324"><a href="#cb36-324"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-325"><a href="#cb36-325"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-326"><a href="#cb36-326"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-327"><a href="#cb36-327"></a>          </span>
<span id="cb36-328"><a href="#cb36-328"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-329"><a href="#cb36-329"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-330"><a href="#cb36-330"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-331"><a href="#cb36-331"></a></span>
<span id="cb36-332"><a href="#cb36-332"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb36-333"><a href="#cb36-333"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb36-334"><a href="#cb36-334"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb36-335"><a href="#cb36-335"></a>    }</span>
<span id="cb36-336"><a href="#cb36-336"></a>}</span>
<span id="cb36-337"><a href="#cb36-337"></a></span>
<span id="cb36-338"><a href="#cb36-338"></a><span class="co">// check death</span></span>
<span id="cb36-339"><a href="#cb36-339"></a><span class="kw">let</span> death <span class="op">=</span> {</span>
<span id="cb36-340"><a href="#cb36-340"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb36-341"><a href="#cb36-341"></a>    {</span>
<span id="cb36-342"><a href="#cb36-342"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-343"><a href="#cb36-343"></a>        <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb36-344"><a href="#cb36-344"></a><span class="vs">                      &lt;h3 class="game-title" style="color:#ff00ff"&gt;You Died!&lt;/h3&gt;</span></span>
<span id="cb36-345"><a href="#cb36-345"></a><span class="vs">                      &lt;p&gt;Press "ENTER" to try again.&lt;/p&gt;</span></span>
<span id="cb36-346"><a href="#cb36-346"></a><span class="vs">                    &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb36-347"><a href="#cb36-347"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]<span class="op">,</span></span>
<span id="cb36-348"><a href="#cb36-348"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb36-349"><a href="#cb36-349"></a>      <span class="dt">data</span><span class="op">:</span> {<span class="dt">trial_part</span><span class="op">:</span> <span class="st">"death"</span>}<span class="op">,</span></span>
<span id="cb36-350"><a href="#cb36-350"></a>      <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-351"><a href="#cb36-351"></a>          bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-352"><a href="#cb36-352"></a>          bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-353"><a href="#cb36-353"></a>      }<span class="op">,</span></span>
<span id="cb36-354"><a href="#cb36-354"></a>      <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-355"><a href="#cb36-355"></a>          bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-356"><a href="#cb36-356"></a>      }</span>
<span id="cb36-357"><a href="#cb36-357"></a>    }</span>
<span id="cb36-358"><a href="#cb36-358"></a>  ]<span class="op">,</span></span>
<span id="cb36-359"><a href="#cb36-359"></a>   <span class="dt">conditional_function</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-360"><a href="#cb36-360"></a>        <span class="co">// this timeline runs IF hearts is 0 or less</span></span>
<span id="cb36-361"><a href="#cb36-361"></a>        <span class="cf">if</span>(hearts <span class="op">&lt;=</span> <span class="dv">0</span>){</span>
<span id="cb36-362"><a href="#cb36-362"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb36-363"><a href="#cb36-363"></a>        } <span class="cf">else</span> {</span>
<span id="cb36-364"><a href="#cb36-364"></a>            <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb36-365"><a href="#cb36-365"></a>        }</span>
<span id="cb36-366"><a href="#cb36-366"></a>  }<span class="op">,</span></span>
<span id="cb36-367"><a href="#cb36-367"></a>  <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-368"><a href="#cb36-368"></a>    <span class="co">// pause all music</span></span>
<span id="cb36-369"><a href="#cb36-369"></a>    bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-370"><a href="#cb36-370"></a>    bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-371"><a href="#cb36-371"></a>    bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-372"><a href="#cb36-372"></a>    bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-373"><a href="#cb36-373"></a>    bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-374"><a href="#cb36-374"></a>    bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-375"><a href="#cb36-375"></a>    </span>
<span id="cb36-376"><a href="#cb36-376"></a>    <span class="co">// end jsPsych early</span></span>
<span id="cb36-377"><a href="#cb36-377"></a>    jsPsych<span class="op">.</span><span class="fu">abortExperiment</span>()<span class="op">;</span></span>
<span id="cb36-378"><a href="#cb36-378"></a></span>
<span id="cb36-379"><a href="#cb36-379"></a>    <span class="co">// clear the jspsych display display </span></span>
<span id="cb36-380"><a href="#cb36-380"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#jspsych-game-display"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb36-381"><a href="#cb36-381"></a>    </span>
<span id="cb36-382"><a href="#cb36-382"></a>    <span class="co">// restart the score/hearts</span></span>
<span id="cb36-383"><a href="#cb36-383"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb36-384"><a href="#cb36-384"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">"000000"</span></span>
<span id="cb36-385"><a href="#cb36-385"></a>    score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-386"><a href="#cb36-386"></a>    hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb36-387"><a href="#cb36-387"></a>    </span>
<span id="cb36-388"><a href="#cb36-388"></a>    <span class="co">// restart jspsych</span></span>
<span id="cb36-389"><a href="#cb36-389"></a>    <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb36-390"><a href="#cb36-390"></a>      jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb36-391"><a href="#cb36-391"></a>                implicit_instructions<span class="op">,</span></span>
<span id="cb36-392"><a href="#cb36-392"></a>                learning<span class="op">,</span></span>
<span id="cb36-393"><a href="#cb36-393"></a>                test<span class="op">,</span></span>
<span id="cb36-394"><a href="#cb36-394"></a>                saveData</span>
<span id="cb36-395"><a href="#cb36-395"></a>            ])<span class="op">;</span></span>
<span id="cb36-396"><a href="#cb36-396"></a>        } <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb36-397"><a href="#cb36-397"></a>            jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb36-398"><a href="#cb36-398"></a>                explicit_instructions<span class="op">,</span></span>
<span id="cb36-399"><a href="#cb36-399"></a>                learning<span class="op">,</span></span>
<span id="cb36-400"><a href="#cb36-400"></a>                test<span class="op">,</span></span>
<span id="cb36-401"><a href="#cb36-401"></a>                saveData</span>
<span id="cb36-402"><a href="#cb36-402"></a>            ])<span class="op">;</span></span>
<span id="cb36-403"><a href="#cb36-403"></a>        }</span>
<span id="cb36-404"><a href="#cb36-404"></a>    }</span>
<span id="cb36-405"><a href="#cb36-405"></a>}</span>
<span id="cb36-406"><a href="#cb36-406"></a></span>
<span id="cb36-407"><a href="#cb36-407"></a><span class="co">// learning phase in order</span></span>
<span id="cb36-408"><a href="#cb36-408"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb36-409"><a href="#cb36-409"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb36-410"><a href="#cb36-410"></a>        blank<span class="op">,</span></span>
<span id="cb36-411"><a href="#cb36-411"></a>        target<span class="op">,</span></span>
<span id="cb36-412"><a href="#cb36-412"></a>        feedback<span class="op">,</span></span>
<span id="cb36-413"><a href="#cb36-413"></a>        death</span>
<span id="cb36-414"><a href="#cb36-414"></a>    ]<span class="op">,</span></span>
<span id="cb36-415"><a href="#cb36-415"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb36-416"><a href="#cb36-416"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb36-417"><a href="#cb36-417"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb36-418"><a href="#cb36-418"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb36-419"><a href="#cb36-419"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb36-420"><a href="#cb36-420"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb36-421"><a href="#cb36-421"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb36-422"><a href="#cb36-422"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb36-423"><a href="#cb36-423"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb36-424"><a href="#cb36-424"></a>    ]<span class="op">,</span></span>
<span id="cb36-425"><a href="#cb36-425"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb36-426"><a href="#cb36-426"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-427"><a href="#cb36-427"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb36-428"><a href="#cb36-428"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb36-429"><a href="#cb36-429"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb36-430"><a href="#cb36-430"></a>    }<span class="op">,</span></span>
<span id="cb36-431"><a href="#cb36-431"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-432"><a href="#cb36-432"></a>        bg_game<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-433"><a href="#cb36-433"></a>    }</span>
<span id="cb36-434"><a href="#cb36-434"></a>}</span>
<span id="cb36-435"><a href="#cb36-435"></a></span>
<span id="cb36-436"><a href="#cb36-436"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb36-437"><a href="#cb36-437"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb36-438"><a href="#cb36-438"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb36-439"><a href="#cb36-439"></a>        blank<span class="op">,</span></span>
<span id="cb36-440"><a href="#cb36-440"></a>        target<span class="op">,</span></span>
<span id="cb36-441"><a href="#cb36-441"></a>        feedback<span class="op">,</span></span>
<span id="cb36-442"><a href="#cb36-442"></a>        death</span>
<span id="cb36-443"><a href="#cb36-443"></a>    ]<span class="op">,</span></span>
<span id="cb36-444"><a href="#cb36-444"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb36-445"><a href="#cb36-445"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb36-446"><a href="#cb36-446"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb36-447"><a href="#cb36-447"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb36-448"><a href="#cb36-448"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb36-449"><a href="#cb36-449"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb36-450"><a href="#cb36-450"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb36-451"><a href="#cb36-451"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb36-452"><a href="#cb36-452"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb36-453"><a href="#cb36-453"></a>    ]<span class="op">,</span></span>
<span id="cb36-454"><a href="#cb36-454"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb36-455"><a href="#cb36-455"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb36-456"><a href="#cb36-456"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb36-457"><a href="#cb36-457"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb36-458"><a href="#cb36-458"></a>        }</span>
<span id="cb36-459"><a href="#cb36-459"></a>    }<span class="op">,</span></span>
<span id="cb36-460"><a href="#cb36-460"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb36-461"><a href="#cb36-461"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-462"><a href="#cb36-462"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb36-463"><a href="#cb36-463"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb36-464"><a href="#cb36-464"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb36-465"><a href="#cb36-465"></a>    }<span class="op">,</span></span>
<span id="cb36-466"><a href="#cb36-466"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-467"><a href="#cb36-467"></a>        bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-468"><a href="#cb36-468"></a>        bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-469"><a href="#cb36-469"></a>    }</span>
<span id="cb36-470"><a href="#cb36-470"></a>}</span>
<span id="cb36-471"><a href="#cb36-471"></a></span>
<span id="cb36-472"><a href="#cb36-472"></a></span>
<span id="cb36-473"><a href="#cb36-473"></a><span class="co">// ============================================</span></span>
<span id="cb36-474"><a href="#cb36-474"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb36-475"><a href="#cb36-475"></a><span class="co">// ============================================</span></span>
<span id="cb36-476"><a href="#cb36-476"></a></span>
<span id="cb36-477"><a href="#cb36-477"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb36-478"><a href="#cb36-478"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb36-479"><a href="#cb36-479"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb36-480"><a href="#cb36-480"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb36-481"><a href="#cb36-481"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb36-482"><a href="#cb36-482"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb36-483"><a href="#cb36-483"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb36-484"><a href="#cb36-484"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb36-485"><a href="#cb36-485"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb36-486"><a href="#cb36-486"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb36-487"><a href="#cb36-487"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb36-488"><a href="#cb36-488"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb36-489"><a href="#cb36-489"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb36-490"><a href="#cb36-490"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb36-491"><a href="#cb36-491"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb36-492"><a href="#cb36-492"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb36-493"><a href="#cb36-493"></a>        })<span class="op">;</span></span>
<span id="cb36-494"><a href="#cb36-494"></a>    }<span class="op">,</span></span>
<span id="cb36-495"><a href="#cb36-495"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb36-496"><a href="#cb36-496"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb36-497"><a href="#cb36-497"></a>    }<span class="op">,</span></span>
<span id="cb36-498"><a href="#cb36-498"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-499"><a href="#cb36-499"></a>      bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb36-500"><a href="#cb36-500"></a>    }<span class="op">,</span></span>
<span id="cb36-501"><a href="#cb36-501"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb36-502"><a href="#cb36-502"></a>      bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb36-503"><a href="#cb36-503"></a>      bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb36-504"><a href="#cb36-504"></a>    }</span>
<span id="cb36-505"><a href="#cb36-505"></a>}<span class="op">;</span></span>
<span id="cb36-506"><a href="#cb36-506"></a></span>
<span id="cb36-507"><a href="#cb36-507"></a><span class="co">// ============================================</span></span>
<span id="cb36-508"><a href="#cb36-508"></a><span class="co">// Run jsPsych</span></span>
<span id="cb36-509"><a href="#cb36-509"></a><span class="co">// ============================================</span></span>
<span id="cb36-510"><a href="#cb36-510"></a></span>
<span id="cb36-511"><a href="#cb36-511"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb36-512"><a href="#cb36-512"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb36-513"><a href="#cb36-513"></a>        preload<span class="op">,</span></span>
<span id="cb36-514"><a href="#cb36-514"></a>        welcome<span class="op">,</span></span>
<span id="cb36-515"><a href="#cb36-515"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb36-516"><a href="#cb36-516"></a>        learning<span class="op">,</span></span>
<span id="cb36-517"><a href="#cb36-517"></a>        test<span class="op">,</span></span>
<span id="cb36-518"><a href="#cb36-518"></a>        saveData</span>
<span id="cb36-519"><a href="#cb36-519"></a>    ])<span class="op">;</span></span>
<span id="cb36-520"><a href="#cb36-520"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb36-521"><a href="#cb36-521"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb36-522"><a href="#cb36-522"></a>        preload<span class="op">,</span></span>
<span id="cb36-523"><a href="#cb36-523"></a>        welcome<span class="op">,</span></span>
<span id="cb36-524"><a href="#cb36-524"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb36-525"><a href="#cb36-525"></a>        learning<span class="op">,</span></span>
<span id="cb36-526"><a href="#cb36-526"></a>        test<span class="op">,</span></span>
<span id="cb36-527"><a href="#cb36-527"></a>        saveData</span>
<span id="cb36-528"><a href="#cb36-528"></a>    ])<span class="op">;</span></span>
<span id="cb36-529"><a href="#cb36-529"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<div class="sourceCode" id="cb37"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb37-1"><a href="#cb37-1"></a> </span>
<span id="cb37-2"><a href="#cb37-2"></a>body {</span>
<span id="cb37-3"><a href="#cb37-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-5"><a href="#cb37-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb37-7"><a href="#cb37-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-8"><a href="#cb37-8"></a>}  </span>
<span id="cb37-9"><a href="#cb37-9"></a></span>
<span id="cb37-10"><a href="#cb37-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb37-11"><a href="#cb37-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb37-12"><a href="#cb37-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb37-13"><a href="#cb37-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-14"><a href="#cb37-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-15"><a href="#cb37-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-16"><a href="#cb37-16"></a>}</span>
<span id="cb37-17"><a href="#cb37-17"></a></span>
<span id="cb37-18"><a href="#cb37-18"></a><span class="fu">.box</span> {</span>
<span id="cb37-19"><a href="#cb37-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-20"><a href="#cb37-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-21"><a href="#cb37-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb37-22"><a href="#cb37-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-23"><a href="#cb37-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-24"><a href="#cb37-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-25"><a href="#cb37-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-26"><a href="#cb37-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-27"><a href="#cb37-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-28"><a href="#cb37-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-29"><a href="#cb37-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb37-30"><a href="#cb37-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb37-31"><a href="#cb37-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb37-32"><a href="#cb37-32"></a>}</span>
<span id="cb37-33"><a href="#cb37-33"></a></span>
<span id="cb37-34"><a href="#cb37-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb37-35"><a href="#cb37-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb37-36"><a href="#cb37-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb37-37"><a href="#cb37-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-38"><a href="#cb37-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-39"><a href="#cb37-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-40"><a href="#cb37-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb37-41"><a href="#cb37-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb37-42"><a href="#cb37-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb37-43"><a href="#cb37-43"></a>}</span>
<span id="cb37-44"><a href="#cb37-44"></a></span>
<span id="cb37-45"><a href="#cb37-45"></a><span class="fu">.grid</span> {</span>
<span id="cb37-46"><a href="#cb37-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb37-47"><a href="#cb37-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb37-48"><a href="#cb37-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb37-49"><a href="#cb37-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb37-50"><a href="#cb37-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-51"><a href="#cb37-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb37-52"><a href="#cb37-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb37-53"><a href="#cb37-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-54"><a href="#cb37-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-55"><a href="#cb37-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-56"><a href="#cb37-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-57"><a href="#cb37-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-58"><a href="#cb37-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb37-59"><a href="#cb37-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb37-60"><a href="#cb37-60"></a></span>
<span id="cb37-61"><a href="#cb37-61"></a>}</span>
<span id="cb37-62"><a href="#cb37-62"></a></span>
<span id="cb37-63"><a href="#cb37-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb37-64"><a href="#cb37-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb37-65"><a href="#cb37-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb37-66"><a href="#cb37-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb37-67"><a href="#cb37-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb37-68"><a href="#cb37-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb37-69"><a href="#cb37-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb37-70"><a href="#cb37-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb37-71"><a href="#cb37-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb37-72"><a href="#cb37-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb37-73"><a href="#cb37-73"></a></span>
<span id="cb37-74"><a href="#cb37-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb37-75"><a href="#cb37-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb37-76"><a href="#cb37-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb37-77"><a href="#cb37-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb37-78"><a href="#cb37-78"></a><span class="co">}</span></span>
<span id="cb37-79"><a href="#cb37-79"></a><span class="co">*/</span></span>
<span id="cb37-80"><a href="#cb37-80"></a></span>
<span id="cb37-81"><a href="#cb37-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb37-82"><a href="#cb37-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-83"><a href="#cb37-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-84"><a href="#cb37-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb37-85"><a href="#cb37-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb37-86"><a href="#cb37-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb37-87"><a href="#cb37-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-88"><a href="#cb37-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb37-89"><a href="#cb37-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-90"><a href="#cb37-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-91"><a href="#cb37-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-92"><a href="#cb37-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-93"><a href="#cb37-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-94"><a href="#cb37-94"></a>}</span>
<span id="cb37-95"><a href="#cb37-95"></a></span>
<span id="cb37-96"><a href="#cb37-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb37-97"><a href="#cb37-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb37-98"><a href="#cb37-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-99"><a href="#cb37-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-100"><a href="#cb37-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb37-101"><a href="#cb37-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb37-102"><a href="#cb37-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb37-103"><a href="#cb37-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb37-104"><a href="#cb37-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-105"><a href="#cb37-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb37-106"><a href="#cb37-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-107"><a href="#cb37-107"></a>}</span>
<span id="cb37-108"><a href="#cb37-108"></a></span>
<span id="cb37-109"><a href="#cb37-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb37-110"><a href="#cb37-110"></a>    <span class="dv">from</span> {</span>
<span id="cb37-111"><a href="#cb37-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-112"><a href="#cb37-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-113"><a href="#cb37-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-114"><a href="#cb37-114"></a>    }</span>
<span id="cb37-115"><a href="#cb37-115"></a>    <span class="dv">to</span> {</span>
<span id="cb37-116"><a href="#cb37-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-117"><a href="#cb37-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-118"><a href="#cb37-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-119"><a href="#cb37-119"></a>    }</span>
<span id="cb37-120"><a href="#cb37-120"></a>}</span>
<span id="cb37-121"><a href="#cb37-121"></a></span>
<span id="cb37-122"><a href="#cb37-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb37-123"><a href="#cb37-123"></a>    <span class="dv">from</span> {</span>
<span id="cb37-124"><a href="#cb37-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-125"><a href="#cb37-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-126"><a href="#cb37-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-127"><a href="#cb37-127"></a>    }</span>
<span id="cb37-128"><a href="#cb37-128"></a>    <span class="dv">to</span> {</span>
<span id="cb37-129"><a href="#cb37-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-130"><a href="#cb37-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-131"><a href="#cb37-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-132"><a href="#cb37-132"></a>    }</span>
<span id="cb37-133"><a href="#cb37-133"></a>}</span>
<span id="cb37-134"><a href="#cb37-134"></a></span>
<span id="cb37-135"><a href="#cb37-135"></a></span>
<span id="cb37-136"><a href="#cb37-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb37-137"><a href="#cb37-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-138"><a href="#cb37-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-139"><a href="#cb37-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb37-140"><a href="#cb37-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb37-141"><a href="#cb37-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-142"><a href="#cb37-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-143"><a href="#cb37-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-144"><a href="#cb37-144"></a>}</span>
<span id="cb37-145"><a href="#cb37-145"></a></span>
<span id="cb37-146"><a href="#cb37-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb37-147"><a href="#cb37-147"></a>    <span class="dv">from</span> {</span>
<span id="cb37-148"><a href="#cb37-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-149"><a href="#cb37-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-150"><a href="#cb37-150"></a>    }</span>
<span id="cb37-151"><a href="#cb37-151"></a>    <span class="dv">to</span> {</span>
<span id="cb37-152"><a href="#cb37-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-153"><a href="#cb37-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-154"><a href="#cb37-154"></a>    }</span>
<span id="cb37-155"><a href="#cb37-155"></a>}</span>
<span id="cb37-156"><a href="#cb37-156"></a></span>
<span id="cb37-157"><a href="#cb37-157"></a></span>
<span id="cb37-158"><a href="#cb37-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb37-159"><a href="#cb37-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-160"><a href="#cb37-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-161"><a href="#cb37-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb37-162"><a href="#cb37-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb37-163"><a href="#cb37-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb37-164"><a href="#cb37-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb37-165"><a href="#cb37-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-166"><a href="#cb37-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb37-167"><a href="#cb37-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-168"><a href="#cb37-168"></a>}</span>
<span id="cb37-169"><a href="#cb37-169"></a></span>
<span id="cb37-170"><a href="#cb37-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb37-171"><a href="#cb37-171"></a>    <span class="dv">from</span> {</span>
<span id="cb37-172"><a href="#cb37-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-173"><a href="#cb37-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-174"><a href="#cb37-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-175"><a href="#cb37-175"></a>    }</span>
<span id="cb37-176"><a href="#cb37-176"></a>    <span class="dv">to</span> {</span>
<span id="cb37-177"><a href="#cb37-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-178"><a href="#cb37-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-179"><a href="#cb37-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-180"><a href="#cb37-180"></a>    }</span>
<span id="cb37-181"><a href="#cb37-181"></a>}</span>
<span id="cb37-182"><a href="#cb37-182"></a></span>
<span id="cb37-183"><a href="#cb37-183"></a></span>
<span id="cb37-184"><a href="#cb37-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb37-185"><a href="#cb37-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb37-186"><a href="#cb37-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb37-187"><a href="#cb37-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb37-188"><a href="#cb37-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb37-189"><a href="#cb37-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-190"><a href="#cb37-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb37-191"><a href="#cb37-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-192"><a href="#cb37-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-193"><a href="#cb37-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-194"><a href="#cb37-194"></a>}</span>
<span id="cb37-195"><a href="#cb37-195"></a></span>
<span id="cb37-196"><a href="#cb37-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb37-197"><a href="#cb37-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-198"><a href="#cb37-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb37-199"><a href="#cb37-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb37-200"><a href="#cb37-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-201"><a href="#cb37-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-202"><a href="#cb37-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-203"><a href="#cb37-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-204"><a href="#cb37-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-205"><a href="#cb37-205"></a>}</span>
<span id="cb37-206"><a href="#cb37-206"></a></span>
<span id="cb37-207"><a href="#cb37-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb37-208"><a href="#cb37-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-209"><a href="#cb37-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb37-210"><a href="#cb37-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb37-211"><a href="#cb37-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-212"><a href="#cb37-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-213"><a href="#cb37-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-214"><a href="#cb37-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-215"><a href="#cb37-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-216"><a href="#cb37-216"></a>}</span>
<span id="cb37-217"><a href="#cb37-217"></a></span>
<span id="cb37-218"><a href="#cb37-218"></a><span class="co">/* Lives display */</span></span>
<span id="cb37-219"><a href="#cb37-219"></a><span class="fu">.lives-display</span> {</span>
<span id="cb37-220"><a href="#cb37-220"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb37-221"><a href="#cb37-221"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-222"><a href="#cb37-222"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb37-223"><a href="#cb37-223"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-224"><a href="#cb37-224"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-225"><a href="#cb37-225"></a>}</span>
<span id="cb37-226"><a href="#cb37-226"></a></span>
<span id="cb37-227"><a href="#cb37-227"></a><span class="fu">.hearts</span> {</span>
<span id="cb37-228"><a href="#cb37-228"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-229"><a href="#cb37-229"></a>  <span class="kw">filter</span><span class="ch">:</span> <span class="fu">drop-shadow(</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff0066</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-230"><a href="#cb37-230"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb37-231"><a href="#cb37-231"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb37-232"><a href="#cb37-232"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-233"><a href="#cb37-233"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb37-234"><a href="#cb37-234"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-235"><a href="#cb37-235"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-236"><a href="#cb37-236"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-237"><a href="#cb37-237"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb37-238"><a href="#cb37-238"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-239"><a href="#cb37-239"></a>}</span>
<span id="cb37-240"><a href="#cb37-240"></a></span>
<span id="cb37-241"><a href="#cb37-241"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb37-242"><a href="#cb37-242"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb37-243"><a href="#cb37-243"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb37-244"><a href="#cb37-244"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb37-245"><a href="#cb37-245"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb37-246"><a href="#cb37-246"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb37-247"><a href="#cb37-247"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-248"><a href="#cb37-248"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-249"><a href="#cb37-249"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb37-250"><a href="#cb37-250"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb37-251"><a href="#cb37-251"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb37-252"><a href="#cb37-252"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb37-253"><a href="#cb37-253"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb37-254"><a href="#cb37-254"></a>}</span>
<span id="cb37-255"><a href="#cb37-255"></a></span>
<span id="cb37-256"><a href="#cb37-256"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb37-257"><a href="#cb37-257"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb37-258"><a href="#cb37-258"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb37-259"><a href="#cb37-259"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb37-260"><a href="#cb37-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb37-261"><a href="#cb37-261"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb37-262"><a href="#cb37-262"></a>}</span>
<span id="cb37-263"><a href="#cb37-263"></a></span>
<span id="cb37-264"><a href="#cb37-264"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb37-265"><a href="#cb37-265"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-266"><a href="#cb37-266"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-267"><a href="#cb37-267"></a>}</span>
<span id="cb37-268"><a href="#cb37-268"></a></span>
<span id="cb37-269"><a href="#cb37-269"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb37-270"><a href="#cb37-270"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb37-271"><a href="#cb37-271"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-272"><a href="#cb37-272"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-273"><a href="#cb37-273"></a>}</span>
<span id="cb37-274"><a href="#cb37-274"></a></span>
<span id="cb37-275"><a href="#cb37-275"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb37-276"><a href="#cb37-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb37-277"><a href="#cb37-277"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-278"><a href="#cb37-278"></a>}</span>
<span id="cb37-279"><a href="#cb37-279"></a></span>
<span id="cb37-280"><a href="#cb37-280"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb37-281"><a href="#cb37-281"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb37-282"><a href="#cb37-282"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb37-283"><a href="#cb37-283"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-284"><a href="#cb37-284"></a>}</span>
<span id="cb37-285"><a href="#cb37-285"></a></span>
<span id="cb37-286"><a href="#cb37-286"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb37-287"><a href="#cb37-287"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb37-288"><a href="#cb37-288"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb37-289"><a href="#cb37-289"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb37-290"><a href="#cb37-290"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb37-291"><a href="#cb37-291"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-292"><a href="#cb37-292"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb37-293"><a href="#cb37-293"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-294"><a href="#cb37-294"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb37-295"><a href="#cb37-295"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb37-296"><a href="#cb37-296"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb37-297"><a href="#cb37-297"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb37-298"><a href="#cb37-298"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-299"><a href="#cb37-299"></a>}</span>
<span id="cb37-300"><a href="#cb37-300"></a></span>
<span id="cb37-301"><a href="#cb37-301"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb37-302"><a href="#cb37-302"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb37-303"><a href="#cb37-303"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-304"><a href="#cb37-304"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb37-305"><a href="#cb37-305"></a>}</span>
<span id="cb37-306"><a href="#cb37-306"></a></span>
<span id="cb37-307"><a href="#cb37-307"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb37-308"><a href="#cb37-308"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-309"><a href="#cb37-309"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb37-310"><a href="#cb37-310"></a>}</span>
<span id="cb37-311"><a href="#cb37-311"></a></span>
<span id="cb37-312"><a href="#cb37-312"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb37-313"><a href="#cb37-313"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb37-314"><a href="#cb37-314"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb37-315"><a href="#cb37-315"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb37-316"><a href="#cb37-316"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb37-317"><a href="#cb37-317"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb37-318"><a href="#cb37-318"></a>}</span>
<span id="cb37-319"><a href="#cb37-319"></a></span>
<span id="cb37-320"><a href="#cb37-320"></a><span class="co">/* Style the button container */</span></span>
<span id="cb37-321"><a href="#cb37-321"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb37-322"><a href="#cb37-322"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb37-323"><a href="#cb37-323"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-324"><a href="#cb37-324"></a>}</span>
<span id="cb37-325"><a href="#cb37-325"></a></span>
<span id="cb37-326"><a href="#cb37-326"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb37-327"><a href="#cb37-327"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb37-328"><a href="#cb37-328"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb37-329"><a href="#cb37-329"></a>}</span>
<span id="cb37-330"><a href="#cb37-330"></a></span>
<span id="cb37-331"><a href="#cb37-331"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb37-332"><a href="#cb37-332"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb37-333"><a href="#cb37-333"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb37-334"><a href="#cb37-334"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb37-335"><a href="#cb37-335"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb37-336"><a href="#cb37-336"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb37-337"><a href="#cb37-337"></a></span>
<span id="cb37-338"><a href="#cb37-338"></a><span class="co">/**</span></span>
<span id="cb37-339"><a href="#cb37-339"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb37-340"><a href="#cb37-340"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb37-341"><a href="#cb37-341"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb37-342"><a href="#cb37-342"></a><span class="co"> */</span></span>
<span id="cb37-343"><a href="#cb37-343"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb37-344"><a href="#cb37-344"></a>  from {</span>
<span id="cb37-345"><a href="#cb37-345"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-346"><a href="#cb37-346"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-347"><a href="#cb37-347"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-348"><a href="#cb37-348"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-349"><a href="#cb37-349"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-350"><a href="#cb37-350"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-351"><a href="#cb37-351"></a>  }</span>
<span id="cb37-352"><a href="#cb37-352"></a>  10% {</span>
<span id="cb37-353"><a href="#cb37-353"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-354"><a href="#cb37-354"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-355"><a href="#cb37-355"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-356"><a href="#cb37-356"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-357"><a href="#cb37-357"></a>  }</span>
<span id="cb37-358"><a href="#cb37-358"></a>  17% {</span>
<span id="cb37-359"><a href="#cb37-359"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-360"><a href="#cb37-360"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-361"><a href="#cb37-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-362"><a href="#cb37-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-363"><a href="#cb37-363"></a>  }</span>
<span id="cb37-364"><a href="#cb37-364"></a>  33% {</span>
<span id="cb37-365"><a href="#cb37-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-366"><a href="#cb37-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-367"><a href="#cb37-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-368"><a href="#cb37-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-369"><a href="#cb37-369"></a>  }</span>
<span id="cb37-370"><a href="#cb37-370"></a>  45% {</span>
<span id="cb37-371"><a href="#cb37-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-372"><a href="#cb37-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-373"><a href="#cb37-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-374"><a href="#cb37-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-375"><a href="#cb37-375"></a>  }</span>
<span id="cb37-376"><a href="#cb37-376"></a>}</span>
<span id="cb37-377"><a href="#cb37-377"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb37-378"><a href="#cb37-378"></a>  <span class="dv">from</span> {</span>
<span id="cb37-379"><a href="#cb37-379"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-380"><a href="#cb37-380"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-381"><a href="#cb37-381"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-382"><a href="#cb37-382"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb37-383"><a href="#cb37-383"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-384"><a href="#cb37-384"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-385"><a href="#cb37-385"></a>  }</span>
<span id="cb37-386"><a href="#cb37-386"></a>  <span class="dv">10%</span> {</span>
<span id="cb37-387"><a href="#cb37-387"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-388"><a href="#cb37-388"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-389"><a href="#cb37-389"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-390"><a href="#cb37-390"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-391"><a href="#cb37-391"></a>  }</span>
<span id="cb37-392"><a href="#cb37-392"></a>  <span class="dv">17%</span> {</span>
<span id="cb37-393"><a href="#cb37-393"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-394"><a href="#cb37-394"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-395"><a href="#cb37-395"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-396"><a href="#cb37-396"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-397"><a href="#cb37-397"></a>  }</span>
<span id="cb37-398"><a href="#cb37-398"></a>  <span class="dv">33%</span> {</span>
<span id="cb37-399"><a href="#cb37-399"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-400"><a href="#cb37-400"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-401"><a href="#cb37-401"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-402"><a href="#cb37-402"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb37-403"><a href="#cb37-403"></a>  }</span>
<span id="cb37-404"><a href="#cb37-404"></a>  <span class="dv">45%</span> {</span>
<span id="cb37-405"><a href="#cb37-405"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-406"><a href="#cb37-406"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-407"><a href="#cb37-407"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-408"><a href="#cb37-408"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb37-409"><a href="#cb37-409"></a>  }</span>
<span id="cb37-410"><a href="#cb37-410"></a>}</span>
<span id="cb37-411"><a href="#cb37-411"></a></span>
<span id="cb37-412"><a href="#cb37-412"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb37-413"><a href="#cb37-413"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb37-414"><a href="#cb37-414"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb37-415"><a href="#cb37-415"></a>}</span>
<span id="cb37-416"><a href="#cb37-416"></a></span>
<span id="cb37-417"><a href="#cb37-417"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb37-418"><a href="#cb37-418"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb37-419"><a href="#cb37-419"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb37-420"><a href="#cb37-420"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb37-421"><a href="#cb37-421"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb37-422"><a href="#cb37-422"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb37-423"><a href="#cb37-423"></a></span>
<span id="cb37-424"><a href="#cb37-424"></a><span class="co">/**</span></span>
<span id="cb37-425"><a href="#cb37-425"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb37-426"><a href="#cb37-426"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb37-427"><a href="#cb37-427"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb37-428"><a href="#cb37-428"></a><span class="co"> */</span></span>
<span id="cb37-429"><a href="#cb37-429"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb37-430"><a href="#cb37-430"></a>  0%<span class="op">,</span></span>
<span id="cb37-431"><a href="#cb37-431"></a>  100% {</span>
<span id="cb37-432"><a href="#cb37-432"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-433"><a href="#cb37-433"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-434"><a href="#cb37-434"></a>  }</span>
<span id="cb37-435"><a href="#cb37-435"></a>  10%<span class="op">,</span></span>
<span id="cb37-436"><a href="#cb37-436"></a>  30%<span class="op">,</span></span>
<span id="cb37-437"><a href="#cb37-437"></a>  50%<span class="op">,</span></span>
<span id="cb37-438"><a href="#cb37-438"></a>  70% {</span>
<span id="cb37-439"><a href="#cb37-439"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-440"><a href="#cb37-440"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-441"><a href="#cb37-441"></a>  }</span>
<span id="cb37-442"><a href="#cb37-442"></a>  20%<span class="op">,</span></span>
<span id="cb37-443"><a href="#cb37-443"></a>  40%<span class="op">,</span></span>
<span id="cb37-444"><a href="#cb37-444"></a>  60% {</span>
<span id="cb37-445"><a href="#cb37-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-446"><a href="#cb37-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-447"><a href="#cb37-447"></a>  }</span>
<span id="cb37-448"><a href="#cb37-448"></a>  80% {</span>
<span id="cb37-449"><a href="#cb37-449"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-450"><a href="#cb37-450"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-451"><a href="#cb37-451"></a>  }</span>
<span id="cb37-452"><a href="#cb37-452"></a>  90% {</span>
<span id="cb37-453"><a href="#cb37-453"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-454"><a href="#cb37-454"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-455"><a href="#cb37-455"></a>  }</span>
<span id="cb37-456"><a href="#cb37-456"></a>}</span>
<span id="cb37-457"><a href="#cb37-457"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb37-458"><a href="#cb37-458"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb37-459"><a href="#cb37-459"></a>  <span class="dv">100%</span> {</span>
<span id="cb37-460"><a href="#cb37-460"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-461"><a href="#cb37-461"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-462"><a href="#cb37-462"></a>  }</span>
<span id="cb37-463"><a href="#cb37-463"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb37-464"><a href="#cb37-464"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb37-465"><a href="#cb37-465"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb37-466"><a href="#cb37-466"></a>  <span class="dv">70%</span> {</span>
<span id="cb37-467"><a href="#cb37-467"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-468"><a href="#cb37-468"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-469"><a href="#cb37-469"></a>  }</span>
<span id="cb37-470"><a href="#cb37-470"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb37-471"><a href="#cb37-471"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb37-472"><a href="#cb37-472"></a>  <span class="dv">60%</span> {</span>
<span id="cb37-473"><a href="#cb37-473"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-474"><a href="#cb37-474"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-475"><a href="#cb37-475"></a>  }</span>
<span id="cb37-476"><a href="#cb37-476"></a>  <span class="dv">80%</span> {</span>
<span id="cb37-477"><a href="#cb37-477"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-478"><a href="#cb37-478"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-479"><a href="#cb37-479"></a>  }</span>
<span id="cb37-480"><a href="#cb37-480"></a>  <span class="dv">90%</span> {</span>
<span id="cb37-481"><a href="#cb37-481"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-482"><a href="#cb37-482"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb37-483"><a href="#cb37-483"></a>  }</span>
<span id="cb37-484"><a href="#cb37-484"></a>}</span>
<span id="cb37-485"><a href="#cb37-485"></a></span>
<span id="cb37-486"><a href="#cb37-486"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-12-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-4-tab">
<div id="demo-container-11" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-11" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n/* Lives display */\n.lives-display {\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.hearts {\n  font-size: 16px;\n  filter: drop-shadow(0 0 5px #ff0066);\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n  -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;>\n      <div class=&quot;lives-display&quot;>\n          <div class=&quot;hearts&quot;>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n          </div>\n      </div>\n    </div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\nlet hearts = 5\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\nlet bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)\nbg_start.volume = .2\nbg_start.loop = true\n\nlet bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_game.volume = .2\nbg_game.loop = true\n\nlet bg_end = new Audio(&quot;audio/creep.mp3&quot;)\nbg_end.volume = .2\nbg_end.loop = true\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, \n&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          //score = score - 100\n          \n          hearts = hearts - 1\n          let heart_display = document.querySelector(&quot;.hearts&quot;)\n          if(hearts == 5){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n          } else if(hearts == 4){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`\n          } else if(hearts == 3){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 2){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 1){\n                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 0){\n                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          }\n          \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)\n    }\n}\n\n// check death\nlet death = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>\n                      <p>Press &quot;ENTER&quot; to try again.</p>\n                    </div>`,\n      choices: [&quot;ENTER&quot;],\n      trial_duration: null,\n      data: {trial_part: &quot;death&quot;},\n      on_start: function(){\n          bg_game.pause();\n          bg_end.play();\n      },\n      on_finish: function(){\n          bg_end.pause();\n      }\n    }\n  ],\n   conditional_function: function(){\n        // this timeline runs IF hearts is 0 or less\n        if(hearts <= 0){\n            return true;\n        } else {\n            return false;\n        }\n  },\n  on_timeline_finish: function(){\n    // pause all music\n    bg_game.pause();\n    bg_game.currentTime = 0;\n    bg_start.pause();\n    bg_start.currentTime = 0;\n    bg_end.pause();\n    bg_end.currentTime = 0;\n    \n    // end jsPsych early\n    jsPsych.abortExperiment();\n\n    // clear the jspsych display display \n    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;\n    \n    // restart the score/hearts\n    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;\n    score = 0\n    hearts = 5\n    \n    // restart jspsych\n    if(assigned_condition === &quot;implicit&quot;){\n      jsPsych.run([\n                implicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        } else if(assigned_condition === &quot;explicit&quot;){\n            jsPsych.run([\n                explicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        }\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_game.play();\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 2,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_finish: function(){\n        bg_game.pause();\n        bg_game.currentTime = 0;\n    }\n}\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    },\n    on_start: function(){\n      bg_end.play();\n    },\n    on_finish: function(){\n      bg_end.pause();\n      bg_end.currentTime = 0;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-11');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-11" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}

/* Lives display */
.lives-display {
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.hearts {
  font-size: 16px;
  filter: drop-shadow(0 0 5px #ff0066);
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>999999</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;>
      <div class=&quot;lives-display&quot;>
          <div class=&quot;hearts&quot;>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
          </div>
      </div>
    </div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

let hearts = 5

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2

let bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)
bg_start.volume = .2
bg_start.loop = true

let bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_game.volume = .2
bg_game.loop = true

let bg_end = new Audio(&quot;audio/creep.mp3&quot;)
bg_end.volume = .2
bg_end.loop = true

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, 
&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          //score = score - 100
          
          hearts = hearts - 1
          let heart_display = document.querySelector(&quot;.hearts&quot;)
          if(hearts == 5){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
          } else if(hearts == 4){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`
          } else if(hearts == 3){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 2){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 1){
                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 0){
                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          }
          
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)
    }
}

// check death
let death = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>
                      <p>Press &quot;ENTER&quot; to try again.</p>
                    </div>`,
      choices: [&quot;ENTER&quot;],
      trial_duration: null,
      data: {trial_part: &quot;death&quot;},
      on_start: function(){
          bg_game.pause();
          bg_end.play();
      },
      on_finish: function(){
          bg_end.pause();
      }
    }
  ],
   conditional_function: function(){
        // this timeline runs IF hearts is 0 or less
        if(hearts <= 0){
            return true;
        } else {
            return false;
        }
  },
  on_timeline_finish: function(){
    // pause all music
    bg_game.pause();
    bg_game.currentTime = 0;
    bg_start.pause();
    bg_start.currentTime = 0;
    bg_end.pause();
    bg_end.currentTime = 0;
    
    // end jsPsych early
    jsPsych.abortExperiment();

    // clear the jspsych display display 
    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;
    
    // restart the score/hearts
    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;
    score = 0
    hearts = 5
    
    // restart jspsych
    if(assigned_condition === &quot;implicit&quot;){
      jsPsych.run([
                implicit_instructions,
                learning,
                test,
                saveData
            ]);
        } else if(assigned_condition === &quot;explicit&quot;){
            jsPsych.run([
                explicit_instructions,
                learning,
                test,
                saveData
            ]);
        }
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_game.play();
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 2,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_finish: function(){
        bg_game.pause();
        bg_game.currentTime = 0;
    }
}


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    },
    on_start: function(){
      bg_end.play();
    },
    on_finish: function(){
      bg_end.pause();
      bg_end.currentTime = 0;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-11&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-11&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="update-the-high-score" class="level3" data-number="26.5.3">
<h3 data-number="26.5.3" class="anchored" data-anchor-id="update-the-high-score"><span class="header-section-number">26.5.3</span> Update the High Score</h3>
<p>A final gameplay mechanic I’ll add is to make the high score track each individual’s personal high score.</p>
<p>Changes:</p>
<ol type="1">
<li><code>index.html</code> - change the starting high score to 0</li>
<li><code>exp.js</code> - add a high score tracker, add logic to update the high score</li>
</ol>
<div class="cell">
<style type="text/css">
/* CB20 */

/* CB21 */
[id^="cb21-"]:nth-child(n+198):nth-child(-n+203),
[id^="cb21-"]:nth-child(n+247):nth-child(-n+252) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB22 */
[id^="cb22-"]:nth-child(n+304):nth-child(-n+462) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-4" role="tab" aria-controls="tabset-13-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<div class="sourceCode" id="cb38"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb38-1"><a href="#cb38-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 12: Implicit Learning<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb38-7"><a href="#cb38-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb38-8"><a href="#cb38-8"></a>    </span>
<span id="cb38-9"><a href="#cb38-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb38-10"><a href="#cb38-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb38-11"><a href="#cb38-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb38-12"><a href="#cb38-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb38-13"><a href="#cb38-13"></a></span>
<span id="cb38-14"><a href="#cb38-14"></a>    <span class="co">&lt;!-- these are the google fonts --&gt;</span></span>
<span id="cb38-15"><a href="#cb38-15"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Creepster</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb38-16"><a href="#cb38-16"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb38-17"><a href="#cb38-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"https://fonts.googleapis.com/css2?family=Press+Start+2P</span><span class="er">&amp;</span><span class="st">display=swap"</span></span>
<span id="cb38-18"><a href="#cb38-18"></a><span class="ot">          rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="dt">&gt;</span></span>
<span id="cb38-19"><a href="#cb38-19"></a></span>
<span id="cb38-20"><a href="#cb38-20"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb38-21"><a href="#cb38-21"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb38-22"><a href="#cb38-22"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb38-23"><a href="#cb38-23"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb38-24"><a href="#cb38-24"></a><span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-display"</span><span class="dt">&gt;</span></span>
<span id="cb38-25"><a href="#cb38-25"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"grid"</span><span class="dt">&gt;</span></span>
<span id="cb38-26"><a href="#cb38-26"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-left"</span><span class="dt">&gt;</span></span>
<span id="cb38-27"><a href="#cb38-27"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb38-28"><a href="#cb38-28"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-29"><a href="#cb38-29"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-30"><a href="#cb38-30"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-31"><a href="#cb38-31"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-32"><a href="#cb38-32"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top"</span><span class="dt">&gt;</span></span>
<span id="cb38-33"><a href="#cb38-33"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"game-title"</span><span class="dt">&gt;</span>WHACK-A-ZOMBIE!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb38-34"><a href="#cb38-34"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-35"><a href="#cb38-35"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"top-right"</span><span class="dt">&gt;</span></span>
<span id="cb38-36"><a href="#cb38-36"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"score-display"</span><span class="dt">&gt;</span></span>
<span id="cb38-37"><a href="#cb38-37"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"label"</span><span class="dt">&gt;</span>HIGH-SCORE<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-38"><a href="#cb38-38"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"high-score"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"value"</span><span class="dt">&gt;</span>000000<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-39"><a href="#cb38-39"></a>        <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-40"><a href="#cb38-40"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-41"><a href="#cb38-41"></a>    </span>
<span id="cb38-42"><a href="#cb38-42"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"left"</span><span class="dt">&gt;</span></span>
<span id="cb38-43"><a href="#cb38-43"></a>      <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"lives-display"</span><span class="dt">&gt;</span></span>
<span id="cb38-44"><a href="#cb38-44"></a>          <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"hearts"</span><span class="dt">&gt;</span></span>
<span id="cb38-45"><a href="#cb38-45"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb38-46"><a href="#cb38-46"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb38-47"><a href="#cb38-47"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb38-48"><a href="#cb38-48"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb38-49"><a href="#cb38-49"></a>            <span class="dt">&lt;</span><span class="kw">span</span><span class="dt">&gt;</span>❤️<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb38-50"><a href="#cb38-50"></a>          <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-51"><a href="#cb38-51"></a>      <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-52"><a href="#cb38-52"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-53"><a href="#cb38-53"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"jspsych-game-display"</span><span class="ot"> class</span><span class="op">=</span><span class="st">"center"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-54"><a href="#cb38-54"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-55"><a href="#cb38-55"></a>    </span>
<span id="cb38-56"><a href="#cb38-56"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-left"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-57"><a href="#cb38-57"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-58"><a href="#cb38-58"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> class</span><span class="op">=</span><span class="st">"bottom-right"</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-59"><a href="#cb38-59"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-60"><a href="#cb38-60"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-61"><a href="#cb38-61"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb38-62"><a href="#cb38-62"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb38-63"><a href="#cb38-63"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb38-64"><a href="#cb38-64"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb38-65"><a href="#cb38-65"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb39-1"><a href="#cb39-1"></a> </span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="co">// ============================================</span></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="co">// ============================================</span></span>
<span id="cb39-5"><a href="#cb39-5"></a></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>(</span>
<span id="cb39-7"><a href="#cb39-7"></a>                  {<span class="dt">display_element</span><span class="op">:</span> <span class="st">'jspsych-game-display'</span>}</span>
<span id="cb39-8"><a href="#cb39-8"></a>                ) </span>
<span id="cb39-9"><a href="#cb39-9"></a></span>
<span id="cb39-10"><a href="#cb39-10"></a><span class="co">// ============================================</span></span>
<span id="cb39-11"><a href="#cb39-11"></a><span class="co">// Participant ID &amp; Assign Condition</span></span>
<span id="cb39-12"><a href="#cb39-12"></a><span class="co">// ============================================</span></span>
<span id="cb39-13"><a href="#cb39-13"></a></span>
<span id="cb39-14"><a href="#cb39-14"></a><span class="co">// Function to convert any string to a number</span></span>
<span id="cb39-15"><a href="#cb39-15"></a><span class="kw">function</span> <span class="fu">stringToNumber</span>(str) {</span>
<span id="cb39-16"><a href="#cb39-16"></a>    <span class="kw">let</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-17"><a href="#cb39-17"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> str<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb39-18"><a href="#cb39-18"></a>        sum <span class="op">+=</span> str<span class="op">.</span><span class="fu">charCodeAt</span>(i)<span class="op">;</span></span>
<span id="cb39-19"><a href="#cb39-19"></a>    }</span>
<span id="cb39-20"><a href="#cb39-20"></a>    <span class="cf">return</span> sum<span class="op">;</span></span>
<span id="cb39-21"><a href="#cb39-21"></a>}</span>
<span id="cb39-22"><a href="#cb39-22"></a></span>
<span id="cb39-23"><a href="#cb39-23"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb39-24"><a href="#cb39-24"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">.</span><span class="fu">toString</span>()<span class="op">;</span></span>
<span id="cb39-25"><a href="#cb39-25"></a></span>
<span id="cb39-26"><a href="#cb39-26"></a><span class="co">// Convert to number and assign condition</span></span>
<span id="cb39-27"><a href="#cb39-27"></a><span class="kw">const</span> numeric_id <span class="op">=</span> <span class="fu">stringToNumber</span>(participant_id)<span class="op">;</span></span>
<span id="cb39-28"><a href="#cb39-28"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"implicit"</span><span class="op">,</span> <span class="st">"explicit"</span>]<span class="op">;</span></span>
<span id="cb39-29"><a href="#cb39-29"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[numeric_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb39-30"><a href="#cb39-30"></a></span>
<span id="cb39-31"><a href="#cb39-31"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb39-32"><a href="#cb39-32"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb39-33"><a href="#cb39-33"></a>    <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb39-34"><a href="#cb39-34"></a>    <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb39-35"><a href="#cb39-35"></a>})<span class="op">;</span></span>
<span id="cb39-36"><a href="#cb39-36"></a></span>
<span id="cb39-37"><a href="#cb39-37"></a></span>
<span id="cb39-38"><a href="#cb39-38"></a><span class="co">// ============================================</span></span>
<span id="cb39-39"><a href="#cb39-39"></a><span class="co">// Trackers</span></span>
<span id="cb39-40"><a href="#cb39-40"></a><span class="co">// ============================================</span></span>
<span id="cb39-41"><a href="#cb39-41"></a></span>
<span id="cb39-42"><a href="#cb39-42"></a><span class="kw">let</span> score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb39-43"><a href="#cb39-43"></a></span>
<span id="cb39-44"><a href="#cb39-44"></a><span class="kw">let</span> hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb39-45"><a href="#cb39-45"></a></span>
<span id="cb39-46"><a href="#cb39-46"></a><span class="kw">let</span> high_score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb39-47"><a href="#cb39-47"></a></span>
<span id="cb39-48"><a href="#cb39-48"></a><span class="co">// ============================================</span></span>
<span id="cb39-49"><a href="#cb39-49"></a><span class="co">// Audio Setup</span></span>
<span id="cb39-50"><a href="#cb39-50"></a><span class="co">// ============================================</span></span>
<span id="cb39-51"><a href="#cb39-51"></a></span>
<span id="cb39-52"><a href="#cb39-52"></a><span class="kw">let</span> sfx_coin <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_coin.wav"</span>)</span>
<span id="cb39-53"><a href="#cb39-53"></a>sfx_coin<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb39-54"><a href="#cb39-54"></a></span>
<span id="cb39-55"><a href="#cb39-55"></a><span class="kw">let</span> sfx_hit <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/retro_hit.wav"</span>)</span>
<span id="cb39-56"><a href="#cb39-56"></a>sfx_hit<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">3</span></span>
<span id="cb39-57"><a href="#cb39-57"></a></span>
<span id="cb39-58"><a href="#cb39-58"></a><span class="kw">let</span> sfx_squish <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/small_squish.mp3"</span>)</span>
<span id="cb39-59"><a href="#cb39-59"></a>sfx_squish<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">1</span></span>
<span id="cb39-60"><a href="#cb39-60"></a></span>
<span id="cb39-61"><a href="#cb39-61"></a><span class="kw">let</span> sfx_zombie <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/zombie-2.wav"</span>)</span>
<span id="cb39-62"><a href="#cb39-62"></a>sfx_zombie<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb39-63"><a href="#cb39-63"></a></span>
<span id="cb39-64"><a href="#cb39-64"></a><span class="kw">let</span> bg_start <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/SeriousCutScene.wav"</span>)</span>
<span id="cb39-65"><a href="#cb39-65"></a>bg_start<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb39-66"><a href="#cb39-66"></a>bg_start<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb39-67"><a href="#cb39-67"></a></span>
<span id="cb39-68"><a href="#cb39-68"></a><span class="kw">let</span> bg_game <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/8BitMetal.wav"</span>)</span>
<span id="cb39-69"><a href="#cb39-69"></a>bg_game<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb39-70"><a href="#cb39-70"></a>bg_game<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb39-71"><a href="#cb39-71"></a></span>
<span id="cb39-72"><a href="#cb39-72"></a><span class="kw">let</span> bg_end <span class="op">=</span> <span class="kw">new</span> <span class="fu">Audio</span>(<span class="st">"audio/creep.mp3"</span>)</span>
<span id="cb39-73"><a href="#cb39-73"></a>bg_end<span class="op">.</span><span class="at">volume</span> <span class="op">=</span> <span class="op">.</span><span class="dv">2</span></span>
<span id="cb39-74"><a href="#cb39-74"></a>bg_end<span class="op">.</span><span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb39-75"><a href="#cb39-75"></a></span>
<span id="cb39-76"><a href="#cb39-76"></a><span class="co">// ============================================</span></span>
<span id="cb39-77"><a href="#cb39-77"></a><span class="co">// Preload</span></span>
<span id="cb39-78"><a href="#cb39-78"></a><span class="co">// ============================================</span></span>
<span id="cb39-79"><a href="#cb39-79"></a></span>
<span id="cb39-80"><a href="#cb39-80"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb39-81"><a href="#cb39-81"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb39-82"><a href="#cb39-82"></a>  <span class="dt">images</span><span class="op">:</span> [<span class="st">"images/black.png"</span><span class="op">,</span> <span class="st">"images/bg.svg"</span><span class="op">,</span> <span class="st">"images/zombieAppear.png"</span><span class="op">,</span> <span class="st">"images/zombieIdle.png"</span><span class="op">,</span> <span class="st">"images/zombieDie.png"</span><span class="op">,</span> <span class="st">"images/zombieAttack.png"</span>]<span class="op">,</span></span>
<span id="cb39-83"><a href="#cb39-83"></a>  <span class="dt">audio</span><span class="op">:</span> [<span class="st">"audio/retro_coin.wav"</span><span class="op">,</span> <span class="st">"audio/retro_hit.wav"</span><span class="op">,</span> <span class="st">"audio/small_squish.mp3"</span><span class="op">,</span> <span class="st">"audio/zombie-2.wav"</span><span class="op">,</span> </span>
<span id="cb39-84"><a href="#cb39-84"></a><span class="st">"audio/SeriousCutScene.wav"</span><span class="op">,</span> <span class="st">"audio/8BitMetal.wav"</span><span class="op">,</span> <span class="st">"audio/creep.mp3"</span>]</span>
<span id="cb39-85"><a href="#cb39-85"></a>}</span>
<span id="cb39-86"><a href="#cb39-86"></a></span>
<span id="cb39-87"><a href="#cb39-87"></a><span class="co">// ============================================</span></span>
<span id="cb39-88"><a href="#cb39-88"></a><span class="co">// Welcome</span></span>
<span id="cb39-89"><a href="#cb39-89"></a><span class="co">// ============================================</span></span>
<span id="cb39-90"><a href="#cb39-90"></a></span>
<span id="cb39-91"><a href="#cb39-91"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb39-92"><a href="#cb39-92"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-93"><a href="#cb39-93"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-94"><a href="#cb39-94"></a><span class="vs">                &lt;h3&gt;PRESS ENTER TO START&lt;/h3&gt;</span></span>
<span id="cb39-95"><a href="#cb39-95"></a><span class="vs">              &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-96"><a href="#cb39-96"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]</span>
<span id="cb39-97"><a href="#cb39-97"></a>}</span>
<span id="cb39-98"><a href="#cb39-98"></a></span>
<span id="cb39-99"><a href="#cb39-99"></a><span class="co">// ============================================</span></span>
<span id="cb39-100"><a href="#cb39-100"></a><span class="co">// Instructions</span></span>
<span id="cb39-101"><a href="#cb39-101"></a><span class="co">// ============================================</span></span>
<span id="cb39-102"><a href="#cb39-102"></a></span>
<span id="cb39-103"><a href="#cb39-103"></a><span class="kw">let</span> implicit_instructions <span class="op">=</span> {</span>
<span id="cb39-104"><a href="#cb39-104"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb39-105"><a href="#cb39-105"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-106"><a href="#cb39-106"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb39-107"><a href="#cb39-107"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb39-108"><a href="#cb39-108"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-109"><a href="#cb39-109"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-110"><a href="#cb39-110"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb39-111"><a href="#cb39-111"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb39-112"><a href="#cb39-112"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb39-113"><a href="#cb39-113"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb39-114"><a href="#cb39-114"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb39-115"><a href="#cb39-115"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb39-116"><a href="#cb39-116"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-117"><a href="#cb39-117"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-118"><a href="#cb39-118"></a><span class="vs">                 &lt;p&gt;Stay alert! Zombies will pop up randomly from different graves.&lt;/p&gt;</span></span>
<span id="cb39-119"><a href="#cb39-119"></a><span class="vs">                 &lt;p&gt;When you're ready to defend the cemetery, press NEXT&lt;/p&gt;</span></span>
<span id="cb39-120"><a href="#cb39-120"></a><span class="vs">             &lt;/div&gt;`</span>]<span class="op">,</span></span>
<span id="cb39-121"><a href="#cb39-121"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb39-122"><a href="#cb39-122"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-123"><a href="#cb39-123"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-124"><a href="#cb39-124"></a>    }<span class="op">,</span></span>
<span id="cb39-125"><a href="#cb39-125"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-126"><a href="#cb39-126"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-127"><a href="#cb39-127"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-128"><a href="#cb39-128"></a>    }</span>
<span id="cb39-129"><a href="#cb39-129"></a>}</span>
<span id="cb39-130"><a href="#cb39-130"></a></span>
<span id="cb39-131"><a href="#cb39-131"></a><span class="kw">let</span> explicit_instructions <span class="op">=</span> {</span>
<span id="cb39-132"><a href="#cb39-132"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb39-133"><a href="#cb39-133"></a>    <span class="dt">pages</span><span class="op">:</span> [<span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-134"><a href="#cb39-134"></a><span class="vs">                 &lt;p&gt;Zombies are emerging from four graves in the cemetery!&lt;/p&gt;</span></span>
<span id="cb39-135"><a href="#cb39-135"></a><span class="vs">                 &lt;p&gt;Your mission: Whack them back down as quickly as possible using your keyboard:&lt;/p&gt;</span></span>
<span id="cb39-136"><a href="#cb39-136"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-137"><a href="#cb39-137"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb39-138"><a href="#cb39-138"></a><span class="vs">                 &lt;ul&gt;</span></span>
<span id="cb39-139"><a href="#cb39-139"></a><span class="vs">                   &lt;li&gt;Press "D" to whack the zombie in the first grave (leftmost)&lt;/li&gt;</span></span>
<span id="cb39-140"><a href="#cb39-140"></a><span class="vs">                   &lt;li&gt;Press "F" to whack the zombie in the second grave&lt;/li&gt;</span></span>
<span id="cb39-141"><a href="#cb39-141"></a><span class="vs">                   &lt;li&gt;Press "J" to whack the zombie in the third grave&lt;/li&gt;</span></span>
<span id="cb39-142"><a href="#cb39-142"></a><span class="vs">                   &lt;li&gt;Press "K" to whack the zombie in the fourth grave (rightmost)&lt;/li&gt;</span></span>
<span id="cb39-143"><a href="#cb39-143"></a><span class="vs">                 &lt;/ul&gt;</span></span>
<span id="cb39-144"><a href="#cb39-144"></a><span class="vs">            &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-145"><a href="#cb39-145"></a>            <span class="vs">`&lt;div class="instructionStyle"&gt;     </span></span>
<span id="cb39-146"><a href="#cb39-146"></a><span class="vs">                &lt;p&gt;&lt;strong&gt;Secret Intel:&lt;/strong&gt; These zombies follow a pattern!&lt;/p&gt;</span></span>
<span id="cb39-147"><a href="#cb39-147"></a><span class="vs">                &lt;p&gt;The graves they emerge from repeat in a predictable sequence.&lt;/p&gt;</span></span>
<span id="cb39-148"><a href="#cb39-148"></a><span class="vs">                &lt;p&gt;Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!&lt;/p&gt;</span></span>
<span id="cb39-149"><a href="#cb39-149"></a><span class="vs">                &lt;p&gt;When you're ready to begin your defense, press NEXT&lt;/p&gt;</span></span>
<span id="cb39-150"><a href="#cb39-150"></a><span class="vs">            &lt;/div&gt;`</span></span>
<span id="cb39-151"><a href="#cb39-151"></a>        ]<span class="op">,</span></span>
<span id="cb39-152"><a href="#cb39-152"></a>    <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb39-153"><a href="#cb39-153"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-154"><a href="#cb39-154"></a>        bg_start<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-155"><a href="#cb39-155"></a>    }<span class="op">,</span></span>
<span id="cb39-156"><a href="#cb39-156"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-157"><a href="#cb39-157"></a>        bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-158"><a href="#cb39-158"></a>        bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-159"><a href="#cb39-159"></a>    }</span>
<span id="cb39-160"><a href="#cb39-160"></a>}</span>
<span id="cb39-161"><a href="#cb39-161"></a></span>
<span id="cb39-162"><a href="#cb39-162"></a><span class="co">// ============================================</span></span>
<span id="cb39-163"><a href="#cb39-163"></a><span class="co">// Implicit Learning Task</span></span>
<span id="cb39-164"><a href="#cb39-164"></a><span class="co">// ============================================</span></span>
<span id="cb39-165"><a href="#cb39-165"></a></span>
<span id="cb39-166"><a href="#cb39-166"></a><span class="kw">let</span> blank <span class="op">=</span> {</span>
<span id="cb39-167"><a href="#cb39-167"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-168"><a href="#cb39-168"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-169"><a href="#cb39-169"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-170"><a href="#cb39-170"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-171"><a href="#cb39-171"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-172"><a href="#cb39-172"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-173"><a href="#cb39-173"></a><span class="vs">                 &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-174"><a href="#cb39-174"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></span>
<span id="cb39-175"><a href="#cb39-175"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb39-176"><a href="#cb39-176"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-177"><a href="#cb39-177"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"blank"</span></span>
<span id="cb39-178"><a href="#cb39-178"></a>    }</span>
<span id="cb39-179"><a href="#cb39-179"></a>}</span>
<span id="cb39-180"><a href="#cb39-180"></a></span>
<span id="cb39-181"><a href="#cb39-181"></a><span class="kw">let</span> target <span class="op">=</span> {</span>
<span id="cb39-182"><a href="#cb39-182"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-183"><a href="#cb39-183"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-184"><a href="#cb39-184"></a>        <span class="kw">let</span> output</span>
<span id="cb39-185"><a href="#cb39-185"></a></span>
<span id="cb39-186"><a href="#cb39-186"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb39-187"><a href="#cb39-187"></a></span>
<span id="cb39-188"><a href="#cb39-188"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb39-189"><a href="#cb39-189"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-190"><a href="#cb39-190"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-191"><a href="#cb39-191"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-192"><a href="#cb39-192"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-193"><a href="#cb39-193"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-194"><a href="#cb39-194"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-195"><a href="#cb39-195"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb39-196"><a href="#cb39-196"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-197"><a href="#cb39-197"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-198"><a href="#cb39-198"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-199"><a href="#cb39-199"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-200"><a href="#cb39-200"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-201"><a href="#cb39-201"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-202"><a href="#cb39-202"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb39-203"><a href="#cb39-203"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-204"><a href="#cb39-204"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-205"><a href="#cb39-205"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-206"><a href="#cb39-206"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-207"><a href="#cb39-207"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-208"><a href="#cb39-208"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-209"><a href="#cb39-209"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb39-210"><a href="#cb39-210"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-211"><a href="#cb39-211"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-212"><a href="#cb39-212"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-213"><a href="#cb39-213"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-214"><a href="#cb39-214"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="zombie-appear"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-215"><a href="#cb39-215"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-216"><a href="#cb39-216"></a>        }</span>
<span id="cb39-217"><a href="#cb39-217"></a></span>
<span id="cb39-218"><a href="#cb39-218"></a>        <span class="cf">return</span> output</span>
<span id="cb39-219"><a href="#cb39-219"></a>    }<span class="op">,</span></span>
<span id="cb39-220"><a href="#cb39-220"></a>    <span class="dt">choices</span><span class="op">:</span> [<span class="st">"d"</span><span class="op">,</span><span class="st">"f"</span><span class="op">,</span> <span class="st">"j"</span><span class="op">,</span> <span class="st">"k"</span>]<span class="op">,</span></span>
<span id="cb39-221"><a href="#cb39-221"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-222"><a href="#cb39-222"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"target"</span></span>
<span id="cb39-223"><a href="#cb39-223"></a>    }<span class="op">,</span></span>
<span id="cb39-224"><a href="#cb39-224"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-225"><a href="#cb39-225"></a>      sfx_zombie<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-226"><a href="#cb39-226"></a>    }</span>
<span id="cb39-227"><a href="#cb39-227"></a>}</span>
<span id="cb39-228"><a href="#cb39-228"></a></span>
<span id="cb39-229"><a href="#cb39-229"></a><span class="kw">let</span> feedback <span class="op">=</span> {</span>
<span id="cb39-230"><a href="#cb39-230"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-231"><a href="#cb39-231"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-232"><a href="#cb39-232"></a>        <span class="kw">let</span> last_trial <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">last</span>(<span class="dv">1</span>)<span class="op">.</span><span class="fu">values</span>()</span>
<span id="cb39-233"><a href="#cb39-233"></a>        <span class="kw">let</span> last_response <span class="op">=</span> last_trial[<span class="dv">0</span>]<span class="op">.</span><span class="at">response</span></span>
<span id="cb39-234"><a href="#cb39-234"></a>        <span class="kw">let</span> last_accuracy <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">pluginAPI</span><span class="op">.</span><span class="fu">compareKeys</span>(last_response<span class="op">,</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"correct_response"</span>))</span>
<span id="cb39-235"><a href="#cb39-235"></a>        </span>
<span id="cb39-236"><a href="#cb39-236"></a>        <span class="kw">let</span> feedback</span>
<span id="cb39-237"><a href="#cb39-237"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb39-238"><a href="#cb39-238"></a>          feedback <span class="op">=</span> <span class="st">"zombie-death"</span></span>
<span id="cb39-239"><a href="#cb39-239"></a>          score <span class="op">=</span> score <span class="op">+</span> <span class="dv">100</span></span>
<span id="cb39-240"><a href="#cb39-240"></a>          </span>
<span id="cb39-241"><a href="#cb39-241"></a>          <span class="co">// play correct audio </span></span>
<span id="cb39-242"><a href="#cb39-242"></a>          sfx_coin<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-243"><a href="#cb39-243"></a>          sfx_squish<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-244"><a href="#cb39-244"></a>  </span>
<span id="cb39-245"><a href="#cb39-245"></a>        } <span class="cf">else</span> {</span>
<span id="cb39-246"><a href="#cb39-246"></a>          feedback <span class="op">=</span> <span class="st">"zombie-attack"</span></span>
<span id="cb39-247"><a href="#cb39-247"></a>          <span class="co">//score = score - 100</span></span>
<span id="cb39-248"><a href="#cb39-248"></a>          </span>
<span id="cb39-249"><a href="#cb39-249"></a>          hearts <span class="op">=</span> hearts <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb39-250"><a href="#cb39-250"></a>          <span class="kw">let</span> heart_display <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)</span>
<span id="cb39-251"><a href="#cb39-251"></a>          <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">5</span>){</span>
<span id="cb39-252"><a href="#cb39-252"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb39-253"><a href="#cb39-253"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb39-254"><a href="#cb39-254"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb39-255"><a href="#cb39-255"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb39-256"><a href="#cb39-256"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb39-257"><a href="#cb39-257"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb39-258"><a href="#cb39-258"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb39-259"><a href="#cb39-259"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb39-260"><a href="#cb39-260"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb39-261"><a href="#cb39-261"></a>          } <span class="cf">else</span> <span class="cf">if</span>(hearts <span class="op">==</span> <span class="dv">0</span>){</span>
<span id="cb39-262"><a href="#cb39-262"></a>                heart_display<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;&lt;span&gt;🖤&lt;/span&gt;`</span></span>
<span id="cb39-263"><a href="#cb39-263"></a>          }</span>
<span id="cb39-264"><a href="#cb39-264"></a>          </span>
<span id="cb39-265"><a href="#cb39-265"></a>          <span class="co">// play incorrect audio</span></span>
<span id="cb39-266"><a href="#cb39-266"></a>          sfx_hit<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-267"><a href="#cb39-267"></a>        }</span>
<span id="cb39-268"><a href="#cb39-268"></a>        </span>
<span id="cb39-269"><a href="#cb39-269"></a>        <span class="cf">if</span>(score <span class="op">&lt;</span> <span class="dv">0</span>){score <span class="op">=</span> <span class="dv">0</span>}</span>
<span id="cb39-270"><a href="#cb39-270"></a></span>
<span id="cb39-271"><a href="#cb39-271"></a>        <span class="co">// update score</span></span>
<span id="cb39-272"><a href="#cb39-272"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb39-273"><a href="#cb39-273"></a>        <span class="co">// add animation to score</span></span>
<span id="cb39-274"><a href="#cb39-274"></a>        <span class="cf">if</span>(last_accuracy){</span>
<span id="cb39-275"><a href="#cb39-275"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb39-276"><a href="#cb39-276"></a>        } <span class="cf">else</span> {</span>
<span id="cb39-277"><a href="#cb39-277"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb39-278"><a href="#cb39-278"></a>        }</span>
<span id="cb39-279"><a href="#cb39-279"></a></span>
<span id="cb39-280"><a href="#cb39-280"></a>        <span class="co">//update high score</span></span>
<span id="cb39-281"><a href="#cb39-281"></a>        <span class="cf">if</span>(score <span class="op">&gt;</span> high_score){</span>
<span id="cb39-282"><a href="#cb39-282"></a>          high_score <span class="op">=</span> score</span>
<span id="cb39-283"><a href="#cb39-283"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> high_score<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">6</span><span class="op">,</span> <span class="st">"0"</span>)<span class="op">;</span></span>
<span id="cb39-284"><a href="#cb39-284"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb39-285"><a href="#cb39-285"></a>        }</span>
<span id="cb39-286"><a href="#cb39-286"></a></span>
<span id="cb39-287"><a href="#cb39-287"></a>        <span class="co">// update output</span></span>
<span id="cb39-288"><a href="#cb39-288"></a>        <span class="kw">let</span> output</span>
<span id="cb39-289"><a href="#cb39-289"></a></span>
<span id="cb39-290"><a href="#cb39-290"></a>        <span class="co">// still need the location</span></span>
<span id="cb39-291"><a href="#cb39-291"></a>        <span class="kw">let</span> target_location <span class="op">=</span> jsPsych<span class="op">.</span><span class="fu">evaluateTimelineVariable</span>(<span class="st">"location"</span>)</span>
<span id="cb39-292"><a href="#cb39-292"></a></span>
<span id="cb39-293"><a href="#cb39-293"></a>        <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">1</span>){</span>
<span id="cb39-294"><a href="#cb39-294"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-295"><a href="#cb39-295"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-296"><a href="#cb39-296"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-297"><a href="#cb39-297"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-298"><a href="#cb39-298"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-299"><a href="#cb39-299"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-300"><a href="#cb39-300"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">2</span>){</span>
<span id="cb39-301"><a href="#cb39-301"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-302"><a href="#cb39-302"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-303"><a href="#cb39-303"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-304"><a href="#cb39-304"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-305"><a href="#cb39-305"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-306"><a href="#cb39-306"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-307"><a href="#cb39-307"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">3</span>){</span>
<span id="cb39-308"><a href="#cb39-308"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-309"><a href="#cb39-309"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-310"><a href="#cb39-310"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-311"><a href="#cb39-311"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-312"><a href="#cb39-312"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-313"><a href="#cb39-313"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-314"><a href="#cb39-314"></a>        } <span class="cf">else</span> <span class="cf">if</span>(target_location <span class="op">==</span> <span class="dv">4</span>){</span>
<span id="cb39-315"><a href="#cb39-315"></a>            output <span class="op">=</span> <span class="vs">`&lt;div class="boxContainer"&gt;</span></span>
<span id="cb39-316"><a href="#cb39-316"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-317"><a href="#cb39-317"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-318"><a href="#cb39-318"></a><span class="vs">                  &lt;div class="box"&gt;&lt;/div&gt;</span></span>
<span id="cb39-319"><a href="#cb39-319"></a><span class="vs">                  &lt;div class="box"&gt;&lt;div class="</span><span class="sc">${</span>feedback<span class="sc">}</span><span class="vs">"&gt;&lt;/div&gt;&lt;/div&gt;</span></span>
<span id="cb39-320"><a href="#cb39-320"></a><span class="vs">                 &lt;/div&gt;`</span></span>
<span id="cb39-321"><a href="#cb39-321"></a>        }</span>
<span id="cb39-322"><a href="#cb39-322"></a></span>
<span id="cb39-323"><a href="#cb39-323"></a>        <span class="cf">return</span> output</span>
<span id="cb39-324"><a href="#cb39-324"></a>    }<span class="op">,</span></span>
<span id="cb39-325"><a href="#cb39-325"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb39-326"><a href="#cb39-326"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1200</span><span class="op">,</span></span>
<span id="cb39-327"><a href="#cb39-327"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-328"><a href="#cb39-328"></a>        <span class="dt">trial_part</span><span class="op">:</span> <span class="st">"feedback"</span></span>
<span id="cb39-329"><a href="#cb39-329"></a>    }<span class="op">,</span></span>
<span id="cb39-330"><a href="#cb39-330"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-331"><a href="#cb39-331"></a>          </span>
<span id="cb39-332"><a href="#cb39-332"></a>          <span class="co">// make sure all audio has stopped and ready to start again</span></span>
<span id="cb39-333"><a href="#cb39-333"></a>          sfx_coin<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-334"><a href="#cb39-334"></a>          sfx_hit<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-335"><a href="#cb39-335"></a>          sfx_zombie<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-336"><a href="#cb39-336"></a>          </span>
<span id="cb39-337"><a href="#cb39-337"></a>          sfx_coin<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-338"><a href="#cb39-338"></a>          sfx_hit<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-339"><a href="#cb39-339"></a>          sfx_zombie<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-340"><a href="#cb39-340"></a></span>
<span id="cb39-341"><a href="#cb39-341"></a>          <span class="co">// remove the animation classes </span></span>
<span id="cb39-342"><a href="#cb39-342"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb39-343"><a href="#cb39-343"></a>         <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"shake-horizontal"</span>)</span>
<span id="cb39-344"><a href="#cb39-344"></a>          <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#high-score"</span>)<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">"heartbeat"</span>)</span>
<span id="cb39-345"><a href="#cb39-345"></a>    }</span>
<span id="cb39-346"><a href="#cb39-346"></a>}</span>
<span id="cb39-347"><a href="#cb39-347"></a></span>
<span id="cb39-348"><a href="#cb39-348"></a><span class="co">// check death</span></span>
<span id="cb39-349"><a href="#cb39-349"></a><span class="kw">let</span> death <span class="op">=</span> {</span>
<span id="cb39-350"><a href="#cb39-350"></a>  <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb39-351"><a href="#cb39-351"></a>    {</span>
<span id="cb39-352"><a href="#cb39-352"></a>      <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-353"><a href="#cb39-353"></a>        <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`&lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb39-354"><a href="#cb39-354"></a><span class="vs">                      &lt;h3 class="game-title" style="color:#ff00ff"&gt;You Died!&lt;/h3&gt;</span></span>
<span id="cb39-355"><a href="#cb39-355"></a><span class="vs">                      &lt;p&gt;Press "ENTER" to try again.&lt;/p&gt;</span></span>
<span id="cb39-356"><a href="#cb39-356"></a><span class="vs">                    &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb39-357"><a href="#cb39-357"></a>      <span class="dt">choices</span><span class="op">:</span> [<span class="st">"ENTER"</span>]<span class="op">,</span></span>
<span id="cb39-358"><a href="#cb39-358"></a>      <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb39-359"><a href="#cb39-359"></a>      <span class="dt">data</span><span class="op">:</span> {<span class="dt">trial_part</span><span class="op">:</span> <span class="st">"death"</span>}<span class="op">,</span></span>
<span id="cb39-360"><a href="#cb39-360"></a>      <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-361"><a href="#cb39-361"></a>          bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-362"><a href="#cb39-362"></a>          bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-363"><a href="#cb39-363"></a>      }<span class="op">,</span></span>
<span id="cb39-364"><a href="#cb39-364"></a>      <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-365"><a href="#cb39-365"></a>          bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-366"><a href="#cb39-366"></a>      }</span>
<span id="cb39-367"><a href="#cb39-367"></a>    }</span>
<span id="cb39-368"><a href="#cb39-368"></a>  ]<span class="op">,</span></span>
<span id="cb39-369"><a href="#cb39-369"></a>   <span class="dt">conditional_function</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-370"><a href="#cb39-370"></a>        <span class="co">// this timeline runs IF hearts is 0 or less</span></span>
<span id="cb39-371"><a href="#cb39-371"></a>        <span class="cf">if</span>(hearts <span class="op">&lt;=</span> <span class="dv">0</span>){</span>
<span id="cb39-372"><a href="#cb39-372"></a>            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb39-373"><a href="#cb39-373"></a>        } <span class="cf">else</span> {</span>
<span id="cb39-374"><a href="#cb39-374"></a>            <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb39-375"><a href="#cb39-375"></a>        }</span>
<span id="cb39-376"><a href="#cb39-376"></a>  }<span class="op">,</span></span>
<span id="cb39-377"><a href="#cb39-377"></a>  <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-378"><a href="#cb39-378"></a>    <span class="co">// pause all music</span></span>
<span id="cb39-379"><a href="#cb39-379"></a>    bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-380"><a href="#cb39-380"></a>    bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-381"><a href="#cb39-381"></a>    bg_start<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-382"><a href="#cb39-382"></a>    bg_start<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-383"><a href="#cb39-383"></a>    bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-384"><a href="#cb39-384"></a>    bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-385"><a href="#cb39-385"></a>    </span>
<span id="cb39-386"><a href="#cb39-386"></a>    <span class="co">// end jsPsych early</span></span>
<span id="cb39-387"><a href="#cb39-387"></a>    jsPsych<span class="op">.</span><span class="fu">abortExperiment</span>()<span class="op">;</span></span>
<span id="cb39-388"><a href="#cb39-388"></a></span>
<span id="cb39-389"><a href="#cb39-389"></a>    <span class="co">// clear the jspsych display display </span></span>
<span id="cb39-390"><a href="#cb39-390"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#jspsych-game-display"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">""</span></span>
<span id="cb39-391"><a href="#cb39-391"></a>    </span>
<span id="cb39-392"><a href="#cb39-392"></a>    <span class="co">// restart the score/hearts</span></span>
<span id="cb39-393"><a href="#cb39-393"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".hearts"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;&lt;span&gt;❤️&lt;/span&gt;`</span></span>
<span id="cb39-394"><a href="#cb39-394"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"#score"</span>)<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="st">"000000"</span></span>
<span id="cb39-395"><a href="#cb39-395"></a>    score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb39-396"><a href="#cb39-396"></a>    hearts <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb39-397"><a href="#cb39-397"></a>    </span>
<span id="cb39-398"><a href="#cb39-398"></a>    <span class="co">// restart jspsych</span></span>
<span id="cb39-399"><a href="#cb39-399"></a>    <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb39-400"><a href="#cb39-400"></a>      jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb39-401"><a href="#cb39-401"></a>                implicit_instructions<span class="op">,</span></span>
<span id="cb39-402"><a href="#cb39-402"></a>                learning<span class="op">,</span></span>
<span id="cb39-403"><a href="#cb39-403"></a>                test<span class="op">,</span></span>
<span id="cb39-404"><a href="#cb39-404"></a>                saveData</span>
<span id="cb39-405"><a href="#cb39-405"></a>            ])<span class="op">;</span></span>
<span id="cb39-406"><a href="#cb39-406"></a>        } <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb39-407"><a href="#cb39-407"></a>            jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb39-408"><a href="#cb39-408"></a>                explicit_instructions<span class="op">,</span></span>
<span id="cb39-409"><a href="#cb39-409"></a>                learning<span class="op">,</span></span>
<span id="cb39-410"><a href="#cb39-410"></a>                test<span class="op">,</span></span>
<span id="cb39-411"><a href="#cb39-411"></a>                saveData</span>
<span id="cb39-412"><a href="#cb39-412"></a>            ])<span class="op">;</span></span>
<span id="cb39-413"><a href="#cb39-413"></a>        }</span>
<span id="cb39-414"><a href="#cb39-414"></a>    }</span>
<span id="cb39-415"><a href="#cb39-415"></a>}</span>
<span id="cb39-416"><a href="#cb39-416"></a></span>
<span id="cb39-417"><a href="#cb39-417"></a><span class="co">// learning phase in order</span></span>
<span id="cb39-418"><a href="#cb39-418"></a><span class="kw">let</span> learning <span class="op">=</span> {</span>
<span id="cb39-419"><a href="#cb39-419"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb39-420"><a href="#cb39-420"></a>        blank<span class="op">,</span></span>
<span id="cb39-421"><a href="#cb39-421"></a>        target<span class="op">,</span></span>
<span id="cb39-422"><a href="#cb39-422"></a>        feedback<span class="op">,</span></span>
<span id="cb39-423"><a href="#cb39-423"></a>        death</span>
<span id="cb39-424"><a href="#cb39-424"></a>    ]<span class="op">,</span></span>
<span id="cb39-425"><a href="#cb39-425"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb39-426"><a href="#cb39-426"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb39-427"><a href="#cb39-427"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb39-428"><a href="#cb39-428"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb39-429"><a href="#cb39-429"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb39-430"><a href="#cb39-430"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb39-431"><a href="#cb39-431"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb39-432"><a href="#cb39-432"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb39-433"><a href="#cb39-433"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb39-434"><a href="#cb39-434"></a>    ]<span class="op">,</span></span>
<span id="cb39-435"><a href="#cb39-435"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb39-436"><a href="#cb39-436"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-437"><a href="#cb39-437"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"learning"</span><span class="op">,</span></span>
<span id="cb39-438"><a href="#cb39-438"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb39-439"><a href="#cb39-439"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb39-440"><a href="#cb39-440"></a>    }<span class="op">,</span></span>
<span id="cb39-441"><a href="#cb39-441"></a>    <span class="dt">on_timeline_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-442"><a href="#cb39-442"></a>        bg_game<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-443"><a href="#cb39-443"></a>    }</span>
<span id="cb39-444"><a href="#cb39-444"></a>}</span>
<span id="cb39-445"><a href="#cb39-445"></a></span>
<span id="cb39-446"><a href="#cb39-446"></a><span class="co">// test phase reverses the order</span></span>
<span id="cb39-447"><a href="#cb39-447"></a><span class="kw">let</span> test <span class="op">=</span> {</span>
<span id="cb39-448"><a href="#cb39-448"></a>    <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb39-449"><a href="#cb39-449"></a>        blank<span class="op">,</span></span>
<span id="cb39-450"><a href="#cb39-450"></a>        target<span class="op">,</span></span>
<span id="cb39-451"><a href="#cb39-451"></a>        feedback<span class="op">,</span></span>
<span id="cb39-452"><a href="#cb39-452"></a>        death</span>
<span id="cb39-453"><a href="#cb39-453"></a>    ]<span class="op">,</span></span>
<span id="cb39-454"><a href="#cb39-454"></a>    <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb39-455"><a href="#cb39-455"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb39-456"><a href="#cb39-456"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb39-457"><a href="#cb39-457"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb39-458"><a href="#cb39-458"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"1"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"d"</span>}<span class="op">,</span></span>
<span id="cb39-459"><a href="#cb39-459"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}<span class="op">,</span></span>
<span id="cb39-460"><a href="#cb39-460"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"2"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"f"</span>}<span class="op">,</span></span>
<span id="cb39-461"><a href="#cb39-461"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"4"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"k"</span>}<span class="op">,</span></span>
<span id="cb39-462"><a href="#cb39-462"></a>        {<span class="dt">location</span><span class="op">:</span> <span class="st">"3"</span><span class="op">,</span> <span class="dt">correct_response</span><span class="op">:</span> <span class="st">"j"</span>}</span>
<span id="cb39-463"><a href="#cb39-463"></a>    ]<span class="op">,</span></span>
<span id="cb39-464"><a href="#cb39-464"></a>    <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb39-465"><a href="#cb39-465"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb39-466"><a href="#cb39-466"></a>        <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb39-467"><a href="#cb39-467"></a>            <span class="cf">return</span> indices<span class="op">.</span><span class="fu">reverse</span>()<span class="op">;</span> <span class="co">// show the trials in the reverse order</span></span>
<span id="cb39-468"><a href="#cb39-468"></a>        }</span>
<span id="cb39-469"><a href="#cb39-469"></a>    }<span class="op">,</span></span>
<span id="cb39-470"><a href="#cb39-470"></a>    <span class="dt">repetitions</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb39-471"><a href="#cb39-471"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-472"><a href="#cb39-472"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"testing"</span><span class="op">,</span></span>
<span id="cb39-473"><a href="#cb39-473"></a>        <span class="dt">location</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"location"</span>)<span class="op">,</span></span>
<span id="cb39-474"><a href="#cb39-474"></a>        <span class="dt">correct_response</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"correct_response"</span>)</span>
<span id="cb39-475"><a href="#cb39-475"></a>    }<span class="op">,</span></span>
<span id="cb39-476"><a href="#cb39-476"></a>    <span class="dt">on_timeline_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-477"><a href="#cb39-477"></a>        bg_game<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-478"><a href="#cb39-478"></a>        bg_game<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-479"><a href="#cb39-479"></a>    }</span>
<span id="cb39-480"><a href="#cb39-480"></a>}</span>
<span id="cb39-481"><a href="#cb39-481"></a></span>
<span id="cb39-482"><a href="#cb39-482"></a></span>
<span id="cb39-483"><a href="#cb39-483"></a><span class="co">// ============================================</span></span>
<span id="cb39-484"><a href="#cb39-484"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb39-485"><a href="#cb39-485"></a><span class="co">// ============================================</span></span>
<span id="cb39-486"><a href="#cb39-486"></a></span>
<span id="cb39-487"><a href="#cb39-487"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb39-488"><a href="#cb39-488"></a>    <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb39-489"><a href="#cb39-489"></a>    <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb39-490"><a href="#cb39-490"></a><span class="vs">    &lt;div class="instructionStyle" style="text-align: center"&gt;</span></span>
<span id="cb39-491"><a href="#cb39-491"></a><span class="vs">      &lt;p&gt;GAME OVER!&lt;/p&gt;</span></span>
<span id="cb39-492"><a href="#cb39-492"></a><span class="vs">      &lt;p&gt;Click the button below to save your data:&lt;/p&gt;</span></span>
<span id="cb39-493"><a href="#cb39-493"></a><span class="vs">      &lt;button class="jspsych-btn"&gt;</span></span>
<span id="cb39-494"><a href="#cb39-494"></a><span class="vs">        SAVE DATA</span></span>
<span id="cb39-495"><a href="#cb39-495"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb39-496"><a href="#cb39-496"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb39-497"><a href="#cb39-497"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb39-498"><a href="#cb39-498"></a>    <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb39-499"><a href="#cb39-499"></a>    <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb39-500"><a href="#cb39-500"></a>    <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb39-501"><a href="#cb39-501"></a>        <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb39-502"><a href="#cb39-502"></a>            jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"implicitLearning_data.csv"</span>)<span class="op">;</span></span>
<span id="cb39-503"><a href="#cb39-503"></a>        })<span class="op">;</span></span>
<span id="cb39-504"><a href="#cb39-504"></a>    }<span class="op">,</span></span>
<span id="cb39-505"><a href="#cb39-505"></a>    <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb39-506"><a href="#cb39-506"></a>        <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb39-507"><a href="#cb39-507"></a>    }<span class="op">,</span></span>
<span id="cb39-508"><a href="#cb39-508"></a>    <span class="dt">on_start</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-509"><a href="#cb39-509"></a>      bg_end<span class="op">.</span><span class="fu">play</span>()<span class="op">;</span></span>
<span id="cb39-510"><a href="#cb39-510"></a>    }<span class="op">,</span></span>
<span id="cb39-511"><a href="#cb39-511"></a>    <span class="dt">on_finish</span><span class="op">:</span> <span class="kw">function</span>(){</span>
<span id="cb39-512"><a href="#cb39-512"></a>      bg_end<span class="op">.</span><span class="fu">pause</span>()<span class="op">;</span></span>
<span id="cb39-513"><a href="#cb39-513"></a>      bg_end<span class="op">.</span><span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb39-514"><a href="#cb39-514"></a>    }</span>
<span id="cb39-515"><a href="#cb39-515"></a>}<span class="op">;</span></span>
<span id="cb39-516"><a href="#cb39-516"></a></span>
<span id="cb39-517"><a href="#cb39-517"></a><span class="co">// ============================================</span></span>
<span id="cb39-518"><a href="#cb39-518"></a><span class="co">// Run jsPsych</span></span>
<span id="cb39-519"><a href="#cb39-519"></a><span class="co">// ============================================</span></span>
<span id="cb39-520"><a href="#cb39-520"></a></span>
<span id="cb39-521"><a href="#cb39-521"></a><span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"implicit"</span>){</span>
<span id="cb39-522"><a href="#cb39-522"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb39-523"><a href="#cb39-523"></a>        preload<span class="op">,</span></span>
<span id="cb39-524"><a href="#cb39-524"></a>        welcome<span class="op">,</span></span>
<span id="cb39-525"><a href="#cb39-525"></a>        implicit_instructions<span class="op">,</span></span>
<span id="cb39-526"><a href="#cb39-526"></a>        learning<span class="op">,</span></span>
<span id="cb39-527"><a href="#cb39-527"></a>        test<span class="op">,</span></span>
<span id="cb39-528"><a href="#cb39-528"></a>        saveData</span>
<span id="cb39-529"><a href="#cb39-529"></a>    ])<span class="op">;</span></span>
<span id="cb39-530"><a href="#cb39-530"></a>} <span class="cf">else</span> <span class="cf">if</span>(assigned_condition <span class="op">===</span> <span class="st">"explicit"</span>){</span>
<span id="cb39-531"><a href="#cb39-531"></a>    jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb39-532"><a href="#cb39-532"></a>        preload<span class="op">,</span></span>
<span id="cb39-533"><a href="#cb39-533"></a>        welcome<span class="op">,</span></span>
<span id="cb39-534"><a href="#cb39-534"></a>        explicit_instructions<span class="op">,</span></span>
<span id="cb39-535"><a href="#cb39-535"></a>        learning<span class="op">,</span></span>
<span id="cb39-536"><a href="#cb39-536"></a>        test<span class="op">,</span></span>
<span id="cb39-537"><a href="#cb39-537"></a>        saveData</span>
<span id="cb39-538"><a href="#cb39-538"></a>    ])<span class="op">;</span></span>
<span id="cb39-539"><a href="#cb39-539"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb40-1"><a href="#cb40-1"></a> </span>
<span id="cb40-2"><a href="#cb40-2"></a>body {</span>
<span id="cb40-3"><a href="#cb40-3"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-5"><a href="#cb40-5"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-6"><a href="#cb40-6"></a>    <span class="kw">min-height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">vh</span><span class="op">;</span></span>
<span id="cb40-7"><a href="#cb40-7"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-8"><a href="#cb40-8"></a>}  </span>
<span id="cb40-9"><a href="#cb40-9"></a></span>
<span id="cb40-10"><a href="#cb40-10"></a><span class="fu">.boxContainer</span> {</span>
<span id="cb40-11"><a href="#cb40-11"></a>    <span class="co">/* width: 500px;</span></span>
<span id="cb40-12"><a href="#cb40-12"></a><span class="co">    height: 300px; */</span></span>
<span id="cb40-13"><a href="#cb40-13"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-14"><a href="#cb40-14"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-15"><a href="#cb40-15"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-16"><a href="#cb40-16"></a>}</span>
<span id="cb40-17"><a href="#cb40-17"></a></span>
<span id="cb40-18"><a href="#cb40-18"></a><span class="fu">.box</span> {</span>
<span id="cb40-19"><a href="#cb40-19"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-20"><a href="#cb40-20"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-21"><a href="#cb40-21"></a>    <span class="co">/*border: solid;*/</span></span>
<span id="cb40-22"><a href="#cb40-22"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-23"><a href="#cb40-23"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-24"><a href="#cb40-24"></a>    <span class="kw">flex-shrink</span><span class="ch">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-25"><a href="#cb40-25"></a>    <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-26"><a href="#cb40-26"></a>    <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-27"><a href="#cb40-27"></a>    <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-28"><a href="#cb40-28"></a>    <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/dirt.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-29"><a href="#cb40-29"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb40-30"><a href="#cb40-30"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb40-31"><a href="#cb40-31"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">contain</span><span class="op">;</span></span>
<span id="cb40-32"><a href="#cb40-32"></a>}</span>
<span id="cb40-33"><a href="#cb40-33"></a></span>
<span id="cb40-34"><a href="#cb40-34"></a><span class="co">/* GAME DISPLAY */</span></span>
<span id="cb40-35"><a href="#cb40-35"></a><span class="fu">.game-display</span> {</span>
<span id="cb40-36"><a href="#cb40-36"></a>  <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb40-37"><a href="#cb40-37"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">720</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-38"><a href="#cb40-38"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">420</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-39"><a href="#cb40-39"></a>  <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/bg.svg"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-40"><a href="#cb40-40"></a>  <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb40-41"><a href="#cb40-41"></a>  <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span></span>
<span id="cb40-42"><a href="#cb40-42"></a>  <span class="kw">background-size</span><span class="ch">:</span> <span class="dv">cover</span><span class="op">;</span> </span>
<span id="cb40-43"><a href="#cb40-43"></a>}</span>
<span id="cb40-44"><a href="#cb40-44"></a></span>
<span id="cb40-45"><a href="#cb40-45"></a><span class="fu">.grid</span> {</span>
<span id="cb40-46"><a href="#cb40-46"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb40-47"><a href="#cb40-47"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb40-48"><a href="#cb40-48"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">grid</span><span class="op">;</span></span>
<span id="cb40-49"><a href="#cb40-49"></a>  <span class="kw">grid-template-columns</span><span class="ch">:</span> <span class="dv">.5</span><span class="dt">fr</span> <span class="fu">repeat(</span><span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span> <span class="dv">.5</span><span class="dt">fr</span><span class="op">;</span></span>
<span id="cb40-50"><a href="#cb40-50"></a>  <span class="kw">grid-template-rows</span><span class="ch">:</span> <span class="fu">repeat(</span><span class="dv">8</span><span class="op">,</span> <span class="dv">1</span><span class="dt">fr</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-51"><a href="#cb40-51"></a>  <span class="kw">grid-template-areas</span><span class="ch">:</span></span>
<span id="cb40-52"><a href="#cb40-52"></a>    <span class="st">"top-left    top-left top    top    top-right top-right"</span></span>
<span id="cb40-53"><a href="#cb40-53"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-54"><a href="#cb40-54"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-55"><a href="#cb40-55"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-56"><a href="#cb40-56"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-57"><a href="#cb40-57"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-58"><a href="#cb40-58"></a>    <span class="st">"left        center   center center center    right"</span></span>
<span id="cb40-59"><a href="#cb40-59"></a>    <span class="st">"bottom-left bottom   bottom bottom bottom    bottom-right"</span><span class="op">;</span></span>
<span id="cb40-60"><a href="#cb40-60"></a></span>
<span id="cb40-61"><a href="#cb40-61"></a>}</span>
<span id="cb40-62"><a href="#cb40-62"></a></span>
<span id="cb40-63"><a href="#cb40-63"></a><span class="co">/* Grid area assignments */</span></span>
<span id="cb40-64"><a href="#cb40-64"></a><span class="fu">.top-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-left</span><span class="op">;</span> }</span>
<span id="cb40-65"><a href="#cb40-65"></a><span class="fu">.top-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top-right</span><span class="op">;</span> }</span>
<span id="cb40-66"><a href="#cb40-66"></a><span class="fu">.top</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">top</span><span class="op">;</span> }</span>
<span id="cb40-67"><a href="#cb40-67"></a><span class="fu">.center</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span> }</span>
<span id="cb40-68"><a href="#cb40-68"></a><span class="fu">.left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span> }</span>
<span id="cb40-69"><a href="#cb40-69"></a><span class="fu">.right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">right</span><span class="op">;</span> }</span>
<span id="cb40-70"><a href="#cb40-70"></a><span class="fu">.bottom-left</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-left</span><span class="op">;</span> }</span>
<span id="cb40-71"><a href="#cb40-71"></a><span class="fu">.bottom-right</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom-right</span><span class="op">;</span> }</span>
<span id="cb40-72"><a href="#cb40-72"></a><span class="fu">.bottom</span> { <span class="kw">grid-area</span><span class="ch">:</span> <span class="dv">bottom</span><span class="op">;</span> }</span>
<span id="cb40-73"><a href="#cb40-73"></a></span>
<span id="cb40-74"><a href="#cb40-74"></a><span class="co">/* add a border, so we can see the divs */</span></span>
<span id="cb40-75"><a href="#cb40-75"></a><span class="co">/*.grid &gt; div {</span></span>
<span id="cb40-76"><a href="#cb40-76"></a><span class="co">    border: 1px solid white;</span></span>
<span id="cb40-77"><a href="#cb40-77"></a><span class="co">    margin: -.5px;</span></span>
<span id="cb40-78"><a href="#cb40-78"></a><span class="co">}</span></span>
<span id="cb40-79"><a href="#cb40-79"></a><span class="co">*/</span></span>
<span id="cb40-80"><a href="#cb40-80"></a></span>
<span id="cb40-81"><a href="#cb40-81"></a><span class="fu">.game-title</span> {</span>
<span id="cb40-82"><a href="#cb40-82"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">36</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-83"><a href="#cb40-83"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-84"><a href="#cb40-84"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Creepster"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb40-85"><a href="#cb40-85"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">darkred</span><span class="op">;</span></span>
<span id="cb40-86"><a href="#cb40-86"></a>  <span class="kw">letter-spacing</span><span class="ch">:</span> <span class="dv">.07</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb40-87"><a href="#cb40-87"></a>  <span class="kw">transform</span><span class="ch">:</span> <span class="fu">rotate(</span><span class="dv">-2</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-88"><a href="#cb40-88"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb40-89"><a href="#cb40-89"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-90"><a href="#cb40-90"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-91"><a href="#cb40-91"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-92"><a href="#cb40-92"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-93"><a href="#cb40-93"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-94"><a href="#cb40-94"></a>}</span>
<span id="cb40-95"><a href="#cb40-95"></a></span>
<span id="cb40-96"><a href="#cb40-96"></a><span class="co">/* zombie animation classes */</span></span>
<span id="cb40-97"><a href="#cb40-97"></a><span class="fu">.zombie-appear</span> {</span>
<span id="cb40-98"><a href="#cb40-98"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">115</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-99"><a href="#cb40-99"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-100"><a href="#cb40-100"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb40-101"><a href="#cb40-101"></a>            <span class="dv">appear .3</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb40-102"><a href="#cb40-102"></a>            <span class="dv">idle 1</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">6</span><span class="fu">)</span> <span class="dv">.3</span><span class="dt">s</span> <span class="dv">infinite</span><span class="op">;</span></span>
<span id="cb40-103"><a href="#cb40-103"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb40-104"><a href="#cb40-104"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-105"><a href="#cb40-105"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb40-106"><a href="#cb40-106"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-107"><a href="#cb40-107"></a>}</span>
<span id="cb40-108"><a href="#cb40-108"></a></span>
<span id="cb40-109"><a href="#cb40-109"></a><span class="im">@keyframes</span> appear {</span>
<span id="cb40-110"><a href="#cb40-110"></a>    <span class="dv">from</span> {</span>
<span id="cb40-111"><a href="#cb40-111"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-112"><a href="#cb40-112"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-113"><a href="#cb40-113"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-114"><a href="#cb40-114"></a>    }</span>
<span id="cb40-115"><a href="#cb40-115"></a>    <span class="dv">to</span> {</span>
<span id="cb40-116"><a href="#cb40-116"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-117"><a href="#cb40-117"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAppear.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-118"><a href="#cb40-118"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-1265</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-119"><a href="#cb40-119"></a>    }</span>
<span id="cb40-120"><a href="#cb40-120"></a>}</span>
<span id="cb40-121"><a href="#cb40-121"></a></span>
<span id="cb40-122"><a href="#cb40-122"></a><span class="im">@keyframes</span> idle {</span>
<span id="cb40-123"><a href="#cb40-123"></a>    <span class="dv">from</span> {</span>
<span id="cb40-124"><a href="#cb40-124"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-125"><a href="#cb40-125"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-126"><a href="#cb40-126"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-127"><a href="#cb40-127"></a>    }</span>
<span id="cb40-128"><a href="#cb40-128"></a>    <span class="dv">to</span> {</span>
<span id="cb40-129"><a href="#cb40-129"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">97</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-130"><a href="#cb40-130"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieIdle.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-131"><a href="#cb40-131"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-584</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-132"><a href="#cb40-132"></a>    }</span>
<span id="cb40-133"><a href="#cb40-133"></a>}</span>
<span id="cb40-134"><a href="#cb40-134"></a></span>
<span id="cb40-135"><a href="#cb40-135"></a></span>
<span id="cb40-136"><a href="#cb40-136"></a><span class="fu">.zombie-death</span> {</span>
<span id="cb40-137"><a href="#cb40-137"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-138"><a href="#cb40-138"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-139"><a href="#cb40-139"></a>    <span class="kw">animation</span><span class="ch">:</span> <span class="dv">death .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">8</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">;</span></span>
<span id="cb40-140"><a href="#cb40-140"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb40-141"><a href="#cb40-141"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-142"><a href="#cb40-142"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-143"><a href="#cb40-143"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-144"><a href="#cb40-144"></a>}</span>
<span id="cb40-145"><a href="#cb40-145"></a></span>
<span id="cb40-146"><a href="#cb40-146"></a><span class="im">@keyframes</span> death {</span>
<span id="cb40-147"><a href="#cb40-147"></a>    <span class="dv">from</span> {</span>
<span id="cb40-148"><a href="#cb40-148"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-149"><a href="#cb40-149"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-150"><a href="#cb40-150"></a>    }</span>
<span id="cb40-151"><a href="#cb40-151"></a>    <span class="dv">to</span> {</span>
<span id="cb40-152"><a href="#cb40-152"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieDie.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-153"><a href="#cb40-153"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-960</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-154"><a href="#cb40-154"></a>    }</span>
<span id="cb40-155"><a href="#cb40-155"></a>}</span>
<span id="cb40-156"><a href="#cb40-156"></a></span>
<span id="cb40-157"><a href="#cb40-157"></a></span>
<span id="cb40-158"><a href="#cb40-158"></a><span class="fu">.zombie-attack</span> {</span>
<span id="cb40-159"><a href="#cb40-159"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-160"><a href="#cb40-160"></a>    <span class="kw">height</span><span class="ch">:</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-161"><a href="#cb40-161"></a>    <span class="kw">animation</span><span class="ch">:</span></span>
<span id="cb40-162"><a href="#cb40-162"></a>            <span class="dv">attack .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">7</span><span class="fu">)</span> <span class="dv">forwards</span><span class="op">,</span></span>
<span id="cb40-163"><a href="#cb40-163"></a>            <span class="dv">appear .6</span><span class="dt">s</span> steps<span class="fu">(</span><span class="dv">11</span><span class="fu">)</span> <span class="dv">.6</span><span class="dt">s</span> <span class="dv">forwards</span> <span class="dv">reverse</span><span class="op">;</span></span>
<span id="cb40-164"><a href="#cb40-164"></a>    <span class="kw">background-repeat</span><span class="ch">:</span> <span class="dv">no-repeat</span><span class="op">;</span></span>
<span id="cb40-165"><a href="#cb40-165"></a>    <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">bottom</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-166"><a href="#cb40-166"></a>    <span class="kw">background-size</span><span class="ch">:</span> <span class="bu">auto</span> <span class="dv">150</span><span class="dt">px</span><span class="op">;</span> <span class="co">/* Maintains sprite sheet aspect ratio */</span></span>
<span id="cb40-167"><a href="#cb40-167"></a>    <span class="kw">margin-bottom</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-168"><a href="#cb40-168"></a>}</span>
<span id="cb40-169"><a href="#cb40-169"></a></span>
<span id="cb40-170"><a href="#cb40-170"></a><span class="im">@keyframes</span> attack {</span>
<span id="cb40-171"><a href="#cb40-171"></a>    <span class="dv">from</span> {</span>
<span id="cb40-172"><a href="#cb40-172"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-173"><a href="#cb40-173"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-174"><a href="#cb40-174"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-175"><a href="#cb40-175"></a>    }</span>
<span id="cb40-176"><a href="#cb40-176"></a>    <span class="dv">to</span> {</span>
<span id="cb40-177"><a href="#cb40-177"></a>        <span class="kw">width</span><span class="ch">:</span> <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-178"><a href="#cb40-178"></a>        <span class="kw">background-image</span><span class="ch">:</span> <span class="fu">url(</span><span class="st">"images/zombieAttack.png"</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-179"><a href="#cb40-179"></a>        <span class="kw">background-position</span><span class="ch">:</span> <span class="dv">-840</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-180"><a href="#cb40-180"></a>    }</span>
<span id="cb40-181"><a href="#cb40-181"></a>}</span>
<span id="cb40-182"><a href="#cb40-182"></a></span>
<span id="cb40-183"><a href="#cb40-183"></a></span>
<span id="cb40-184"><a href="#cb40-184"></a><span class="co">/* Score displays */</span></span>
<span id="cb40-185"><a href="#cb40-185"></a><span class="fu">.score-display</span> {</span>
<span id="cb40-186"><a href="#cb40-186"></a>  <span class="kw">height</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb40-187"><a href="#cb40-187"></a>  <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb40-188"><a href="#cb40-188"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb40-189"><a href="#cb40-189"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-190"><a href="#cb40-190"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb40-191"><a href="#cb40-191"></a>  <span class="kw">justify-content</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-192"><a href="#cb40-192"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-193"><a href="#cb40-193"></a>  <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-194"><a href="#cb40-194"></a>}</span>
<span id="cb40-195"><a href="#cb40-195"></a></span>
<span id="cb40-196"><a href="#cb40-196"></a><span class="fu">.score-display</span> <span class="fu">.label</span> {</span>
<span id="cb40-197"><a href="#cb40-197"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-198"><a href="#cb40-198"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ffd700</span><span class="op">;</span></span>
<span id="cb40-199"><a href="#cb40-199"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb40-200"><a href="#cb40-200"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-201"><a href="#cb40-201"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-202"><a href="#cb40-202"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-203"><a href="#cb40-203"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-204"><a href="#cb40-204"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-205"><a href="#cb40-205"></a>}</span>
<span id="cb40-206"><a href="#cb40-206"></a></span>
<span id="cb40-207"><a href="#cb40-207"></a><span class="fu">.score-display</span> <span class="fu">.value</span> {</span>
<span id="cb40-208"><a href="#cb40-208"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-209"><a href="#cb40-209"></a>  <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff41</span><span class="op">;</span></span>
<span id="cb40-210"><a href="#cb40-210"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb40-211"><a href="#cb40-211"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-212"><a href="#cb40-212"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">-2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-213"><a href="#cb40-213"></a>    <span class="dv">-2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-214"><a href="#cb40-214"></a>    <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-215"><a href="#cb40-215"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">12</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">65</span><span class="op">,</span> <span class="dv">0.9</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-216"><a href="#cb40-216"></a>}</span>
<span id="cb40-217"><a href="#cb40-217"></a></span>
<span id="cb40-218"><a href="#cb40-218"></a><span class="co">/* Lives display */</span></span>
<span id="cb40-219"><a href="#cb40-219"></a><span class="fu">.lives-display</span> {</span>
<span id="cb40-220"><a href="#cb40-220"></a>  <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">system-ui</span><span class="op">;</span></span>
<span id="cb40-221"><a href="#cb40-221"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-222"><a href="#cb40-222"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb40-223"><a href="#cb40-223"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-224"><a href="#cb40-224"></a>  <span class="kw">align-items</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-225"><a href="#cb40-225"></a>}</span>
<span id="cb40-226"><a href="#cb40-226"></a></span>
<span id="cb40-227"><a href="#cb40-227"></a><span class="fu">.hearts</span> {</span>
<span id="cb40-228"><a href="#cb40-228"></a>  <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-229"><a href="#cb40-229"></a>  <span class="kw">filter</span><span class="ch">:</span> <span class="fu">drop-shadow(</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">5</span><span class="dt">px</span> <span class="cn">#ff0066</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-230"><a href="#cb40-230"></a>  <span class="kw">display</span><span class="ch">:</span> <span class="dv">flex</span><span class="op">;</span></span>
<span id="cb40-231"><a href="#cb40-231"></a>  <span class="kw">flex-direction</span><span class="ch">:</span> <span class="dv">column</span><span class="op">;</span></span>
<span id="cb40-232"><a href="#cb40-232"></a>  <span class="kw">gap</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-233"><a href="#cb40-233"></a>  <span class="kw">text-shadow</span><span class="ch">:</span> </span>
<span id="cb40-234"><a href="#cb40-234"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-235"><a href="#cb40-235"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">-1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-236"><a href="#cb40-236"></a>    <span class="dv">-1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-237"><a href="#cb40-237"></a>    <span class="dv">1</span><span class="dt">px</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">0</span> <span class="cn">#000</span><span class="op">,</span></span>
<span id="cb40-238"><a href="#cb40-238"></a>    <span class="dv">0</span> <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">255</span><span class="op">,</span> <span class="dv">215</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.8</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-239"><a href="#cb40-239"></a>}</span>
<span id="cb40-240"><a href="#cb40-240"></a></span>
<span id="cb40-241"><a href="#cb40-241"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb40-242"><a href="#cb40-242"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb40-243"><a href="#cb40-243"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#0a0a0a</span><span class="op">;</span></span>
<span id="cb40-244"><a href="#cb40-244"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb40-245"><a href="#cb40-245"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> </span>
<span id="cb40-246"><a href="#cb40-246"></a>        <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="cn">#00ff00</span><span class="op">,</span></span>
<span id="cb40-247"><a href="#cb40-247"></a>        <span class="dv">inset</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">10</span><span class="dt">px</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">255</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-248"><a href="#cb40-248"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-249"><a href="#cb40-249"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb40-250"><a href="#cb40-250"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#00ff00</span><span class="op">;</span></span>
<span id="cb40-251"><a href="#cb40-251"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb40-252"><a href="#cb40-252"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.5</span><span class="op">;</span></span>
<span id="cb40-253"><a href="#cb40-253"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#003300</span><span class="op">;</span></span>
<span id="cb40-254"><a href="#cb40-254"></a>}</span>
<span id="cb40-255"><a href="#cb40-255"></a></span>
<span id="cb40-256"><a href="#cb40-256"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb40-257"><a href="#cb40-257"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb40-258"><a href="#cb40-258"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb40-259"><a href="#cb40-259"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">15</span><span class="dt">px</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb40-260"><a href="#cb40-260"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb40-261"><a href="#cb40-261"></a>    <span class="kw">text-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#330033</span><span class="op">;</span></span>
<span id="cb40-262"><a href="#cb40-262"></a>}</span>
<span id="cb40-263"><a href="#cb40-263"></a></span>
<span id="cb40-264"><a href="#cb40-264"></a><span class="fu">.instructionStyle</span> p {</span>
<span id="cb40-265"><a href="#cb40-265"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-266"><a href="#cb40-266"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-267"><a href="#cb40-267"></a>}</span>
<span id="cb40-268"><a href="#cb40-268"></a></span>
<span id="cb40-269"><a href="#cb40-269"></a><span class="fu">.instructionStyle</span> ul {</span>
<span id="cb40-270"><a href="#cb40-270"></a>    <span class="kw">list-style</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb40-271"><a href="#cb40-271"></a>    <span class="kw">padding-left</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-272"><a href="#cb40-272"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-273"><a href="#cb40-273"></a>}</span>
<span id="cb40-274"><a href="#cb40-274"></a></span>
<span id="cb40-275"><a href="#cb40-275"></a><span class="fu">.instructionStyle</span> li {</span>
<span id="cb40-276"><a href="#cb40-276"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb40-277"><a href="#cb40-277"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-278"><a href="#cb40-278"></a>}</span>
<span id="cb40-279"><a href="#cb40-279"></a></span>
<span id="cb40-280"><a href="#cb40-280"></a><span class="fu">.instructionStyle</span> li<span class="in">::before</span> {</span>
<span id="cb40-281"><a href="#cb40-281"></a>    <span class="kw">content</span><span class="ch">:</span> <span class="st">"► "</span><span class="op">;</span></span>
<span id="cb40-282"><a href="#cb40-282"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#ff0000</span><span class="op">;</span></span>
<span id="cb40-283"><a href="#cb40-283"></a>    <span class="kw">margin-right</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-284"><a href="#cb40-284"></a>}</span>
<span id="cb40-285"><a href="#cb40-285"></a></span>
<span id="cb40-286"><a href="#cb40-286"></a><span class="co">/* Style the jsPsych navigation buttons */</span></span>
<span id="cb40-287"><a href="#cb40-287"></a><span class="fu">.jspsych-btn</span> {</span>
<span id="cb40-288"><a href="#cb40-288"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb40-289"><a href="#cb40-289"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#1a0033</span><span class="op">;</span></span>
<span id="cb40-290"><a href="#cb40-290"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ff00ff</span><span class="op">;</span></span>
<span id="cb40-291"><a href="#cb40-291"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-292"><a href="#cb40-292"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">"Press Start 2P"</span><span class="op">,</span> <span class="dv">cursive</span><span class="op">;</span></span>
<span id="cb40-293"><a href="#cb40-293"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-294"><a href="#cb40-294"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">pointer</span><span class="op">;</span></span>
<span id="cb40-295"><a href="#cb40-295"></a>    <span class="kw">text-transform</span><span class="ch">:</span> <span class="dv">uppercase</span><span class="op">;</span></span>
<span id="cb40-296"><a href="#cb40-296"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb40-297"><a href="#cb40-297"></a>    <span class="kw">transition</span><span class="ch">:</span> <span class="dv">all</span> <span class="dv">0.1</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb40-298"><a href="#cb40-298"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-299"><a href="#cb40-299"></a>}</span>
<span id="cb40-300"><a href="#cb40-300"></a></span>
<span id="cb40-301"><a href="#cb40-301"></a><span class="fu">.jspsych-btn</span><span class="in">:hover</span> {</span>
<span id="cb40-302"><a href="#cb40-302"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#cc00cc</span><span class="op">;</span></span>
<span id="cb40-303"><a href="#cb40-303"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">2</span><span class="dt">px</span><span class="op">,</span> <span class="dv">2</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-304"><a href="#cb40-304"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">2</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb40-305"><a href="#cb40-305"></a>}</span>
<span id="cb40-306"><a href="#cb40-306"></a></span>
<span id="cb40-307"><a href="#cb40-307"></a><span class="fu">.jspsych-btn</span><span class="in">:active</span> {</span>
<span id="cb40-308"><a href="#cb40-308"></a>    <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translate(</span><span class="dv">4</span><span class="dt">px</span><span class="op">,</span> <span class="dv">4</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-309"><a href="#cb40-309"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="dv">0</span><span class="dt">px</span> <span class="cn">#660066</span><span class="op">;</span></span>
<span id="cb40-310"><a href="#cb40-310"></a>}</span>
<span id="cb40-311"><a href="#cb40-311"></a></span>
<span id="cb40-312"><a href="#cb40-312"></a><span class="fu">.jspsych-btn</span><span class="in">:disabled</span> {</span>
<span id="cb40-313"><a href="#cb40-313"></a>    <span class="kw">background-color</span><span class="ch">:</span> <span class="cn">#333333</span><span class="op">;</span></span>
<span id="cb40-314"><a href="#cb40-314"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb40-315"><a href="#cb40-315"></a>    <span class="kw">border-color</span><span class="ch">:</span> <span class="cn">#666666</span><span class="op">;</span></span>
<span id="cb40-316"><a href="#cb40-316"></a>    <span class="kw">box-shadow</span><span class="ch">:</span> <span class="dv">none</span><span class="op">;</span></span>
<span id="cb40-317"><a href="#cb40-317"></a>    <span class="kw">cursor</span><span class="ch">:</span> <span class="dv">not-allowed</span><span class="op">;</span></span>
<span id="cb40-318"><a href="#cb40-318"></a>}</span>
<span id="cb40-319"><a href="#cb40-319"></a></span>
<span id="cb40-320"><a href="#cb40-320"></a><span class="co">/* Style the button container */</span></span>
<span id="cb40-321"><a href="#cb40-321"></a><span class="fu">.jspsych-instructions-nav</span> {</span>
<span id="cb40-322"><a href="#cb40-322"></a>    <span class="kw">margin-top</span><span class="ch">:</span> <span class="dv">30</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb40-323"><a href="#cb40-323"></a>    <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-324"><a href="#cb40-324"></a>}</span>
<span id="cb40-325"><a href="#cb40-325"></a></span>
<span id="cb40-326"><a href="#cb40-326"></a><span class="fu">.heartbeat</span> {</span>
<span id="cb40-327"><a href="#cb40-327"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb40-328"><a href="#cb40-328"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">heartbeat 1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb40-329"><a href="#cb40-329"></a>}</span>
<span id="cb40-330"><a href="#cb40-330"></a></span>
<span id="cb40-331"><a href="#cb40-331"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb40-332"><a href="#cb40-332"></a><span class="co"> * Generated by Animista on 2025-10-24 16:10:42</span></span>
<span id="cb40-333"><a href="#cb40-333"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb40-334"><a href="#cb40-334"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb40-335"><a href="#cb40-335"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb40-336"><a href="#cb40-336"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb40-337"><a href="#cb40-337"></a></span>
<span id="cb40-338"><a href="#cb40-338"></a><span class="co">/**</span></span>
<span id="cb40-339"><a href="#cb40-339"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb40-340"><a href="#cb40-340"></a><span class="co"> * animation heartbeat</span></span>
<span id="cb40-341"><a href="#cb40-341"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb40-342"><a href="#cb40-342"></a><span class="co"> */</span></span>
<span id="cb40-343"><a href="#cb40-343"></a><span class="im">@-webkit-keyframes</span> heartbeat {</span>
<span id="cb40-344"><a href="#cb40-344"></a>  from {</span>
<span id="cb40-345"><a href="#cb40-345"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-346"><a href="#cb40-346"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-347"><a href="#cb40-347"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-348"><a href="#cb40-348"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-349"><a href="#cb40-349"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-350"><a href="#cb40-350"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-351"><a href="#cb40-351"></a>  }</span>
<span id="cb40-352"><a href="#cb40-352"></a>  10% {</span>
<span id="cb40-353"><a href="#cb40-353"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-354"><a href="#cb40-354"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-355"><a href="#cb40-355"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-356"><a href="#cb40-356"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-357"><a href="#cb40-357"></a>  }</span>
<span id="cb40-358"><a href="#cb40-358"></a>  17% {</span>
<span id="cb40-359"><a href="#cb40-359"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-360"><a href="#cb40-360"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-361"><a href="#cb40-361"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-362"><a href="#cb40-362"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-363"><a href="#cb40-363"></a>  }</span>
<span id="cb40-364"><a href="#cb40-364"></a>  33% {</span>
<span id="cb40-365"><a href="#cb40-365"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-366"><a href="#cb40-366"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-367"><a href="#cb40-367"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-368"><a href="#cb40-368"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-369"><a href="#cb40-369"></a>  }</span>
<span id="cb40-370"><a href="#cb40-370"></a>  45% {</span>
<span id="cb40-371"><a href="#cb40-371"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-372"><a href="#cb40-372"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-373"><a href="#cb40-373"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-374"><a href="#cb40-374"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-375"><a href="#cb40-375"></a>  }</span>
<span id="cb40-376"><a href="#cb40-376"></a>}</span>
<span id="cb40-377"><a href="#cb40-377"></a><span class="im">@keyframes</span> heartbeat {</span>
<span id="cb40-378"><a href="#cb40-378"></a>  <span class="dv">from</span> {</span>
<span id="cb40-379"><a href="#cb40-379"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-380"><a href="#cb40-380"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-381"><a href="#cb40-381"></a>    <span class="kw">-webkit-transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-382"><a href="#cb40-382"></a>            <span class="kw">transform-origin</span><span class="ch">:</span> <span class="dv">center</span> <span class="dv">center</span><span class="op">;</span></span>
<span id="cb40-383"><a href="#cb40-383"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-384"><a href="#cb40-384"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-385"><a href="#cb40-385"></a>  }</span>
<span id="cb40-386"><a href="#cb40-386"></a>  <span class="dv">10%</span> {</span>
<span id="cb40-387"><a href="#cb40-387"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-388"><a href="#cb40-388"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.91</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-389"><a href="#cb40-389"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-390"><a href="#cb40-390"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-391"><a href="#cb40-391"></a>  }</span>
<span id="cb40-392"><a href="#cb40-392"></a>  <span class="dv">17%</span> {</span>
<span id="cb40-393"><a href="#cb40-393"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-394"><a href="#cb40-394"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.98</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-395"><a href="#cb40-395"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-396"><a href="#cb40-396"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-397"><a href="#cb40-397"></a>  }</span>
<span id="cb40-398"><a href="#cb40-398"></a>  <span class="dv">33%</span> {</span>
<span id="cb40-399"><a href="#cb40-399"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-400"><a href="#cb40-400"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">0.87</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-401"><a href="#cb40-401"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-402"><a href="#cb40-402"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-in</span><span class="op">;</span></span>
<span id="cb40-403"><a href="#cb40-403"></a>  }</span>
<span id="cb40-404"><a href="#cb40-404"></a>  <span class="dv">45%</span> {</span>
<span id="cb40-405"><a href="#cb40-405"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-406"><a href="#cb40-406"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-407"><a href="#cb40-407"></a>    <span class="kw">-webkit-animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-408"><a href="#cb40-408"></a>            <span class="kw">animation-timing-function</span><span class="ch">:</span> <span class="dv">ease-out</span><span class="op">;</span></span>
<span id="cb40-409"><a href="#cb40-409"></a>  }</span>
<span id="cb40-410"><a href="#cb40-410"></a>}</span>
<span id="cb40-411"><a href="#cb40-411"></a></span>
<span id="cb40-412"><a href="#cb40-412"></a><span class="fu">.shake-horizontal</span> {</span>
<span id="cb40-413"><a href="#cb40-413"></a>    <span class="kw">-webkit-animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb40-414"><a href="#cb40-414"></a>            <span class="kw">animation</span><span class="ch">:</span> <span class="dv">shake-horizontal 0.8</span><span class="dt">s</span> cubic-bezier<span class="fu">(</span><span class="dv">0.455</span><span class="op">,</span> <span class="dv">0.030</span><span class="op">,</span> <span class="dv">0.515</span><span class="op">,</span> <span class="dv">0.955</span><span class="fu">)</span> <span class="dv">both</span><span class="op">;</span></span>
<span id="cb40-415"><a href="#cb40-415"></a>}</span>
<span id="cb40-416"><a href="#cb40-416"></a></span>
<span id="cb40-417"><a href="#cb40-417"></a><span class="co">/* ----------------------------------------------</span></span>
<span id="cb40-418"><a href="#cb40-418"></a><span class="co"> * Generated by Animista on 2025-10-24 16:11:44</span></span>
<span id="cb40-419"><a href="#cb40-419"></a><span class="co"> * Licensed under FreeBSD License.</span></span>
<span id="cb40-420"><a href="#cb40-420"></a><span class="co"> * See http://animista.net/license for more info. </span></span>
<span id="cb40-421"><a href="#cb40-421"></a><span class="co"> * w: http://animista.net, t: @cssanimista</span></span>
<span id="cb40-422"><a href="#cb40-422"></a><span class="co"> * ---------------------------------------------- */</span></span>
<span id="cb40-423"><a href="#cb40-423"></a></span>
<span id="cb40-424"><a href="#cb40-424"></a><span class="co">/**</span></span>
<span id="cb40-425"><a href="#cb40-425"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb40-426"><a href="#cb40-426"></a><span class="co"> * animation shake-horizontal</span></span>
<span id="cb40-427"><a href="#cb40-427"></a><span class="co"> * ----------------------------------------</span></span>
<span id="cb40-428"><a href="#cb40-428"></a><span class="co"> */</span></span>
<span id="cb40-429"><a href="#cb40-429"></a><span class="im">@-webkit-keyframes</span> shake-horizontal {</span>
<span id="cb40-430"><a href="#cb40-430"></a>  0%<span class="op">,</span></span>
<span id="cb40-431"><a href="#cb40-431"></a>  100% {</span>
<span id="cb40-432"><a href="#cb40-432"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-433"><a href="#cb40-433"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-434"><a href="#cb40-434"></a>  }</span>
<span id="cb40-435"><a href="#cb40-435"></a>  10%<span class="op">,</span></span>
<span id="cb40-436"><a href="#cb40-436"></a>  30%<span class="op">,</span></span>
<span id="cb40-437"><a href="#cb40-437"></a>  50%<span class="op">,</span></span>
<span id="cb40-438"><a href="#cb40-438"></a>  70% {</span>
<span id="cb40-439"><a href="#cb40-439"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-440"><a href="#cb40-440"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-441"><a href="#cb40-441"></a>  }</span>
<span id="cb40-442"><a href="#cb40-442"></a>  20%<span class="op">,</span></span>
<span id="cb40-443"><a href="#cb40-443"></a>  40%<span class="op">,</span></span>
<span id="cb40-444"><a href="#cb40-444"></a>  60% {</span>
<span id="cb40-445"><a href="#cb40-445"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-446"><a href="#cb40-446"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-447"><a href="#cb40-447"></a>  }</span>
<span id="cb40-448"><a href="#cb40-448"></a>  80% {</span>
<span id="cb40-449"><a href="#cb40-449"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-450"><a href="#cb40-450"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-451"><a href="#cb40-451"></a>  }</span>
<span id="cb40-452"><a href="#cb40-452"></a>  90% {</span>
<span id="cb40-453"><a href="#cb40-453"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-454"><a href="#cb40-454"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-455"><a href="#cb40-455"></a>  }</span>
<span id="cb40-456"><a href="#cb40-456"></a>}</span>
<span id="cb40-457"><a href="#cb40-457"></a><span class="im">@keyframes</span> shake-horizontal {</span>
<span id="cb40-458"><a href="#cb40-458"></a>  <span class="dv">0%</span><span class="op">,</span></span>
<span id="cb40-459"><a href="#cb40-459"></a>  <span class="dv">100%</span> {</span>
<span id="cb40-460"><a href="#cb40-460"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-461"><a href="#cb40-461"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">0</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-462"><a href="#cb40-462"></a>  }</span>
<span id="cb40-463"><a href="#cb40-463"></a>  <span class="dv">10%</span><span class="op">,</span></span>
<span id="cb40-464"><a href="#cb40-464"></a>  <span class="dv">30%</span><span class="op">,</span></span>
<span id="cb40-465"><a href="#cb40-465"></a>  <span class="dv">50%</span><span class="op">,</span></span>
<span id="cb40-466"><a href="#cb40-466"></a>  <span class="dv">70%</span> {</span>
<span id="cb40-467"><a href="#cb40-467"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-468"><a href="#cb40-468"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-469"><a href="#cb40-469"></a>  }</span>
<span id="cb40-470"><a href="#cb40-470"></a>  <span class="dv">20%</span><span class="op">,</span></span>
<span id="cb40-471"><a href="#cb40-471"></a>  <span class="dv">40%</span><span class="op">,</span></span>
<span id="cb40-472"><a href="#cb40-472"></a>  <span class="dv">60%</span> {</span>
<span id="cb40-473"><a href="#cb40-473"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-474"><a href="#cb40-474"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">10</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-475"><a href="#cb40-475"></a>  }</span>
<span id="cb40-476"><a href="#cb40-476"></a>  <span class="dv">80%</span> {</span>
<span id="cb40-477"><a href="#cb40-477"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-478"><a href="#cb40-478"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-479"><a href="#cb40-479"></a>  }</span>
<span id="cb40-480"><a href="#cb40-480"></a>  <span class="dv">90%</span> {</span>
<span id="cb40-481"><a href="#cb40-481"></a>    <span class="kw">-webkit-transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-482"><a href="#cb40-482"></a>            <span class="kw">transform</span><span class="ch">:</span> <span class="fu">translateX(</span><span class="dv">-8</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb40-483"><a href="#cb40-483"></a>  }</span>
<span id="cb40-484"><a href="#cb40-484"></a>}</span>
<span id="cb40-485"><a href="#cb40-485"></a></span>
<span id="cb40-486"><a href="#cb40-486"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-13-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-4-tab">
<div id="demo-container-12" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-12" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-survey-text@2.1.0\'  crossorigin></script>\n        <script src=\'https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0\' crossorigin></script>\n\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n\n \n<link rel=\'preconnect\' href=\'https://fonts.googleapis.com\'>\n<link rel=\'preconnect\' href=\'https://fonts.gstatic.com\' crossorigin>\n<link href=\'https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap\' rel=\'stylesheet\'>\n\n\n    <style>\n      \nbody {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 100vh;\n    margin: 0;\n}  \n\n.boxContainer {\n    /* width: 500px;\n    height: 300px; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.box {\n    width: 120px;\n    height: 150px;\n    /*border: solid;*/\n    margin: 0px 10px 0px 10px;\n    padding: 0;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-image: url(&quot;images/dirt.svg&quot;);\n    background-repeat: no-repeat;\n    background-position: bottom;\n    background-size: contain;\n}\n\n/* GAME DISPLAY */\n.game-display {\n  margin: 0 auto;\n  width: 720px;\n  height: 420px;\n  background-image: url(&quot;images/bg.svg&quot;);\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: cover; \n}\n\n.grid {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: .5fr repeat(4, 1fr) .5fr;\n  grid-template-rows: repeat(8, 1fr);\n  grid-template-areas:\n    &quot;top-left    top-left top    top    top-right top-right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;left        center   center center center    right&quot;\n    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;\n\n}\n\n/* Grid area assignments */\n.top-left { grid-area: top-left; }\n.top-right { grid-area: top-right; }\n.top { grid-area: top; }\n.center { grid-area: center; }\n.left { grid-area: left; }\n.right { grid-area: right; }\n.bottom-left { grid-area: bottom-left; }\n.bottom-right { grid-area: bottom-right; }\n.bottom { grid-area: bottom; }\n\n/* add a border, so we can see the divs */\n/*.grid > div {\n    border: 1px solid white;\n    margin: -.5px;\n}\n*/\n\n.game-title {\n  font-size: 36px;\n  text-align: center;\n  font-family: &quot;Creepster&quot;, cursive;\n  color: darkred;\n  letter-spacing: .07em;\n  transform: rotate(-2deg);\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 20px rgba(255, 215, 0, 0.8);\n}\n\n/* zombie animation classes */\n.zombie-appear {\n    width: 115px;\n    height: 150px;\n    animation:\n            appear .3s steps(11) forwards,\n            idle 1s steps(6) .3s infinite;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes appear {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAppear.png&quot;);\n        background-position: -1265px 0;\n    }\n}\n\n@keyframes idle {\n    from {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 97px;\n        background-image: url(&quot;images/zombieIdle.png&quot;);\n        background-position: -584px 0;\n    }\n}\n\n\n.zombie-death {\n    width: 120px;\n    height: 150px;\n    animation: death .6s steps(8) forwards;\n    background-repeat: no-repeat;\n    background-position: 0 0;\n    background-size: auto 150px;\n    margin-bottom: 40px;\n}\n\n@keyframes death {\n    from {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        background-image: url(&quot;images/zombieDie.png&quot;);\n        background-position: -960px 0;\n    }\n}\n\n\n.zombie-attack {\n    width: 120px;\n    height: 150px;\n    animation:\n            attack .6s steps(7) forwards,\n            appear .6s steps(11) .6s forwards reverse;\n    background-repeat: no-repeat;\n    background-position: center bottom 40px;\n    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */\n    margin-bottom: 40px;\n}\n\n@keyframes attack {\n    from {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: 0 0;\n    }\n    to {\n        width: 120px;\n        background-image: url(&quot;images/zombieAttack.png&quot;);\n        background-position: -840px 0;\n    }\n}\n\n\n/* Score displays */\n.score-display {\n  height: 100%;\n  width: 100%;\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 4px;\n  text-align: center;\n}\n\n.score-display .label {\n  font-size: 15px;\n  color: #ffd700;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.score-display .value {\n  font-size: 16px;\n  color: #00ff41;\n  text-shadow: \n    -2px -2px 0 #000,\n    2px -2px 0 #000,\n    -2px 2px 0 #000,\n    2px 2px 0 #000,\n    0 0 12px rgba(0, 255, 65, 0.9);\n}\n\n/* Lives display */\n.lives-display {\n  font-family: &quot;Press Start 2P&quot;, system-ui;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n.hearts {\n  font-size: 16px;\n  filter: drop-shadow(0 0 5px #ff0066);\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  text-shadow: \n    -1px -1px 0 #000,\n    1px -1px 0 #000,\n    -1px 1px 0 #000,\n    1px 1px 0 #000,\n    0 0 8px rgba(255, 215, 0, 0.8);\n}\n\n.instructionStyle {\n    text-align: left;\n    background-color: #0a0a0a;\n    border: 4px solid #00ff00;\n    box-shadow: \n        0 0 10px #00ff00,\n        inset 0 0 10px rgba(0, 255, 0, 0.2);\n    padding: 5px;\n    margin: 5px auto;\n    color: #00ff00;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    line-height: 1.5;\n    text-shadow: 2px 2px 0px #003300;\n}\n\n.instructionStyle {\n    background-color: #1a0033;\n    border: 4px solid #ff00ff;\n    box-shadow: 0 0 15px #ff00ff;\n    color: #ff00ff;\n    text-shadow: 2px 2px 0px #330033;\n}\n\n.instructionStyle p {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle ul {\n    list-style: none;\n    padding-left: 5px;\n    margin: 5px 0;\n}\n\n.instructionStyle li {\n    margin: 5px 0;\n    font-size: 10px;\n}\n\n.instructionStyle li::before {\n    content: &quot;► &quot;;\n    color: #ff0000;\n    margin-right: 10px;\n}\n\n/* Style the jsPsych navigation buttons */\n.jspsych-btn {\n    background-color: #ff00ff;\n    color: #1a0033;\n    border: 3px solid #ff00ff;\n    padding: 5px 10px;\n    font-family: &quot;Press Start 2P&quot;, cursive;\n    font-size: 12px;\n    cursor: pointer;\n    text-transform: uppercase;\n    box-shadow: 4px 4px 0px #660066;\n    transition: all 0.1s;\n    margin: 5px;\n}\n\n.jspsych-btn:hover {\n    background-color: #cc00cc;\n    transform: translate(2px, 2px);\n    box-shadow: 2px 2px 0px #660066;\n}\n\n.jspsych-btn:active {\n    transform: translate(4px, 4px);\n    box-shadow: 0px 0px 0px #660066;\n}\n\n.jspsych-btn:disabled {\n    background-color: #333333;\n    color: #666666;\n    border-color: #666666;\n    box-shadow: none;\n    cursor: not-allowed;\n}\n\n/* Style the button container */\n.jspsych-instructions-nav {\n    margin-top: 30px;\n    text-align: center;\n}\n\n.heartbeat {\n  -webkit-animation: heartbeat 1.5s ease-in-out infinite both;\n          animation: heartbeat 1.5s ease-in-out infinite both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:10:42\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation heartbeat\n * ----------------------------------------\n */\n@-webkit-keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n@keyframes heartbeat {\n  from {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  10% {\n    -webkit-transform: scale(0.91);\n            transform: scale(0.91);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  17% {\n    -webkit-transform: scale(0.98);\n            transform: scale(0.98);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n  33% {\n    -webkit-transform: scale(0.87);\n            transform: scale(0.87);\n    -webkit-animation-timing-function: ease-in;\n            animation-timing-function: ease-in;\n  }\n  45% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n            animation-timing-function: ease-out;\n  }\n}\n\n.shake-horizontal {\n  -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n           animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;\n}\n\n/* ----------------------------------------------\n * Generated by Animista on 2025-10-24 16:11:44\n * Licensed under FreeBSD License.\n * See http://animista.net/license for more info. \n * w: http://animista.net, t: @cssanimista\n * ---------------------------------------------- */\n\n/**\n * ----------------------------------------\n * animation shake-horizontal\n * ----------------------------------------\n */\n@-webkit-keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n@keyframes shake-horizontal {\n  0%,\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n  }\n  10%,\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-10px);\n            transform: translateX(-10px);\n  }\n  20%,\n  40%,\n  60% {\n    -webkit-transform: translateX(10px);\n            transform: translateX(10px);\n  }\n  80% {\n    -webkit-transform: translateX(8px);\n            transform: translateX(8px);\n  }\n  90% {\n    -webkit-transform: translateX(-8px);\n            transform: translateX(-8px);\n  }\n}\n\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body><div class=&quot;game-display&quot;>\n  <div class=&quot;grid&quot;>\n    <div class=&quot;top-left&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>SCORE</div>\n          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    <div class=&quot;top&quot;>\n      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>\n    </div>\n    <div class=&quot;top-right&quot;>\n        <div class=&quot;score-display&quot;>\n          <div class=&quot;label&quot;>HIGH-SCORE</div>\n          <div id=&quot;high-score&quot; class=&quot;value&quot;>000000</div>\n        </div>\n    </div>\n    \n    <div class=&quot;left&quot;>\n      <div class=&quot;lives-display&quot;>\n          <div class=&quot;hearts&quot;>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n            <span>❤️</span>\n          </div>\n      </div>\n    </div>\n    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>\n    <div class=&quot;right&quot;></div>\n    \n    <div class=&quot;bottom-left&quot;></div>\n    <div class=&quot;bottom&quot;></div>\n    <div class=&quot;bottom-right&quot;></div>\n  </div>\n</div><!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Track which audio was playing\nconst wasPlaying = {\n  bg_start: false,\n  bg_game: false,\n  bg_end: false\n};\n\n// Helper function to check if audio is playing\nfunction isAudioPlaying(audio) {\n  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;\n}\n\n\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  display_element: \'jspsych-game-display\'\n});\n\n// External event listeners that persist across restarts\nwindow.addEventListener(\'blur\', function() {\n  console.log(\'blur\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only pause if experiment is running\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.pauseExperiment();\n    if (overlay) {\n      overlay.style.display = \'flex\';\n    }\n\n    // Check and pause each audio if it exists\n    if (bg_start) {\n      wasPlaying.bg_start = isAudioPlaying(bg_start);\n      if (wasPlaying.bg_start) bg_start.pause();\n    }\n\n    if (bg_game) {\n      wasPlaying.bg_game = isAudioPlaying(bg_game);\n      if (wasPlaying.bg_game) bg_game.pause();\n    }\n\n    if (bg_end) {\n      wasPlaying.bg_end = isAudioPlaying(bg_end);\n      if (wasPlaying.bg_end) bg_end.pause();\n    }\n  }\n});\n\nwindow.addEventListener(\'focus\', function() {\n  console.log(\'focus\');\n  const overlay = document.getElementById(\'paused-overlay\');\n\n  // Only resume if experiment was paused\n  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {\n    jsPsych.resumeExperiment();\n    if (overlay) {\n      overlay.style.display = \'none\';\n    }\n\n    // Resume only audio that was playing and exists\n    if(bg_start){\n        if (wasPlaying.bg_start) bg_start.play();\n    }\n\n    if(bg_game){\n        if (wasPlaying.bg_game) bg_game.play();\n    }\n    \n    if(bg_end){\n        if (wasPlaying.bg_end) bg_end.play();\n    }\n\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Participant ID &amp; Assign Condition\n// ============================================\n\n// Function to convert any string to a number\nfunction stringToNumber(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n    return sum;\n}\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();\n\n// Convert to number and assign condition\nconst numeric_id = stringToNumber(participant_id);\nlet conditions = [&quot;implicit&quot;, &quot;explicit&quot;];\nlet assigned_condition = conditions[numeric_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n    participant_id: participant_id,\n    assigned_condition: assigned_condition\n});\n\n\n// ============================================\n// Trackers\n// ============================================\n\nlet score = 0\n\nlet hearts = 5\n\nlet high_score = 0\n\n// ============================================\n// Audio Setup\n// ============================================\n\nlet sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)\nsfx_coin.volume = .3\n\nlet sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)\nsfx_hit.volume = .3\n\nlet sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)\nsfx_squish.volume = .1\n\nlet sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)\nsfx_zombie.volume = .2\n\nlet bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)\nbg_start.volume = .2\nbg_start.loop = true\n\nlet bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)\nbg_game.volume = .2\nbg_game.loop = true\n\nlet bg_end = new Audio(&quot;audio/creep.mp3&quot;)\nbg_end.volume = .2\nbg_end.loop = true\n\n// ============================================\n// Preload\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],\n  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, \n&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;instructionStyle&quot;>\n                <h3>PRESS ENTER TO START</h3>\n              </div>`,\n    choices: [&quot;ENTER&quot;]\n}\n\n// ============================================\n// Instructions\n// ============================================\n\nlet implicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>\n                 <p>When you\'re ready to defend the cemetery, press NEXT</p>\n             </div>`],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\nlet explicit_instructions = {\n    type: jsPsychInstructions,\n    pages: [`<div class=&quot;instructionStyle&quot;>\n                 <p>Zombies are emerging from four graves in the cemetery!</p>\n                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>\n                 <ul>\n                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>\n                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>\n                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>\n                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>\n                 </ul>\n            </div>`,\n            `<div class=&quot;instructionStyle&quot;>     \n                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>\n                <p>The graves they emerge from repeat in a predictable sequence.</p>\n                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you\'ll defend the cemetery!</p>\n                <p>When you\'re ready to begin your defense, press NEXT</p>\n            </div>`\n        ],\n    show_clickable_nav: true,\n    on_start: function(){\n        bg_start.play();\n    },\n    on_finish: function(){\n        bg_start.pause();\n        bg_start.currentTime = 0;\n    }\n}\n\n// ============================================\n// Implicit Learning Task\n// ============================================\n\nlet blank = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`,\n    trial_duration: 300,\n    choices: &quot;NO_KEYS&quot;,\n    data: {\n        trial_part: &quot;blank&quot;\n    }\n}\n\nlet target = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let output\n\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],\n    data: {\n        trial_part: &quot;target&quot;\n    },\n    on_start: function(){\n      sfx_zombie.play();\n    }\n}\n\nlet feedback = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: function(){\n        let last_trial = jsPsych.data.get().last(1).values()\n        let last_response = last_trial[0].response\n        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))\n        \n        let feedback\n        if(last_accuracy){\n          feedback = &quot;zombie-death&quot;\n          score = score + 100\n          \n          // play correct audio \n          sfx_coin.play();\n          sfx_squish.play();\n  \n        } else {\n          feedback = &quot;zombie-attack&quot;\n          //score = score - 100\n          \n          hearts = hearts - 1\n          let heart_display = document.querySelector(&quot;.hearts&quot;)\n          if(hearts == 5){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n          } else if(hearts == 4){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`\n          } else if(hearts == 3){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 2){\n                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 1){\n                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          } else if(hearts == 0){\n                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`\n          }\n          \n          // play incorrect audio\n          sfx_hit.play();\n        }\n        \n        if(score < 0){score = 0}\n\n        // update score\n        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);\n        // add animation to score\n        if(last_accuracy){\n            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)\n        } else {\n            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)\n        }\n\n        //update high score\n        if(score > high_score){\n          high_score = score\n          document.querySelector(&quot;#high-score&quot;).innerHTML = high_score.toString().padStart(6, &quot;0&quot;);\n          document.querySelector(&quot;#high-score&quot;).classList.add(&quot;heartbeat&quot;)\n        }\n\n        // update output\n        let output\n\n        // still need the location\n        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)\n\n        if(target_location == 1){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 2){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 3){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                  <div class=&quot;box&quot;></div>\n                 </div>`\n        } else if(target_location == 4){\n            output = `<div class=&quot;boxContainer&quot;>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;></div>\n                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>\n                 </div>`\n        }\n\n        return output\n    },\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: 1200,\n    data: {\n        trial_part: &quot;feedback&quot;\n    },\n    on_finish: function(){\n          \n          // make sure all audio has stopped and ready to start again\n          sfx_coin.pause();\n          sfx_hit.pause();\n          sfx_zombie.pause();\n          \n          sfx_coin.currentTime = 0;\n          sfx_hit.currentTime = 0;\n          sfx_zombie.currentTime = 0;\n\n          // remove the animation classes \n         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)\n         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)\n          document.querySelector(&quot;#high-score&quot;).classList.remove(&quot;heartbeat&quot;)\n    }\n}\n\n// check death\nlet death = {\n  timeline: [\n    {\n      type: jsPsychHtmlKeyboardResponse,\n        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>\n                      <p>Press &quot;ENTER&quot; to try again.</p>\n                    </div>`,\n      choices: [&quot;ENTER&quot;],\n      trial_duration: null,\n      data: {trial_part: &quot;death&quot;},\n      on_start: function(){\n          bg_game.pause();\n          bg_end.play();\n      },\n      on_finish: function(){\n          bg_end.pause();\n      }\n    }\n  ],\n   conditional_function: function(){\n        // this timeline runs IF hearts is 0 or less\n        if(hearts <= 0){\n            return true;\n        } else {\n            return false;\n        }\n  },\n  on_timeline_finish: function(){\n    // pause all music\n    bg_game.pause();\n    bg_game.currentTime = 0;\n    bg_start.pause();\n    bg_start.currentTime = 0;\n    bg_end.pause();\n    bg_end.currentTime = 0;\n    \n    // end jsPsych early\n    jsPsych.abortExperiment();\n\n    // clear the jspsych display display \n    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;\n    \n    // restart the score/hearts\n    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`\n    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;\n    score = 0\n    hearts = 5\n    \n    // restart jspsych\n    if(assigned_condition === &quot;implicit&quot;){\n      jsPsych.run([\n                implicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        } else if(assigned_condition === &quot;explicit&quot;){\n            jsPsych.run([\n                explicit_instructions,\n                learning,\n                test,\n                saveData\n            ]);\n        }\n    }\n}\n\n// learning phase in order\nlet learning = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    repetitions: 1,\n    data: {\n        phase: &quot;learning&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_start: function(){\n        bg_game.play();\n    }\n}\n\n// test phase reverses the order\nlet test = {\n    timeline: [\n        blank,\n        target,\n        feedback,\n        death\n    ],\n    timeline_variables: [\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;1&quot;, correct_response: &quot;d&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;},\n        {location: &quot;2&quot;, correct_response: &quot;f&quot;},\n        {location: &quot;4&quot;, correct_response: &quot;k&quot;},\n        {location: &quot;3&quot;, correct_response: &quot;j&quot;}\n    ],\n    sample: {\n        type: &quot;custom&quot;,\n        fn: function(indices){\n            return indices.reverse(); // show the trials in the reverse order\n        }\n    },\n    repetitions: 2,\n    data: {\n        phase: &quot;testing&quot;,\n        location: jsPsych.timelineVariable(&quot;location&quot;),\n        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)\n    },\n    on_timeline_finish: function(){\n        bg_game.pause();\n        bg_game.currentTime = 0;\n    }\n}\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n    type: jsPsychHtmlKeyboardResponse,\n    stimulus: `\n    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>\n      <p>GAME OVER!</p>\n      <p>Click the button below to save your data:</p>\n      <button class=&quot;jspsych-btn&quot;>\n        SAVE DATA\n      </button>\n    </div>\n  `,\n    choices: &quot;NO_KEYS&quot;,\n    trial_duration: null,\n    on_load: function() {\n        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);\n        });\n    },\n    data: {\n        phase: &quot;save data trial&quot;\n    },\n    on_start: function(){\n      bg_end.play();\n    },\n    on_finish: function(){\n      bg_end.pause();\n      bg_end.currentTime = 0;\n    }\n};\n\n// ============================================\n// Run jsPsych\n// ============================================\n\nif(assigned_condition === &quot;implicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        implicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n} else if(assigned_condition === &quot;explicit&quot;){\n    jsPsych.run([\n        preload,\n        welcome,\n        explicit_instructions,\n        learning,\n        test,\n        saveData\n    ]);\n}\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-12');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-12" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-multi-choice@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-survey-text@2.1.0'  crossorigin></script>
        <script src='https://unpkg.com/@jspsych/plugin-audio-keyboard-response@2.1.0' crossorigin></script>

    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />

 
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Creepster&amp;family=Press+Start+2P&amp;display=swap' rel='stylesheet'>


    <style>
      
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}  

.boxContainer {
    /* width: 500px;
    height: 300px; */
    display: flex;
    align-items: center;
    justify-content: center;
}

.box {
    width: 120px;
    height: 150px;
    /*border: solid;*/
    margin: 0px 10px 0px 10px;
    padding: 0;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url(&quot;images/dirt.svg&quot;);
    background-repeat: no-repeat;
    background-position: bottom;
    background-size: contain;
}

/* GAME DISPLAY */
.game-display {
  margin: 0 auto;
  width: 720px;
  height: 420px;
  background-image: url(&quot;images/bg.svg&quot;);
  background-repeat: no-repeat;
  background-position: bottom;
  background-size: cover; 
}

.grid {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: .5fr repeat(4, 1fr) .5fr;
  grid-template-rows: repeat(8, 1fr);
  grid-template-areas:
    &quot;top-left    top-left top    top    top-right top-right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;left        center   center center center    right&quot;
    &quot;bottom-left bottom   bottom bottom bottom    bottom-right&quot;;

}

/* Grid area assignments */
.top-left { grid-area: top-left; }
.top-right { grid-area: top-right; }
.top { grid-area: top; }
.center { grid-area: center; }
.left { grid-area: left; }
.right { grid-area: right; }
.bottom-left { grid-area: bottom-left; }
.bottom-right { grid-area: bottom-right; }
.bottom { grid-area: bottom; }

/* add a border, so we can see the divs */
/*.grid > div {
    border: 1px solid white;
    margin: -.5px;
}
*/

.game-title {
  font-size: 36px;
  text-align: center;
  font-family: &quot;Creepster&quot;, cursive;
  color: darkred;
  letter-spacing: .07em;
  transform: rotate(-2deg);
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 20px rgba(255, 215, 0, 0.8);
}

/* zombie animation classes */
.zombie-appear {
    width: 115px;
    height: 150px;
    animation:
            appear .3s steps(11) forwards,
            idle 1s steps(6) .3s infinite;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes appear {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAppear.png&quot;);
        background-position: -1265px 0;
    }
}

@keyframes idle {
    from {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 97px;
        background-image: url(&quot;images/zombieIdle.png&quot;);
        background-position: -584px 0;
    }
}


.zombie-death {
    width: 120px;
    height: 150px;
    animation: death .6s steps(8) forwards;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: auto 150px;
    margin-bottom: 40px;
}

@keyframes death {
    from {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: 0 0;
    }
    to {
        background-image: url(&quot;images/zombieDie.png&quot;);
        background-position: -960px 0;
    }
}


.zombie-attack {
    width: 120px;
    height: 150px;
    animation:
            attack .6s steps(7) forwards,
            appear .6s steps(11) .6s forwards reverse;
    background-repeat: no-repeat;
    background-position: center bottom 40px;
    background-size: auto 150px; /* Maintains sprite sheet aspect ratio */
    margin-bottom: 40px;
}

@keyframes attack {
    from {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: 0 0;
    }
    to {
        width: 120px;
        background-image: url(&quot;images/zombieAttack.png&quot;);
        background-position: -840px 0;
    }
}


/* Score displays */
.score-display {
  height: 100%;
  width: 100%;
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
  text-align: center;
}

.score-display .label {
  font-size: 15px;
  color: #ffd700;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.score-display .value {
  font-size: 16px;
  color: #00ff41;
  text-shadow: 
    -2px -2px 0 #000,
    2px -2px 0 #000,
    -2px 2px 0 #000,
    2px 2px 0 #000,
    0 0 12px rgba(0, 255, 65, 0.9);
}

/* Lives display */
.lives-display {
  font-family: &quot;Press Start 2P&quot;, system-ui;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.hearts {
  font-size: 16px;
  filter: drop-shadow(0 0 5px #ff0066);
  display: flex;
  flex-direction: column;
  gap: 5px;
  text-shadow: 
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    0 0 8px rgba(255, 215, 0, 0.8);
}

.instructionStyle {
    text-align: left;
    background-color: #0a0a0a;
    border: 4px solid #00ff00;
    box-shadow: 
        0 0 10px #00ff00,
        inset 0 0 10px rgba(0, 255, 0, 0.2);
    padding: 5px;
    margin: 5px auto;
    color: #00ff00;
    font-family: &quot;Press Start 2P&quot;, cursive;
    line-height: 1.5;
    text-shadow: 2px 2px 0px #003300;
}

.instructionStyle {
    background-color: #1a0033;
    border: 4px solid #ff00ff;
    box-shadow: 0 0 15px #ff00ff;
    color: #ff00ff;
    text-shadow: 2px 2px 0px #330033;
}

.instructionStyle p {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle ul {
    list-style: none;
    padding-left: 5px;
    margin: 5px 0;
}

.instructionStyle li {
    margin: 5px 0;
    font-size: 10px;
}

.instructionStyle li::before {
    content: &quot;► &quot;;
    color: #ff0000;
    margin-right: 10px;
}

/* Style the jsPsych navigation buttons */
.jspsych-btn {
    background-color: #ff00ff;
    color: #1a0033;
    border: 3px solid #ff00ff;
    padding: 5px 10px;
    font-family: &quot;Press Start 2P&quot;, cursive;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    box-shadow: 4px 4px 0px #660066;
    transition: all 0.1s;
    margin: 5px;
}

.jspsych-btn:hover {
    background-color: #cc00cc;
    transform: translate(2px, 2px);
    box-shadow: 2px 2px 0px #660066;
}

.jspsych-btn:active {
    transform: translate(4px, 4px);
    box-shadow: 0px 0px 0px #660066;
}

.jspsych-btn:disabled {
    background-color: #333333;
    color: #666666;
    border-color: #666666;
    box-shadow: none;
    cursor: not-allowed;
}

/* Style the button container */
.jspsych-instructions-nav {
    margin-top: 30px;
    text-align: center;
}

.heartbeat {
   -webkit-animation: heartbeat 1.5s ease-in-out infinite both;
           animation: heartbeat 1.5s ease-in-out infinite both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:10:42
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
@-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

.shake-horizontal {
   -webkit-animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
            animation: shake-horizontal 0.8s cubic-bezier(0.455, 0.030, 0.515, 0.955) both;
}

/* ----------------------------------------------
 * Generated by Animista on 2025-10-24 16:11:44
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation shake-horizontal
 * ----------------------------------------
 */
@-webkit-keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}
@keyframes shake-horizontal {
  0%,
  100% {
    -webkit-transform: translateX(0);
            transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70% {
    -webkit-transform: translateX(-10px);
            transform: translateX(-10px);
  }
  20%,
  40%,
  60% {
    -webkit-transform: translateX(10px);
            transform: translateX(10px);
  }
  80% {
    -webkit-transform: translateX(8px);
            transform: translateX(8px);
  }
  90% {
    -webkit-transform: translateX(-8px);
            transform: translateX(-8px);
  }
}


    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height:420px'><div class=&quot;game-display&quot;>
  <div class=&quot;grid&quot;>
    <div class=&quot;top-left&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>SCORE</div>
          <div id=&quot;score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    <div class=&quot;top&quot;>
      <p class=&quot;game-title&quot;>WHACK-A-ZOMBIE!</p>
    </div>
    <div class=&quot;top-right&quot;>
        <div class=&quot;score-display&quot;>
          <div class=&quot;label&quot;>HIGH-SCORE</div>
          <div id=&quot;high-score&quot; class=&quot;value&quot;>000000</div>
        </div>
    </div>
    
    <div class=&quot;left&quot;>
      <div class=&quot;lives-display&quot;>
          <div class=&quot;hearts&quot;>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
            <span>❤️</span>
          </div>
      </div>
    </div>
    <div id=&quot;jspsych-game-display&quot; class=&quot;center&quot;></div>
    <div class=&quot;right&quot;></div>
    
    <div class=&quot;bottom-left&quot;></div>
    <div class=&quot;bottom&quot;></div>
    <div class=&quot;bottom-right&quot;></div>
  </div>
</div><!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Track which audio was playing
const wasPlaying = {
  bg_start: false,
  bg_game: false,
  bg_end: false
};

// Helper function to check if audio is playing
function isAudioPlaying(audio) {
  return audio &amp;&amp; !audio.paused &amp;&amp; audio.currentTime > 0 &amp;&amp; !audio.ended;
}


// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  display_element: 'jspsych-game-display'
});

// External event listeners that persist across restarts
window.addEventListener('blur', function() {
  console.log('blur');
  const overlay = document.getElementById('paused-overlay');

  // Only pause if experiment is running
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.pauseExperiment();
    if (overlay) {
      overlay.style.display = 'flex';
    }

    // Check and pause each audio if it exists
    if (bg_start) {
      wasPlaying.bg_start = isAudioPlaying(bg_start);
      if (wasPlaying.bg_start) bg_start.pause();
    }

    if (bg_game) {
      wasPlaying.bg_game = isAudioPlaying(bg_game);
      if (wasPlaying.bg_game) bg_game.pause();
    }

    if (bg_end) {
      wasPlaying.bg_end = isAudioPlaying(bg_end);
      if (wasPlaying.bg_end) bg_end.pause();
    }
  }
});

window.addEventListener('focus', function() {
  console.log('focus');
  const overlay = document.getElementById('paused-overlay');

  // Only resume if experiment was paused
  if (jsPsych.getCurrentTrial &amp;&amp; jsPsych.getCurrentTrial()) {
    jsPsych.resumeExperiment();
    if (overlay) {
      overlay.style.display = 'none';
    }

    // Resume only audio that was playing and exists
    if(bg_start){
        if (wasPlaying.bg_start) bg_start.play();
    }

    if(bg_game){
        if (wasPlaying.bg_game) bg_game.play();
    }
    
    if(bg_end){
        if (wasPlaying.bg_end) bg_end.play();
    }

  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      window.focus();
    });
  }
});



// ============================================
// Participant ID &amp; Assign Condition
// ============================================

// Function to convert any string to a number
function stringToNumber(str) {
    let sum = 0;
    for (let i = 0; i < str.length; i++) {
        sum += str.charCodeAt(i);
    }
    return sum;
}

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000).toString();

// Convert to number and assign condition
const numeric_id = stringToNumber(participant_id);
let conditions = [&quot;implicit&quot;, &quot;explicit&quot;];
let assigned_condition = conditions[numeric_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
    participant_id: participant_id,
    assigned_condition: assigned_condition
});


// ============================================
// Trackers
// ============================================

let score = 0

let hearts = 5

let high_score = 0

// ============================================
// Audio Setup
// ============================================

let sfx_coin = new Audio(&quot;audio/retro_coin.wav&quot;)
sfx_coin.volume = .3

let sfx_hit = new Audio(&quot;audio/retro_hit.wav&quot;)
sfx_hit.volume = .3

let sfx_squish = new Audio(&quot;audio/small_squish.mp3&quot;)
sfx_squish.volume = .1

let sfx_zombie = new Audio(&quot;audio/zombie-2.wav&quot;)
sfx_zombie.volume = .2

let bg_start = new Audio(&quot;audio/SeriousCutScene.wav&quot;)
bg_start.volume = .2
bg_start.loop = true

let bg_game = new Audio(&quot;audio/8BitMetal.wav&quot;)
bg_game.volume = .2
bg_game.loop = true

let bg_end = new Audio(&quot;audio/creep.mp3&quot;)
bg_end.volume = .2
bg_end.loop = true

// ============================================
// Preload
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [&quot;images/black.png&quot;, &quot;images/bg.svg&quot;, &quot;images/zombieAppear.png&quot;, &quot;images/zombieIdle.png&quot;, &quot;images/zombieDie.png&quot;, &quot;images/zombieAttack.png&quot;],
  audio: [&quot;audio/retro_coin.wav&quot;, &quot;audio/retro_hit.wav&quot;, &quot;audio/small_squish.mp3&quot;, &quot;audio/zombie-2.wav&quot;, 
&quot;audio/SeriousCutScene.wav&quot;, &quot;audio/8BitMetal.wav&quot;, &quot;audio/creep.mp3&quot;]
}

// ============================================
// Welcome
// ============================================

let welcome = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;instructionStyle&quot;>
                <h3>PRESS ENTER TO START</h3>
              </div>`,
    choices: [&quot;ENTER&quot;]
}

// ============================================
// Instructions
// ============================================

let implicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <p>Stay alert! Zombies will pop up randomly from different graves.</p>
                 <p>When you're ready to defend the cemetery, press NEXT</p>
             </div>`],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

let explicit_instructions = {
    type: jsPsychInstructions,
    pages: [`<div class=&quot;instructionStyle&quot;>
                 <p>Zombies are emerging from four graves in the cemetery!</p>
                 <p>Your mission: Whack them back down as quickly as possible using your keyboard:</p>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>
                 <ul>
                   <li>Press &quot;D&quot; to whack the zombie in the first grave (leftmost)</li>
                   <li>Press &quot;F&quot; to whack the zombie in the second grave</li>
                   <li>Press &quot;J&quot; to whack the zombie in the third grave</li>
                   <li>Press &quot;K&quot; to whack the zombie in the fourth grave (rightmost)</li>
                 </ul>
            </div>`,
            `<div class=&quot;instructionStyle&quot;>     
                <p><strong>Secret Intel:</strong> These zombies follow a pattern!</p>
                <p>The graves they emerge from repeat in a predictable sequence.</p>
                <p>Your task is to learn this pattern while whacking zombies. The faster you learn it, the better you'll defend the cemetery!</p>
                <p>When you're ready to begin your defense, press NEXT</p>
            </div>`
        ],
    show_clickable_nav: true,
    on_start: function(){
        bg_start.play();
    },
    on_finish: function(){
        bg_start.pause();
        bg_start.currentTime = 0;
    }
}

// ============================================
// Implicit Learning Task
// ============================================

let blank = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`,
    trial_duration: 300,
    choices: &quot;NO_KEYS&quot;,
    data: {
        trial_part: &quot;blank&quot;
    }
}

let target = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let output

        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;zombie-appear&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: [&quot;d&quot;,&quot;f&quot;, &quot;j&quot;, &quot;k&quot;],
    data: {
        trial_part: &quot;target&quot;
    },
    on_start: function(){
      sfx_zombie.play();
    }
}

let feedback = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: function(){
        let last_trial = jsPsych.data.get().last(1).values()
        let last_response = last_trial[0].response
        let last_accuracy = jsPsych.pluginAPI.compareKeys(last_response, jsPsych.evaluateTimelineVariable(&quot;correct_response&quot;))
        
        let feedback
        if(last_accuracy){
          feedback = &quot;zombie-death&quot;
          score = score + 100
          
          // play correct audio 
          sfx_coin.play();
          sfx_squish.play();
  
        } else {
          feedback = &quot;zombie-attack&quot;
          //score = score - 100
          
          hearts = hearts - 1
          let heart_display = document.querySelector(&quot;.hearts&quot;)
          if(hearts == 5){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
          } else if(hearts == 4){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span>`
          } else if(hearts == 3){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 2){
                heart_display.innerHTML = `<span>❤️</span><span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 1){
                heart_display.innerHTML = `<span>❤️</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          } else if(hearts == 0){
                heart_display.innerHTML = `<span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span><span>🖤</span>`
          }
          
          // play incorrect audio
          sfx_hit.play();
        }
        
        if(score < 0){score = 0}

        // update score
        document.querySelector(&quot;#score&quot;).innerHTML = score.toString().padStart(6, &quot;0&quot;);
        // add animation to score
        if(last_accuracy){
            document.querySelector(&quot;#score&quot;).classList.add(&quot;heartbeat&quot;)
        } else {
            document.querySelector(&quot;.hearts&quot;).classList.add(&quot;shake-horizontal&quot;)
        }

        //update high score
        if(score > high_score){
          high_score = score
          document.querySelector(&quot;#high-score&quot;).innerHTML = high_score.toString().padStart(6, &quot;0&quot;);
          document.querySelector(&quot;#high-score&quot;).classList.add(&quot;heartbeat&quot;)
        }

        // update output
        let output

        // still need the location
        let target_location = jsPsych.evaluateTimelineVariable(&quot;location&quot;)

        if(target_location == 1){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 2){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 3){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                  <div class=&quot;box&quot;></div>
                 </div>`
        } else if(target_location == 4){
            output = `<div class=&quot;boxContainer&quot;>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;></div>
                  <div class=&quot;box&quot;><div class=&quot;${feedback}&quot;></div></div>
                 </div>`
        }

        return output
    },
    choices: &quot;NO_KEYS&quot;,
    trial_duration: 1200,
    data: {
        trial_part: &quot;feedback&quot;
    },
    on_finish: function(){
          
          // make sure all audio has stopped and ready to start again
          sfx_coin.pause();
          sfx_hit.pause();
          sfx_zombie.pause();
          
          sfx_coin.currentTime = 0;
          sfx_hit.currentTime = 0;
          sfx_zombie.currentTime = 0;

          // remove the animation classes 
         document.querySelector(&quot;#score&quot;).classList.remove(&quot;heartbeat&quot;)
         document.querySelector(&quot;.hearts&quot;).classList.remove(&quot;shake-horizontal&quot;)
          document.querySelector(&quot;#high-score&quot;).classList.remove(&quot;heartbeat&quot;)
    }
}

// check death
let death = {
  timeline: [
    {
      type: jsPsychHtmlKeyboardResponse,
        stimulus: `<div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
                      <h3 class=&quot;game-title&quot; style=&quot;color:#ff00ff&quot;>You Died!</h3>
                      <p>Press &quot;ENTER&quot; to try again.</p>
                    </div>`,
      choices: [&quot;ENTER&quot;],
      trial_duration: null,
      data: {trial_part: &quot;death&quot;},
      on_start: function(){
          bg_game.pause();
          bg_end.play();
      },
      on_finish: function(){
          bg_end.pause();
      }
    }
  ],
   conditional_function: function(){
        // this timeline runs IF hearts is 0 or less
        if(hearts <= 0){
            return true;
        } else {
            return false;
        }
  },
  on_timeline_finish: function(){
    // pause all music
    bg_game.pause();
    bg_game.currentTime = 0;
    bg_start.pause();
    bg_start.currentTime = 0;
    bg_end.pause();
    bg_end.currentTime = 0;
    
    // end jsPsych early
    jsPsych.abortExperiment();

    // clear the jspsych display display 
    document.querySelector(&quot;#jspsych-game-display&quot;).innerHTML = &quot;&quot;
    
    // restart the score/hearts
    document.querySelector(&quot;.hearts&quot;).innerHTML = `<span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span><span>❤️</span>`
    document.querySelector(&quot;#score&quot;).innerHTML = &quot;000000&quot;
    score = 0
    hearts = 5
    
    // restart jspsych
    if(assigned_condition === &quot;implicit&quot;){
      jsPsych.run([
                implicit_instructions,
                learning,
                test,
                saveData
            ]);
        } else if(assigned_condition === &quot;explicit&quot;){
            jsPsych.run([
                explicit_instructions,
                learning,
                test,
                saveData
            ]);
        }
    }
}

// learning phase in order
let learning = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    repetitions: 1,
    data: {
        phase: &quot;learning&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_start: function(){
        bg_game.play();
    }
}

// test phase reverses the order
let test = {
    timeline: [
        blank,
        target,
        feedback,
        death
    ],
    timeline_variables: [
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;1&quot;, correct_response: &quot;d&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;},
        {location: &quot;2&quot;, correct_response: &quot;f&quot;},
        {location: &quot;4&quot;, correct_response: &quot;k&quot;},
        {location: &quot;3&quot;, correct_response: &quot;j&quot;}
    ],
    sample: {
        type: &quot;custom&quot;,
        fn: function(indices){
            return indices.reverse(); // show the trials in the reverse order
        }
    },
    repetitions: 2,
    data: {
        phase: &quot;testing&quot;,
        location: jsPsych.timelineVariable(&quot;location&quot;),
        correct_response: jsPsych.timelineVariable(&quot;correct_response&quot;)
    },
    on_timeline_finish: function(){
        bg_game.pause();
        bg_game.currentTime = 0;
    }
}


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
    type: jsPsychHtmlKeyboardResponse,
    stimulus: `
    <div class=&quot;instructionStyle&quot; style=&quot;text-align: center&quot;>
      <p>GAME OVER!</p>
      <p>Click the button below to save your data:</p>
      <button class=&quot;jspsych-btn&quot;>
        SAVE DATA
      </button>
    </div>
  `,
    choices: &quot;NO_KEYS&quot;,
    trial_duration: null,
    on_load: function() {
        document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
            jsPsych.data.get().localSave(&quot;csv&quot;, &quot;implicitLearning_data.csv&quot;);
        });
    },
    data: {
        phase: &quot;save data trial&quot;
    },
    on_start: function(){
      bg_end.play();
    },
    on_finish: function(){
      bg_end.pause();
      bg_end.currentTime = 0;
    }
};

// ============================================
// Run jsPsych
// ============================================

if(assigned_condition === &quot;implicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        implicit_instructions,
        learning,
        test,
        saveData
    ]);
} else if(assigned_condition === &quot;explicit&quot;){
    jsPsych.run([
        preload,
        welcome,
        explicit_instructions,
        learning,
        test,
        saveData
    ]);
}
  </script>
</html>" width="100%" height="420px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-12&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-12&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;✓ Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./25-gamification.html" class="pagination-link" aria-label="Gamification in Behavioural Research">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Gamification in Behavioural Research</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./A01_JS_Builtins.html" class="pagination-link" aria-label="JavaScript Built-in Functions">
        <span class="nav-page-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/26-L12.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>