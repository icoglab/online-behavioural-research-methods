<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An open source textbook for psychology students learning programming and online research methods.Primary Author: Nicholaus P. Brosowsky Co-Authors: Liam Yeo, Jackie Spear">

<title>23&nbsp; Lab 10: Judgment &amp; Decision-Making ‚Äì Online Behavioural Research Methods: Programming with jsPsych</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./24-L11.html" rel="next">
<link href="./22-randomization.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e9b5551c1c55c86b42a831a3c09ea90c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f4f6c4c33169695420a9dce568207992.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
.tabset-fullscreen-btn {
  position: absolute;
  top: 5px;
  right: 10px;
  z-index: 1000;
  padding: 5px 10px;
  background-color: none;
  color: #6c757d;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.2s ease;
}
.tabset-fullscreen-btn:hover {
  background-color: #e9ecef;
  color: #495057;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.panel-tabset').forEach(function(tabset) {
    const btn = document.createElement('button');
    btn.innerHTML = '‚õ∂ Open Code in New Tab';
    btn.className = 'tabset-fullscreen-btn';

    tabset.style.position = 'relative';
    tabset.insertBefore(btn, tabset.firstChild);

    btn.addEventListener('click', function() {
      const clone = tabset.cloneNode(true);
      const cloneBtn = clone.querySelector('.tabset-fullscreen-btn');
      if (cloneBtn) cloneBtn.remove();

      // Get all stylesheets from current page
      const stylesheets = Array.from(document.styleSheets)
        .map(sheet => {
          try {
            if (sheet.href) {
              return `<link rel="stylesheet" href="${sheet.href}">`;
            } else if (sheet.ownerNode) {
              return `<style>${Array.from(sheet.cssRules).map(rule => rule.cssText).join('\n')}</style>`;
            }
          } catch (e) {
            if (sheet.href) return `<link rel="stylesheet" href="${sheet.href}">`;
          }
          return '';
        })
        .join('\n');

      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <html>
          <head>
            <title>Tab Panel View</title>
            ${stylesheets}
            <style>
              body { 
                margin: 20px auto; 
                padding: 20px; 
                max-width: 1200px;
              }
            </style>
          </head>
          <body>
            ${clone.outerHTML}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"><\/script>
          </body>
        </html>
      `);
      newWindow.document.close();
    });
  });
});
</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./22-randomization.html">Unit 10: Randomization</a></li><li class="breadcrumb-item"><a href="./23-L10.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Online Behavioural Research Methods: Programming with jsPsych</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/icoglab/online-behavioural-research-methods" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 1: Fundamentals (I)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">HTML</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-css.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CSS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-L01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Lab 1: About Me</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 2: Fundamentals (II)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Javascript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-debugging-javascript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Debugging JavaScript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-L02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lab 2: JS Exercises</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 3: Intro to JsPsych</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-jspsych.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">jsPsych</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-L03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Lab 3: Language &amp; Thought</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">UNIT 4: Timelines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-timelines.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Timelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-plugins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">More Plugins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-L04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Lab 4: Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 5: Multimedia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-multimedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multimedia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-L05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Lab 5: Mental Imagery</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 6: Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Saving and Labeling Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-data-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Accessing and Summarizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-L06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lab 6: Creativity</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 7: Dynamic Parameters</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-dynamic-html.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Dynamic Parameters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-L07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Lab 7: Spatial Attention</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 8: Controlling the Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-dynamic-flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Controlling the Flow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-L08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Lab 8: Cognitive Control</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 9: Skills Checkpoint</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-L09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Lab 9: Working Memory</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Unit 10: Randomization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Randomization in Experimental Design</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-L10.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./24-L11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Unit 11: Gamification</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A01_JS_Builtins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">JavaScript Built-in Functions</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>¬© 2024. This work is openly licensed via <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY NC 4.0</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#research-in-brief-the-mere-exposure-effect" id="toc-research-in-brief-the-mere-exposure-effect" class="nav-link active" data-scroll-target="#research-in-brief-the-mere-exposure-effect"><span class="header-section-number">23.1</span> Research in Brief: The Mere Exposure Effect</a>
  <ul class="collapse">
  <li><a href="#the-research-area" id="toc-the-research-area" class="nav-link" data-scroll-target="#the-research-area"><span class="header-section-number">23.1.1</span> The Research Area</a></li>
  <li><a href="#mere-exposure-effects" id="toc-mere-exposure-effects" class="nav-link" data-scroll-target="#mere-exposure-effects"><span class="header-section-number">23.1.2</span> Mere Exposure Effects</a></li>
  <li><a href="#the-research-design" id="toc-the-research-design" class="nav-link" data-scroll-target="#the-research-design"><span class="header-section-number">23.1.3</span> The Research Design</a></li>
  <li><a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings"><span class="header-section-number">23.1.4</span> Key Findings</a></li>
  <li><a href="#implications" id="toc-implications" class="nav-link" data-scroll-target="#implications"><span class="header-section-number">23.1.5</span> Implications</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">23.1.6</span> Further Reading</a></li>
  </ul></li>
  <li><a href="#program-a-between-subjects-mere-exposure-paradigm" id="toc-program-a-between-subjects-mere-exposure-paradigm" class="nav-link" data-scroll-target="#program-a-between-subjects-mere-exposure-paradigm"><span class="header-section-number">23.2</span> Program a Between-Subjects Mere Exposure Paradigm</a>
  <ul class="collapse">
  <li><a href="#initiate-jspsych" id="toc-initiate-jspsych" class="nav-link" data-scroll-target="#initiate-jspsych"><span class="header-section-number">23.2.1</span> Initiate JsPsych</a></li>
  <li><a href="#add-preload" id="toc-add-preload" class="nav-link" data-scroll-target="#add-preload"><span class="header-section-number">23.2.2</span> Add Preload</a></li>
  <li><a href="#add-exposure-phase" id="toc-add-exposure-phase" class="nav-link" data-scroll-target="#add-exposure-phase"><span class="header-section-number">23.2.3</span> Add Exposure Phase</a></li>
  <li><a href="#add-evaluation-phase" id="toc-add-evaluation-phase" class="nav-link" data-scroll-target="#add-evaluation-phase"><span class="header-section-number">23.2.4</span> Add Evaluation Phase</a></li>
  <li><a href="#randomize-image-order-with-unequal-repetitions" id="toc-randomize-image-order-with-unequal-repetitions" class="nav-link" data-scroll-target="#randomize-image-order-with-unequal-repetitions"><span class="header-section-number">23.2.5</span> Randomize Image Order with Unequal Repetitions</a></li>
  <li><a href="#add-between-subjects-instructions" id="toc-add-between-subjects-instructions" class="nav-link" data-scroll-target="#add-between-subjects-instructions"><span class="header-section-number">23.2.6</span> Add Between-Subjects Instructions</a></li>
  <li><a href="#add-between-subjects-assignment" id="toc-add-between-subjects-assignment" class="nav-link" data-scroll-target="#add-between-subjects-assignment"><span class="header-section-number">23.2.7</span> Add Between-Subjects Assignment</a></li>
  </ul></li>
  <li><a href="#stretch-goals" id="toc-stretch-goals" class="nav-link" data-scroll-target="#stretch-goals"><span class="header-section-number">23.3</span> Stretch Goals</a>
  <ul class="collapse">
  <li><a href="#add-a-third-between-subjects-condition" id="toc-add-a-third-between-subjects-condition" class="nav-link" data-scroll-target="#add-a-third-between-subjects-condition"><span class="header-section-number">23.3.1</span> Add a third between-subjects condition</a></li>
  <li><a href="#add-a-deception-debrief" id="toc-add-a-deception-debrief" class="nav-link" data-scroll-target="#add-a-deception-debrief"><span class="header-section-number">23.3.2</span> Add a deception debrief</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/23-L10.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./22-randomization.html">Unit 10: Randomization</a></li><li class="breadcrumb-item"><a href="./23-L10.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Lab 10: Judgment &amp; Decision-Making</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="research-in-brief-the-mere-exposure-effect" class="level2" data-number="23.1">
<h2 data-number="23.1" class="anchored" data-anchor-id="research-in-brief-the-mere-exposure-effect"><span class="header-section-number">23.1</span> Research in Brief: The Mere Exposure Effect</h2>
<section id="the-research-area" class="level3" data-number="23.1.1">
<h3 data-number="23.1.1" class="anchored" data-anchor-id="the-research-area"><span class="header-section-number">23.1.1</span> The Research Area</h3>
<p>Judgment and decision-making research examines how people form preferences, make choices, and evaluate information in their environment. A fundamental question in this domain concerns the origins of our preferences: Why do we like what we like? While we often believe our preferences reflect objective qualities of objects or experiences, psychological research reveals that seemingly irrelevant factors can systematically influence our evaluations.</p>
<p>One particularly robust finding is that familiarity itself can generate positive feelings. We tend to prefer things we have encountered before, even when we cannot consciously remember those encounters. This phenomenon has important implications for understanding consumer behavior, social relationships, and aesthetic judgments. The mere exposure effect demonstrates that repeated, unreinforced exposure to a stimulus increases liking for that stimulus, revealing how our judgments can be shaped by experiences we may not even recall.</p>
<p>Understanding how familiarity influences preference helps explain real-world phenomena ranging from music popularity to friendship formation. Researchers have developed controlled experimental paradigms to isolate the effects of repeated exposure from other factors that might influence liking, such as the inherent qualities of stimuli or conscious memory for previous encounters.</p>
</section>
<section id="mere-exposure-effects" class="level3" data-number="23.1.2">
<h3 data-number="23.1.2" class="anchored" data-anchor-id="mere-exposure-effects"><span class="header-section-number">23.1.2</span> Mere Exposure Effects</h3>
<p>The mere exposure effect (MEE) refers to the phenomenon whereby repeated, unreinforced exposure to a stimulus results in increased liking for that stimulus. First systematically investigated by Titchener in 1910 and later coined by Zajonc in 1968, this effect challenges the folk wisdom that ‚Äúfamiliarity breeds contempt.‚Äù Instead, research consistently demonstrates that familiarity breeds liking.</p>
<p>The MEE occurs across diverse stimulus types including photographs, drawings, musical selections, words, nonsense syllables, and ideographs. A meta-analysis by Bornstein in 1989 found an overall effect size of r = 0.26, indicating a moderate but reliable phenomenon. The effect has been replicated in hundreds of studies across different laboratories and cultures, making it one of the most robust findings in social psychology.</p>
<p>Importantly, the MEE represents a form of cognitive bias because it demonstrates that our attitudes toward stimuli change not because the stimuli themselves have changed, but simply because we have been exposed to them. People are typically unaware that mere exposure has influenced their preferences, often attributing their positive feelings to inherent qualities of the stimulus rather than to their familiarity with it.</p>
</section>
<section id="the-research-design" class="level3" data-number="23.1.3">
<h3 data-number="23.1.3" class="anchored" data-anchor-id="the-research-design"><span class="header-section-number">23.1.3</span> The Research Design</h3>
<p>MEE studies typically use experimental designs where participants are exposed to unfamiliar stimuli at varying frequencies during a familiarization phase, followed by a rating phase where they report their liking for each stimulus. Most studies employ within-participants designs, allowing each person to rate stimuli they have seen different numbers of times.</p>
<p>Stimulus Presentation: Participants view a series of novel stimuli (such as unfamiliar photographs, nonsense words, or abstract images) presented multiple times. For example, one stimulus might appear once, another five times, and another ten times during the familiarization phase. Presentation is typically randomized to prevent participants from noticing the repetition pattern.</p>
<p>Task Requirements: After the familiarization phase, participants rate how much they like each stimulus, typically using Likert-type scales (e.g., 1 = dislike very much, 9 = like very much). Participants are usually not told that some stimuli appeared more frequently than others during the familiarization phase. The key comparison examines whether stimuli presented more frequently receive higher liking ratings than stimuli presented less frequently or not at all.</p>
<p>Exposure Manipulations: Researchers systematically vary several parameters including number of exposures (typically ranging from 0 to 50 presentations), exposure duration (from subliminal presentations under 5 milliseconds to several seconds), and the interval between exposures and ratings (from immediate to weeks later).</p>
<p>The within-participants design controls for individual differences in baseline preferences and response styles. Each participant provides ratings across all exposure frequency conditions, allowing researchers to isolate the specific effect of repetition on liking while holding constant factors like individual aesthetic preferences or mood.</p>
</section>
<section id="key-findings" class="level3" data-number="23.1.4">
<h3 data-number="23.1.4" class="anchored" data-anchor-id="key-findings"><span class="header-section-number">23.1.4</span> Key Findings</h3>
<p>Research has revealed several consistent patterns in the MEE. Liking ratings typically increase with exposure frequency up to approximately 10-20 exposures, after which the effect plateaus and may even reverse slightly, producing an ‚Äúoverexposure effect‚Äù where excessive repetition leads to boredom and decreased liking.</p>
<p>Stimulus Complexity: Complex stimuli produce stronger and more durable MEEs than simple stimuli. Complex stimuli show more rapid increases in liking at lower exposure frequencies and are less susceptible to the overexposure effect. Simple stimuli become boring more quickly, leading to decreased liking at higher exposure frequencies.</p>
<p>Subliminal Exposure: One of the most striking findings is that stimuli presented subliminally (too briefly for conscious recognition) produce stronger MEEs than clearly recognized stimuli. Meta-analytic data show that unrecognized stimuli yield an effect size of r = 0.53, briefly presented recognized stimuli yield r = 0.34, and fully recognized stimuli yield only r = 0.12. This inverse relationship between awareness and effect size suggests that conscious recognition actually inhibits the MEE, possibly because people discount their positive feelings when they attribute them to repeated exposure rather than to stimulus quality.</p>
<p>Temporal Factors: The MEE strengthens with increasing delay between exposure and rating phases. Effects can persist for at least one to two weeks. Additionally, heterogeneous (randomized) exposure sequences produce significantly stronger effects than homogeneous (massed) sequences, with heterogeneous exposures yielding r = 0.30 compared to r = -0.02 for massed exposures.</p>
</section>
<section id="implications" class="level3" data-number="23.1.5">
<h3 data-number="23.1.5" class="anchored" data-anchor-id="implications"><span class="header-section-number">23.1.5</span> Implications</h3>
<p>The distinct patterns observed in MEE research provide important insights into the relationship between familiarity and preference. The finding that subliminal exposures produce the strongest effects challenges assumptions about conscious awareness being necessary for attitude formation. This suggests that affective responses can develop through automatic, non-conscious processes.</p>
<p>The robustness of the MEE across stimulus types and its persistence over time indicate that this represents a fundamental property of human cognition rather than a laboratory artifact. The phenomenon has clear evolutionary significance: organisms that develop positive associations with familiar, non-threatening stimuli in their environment may gain adaptive advantages in resource allocation and threat assessment.</p>
<p>The MEE has practical applications in multiple domains. In marketing and advertising, the principle explains why repeated exposure to brand names and products increases consumer preference, even without explicit persuasive messaging. In social psychology, the effect helps explain proximity-based friendship formation and the development of interpersonal attraction. In aesthetics, it accounts for how initially unfamiliar art forms or musical styles become more appealing with repeated exposure.</p>
<p>However, the MEE also represents a genuine cognitive illusion. People typically attribute their increased liking to inherent properties of the stimulus rather than to their familiarity with it. This misattribution can lead to biased judgments in contexts ranging from personnel selection (favoring familiar candidates) to judicial decisions (being influenced by repeated exposure to certain arguments or evidence).</p>
<p>The phenomenon demonstrates how our subjective experiences of preference are constructed through processes we cannot directly access. Even when people are explicitly warned about the mere exposure effect, they continue to show the bias, suggesting that conscious awareness of the mechanism does not eliminate its influence. This illustrates the powerful role of automatic, implicit processes in shaping our evaluations and preferences.</p>
</section>
<section id="further-reading" class="level3" data-number="23.1.6">
<h3 data-number="23.1.6" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">23.1.6</span> Further Reading</h3>
<p>Bornstein, R. F. (1989). Exposure and affect: Overview and meta-analysis of research, 1968-1987. Psychological Bulletin, 106, 265-289.</p>
<p>Moreland, R. L., &amp; Topolinski, S. (2010). The mere exposure phenomenon: A lingering melody by Robert Zajonc. Emotion Review, 2, 329-339.</p>
<p>Roediger, H.L., Gallo, D.A. (2016). Mere Exposure Effect. In Rudiger F. Pohl (Eds.), Cognitive Illusions (2nd ed.). Routledge.</p>
<p>Zajonc, R. B. (1968). Attitudinal effects of mere exposure. Journal of Personality and Social Psychology Monographs, 9(2, Part 2), 1-27.</p>
<p>Zajonc, R. B. (2001). Mere exposure: A gateway to the subliminal. Current Directions in Psychological Science, 10, 224-228.</p>
</section>
</section>
<section id="program-a-between-subjects-mere-exposure-paradigm" class="level2" data-number="23.2">
<h2 data-number="23.2" class="anchored" data-anchor-id="program-a-between-subjects-mere-exposure-paradigm"><span class="header-section-number">23.2</span> Program a Between-Subjects Mere Exposure Paradigm</h2>
<p>In this lab, you‚Äôll program a novel variation of the mere exposure paradigm. Participants will complete two phases:</p>
<ol type="1">
<li>Exposure phase: View abstract paintings and examine each carefully</li>
<li>Evaluation phase: Rate how much they like each image</li>
</ol>
<p>Participants will view each painting 0, 1, 2, 5, 8, or 10 times during exposure, allowing us to test the mere exposure effect (increased liking with repeated exposure).</p>
<p>We also include a novel between-subjects manipulation. Participants will be told either the paintings were created by professional abstract artists or they will be told that the images were generated by AI. In reality, all paintings are AI-generated.</p>
<p>Research question: Does the mere exposure effect depend on beliefs about artwork origin? Will repeated exposure increase liking more for paintings believed to be human-created, or will the effect be equivalent regardless of purported source?</p>
<p>Your lab folder contains boilerplate files and 12 AI-generated abstract artworks:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>üìÇ L10</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ index.html</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ exp.js</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÑ style.css</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>‚îú‚îÄ‚îÄ  üìÇ images</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>‚îÇ    ‚îî‚îÄ‚îÄ  üìÇ art</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>‚îî‚îÄ‚îÄ  üìÇ jspsych</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="initiate-jspsych" class="level3" data-number="23.2.1">
<h3 data-number="23.2.1" class="anchored" data-anchor-id="initiate-jspsych"><span class="header-section-number">23.2.1</span> Initiate JsPsych</h3>
<p>Let‚Äôs begin by initializing jsPsych with the basic setup we typically need. In the HTML index page, all necessary files have been added: the jsPsych core files, our exp.js file, our style.css file, and the plugins required for this experiment.</p>
<p>I‚Äôve also added a welcome screen and our save data trial at the end.</p>
<div class="cell">
<style type="text/css">
/* CB2 */
[id^="cb2-"]:nth-child(n+5):nth-child(-n+7),  
[id^="cb2-"]:nth-child(n+9):nth-child(-n+13),  
[id^="cb2-"]:nth-child(n+15):nth-child(-n+16),  
[id^="cb2-"]:nth-child(n+19):nth-child(-n+20) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB3 */
[id^="cb3-"]:nth-child(n+1):nth-child(-n+6),
[id^="cb3-"]:nth-child(n+8):nth-child(-n+16),
[id^="cb3-"]:nth-child(n+18):nth-child(-n+43),
[id^="cb3-"]:nth-child(n+45):nth-child(-n+52) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB4 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    </span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb2-21"><a href="#cb2-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb2-24"><a href="#cb2-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a> </span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">// ============================================</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">// ============================================</span></span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">// ============================================</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">// Welcome</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">// ============================================</span></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb3-13"><a href="#cb3-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>}</span>
<span id="cb3-17"><a href="#cb3-17"></a></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">// ============================================</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">// ============================================</span></span>
<span id="cb3-21"><a href="#cb3-21"></a></span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb3-23"><a href="#cb3-23"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb3-35"><a href="#cb3-35"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb3-36"><a href="#cb3-36"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb3-37"><a href="#cb3-37"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>    })<span class="op">;</span></span>
<span id="cb3-39"><a href="#cb3-39"></a>  }<span class="op">,</span></span>
<span id="cb3-40"><a href="#cb3-40"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb3-41"><a href="#cb3-41"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb3-42"><a href="#cb3-42"></a>  }</span>
<span id="cb3-43"><a href="#cb3-43"></a>}<span class="op">;</span></span>
<span id="cb3-44"><a href="#cb3-44"></a></span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="co">// ============================================</span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">// Run jsPsych </span></span>
<span id="cb3-47"><a href="#cb3-47"></a><span class="co">// ============================================</span></span>
<span id="cb3-48"><a href="#cb3-48"></a></span>
<span id="cb3-49"><a href="#cb3-49"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb3-50"><a href="#cb3-50"></a>  welcome<span class="op">,</span></span>
<span id="cb3-51"><a href="#cb3-51"></a>  saveData</span>
<span id="cb3-52"><a href="#cb3-52"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb4-1"><a href="#cb4-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div id="demo-container-1" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-1" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-1');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-1" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-1&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-1&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-preload" class="level3" data-number="23.2.2">
<h3 data-number="23.2.2" class="anchored" data-anchor-id="add-preload"><span class="header-section-number">23.2.2</span> Add Preload</h3>
<p>Since we‚Äôre going to need all 12 images, we can setup our preload with all 12 images.</p>
<div class="cell">
<style type="text/css">
/* CB5 */


/* CB6 */
[id^="cb6-"]:nth-child(n+8):nth-child(-n+29),
[id^="cb6-"]:nth-child(n+74):nth-child(-n+74) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}

/* CB7 */


</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    </span>
<span id="cb5-9"><a href="#cb5-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15"></a></span>
<span id="cb5-16"><a href="#cb5-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb5-21"><a href="#cb5-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb5-24"><a href="#cb5-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a> </span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">// ============================================</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">// ============================================</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">// ============================================</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">// Preload Images</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">// ============================================</span></span>
<span id="cb6-11"><a href="#cb6-11"></a></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb6-13"><a href="#cb6-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb6-14"><a href="#cb6-14"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb6-15"><a href="#cb6-15"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb6-16"><a href="#cb6-16"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb6-17"><a href="#cb6-17"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb6-20"><a href="#cb6-20"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb6-22"><a href="#cb6-22"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb6-23"><a href="#cb6-23"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb6-24"><a href="#cb6-24"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb6-25"><a href="#cb6-25"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb6-26"><a href="#cb6-26"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb6-27"><a href="#cb6-27"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb6-28"><a href="#cb6-28"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb6-29"><a href="#cb6-29"></a>}</span>
<span id="cb6-30"><a href="#cb6-30"></a></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">// ============================================</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">// Welcome</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="co">// ============================================</span></span>
<span id="cb6-34"><a href="#cb6-34"></a></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb6-36"><a href="#cb6-36"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-37"><a href="#cb6-37"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb6-38"><a href="#cb6-38"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb6-39"><a href="#cb6-39"></a>}</span>
<span id="cb6-40"><a href="#cb6-40"></a></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="co">// ============================================</span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="co">// ============================================</span></span>
<span id="cb6-44"><a href="#cb6-44"></a></span>
<span id="cb6-45"><a href="#cb6-45"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb6-46"><a href="#cb6-46"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb6-47"><a href="#cb6-47"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb6-48"><a href="#cb6-48"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb6-50"><a href="#cb6-50"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb6-51"><a href="#cb6-51"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb6-52"><a href="#cb6-52"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb6-54"><a href="#cb6-54"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb6-55"><a href="#cb6-55"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb6-56"><a href="#cb6-56"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb6-57"><a href="#cb6-57"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb6-58"><a href="#cb6-58"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb6-59"><a href="#cb6-59"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb6-60"><a href="#cb6-60"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb6-61"><a href="#cb6-61"></a>    })<span class="op">;</span></span>
<span id="cb6-62"><a href="#cb6-62"></a>  }<span class="op">,</span></span>
<span id="cb6-63"><a href="#cb6-63"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb6-64"><a href="#cb6-64"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb6-65"><a href="#cb6-65"></a>  }</span>
<span id="cb6-66"><a href="#cb6-66"></a>}<span class="op">;</span></span>
<span id="cb6-67"><a href="#cb6-67"></a></span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="co">// ============================================</span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="co">// Run jsPsych </span></span>
<span id="cb6-70"><a href="#cb6-70"></a><span class="co">// ============================================</span></span>
<span id="cb6-71"><a href="#cb6-71"></a></span>
<span id="cb6-72"><a href="#cb6-72"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb6-73"><a href="#cb6-73"></a>  welcome<span class="op">,</span></span>
<span id="cb6-74"><a href="#cb6-74"></a>  preload<span class="op">,</span></span>
<span id="cb6-75"><a href="#cb6-75"></a>  saveData</span>
<span id="cb6-76"><a href="#cb6-76"></a>])<span class="op">;</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div id="demo-container-2" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-2" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n  welcome,\n  preload,\n  saveData\n]);\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-2');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-2" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
  welcome,
  preload,
  saveData
]);
  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-2&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-2&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-exposure-phase" class="level3" data-number="23.2.3">
<h3 data-number="23.2.3" class="anchored" data-anchor-id="add-exposure-phase"><span class="header-section-number">23.2.3</span> Add Exposure Phase</h3>
<p>We‚Äôll add the ‚Äòexposure‚Äô phase, which, for now, will just display each image once.</p>
<div class="cell">
<style type="text/css">
/* CB8 */

/* CB9 */
[id^="cb9-"]:nth-child(n+41):nth-child(-n+70),
[id^="cb9-"]:nth-child(n+106):nth-child(-n+106){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB10 */

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>    </span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a></span>
<span id="cb8-16"><a href="#cb8-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb8-21"><a href="#cb8-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb8-24"><a href="#cb8-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a> </span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">// ============================================</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">// ============================================</span></span>
<span id="cb9-5"><a href="#cb9-5"></a></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">// ============================================</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">// Preload Images</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">// ============================================</span></span>
<span id="cb9-11"><a href="#cb9-11"></a></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb9-13"><a href="#cb9-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb9-15"><a href="#cb9-15"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb9-21"><a href="#cb9-21"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb9-23"><a href="#cb9-23"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb9-24"><a href="#cb9-24"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb9-25"><a href="#cb9-25"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb9-27"><a href="#cb9-27"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-28"><a href="#cb9-28"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb9-29"><a href="#cb9-29"></a>}</span>
<span id="cb9-30"><a href="#cb9-30"></a></span>
<span id="cb9-31"><a href="#cb9-31"></a><span class="co">// ============================================</span></span>
<span id="cb9-32"><a href="#cb9-32"></a><span class="co">// Welcome</span></span>
<span id="cb9-33"><a href="#cb9-33"></a><span class="co">// ============================================</span></span>
<span id="cb9-34"><a href="#cb9-34"></a></span>
<span id="cb9-35"><a href="#cb9-35"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb9-36"><a href="#cb9-36"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-37"><a href="#cb9-37"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb9-38"><a href="#cb9-38"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb9-39"><a href="#cb9-39"></a>}</span>
<span id="cb9-40"><a href="#cb9-40"></a></span>
<span id="cb9-41"><a href="#cb9-41"></a><span class="co">// ============================================</span></span>
<span id="cb9-42"><a href="#cb9-42"></a><span class="co">// Exposure Phase</span></span>
<span id="cb9-43"><a href="#cb9-43"></a><span class="co">// ============================================</span></span>
<span id="cb9-44"><a href="#cb9-44"></a></span>
<span id="cb9-45"><a href="#cb9-45"></a><span class="kw">let</span> exposure <span class="op">=</span> {</span>
<span id="cb9-46"><a href="#cb9-46"></a>        <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb9-47"><a href="#cb9-47"></a>            {</span>
<span id="cb9-48"><a href="#cb9-48"></a>                <span class="dt">type</span><span class="op">:</span>jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb9-49"><a href="#cb9-49"></a>                <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb9-50"><a href="#cb9-50"></a>                <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb9-51"><a href="#cb9-51"></a>                <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb9-52"><a href="#cb9-52"></a>                <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb9-53"><a href="#cb9-53"></a>                <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span></span>
<span id="cb9-54"><a href="#cb9-54"></a>            }</span>
<span id="cb9-55"><a href="#cb9-55"></a>        ]<span class="op">,</span></span>
<span id="cb9-56"><a href="#cb9-56"></a>        <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb9-57"><a href="#cb9-57"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb9-58"><a href="#cb9-58"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb9-59"><a href="#cb9-59"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb9-60"><a href="#cb9-60"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb9-61"><a href="#cb9-61"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb9-62"><a href="#cb9-62"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb9-63"><a href="#cb9-63"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb9-64"><a href="#cb9-64"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb9-65"><a href="#cb9-65"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb9-66"><a href="#cb9-66"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb9-67"><a href="#cb9-67"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb9-68"><a href="#cb9-68"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb9-69"><a href="#cb9-69"></a>        ]</span>
<span id="cb9-70"><a href="#cb9-70"></a>    }</span>
<span id="cb9-71"><a href="#cb9-71"></a></span>
<span id="cb9-72"><a href="#cb9-72"></a><span class="co">// ============================================</span></span>
<span id="cb9-73"><a href="#cb9-73"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb9-74"><a href="#cb9-74"></a><span class="co">// ============================================</span></span>
<span id="cb9-75"><a href="#cb9-75"></a></span>
<span id="cb9-76"><a href="#cb9-76"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb9-77"><a href="#cb9-77"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb9-78"><a href="#cb9-78"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb9-79"><a href="#cb9-79"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb9-80"><a href="#cb9-80"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb9-81"><a href="#cb9-81"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb9-82"><a href="#cb9-82"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb9-83"><a href="#cb9-83"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb9-84"><a href="#cb9-84"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb9-85"><a href="#cb9-85"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb9-86"><a href="#cb9-86"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb9-87"><a href="#cb9-87"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb9-88"><a href="#cb9-88"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb9-89"><a href="#cb9-89"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb9-90"><a href="#cb9-90"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb9-91"><a href="#cb9-91"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb9-92"><a href="#cb9-92"></a>    })<span class="op">;</span></span>
<span id="cb9-93"><a href="#cb9-93"></a>  }<span class="op">,</span></span>
<span id="cb9-94"><a href="#cb9-94"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb9-95"><a href="#cb9-95"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb9-96"><a href="#cb9-96"></a>  }</span>
<span id="cb9-97"><a href="#cb9-97"></a>}<span class="op">;</span></span>
<span id="cb9-98"><a href="#cb9-98"></a></span>
<span id="cb9-99"><a href="#cb9-99"></a><span class="co">// ============================================</span></span>
<span id="cb9-100"><a href="#cb9-100"></a><span class="co">// Run jsPsych </span></span>
<span id="cb9-101"><a href="#cb9-101"></a><span class="co">// ============================================</span></span>
<span id="cb9-102"><a href="#cb9-102"></a></span>
<span id="cb9-103"><a href="#cb9-103"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb9-104"><a href="#cb9-104"></a>    welcome<span class="op">,</span></span>
<span id="cb9-105"><a href="#cb9-105"></a>    preload<span class="op">,</span></span>
<span id="cb9-106"><a href="#cb9-106"></a>    exposure<span class="op">,</span></span>
<span id="cb9-107"><a href="#cb9-107"></a>    saveData</span>
<span id="cb9-108"><a href="#cb9-108"></a>])<span class="op">;</span></span>
<span id="cb9-109"><a href="#cb9-109"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div id="demo-container-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-3" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Exposure Phase\n// ============================================\n\nlet exposure = {\n        timeline: [\n            {\n                type:jsPsychImageKeyboardResponse,\n                stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n                choices: &quot;NO_KEYS&quot;,\n                stimulus_width: 250,\n                trial_duration: 1000,\n                post_trial_gap: 200\n            }\n        ],\n        timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n        ]\n    }\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n    welcome,\n    preload,\n    exposure,\n    saveData\n]);\n\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-3');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-3" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Exposure Phase
// ============================================

let exposure = {
        timeline: [
            {
                type:jsPsychImageKeyboardResponse,
                stimulus: jsPsych.timelineVariable(&quot;image&quot;),
                choices: &quot;NO_KEYS&quot;,
                stimulus_width: 250,
                trial_duration: 1000,
                post_trial_gap: 200
            }
        ],
        timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
        ]
    }

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
    welcome,
    preload,
    exposure,
    saveData
]);

  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-3&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-3&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-evaluation-phase" class="level3" data-number="23.2.4">
<h3 data-number="23.2.4" class="anchored" data-anchor-id="add-evaluation-phase"><span class="header-section-number">23.2.4</span> Add Evaluation Phase</h3>
<p>In the evaluation phase, participants will rate how much they like each painting using a slider. We‚Äôre using the slider response plugin, which you can read more about here: <a href="https://www.jspsych.org/latest/plugins/image-slider-response/" class="external" target="_blank">https://www.jspsych.org/latest/plugins/image-slider-response/</a>.</p>
<p>We‚Äôre using the same full list of images, presented in a random order.</p>
<div class="cell">
<style type="text/css">
/* CB11 */

/* CB12 */
[id^="cb12-"]:nth-child(n+76):nth-child(-n+110),
[id^="cb12-"]:nth-child(n+148):nth-child(-n+148) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB13 */

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>    </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb11-24"><a href="#cb11-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a> </span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">// ============================================</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">// ============================================</span></span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb12-7"><a href="#cb12-7"></a></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">// ============================================</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">// Preload Images</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">// ============================================</span></span>
<span id="cb12-11"><a href="#cb12-11"></a></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb12-13"><a href="#cb12-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb12-15"><a href="#cb12-15"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb12-16"><a href="#cb12-16"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb12-18"><a href="#cb12-18"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb12-19"><a href="#cb12-19"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb12-21"><a href="#cb12-21"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb12-22"><a href="#cb12-22"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb12-23"><a href="#cb12-23"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb12-24"><a href="#cb12-24"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb12-25"><a href="#cb12-25"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb12-26"><a href="#cb12-26"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb12-27"><a href="#cb12-27"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-28"><a href="#cb12-28"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb12-29"><a href="#cb12-29"></a>}</span>
<span id="cb12-30"><a href="#cb12-30"></a></span>
<span id="cb12-31"><a href="#cb12-31"></a><span class="co">// ============================================</span></span>
<span id="cb12-32"><a href="#cb12-32"></a><span class="co">// Welcome</span></span>
<span id="cb12-33"><a href="#cb12-33"></a><span class="co">// ============================================</span></span>
<span id="cb12-34"><a href="#cb12-34"></a></span>
<span id="cb12-35"><a href="#cb12-35"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb12-36"><a href="#cb12-36"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-37"><a href="#cb12-37"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb12-38"><a href="#cb12-38"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb12-39"><a href="#cb12-39"></a>}</span>
<span id="cb12-40"><a href="#cb12-40"></a></span>
<span id="cb12-41"><a href="#cb12-41"></a><span class="co">// ============================================</span></span>
<span id="cb12-42"><a href="#cb12-42"></a><span class="co">// Exposure Phase</span></span>
<span id="cb12-43"><a href="#cb12-43"></a><span class="co">// ============================================</span></span>
<span id="cb12-44"><a href="#cb12-44"></a></span>
<span id="cb12-45"><a href="#cb12-45"></a><span class="kw">let</span> exposure <span class="op">=</span> {</span>
<span id="cb12-46"><a href="#cb12-46"></a>        <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-47"><a href="#cb12-47"></a>            {</span>
<span id="cb12-48"><a href="#cb12-48"></a>                <span class="dt">type</span><span class="op">:</span>jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb12-49"><a href="#cb12-49"></a>                <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb12-50"><a href="#cb12-50"></a>                <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb12-51"><a href="#cb12-51"></a>                <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb12-52"><a href="#cb12-52"></a>                <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb12-53"><a href="#cb12-53"></a>                <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span></span>
<span id="cb12-54"><a href="#cb12-54"></a>            }</span>
<span id="cb12-55"><a href="#cb12-55"></a>        ]<span class="op">,</span></span>
<span id="cb12-56"><a href="#cb12-56"></a>        <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb12-57"><a href="#cb12-57"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb12-58"><a href="#cb12-58"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb12-59"><a href="#cb12-59"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb12-60"><a href="#cb12-60"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb12-61"><a href="#cb12-61"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb12-62"><a href="#cb12-62"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb12-63"><a href="#cb12-63"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb12-64"><a href="#cb12-64"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb12-65"><a href="#cb12-65"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb12-66"><a href="#cb12-66"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb12-67"><a href="#cb12-67"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb12-68"><a href="#cb12-68"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb12-69"><a href="#cb12-69"></a>        ]</span>
<span id="cb12-70"><a href="#cb12-70"></a>    }</span>
<span id="cb12-71"><a href="#cb12-71"></a></span>
<span id="cb12-72"><a href="#cb12-72"></a><span class="co">// ============================================</span></span>
<span id="cb12-73"><a href="#cb12-73"></a><span class="co">// Evaluation Phase</span></span>
<span id="cb12-74"><a href="#cb12-74"></a><span class="co">// ============================================</span></span>
<span id="cb12-75"><a href="#cb12-75"></a></span>
<span id="cb12-76"><a href="#cb12-76"></a><span class="kw">let</span> evaluation <span class="op">=</span> {</span>
<span id="cb12-77"><a href="#cb12-77"></a>      <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb12-78"><a href="#cb12-78"></a>        {</span>
<span id="cb12-79"><a href="#cb12-79"></a>          <span class="dt">type</span><span class="op">:</span> jsPsychImageSliderResponse<span class="op">,</span></span>
<span id="cb12-80"><a href="#cb12-80"></a>          <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb12-81"><a href="#cb12-81"></a>          <span class="dt">prompt</span><span class="op">:</span> <span class="st">"&lt;p&gt;How much do you like this painting?&lt;/p&gt;"</span><span class="op">,</span></span>
<span id="cb12-82"><a href="#cb12-82"></a>          <span class="dt">labels</span><span class="op">:</span> [<span class="st">"Dislike Very Much"</span><span class="op">,</span> <span class="st">"Like Very Much"</span>]<span class="op">,</span></span>
<span id="cb12-83"><a href="#cb12-83"></a>          <span class="dt">min</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-84"><a href="#cb12-84"></a>          <span class="dt">max</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span></span>
<span id="cb12-85"><a href="#cb12-85"></a>          <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-86"><a href="#cb12-86"></a>          <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb12-87"><a href="#cb12-87"></a>          <span class="dt">slider_start</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb12-88"><a href="#cb12-88"></a>          <span class="dt">require_movement</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-89"><a href="#cb12-89"></a>          <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb12-90"><a href="#cb12-90"></a>          <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-91"><a href="#cb12-91"></a>              <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation"</span></span>
<span id="cb12-92"><a href="#cb12-92"></a>          }</span>
<span id="cb12-93"><a href="#cb12-93"></a>        }</span>
<span id="cb12-94"><a href="#cb12-94"></a>      ]<span class="op">,</span></span>
<span id="cb12-95"><a href="#cb12-95"></a>      <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb12-96"><a href="#cb12-96"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb12-97"><a href="#cb12-97"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb12-98"><a href="#cb12-98"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb12-99"><a href="#cb12-99"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb12-100"><a href="#cb12-100"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb12-101"><a href="#cb12-101"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb12-102"><a href="#cb12-102"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb12-103"><a href="#cb12-103"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb12-104"><a href="#cb12-104"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb12-105"><a href="#cb12-105"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb12-106"><a href="#cb12-106"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb12-107"><a href="#cb12-107"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb12-108"><a href="#cb12-108"></a>      ]<span class="op">,</span></span>
<span id="cb12-109"><a href="#cb12-109"></a>      <span class="dt">randomized_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb12-110"><a href="#cb12-110"></a>}</span>
<span id="cb12-111"><a href="#cb12-111"></a></span>
<span id="cb12-112"><a href="#cb12-112"></a></span>
<span id="cb12-113"><a href="#cb12-113"></a><span class="co">// ============================================</span></span>
<span id="cb12-114"><a href="#cb12-114"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb12-115"><a href="#cb12-115"></a><span class="co">// ============================================</span></span>
<span id="cb12-116"><a href="#cb12-116"></a></span>
<span id="cb12-117"><a href="#cb12-117"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb12-118"><a href="#cb12-118"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb12-119"><a href="#cb12-119"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb12-120"><a href="#cb12-120"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb12-121"><a href="#cb12-121"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb12-122"><a href="#cb12-122"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb12-123"><a href="#cb12-123"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb12-124"><a href="#cb12-124"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb12-125"><a href="#cb12-125"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb12-126"><a href="#cb12-126"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb12-127"><a href="#cb12-127"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb12-128"><a href="#cb12-128"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb12-129"><a href="#cb12-129"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb12-130"><a href="#cb12-130"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb12-131"><a href="#cb12-131"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb12-132"><a href="#cb12-132"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb12-133"><a href="#cb12-133"></a>    })<span class="op">;</span></span>
<span id="cb12-134"><a href="#cb12-134"></a>  }<span class="op">,</span></span>
<span id="cb12-135"><a href="#cb12-135"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb12-136"><a href="#cb12-136"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb12-137"><a href="#cb12-137"></a>  }</span>
<span id="cb12-138"><a href="#cb12-138"></a>}<span class="op">;</span></span>
<span id="cb12-139"><a href="#cb12-139"></a></span>
<span id="cb12-140"><a href="#cb12-140"></a><span class="co">// ============================================</span></span>
<span id="cb12-141"><a href="#cb12-141"></a><span class="co">// Run jsPsych </span></span>
<span id="cb12-142"><a href="#cb12-142"></a><span class="co">// ============================================</span></span>
<span id="cb12-143"><a href="#cb12-143"></a></span>
<span id="cb12-144"><a href="#cb12-144"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb12-145"><a href="#cb12-145"></a>    welcome<span class="op">,</span></span>
<span id="cb12-146"><a href="#cb12-146"></a>    preload<span class="op">,</span></span>
<span id="cb12-147"><a href="#cb12-147"></a>    exposure<span class="op">,</span></span>
<span id="cb12-148"><a href="#cb12-148"></a>    evaluation<span class="op">,</span></span>
<span id="cb12-149"><a href="#cb12-149"></a>    saveData</span>
<span id="cb12-150"><a href="#cb12-150"></a>])<span class="op">;</span></span>
<span id="cb12-151"><a href="#cb12-151"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div id="demo-container-4" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-4" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Exposure Phase\n// ============================================\n\nlet exposure = {\n        timeline: [\n            {\n                type:jsPsychImageKeyboardResponse,\n                stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n                choices: &quot;NO_KEYS&quot;,\n                stimulus_width: 250,\n                trial_duration: 1000,\n                post_trial_gap: 200\n            }\n        ],\n        timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n        ]\n    }\n\n// ============================================\n// Evaluation Phase\n// ============================================\n\nlet evaluation = {\n      timeline: [\n        {\n          type: jsPsychImageSliderResponse,\n          stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n          prompt: &quot;<p>How much do you like this painting?</p>&quot;,\n          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],\n          min: 1,\n          max: 9,\n          step: 1,\n          stimulus_width: 250,\n          slider_start: 5,\n          require_movement: true,\n          post_trial_gap: 200,\n          data: {\n              phase: &quot;evaluation&quot;\n          }\n        }\n      ],\n      timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n      ],\n      randomized_order: true\n}\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n    welcome,\n    preload,\n    exposure,\n    evaluation,\n    saveData\n]);\n\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-4');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-4" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Exposure Phase
// ============================================

let exposure = {
        timeline: [
            {
                type:jsPsychImageKeyboardResponse,
                stimulus: jsPsych.timelineVariable(&quot;image&quot;),
                choices: &quot;NO_KEYS&quot;,
                stimulus_width: 250,
                trial_duration: 1000,
                post_trial_gap: 200
            }
        ],
        timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
        ]
    }

// ============================================
// Evaluation Phase
// ============================================

let evaluation = {
      timeline: [
        {
          type: jsPsychImageSliderResponse,
          stimulus: jsPsych.timelineVariable(&quot;image&quot;),
          prompt: &quot;<p>How much do you like this painting?</p>&quot;,
          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],
          min: 1,
          max: 9,
          step: 1,
          stimulus_width: 250,
          slider_start: 5,
          require_movement: true,
          post_trial_gap: 200,
          data: {
              phase: &quot;evaluation&quot;
          }
        }
      ],
      timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
      ],
      randomized_order: true
}


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
    welcome,
    preload,
    exposure,
    evaluation,
    saveData
]);

  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-4&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-4&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="randomize-image-order-with-unequal-repetitions" class="level3" data-number="23.2.5">
<h3 data-number="23.2.5" class="anchored" data-anchor-id="randomize-image-order-with-unequal-repetitions"><span class="header-section-number">23.2.5</span> Randomize Image Order with Unequal Repetitions</h3>
<p>Currently, each image displays once during the exposure phase. We need to modify this so images appear 0, 1, 2, 5, 8, or 10 times.</p>
<p>We want to randomly pair each image with a frequency, then randomize the entire exposure block order, repeating each image that many times.</p>
<p>We‚Äôll use a custom sampling function to accomplish this. Here it is in full, but we‚Äôll walkthrough it step-by-step after:</p>
<div class="cell">
<style type="text/css">
/* CB14 */

/* CB15 */
[id^="cb15-"]:nth-child(n+69):nth-child(-n+100) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB16 */

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>    </span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15"></a></span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb14-18"><a href="#cb14-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb14-23"><a href="#cb14-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb14-24"><a href="#cb14-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a> </span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">// ============================================</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="co">// ============================================</span></span>
<span id="cb15-5"><a href="#cb15-5"></a></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb15-7"><a href="#cb15-7"></a></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="co">// ============================================</span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="co">// Preload Images</span></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">// ============================================</span></span>
<span id="cb15-11"><a href="#cb15-11"></a></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb15-13"><a href="#cb15-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb15-14"><a href="#cb15-14"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb15-15"><a href="#cb15-15"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb15-16"><a href="#cb15-16"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb15-17"><a href="#cb15-17"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb15-18"><a href="#cb15-18"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb15-19"><a href="#cb15-19"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb15-20"><a href="#cb15-20"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb15-21"><a href="#cb15-21"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb15-22"><a href="#cb15-22"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb15-23"><a href="#cb15-23"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb15-24"><a href="#cb15-24"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb15-25"><a href="#cb15-25"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb15-26"><a href="#cb15-26"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb15-27"><a href="#cb15-27"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-28"><a href="#cb15-28"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb15-29"><a href="#cb15-29"></a>}</span>
<span id="cb15-30"><a href="#cb15-30"></a></span>
<span id="cb15-31"><a href="#cb15-31"></a><span class="co">// ============================================</span></span>
<span id="cb15-32"><a href="#cb15-32"></a><span class="co">// Welcome</span></span>
<span id="cb15-33"><a href="#cb15-33"></a><span class="co">// ============================================</span></span>
<span id="cb15-34"><a href="#cb15-34"></a></span>
<span id="cb15-35"><a href="#cb15-35"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb15-36"><a href="#cb15-36"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-37"><a href="#cb15-37"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb15-38"><a href="#cb15-38"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb15-39"><a href="#cb15-39"></a>}</span>
<span id="cb15-40"><a href="#cb15-40"></a></span>
<span id="cb15-41"><a href="#cb15-41"></a><span class="co">// ============================================</span></span>
<span id="cb15-42"><a href="#cb15-42"></a><span class="co">// Exposure Phase</span></span>
<span id="cb15-43"><a href="#cb15-43"></a><span class="co">// ============================================</span></span>
<span id="cb15-44"><a href="#cb15-44"></a></span>
<span id="cb15-45"><a href="#cb15-45"></a><span class="kw">let</span> exposure <span class="op">=</span> {</span>
<span id="cb15-46"><a href="#cb15-46"></a>        <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-47"><a href="#cb15-47"></a>            {</span>
<span id="cb15-48"><a href="#cb15-48"></a>                <span class="dt">type</span><span class="op">:</span>jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb15-49"><a href="#cb15-49"></a>                <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb15-50"><a href="#cb15-50"></a>                <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-51"><a href="#cb15-51"></a>                <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb15-52"><a href="#cb15-52"></a>                <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb15-53"><a href="#cb15-53"></a>                <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span></span>
<span id="cb15-54"><a href="#cb15-54"></a>            }</span>
<span id="cb15-55"><a href="#cb15-55"></a>        ]<span class="op">,</span></span>
<span id="cb15-56"><a href="#cb15-56"></a>        <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-57"><a href="#cb15-57"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb15-58"><a href="#cb15-58"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb15-59"><a href="#cb15-59"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb15-60"><a href="#cb15-60"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb15-61"><a href="#cb15-61"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb15-62"><a href="#cb15-62"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb15-63"><a href="#cb15-63"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb15-64"><a href="#cb15-64"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb15-65"><a href="#cb15-65"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb15-66"><a href="#cb15-66"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb15-67"><a href="#cb15-67"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb15-68"><a href="#cb15-68"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb15-69"><a href="#cb15-69"></a>        ]<span class="op">,</span></span>
<span id="cb15-70"><a href="#cb15-70"></a>        <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb15-71"><a href="#cb15-71"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb15-72"><a href="#cb15-72"></a>            <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb15-73"><a href="#cb15-73"></a>                <span class="kw">let</span> output <span class="op">=</span> []</span>
<span id="cb15-74"><a href="#cb15-74"></a></span>
<span id="cb15-75"><a href="#cb15-75"></a>                <span class="co">// Define how many times each image should appear</span></span>
<span id="cb15-76"><a href="#cb15-76"></a>                <span class="co">// shuffle so that it randomly paired with an image index</span></span>
<span id="cb15-77"><a href="#cb15-77"></a>                <span class="kw">const</span> repetitions <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span>])</span>
<span id="cb15-78"><a href="#cb15-78"></a>        </span>
<span id="cb15-79"><a href="#cb15-79"></a>                <span class="co">// Add each image the specified number of times</span></span>
<span id="cb15-80"><a href="#cb15-80"></a>                <span class="co">// Loop through the repetitions array</span></span>
<span id="cb15-81"><a href="#cb15-81"></a>                <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> repetitions<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb15-82"><a href="#cb15-82"></a>                    <span class="kw">const</span> imageIndex <span class="op">=</span> indices[i]</span>
<span id="cb15-83"><a href="#cb15-83"></a>                    <span class="kw">const</span> repeatCount <span class="op">=</span> repetitions[i]</span>
<span id="cb15-84"><a href="#cb15-84"></a>        </span>
<span id="cb15-85"><a href="#cb15-85"></a>                    <span class="co">// Add this image repeatCount times to output</span></span>
<span id="cb15-86"><a href="#cb15-86"></a>                    <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> repeatCount<span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb15-87"><a href="#cb15-87"></a>                        output<span class="op">.</span><span class="fu">push</span>(imageIndex)</span>
<span id="cb15-88"><a href="#cb15-88"></a>                    }</span>
<span id="cb15-89"><a href="#cb15-89"></a>                }</span>
<span id="cb15-90"><a href="#cb15-90"></a></span>
<span id="cb15-91"><a href="#cb15-91"></a>                <span class="co">// save the repetition data as a global property</span></span>
<span id="cb15-92"><a href="#cb15-92"></a>                jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({<span class="dt">image_repetition_map</span><span class="op">:</span> repetitions})</span>
<span id="cb15-93"><a href="#cb15-93"></a>        </span>
<span id="cb15-94"><a href="#cb15-94"></a>                <span class="co">// Shuffle so the repeated images appear in random order</span></span>
<span id="cb15-95"><a href="#cb15-95"></a>                output <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>(output)</span>
<span id="cb15-96"><a href="#cb15-96"></a>                <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(output)        </span>
<span id="cb15-97"><a href="#cb15-97"></a></span>
<span id="cb15-98"><a href="#cb15-98"></a>                <span class="cf">return</span> output</span>
<span id="cb15-99"><a href="#cb15-99"></a>            }</span>
<span id="cb15-100"><a href="#cb15-100"></a>        }</span>
<span id="cb15-101"><a href="#cb15-101"></a>    }</span>
<span id="cb15-102"><a href="#cb15-102"></a></span>
<span id="cb15-103"><a href="#cb15-103"></a><span class="co">// ============================================</span></span>
<span id="cb15-104"><a href="#cb15-104"></a><span class="co">// Evaluation Phase</span></span>
<span id="cb15-105"><a href="#cb15-105"></a><span class="co">// ============================================</span></span>
<span id="cb15-106"><a href="#cb15-106"></a></span>
<span id="cb15-107"><a href="#cb15-107"></a><span class="kw">let</span> evaluation <span class="op">=</span> {</span>
<span id="cb15-108"><a href="#cb15-108"></a>      <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb15-109"><a href="#cb15-109"></a>        {</span>
<span id="cb15-110"><a href="#cb15-110"></a>          <span class="dt">type</span><span class="op">:</span> jsPsychImageSliderResponse<span class="op">,</span></span>
<span id="cb15-111"><a href="#cb15-111"></a>          <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb15-112"><a href="#cb15-112"></a>          <span class="dt">prompt</span><span class="op">:</span> <span class="st">"&lt;p&gt;How much do you like this painting?&lt;/p&gt;"</span><span class="op">,</span></span>
<span id="cb15-113"><a href="#cb15-113"></a>          <span class="dt">labels</span><span class="op">:</span> [<span class="st">"Dislike Very Much"</span><span class="op">,</span> <span class="st">"Like Very Much"</span>]<span class="op">,</span></span>
<span id="cb15-114"><a href="#cb15-114"></a>          <span class="dt">min</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb15-115"><a href="#cb15-115"></a>          <span class="dt">max</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span></span>
<span id="cb15-116"><a href="#cb15-116"></a>          <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb15-117"><a href="#cb15-117"></a>          <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb15-118"><a href="#cb15-118"></a>          <span class="dt">slider_start</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb15-119"><a href="#cb15-119"></a>          <span class="dt">require_movement</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb15-120"><a href="#cb15-120"></a>          <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb15-121"><a href="#cb15-121"></a>          <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-122"><a href="#cb15-122"></a>              <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation"</span></span>
<span id="cb15-123"><a href="#cb15-123"></a>          }</span>
<span id="cb15-124"><a href="#cb15-124"></a>        }</span>
<span id="cb15-125"><a href="#cb15-125"></a>      ]<span class="op">,</span></span>
<span id="cb15-126"><a href="#cb15-126"></a>      <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb15-127"><a href="#cb15-127"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb15-128"><a href="#cb15-128"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb15-129"><a href="#cb15-129"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb15-130"><a href="#cb15-130"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb15-131"><a href="#cb15-131"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb15-132"><a href="#cb15-132"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb15-133"><a href="#cb15-133"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb15-134"><a href="#cb15-134"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb15-135"><a href="#cb15-135"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb15-136"><a href="#cb15-136"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb15-137"><a href="#cb15-137"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb15-138"><a href="#cb15-138"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb15-139"><a href="#cb15-139"></a>      ]<span class="op">,</span></span>
<span id="cb15-140"><a href="#cb15-140"></a>      <span class="dt">randomized_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb15-141"><a href="#cb15-141"></a>}</span>
<span id="cb15-142"><a href="#cb15-142"></a></span>
<span id="cb15-143"><a href="#cb15-143"></a></span>
<span id="cb15-144"><a href="#cb15-144"></a><span class="co">// ============================================</span></span>
<span id="cb15-145"><a href="#cb15-145"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb15-146"><a href="#cb15-146"></a><span class="co">// ============================================</span></span>
<span id="cb15-147"><a href="#cb15-147"></a></span>
<span id="cb15-148"><a href="#cb15-148"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb15-149"><a href="#cb15-149"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb15-150"><a href="#cb15-150"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb15-151"><a href="#cb15-151"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb15-152"><a href="#cb15-152"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb15-153"><a href="#cb15-153"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb15-154"><a href="#cb15-154"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb15-155"><a href="#cb15-155"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb15-156"><a href="#cb15-156"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb15-157"><a href="#cb15-157"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb15-158"><a href="#cb15-158"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb15-159"><a href="#cb15-159"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb15-160"><a href="#cb15-160"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb15-161"><a href="#cb15-161"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb15-162"><a href="#cb15-162"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb15-163"><a href="#cb15-163"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb15-164"><a href="#cb15-164"></a>    })<span class="op">;</span></span>
<span id="cb15-165"><a href="#cb15-165"></a>  }<span class="op">,</span></span>
<span id="cb15-166"><a href="#cb15-166"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb15-167"><a href="#cb15-167"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb15-168"><a href="#cb15-168"></a>  }</span>
<span id="cb15-169"><a href="#cb15-169"></a>}<span class="op">;</span></span>
<span id="cb15-170"><a href="#cb15-170"></a></span>
<span id="cb15-171"><a href="#cb15-171"></a><span class="co">// ============================================</span></span>
<span id="cb15-172"><a href="#cb15-172"></a><span class="co">// Run jsPsych </span></span>
<span id="cb15-173"><a href="#cb15-173"></a><span class="co">// ============================================</span></span>
<span id="cb15-174"><a href="#cb15-174"></a></span>
<span id="cb15-175"><a href="#cb15-175"></a>jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb15-176"><a href="#cb15-176"></a>    welcome<span class="op">,</span></span>
<span id="cb15-177"><a href="#cb15-177"></a>    preload<span class="op">,</span></span>
<span id="cb15-178"><a href="#cb15-178"></a>    exposure<span class="op">,</span></span>
<span id="cb15-179"><a href="#cb15-179"></a>    evaluation<span class="op">,</span></span>
<span id="cb15-180"><a href="#cb15-180"></a>    saveData</span>
<span id="cb15-181"><a href="#cb15-181"></a>])<span class="op">;</span></span>
<span id="cb15-182"><a href="#cb15-182"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb16-1"><a href="#cb16-1"></a>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div id="demo-container-5" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-5" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Exposure Phase\n// ============================================\n\nlet exposure = {\n        timeline: [\n            {\n                type:jsPsychImageKeyboardResponse,\n                stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n                choices: &quot;NO_KEYS&quot;,\n                stimulus_width: 250,\n                trial_duration: 1000,\n                post_trial_gap: 200\n            }\n        ],\n        timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n        ],\n        sample: {\n            type: &quot;custom&quot;,\n            fn: function(indices){\n                let output = []\n\n                // Define how many times each image should appear\n                // shuffle so that it randomly paired with an image index\n                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])\n        \n                // Add each image the specified number of times\n                // Loop through the repetitions array\n                for (let i = 0; i < repetitions.length; i++) {\n                    const imageIndex = indices[i]\n                    const repeatCount = repetitions[i]\n        \n                    // Add this image repeatCount times to output\n                    for (let j = 0; j < repeatCount; j++) {\n                        output.push(imageIndex)\n                    }\n                }\n\n                // save the repetition data as a global property\n                jsPsych.data.addProperties({image_repetition_map: repetitions})\n        \n                // Shuffle so the repeated images appear in random order\n                output = jsPsych.randomization.shuffle(output)\n                console.log(output)        \n\n                return output\n            }\n        }\n    }\n\n// ============================================\n// Evaluation Phase\n// ============================================\n\nlet evaluation = {\n      timeline: [\n        {\n          type: jsPsychImageSliderResponse,\n          stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n          prompt: &quot;<p>How much do you like this painting?</p>&quot;,\n          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],\n          min: 1,\n          max: 9,\n          step: 1,\n          stimulus_width: 250,\n          slider_start: 5,\n          require_movement: true,\n          post_trial_gap: 200,\n          data: {\n              phase: &quot;evaluation&quot;\n          }\n        }\n      ],\n      timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n      ],\n      randomized_order: true\n}\n\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\njsPsych.run([\n    welcome,\n    preload,\n    exposure,\n    evaluation,\n    saveData\n]);\n\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-5');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-5" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Exposure Phase
// ============================================

let exposure = {
        timeline: [
            {
                type:jsPsychImageKeyboardResponse,
                stimulus: jsPsych.timelineVariable(&quot;image&quot;),
                choices: &quot;NO_KEYS&quot;,
                stimulus_width: 250,
                trial_duration: 1000,
                post_trial_gap: 200
            }
        ],
        timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
        ],
        sample: {
            type: &quot;custom&quot;,
            fn: function(indices){
                let output = []

                // Define how many times each image should appear
                // shuffle so that it randomly paired with an image index
                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])
        
                // Add each image the specified number of times
                // Loop through the repetitions array
                for (let i = 0; i < repetitions.length; i++) {
                    const imageIndex = indices[i]
                    const repeatCount = repetitions[i]
        
                    // Add this image repeatCount times to output
                    for (let j = 0; j < repeatCount; j++) {
                        output.push(imageIndex)
                    }
                }

                // save the repetition data as a global property
                jsPsych.data.addProperties({image_repetition_map: repetitions})
        
                // Shuffle so the repeated images appear in random order
                output = jsPsych.randomization.shuffle(output)
                console.log(output)        

                return output
            }
        }
    }

// ============================================
// Evaluation Phase
// ============================================

let evaluation = {
      timeline: [
        {
          type: jsPsychImageSliderResponse,
          stimulus: jsPsych.timelineVariable(&quot;image&quot;),
          prompt: &quot;<p>How much do you like this painting?</p>&quot;,
          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],
          min: 1,
          max: 9,
          step: 1,
          stimulus_width: 250,
          slider_start: 5,
          require_movement: true,
          post_trial_gap: 200,
          data: {
              phase: &quot;evaluation&quot;
          }
        }
      ],
      timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
      ],
      randomized_order: true
}


// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

jsPsych.run([
    welcome,
    preload,
    exposure,
    evaluation,
    saveData
]);

  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-5&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-5&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
<p>Let‚Äôs walk through what I did in this code and why:</p>
<p>This function controls how many times each image appears in your experiment. Instead of showing each image once, some images will be repeated more frequently than others.</p>
<p><strong>1. Create an empty output array</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">let</span> output <span class="op">=</span> []</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will hold all the trial indices we want to present (including repetitions).</p>
<p><strong>2. Randomize repetition assignments</strong></p>
<p>I want to pair each timeline_variable with a frequency.</p>
<p>Remember that the <code>indices</code> variable contains an array of numbers <code>[0,1,2 ... 11]</code> referring to the list of timeline variables. In this case, <code>idices[0]</code> is 0. If we look at the 0 index of <code>timeline_variables</code> we can see that it is <code>art_1.jpg</code>.</p>
<ul>
<li><code>indices[0] == 0 == timeline_variables[0] == "images/art/art_1.png"</code></li>
<li><code>indices[1] == 1 == timeline_variables[1] == "images/art/art_2.png"</code></li>
<li><code>indices[2] == 2 == timeline_variables[2] == "images/art/art_4.png"</code></li>
<li>etc.</li>
</ul>
<p>Instead of randomizing <code>indices</code>, however, I‚Äôm going to create a list of 12 frequencies, then randomize that list to pair it with the <code>indices</code> array items.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">const</span> repetitions <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>We have 12 images total (based on your indices array)</li>
<li>Each image will be randomly assigned one of these repetition counts (i.e., image 1 might get assigned 0, 1, 2, 5, 8, or 10)</li>
<li>The array contains: 0, 1, 2, 5, 8, 10 (twice each)</li>
<li>By shuffling, we ensure random pairing between images and repetition counts</li>
<li>Example result: [5, 0, 10, 1, 8, 2, 0, 5, 1, 10, 2, 8]. This would get paired with the image indices [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12] which means the first image at index 0 (art_1.jpg) will get displayed 5 times. The image at index 1 (art_2.jpg) will get displayed 0 times (none), etc.</li>
</ul>
<p><strong>3. Build the trial list with repetitions</strong></p>
<p>Now, we need to build an array that actually repeats the indices the number of times in frequency. That is we want it result in something like <code>[8,9,9,6,6,6,6,6,2,2,2,2,2,2,2,2, ...]</code>.</p>
<p>I create two loops to accomplish this. An outer loop that goes the the <code>repetitions</code> array, and an inner loop that adds the <code>indices</code> X number of times to the <code>output</code> array.</p>
<p>For example, if <code>repetitions[0] == 5</code> after the shuffle. Then on the first loop it will take <code>indices[0]</code>, which is <code>0</code> and put it 5 times in the <code>output</code> array so that <code>output == [0,0,0,0,0]</code> after the outer loop. We know that index 0 refers to <code>art_1.jpg</code>, so no we know that this image will be displayed five times.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1"></a><span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> repetitions<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb19-2"><a href="#cb19-2"></a>    <span class="kw">const</span> imageIndex <span class="op">=</span> indices[i]</span>
<span id="cb19-3"><a href="#cb19-3"></a>    <span class="kw">const</span> repeatCount <span class="op">=</span> repetitions[i]</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a>    <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> repeatCount<span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb19-6"><a href="#cb19-6"></a>        output<span class="op">.</span><span class="fu">push</span>(imageIndex)</span>
<span id="cb19-7"><a href="#cb19-7"></a>    }</span>
<span id="cb19-8"><a href="#cb19-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Loop through each image (using i as the counter)</li>
<li>imageIndex = which image we‚Äôre working with (e.g., image 0, 1, 2‚Ä¶)</li>
<li>repeatCount = how many times to show this image (from our shuffled repetitions array)</li>
<li>Inner loop adds that image to output the specified number of times</li>
<li>Example: If image 3 has repeatCount = 5, it gets added 5 times</li>
</ul>
<p><strong>4. Save repetition information to data</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({<span class="dt">image_repetition_map</span><span class="op">:</span> repetitions})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Records which repetition count was assigned to each image position</li>
<li>This gets saved as a column in your output data</li>
<li>Helps you verify your manipulation during analysis</li>
</ul>
<p><strong>5. Randomize trial order &amp; return the trial order</strong></p>
<p>Finally, we shuffle the new list of indices and return it from the function.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a>output <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>(output)</span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="cf">return</span> output</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result this will be an array of 52 numbers, referring to our timeline variables, with some repeating more often than others.</p>
</section>
<section id="add-between-subjects-instructions" class="level3" data-number="23.2.6">
<h3 data-number="23.2.6" class="anchored" data-anchor-id="add-between-subjects-instructions"><span class="header-section-number">23.2.6</span> Add Between-Subjects Instructions</h3>
<p>Create two instruction sets for different participant groups:</p>
<ul>
<li>Group 1: Told artwork was created by AI</li>
<li>Group 2: Told artwork was created by human artists</li>
</ul>
<p>We‚Äôll create both instruction sets first, then add randomized assignment. We‚Äôll need instruction sets for both the exposure and evaluation phases.</p>
<p>For now, the AI instructions are in <code>jsPsych.run</code>. You can swap them with the human instructions to preview the alternative version.</p>
<div class="cell">
<style type="text/css">
/* CB22 */

/* CB23 */
[id^="cb23-"]:nth-child(n+41):nth-child(-n+43),
[id^="cb23-"]:nth-child(n+45):nth-child(-n+64),
[id^="cb23-"]:nth-child(n+66):nth-child(-n+85),
[id^="cb23-"]:nth-child(n+143):nth-child(-n+145),
[id^="cb23-"]:nth-child(n+147):nth-child(-n+167),
[id^="cb23-"]:nth-child(n+169):nth-child(-n+189),
[id^="cb23-"]:nth-child(n+262):nth-child(-n+264) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB24 */
[id^="cb24-"]:nth-child(n+1):nth-child(-n+6) {
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}
</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb22-1"><a href="#cb22-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>    </span>
<span id="cb22-9"><a href="#cb22-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-15"><a href="#cb22-15"></a></span>
<span id="cb22-16"><a href="#cb22-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb22-18"><a href="#cb22-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb22-20"><a href="#cb22-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb22-21"><a href="#cb22-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb22-22"><a href="#cb22-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb22-23"><a href="#cb22-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb22-24"><a href="#cb22-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1"></a> </span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="co">// ============================================</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="co">// ============================================</span></span>
<span id="cb23-5"><a href="#cb23-5"></a></span>
<span id="cb23-6"><a href="#cb23-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb23-7"><a href="#cb23-7"></a></span>
<span id="cb23-8"><a href="#cb23-8"></a><span class="co">// ============================================</span></span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="co">// Preload Images</span></span>
<span id="cb23-10"><a href="#cb23-10"></a><span class="co">// ============================================</span></span>
<span id="cb23-11"><a href="#cb23-11"></a></span>
<span id="cb23-12"><a href="#cb23-12"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb23-13"><a href="#cb23-13"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb23-14"><a href="#cb23-14"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb23-15"><a href="#cb23-15"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb23-16"><a href="#cb23-16"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb23-17"><a href="#cb23-17"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb23-18"><a href="#cb23-18"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb23-19"><a href="#cb23-19"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb23-20"><a href="#cb23-20"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb23-21"><a href="#cb23-21"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb23-22"><a href="#cb23-22"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb23-23"><a href="#cb23-23"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb23-24"><a href="#cb23-24"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb23-25"><a href="#cb23-25"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb23-26"><a href="#cb23-26"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb23-27"><a href="#cb23-27"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-28"><a href="#cb23-28"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb23-29"><a href="#cb23-29"></a>}</span>
<span id="cb23-30"><a href="#cb23-30"></a></span>
<span id="cb23-31"><a href="#cb23-31"></a><span class="co">// ============================================</span></span>
<span id="cb23-32"><a href="#cb23-32"></a><span class="co">// Welcome</span></span>
<span id="cb23-33"><a href="#cb23-33"></a><span class="co">// ============================================</span></span>
<span id="cb23-34"><a href="#cb23-34"></a></span>
<span id="cb23-35"><a href="#cb23-35"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb23-36"><a href="#cb23-36"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb23-37"><a href="#cb23-37"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb23-38"><a href="#cb23-38"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb23-39"><a href="#cb23-39"></a>}</span>
<span id="cb23-40"><a href="#cb23-40"></a></span>
<span id="cb23-41"><a href="#cb23-41"></a><span class="co">// ============================================</span></span>
<span id="cb23-42"><a href="#cb23-42"></a><span class="co">// Exposure Phase</span></span>
<span id="cb23-43"><a href="#cb23-43"></a><span class="co">// ============================================</span></span>
<span id="cb23-44"><a href="#cb23-44"></a></span>
<span id="cb23-45"><a href="#cb23-45"></a><span class="kw">let</span> ai_exposure_instructions <span class="op">=</span> {</span>
<span id="cb23-46"><a href="#cb23-46"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb23-47"><a href="#cb23-47"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb23-48"><a href="#cb23-48"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-49"><a href="#cb23-49"></a><span class="vs">         &lt;p&gt;This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.&lt;/p&gt;</span></span>
<span id="cb23-50"><a href="#cb23-50"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb23-51"><a href="#cb23-51"></a></span>
<span id="cb23-52"><a href="#cb23-52"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-53"><a href="#cb23-53"></a><span class="vs">          &lt;p&gt;All of these paintings were generated by artificial intelligence. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.&lt;/p&gt;</span></span>
<span id="cb23-54"><a href="#cb23-54"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-55"><a href="#cb23-55"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-56"><a href="#cb23-56"></a><span class="vs">           &lt;p&gt;After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.&lt;/p&gt;</span></span>
<span id="cb23-57"><a href="#cb23-57"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-58"><a href="#cb23-58"></a>    ]<span class="op">,</span></span>
<span id="cb23-59"><a href="#cb23-59"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-60"><a href="#cb23-60"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-61"><a href="#cb23-61"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-62"><a href="#cb23-62"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb23-63"><a href="#cb23-63"></a>  }</span>
<span id="cb23-64"><a href="#cb23-64"></a>}</span>
<span id="cb23-65"><a href="#cb23-65"></a></span>
<span id="cb23-66"><a href="#cb23-66"></a><span class="kw">let</span> human_exposure_instructions <span class="op">=</span> {</span>
<span id="cb23-67"><a href="#cb23-67"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb23-68"><a href="#cb23-68"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb23-69"><a href="#cb23-69"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-70"><a href="#cb23-70"></a><span class="vs">         &lt;p&gt;This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.&lt;/p&gt;</span></span>
<span id="cb23-71"><a href="#cb23-71"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb23-72"><a href="#cb23-72"></a></span>
<span id="cb23-73"><a href="#cb23-73"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-74"><a href="#cb23-74"></a><span class="vs">          &lt;p&gt;All of these paintings were created by professional abstract artists. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.&lt;/p&gt;</span></span>
<span id="cb23-75"><a href="#cb23-75"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-76"><a href="#cb23-76"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-77"><a href="#cb23-77"></a><span class="vs">          &lt;p&gt;After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.&lt;/p&gt;</span></span>
<span id="cb23-78"><a href="#cb23-78"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-79"><a href="#cb23-79"></a>    ]<span class="op">,</span></span>
<span id="cb23-80"><a href="#cb23-80"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-81"><a href="#cb23-81"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-82"><a href="#cb23-82"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-83"><a href="#cb23-83"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb23-84"><a href="#cb23-84"></a>  }</span>
<span id="cb23-85"><a href="#cb23-85"></a>}</span>
<span id="cb23-86"><a href="#cb23-86"></a></span>
<span id="cb23-87"><a href="#cb23-87"></a><span class="kw">let</span> exposure <span class="op">=</span> {</span>
<span id="cb23-88"><a href="#cb23-88"></a>        <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb23-89"><a href="#cb23-89"></a>            {</span>
<span id="cb23-90"><a href="#cb23-90"></a>                <span class="dt">type</span><span class="op">:</span>jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb23-91"><a href="#cb23-91"></a>                <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb23-92"><a href="#cb23-92"></a>                <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb23-93"><a href="#cb23-93"></a>                <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb23-94"><a href="#cb23-94"></a>                <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb23-95"><a href="#cb23-95"></a>                <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span></span>
<span id="cb23-96"><a href="#cb23-96"></a>            }</span>
<span id="cb23-97"><a href="#cb23-97"></a>        ]<span class="op">,</span></span>
<span id="cb23-98"><a href="#cb23-98"></a>        <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb23-99"><a href="#cb23-99"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb23-100"><a href="#cb23-100"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb23-101"><a href="#cb23-101"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb23-102"><a href="#cb23-102"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb23-103"><a href="#cb23-103"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb23-104"><a href="#cb23-104"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb23-105"><a href="#cb23-105"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb23-106"><a href="#cb23-106"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb23-107"><a href="#cb23-107"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb23-108"><a href="#cb23-108"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb23-109"><a href="#cb23-109"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb23-110"><a href="#cb23-110"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb23-111"><a href="#cb23-111"></a>        ]<span class="op">,</span></span>
<span id="cb23-112"><a href="#cb23-112"></a>        <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb23-113"><a href="#cb23-113"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb23-114"><a href="#cb23-114"></a>            <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb23-115"><a href="#cb23-115"></a>                <span class="kw">let</span> output <span class="op">=</span> []</span>
<span id="cb23-116"><a href="#cb23-116"></a></span>
<span id="cb23-117"><a href="#cb23-117"></a>                <span class="co">// Define how many times each image should appear</span></span>
<span id="cb23-118"><a href="#cb23-118"></a>                <span class="co">// shuffle so that it randomly paired with an image index</span></span>
<span id="cb23-119"><a href="#cb23-119"></a>                <span class="kw">const</span> repetitions <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span>])</span>
<span id="cb23-120"><a href="#cb23-120"></a>        </span>
<span id="cb23-121"><a href="#cb23-121"></a>                <span class="co">// Add each image the specified number of times</span></span>
<span id="cb23-122"><a href="#cb23-122"></a>                <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> repetitions<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb23-123"><a href="#cb23-123"></a>                    <span class="kw">const</span> imageIndex <span class="op">=</span> indices[i]</span>
<span id="cb23-124"><a href="#cb23-124"></a>                    <span class="kw">const</span> repeatCount <span class="op">=</span> repetitions[i]</span>
<span id="cb23-125"><a href="#cb23-125"></a>        </span>
<span id="cb23-126"><a href="#cb23-126"></a>                    <span class="co">// Add this image repeatCount times to output</span></span>
<span id="cb23-127"><a href="#cb23-127"></a>                    <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> repeatCount<span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb23-128"><a href="#cb23-128"></a>                        output<span class="op">.</span><span class="fu">push</span>(imageIndex)</span>
<span id="cb23-129"><a href="#cb23-129"></a>                    }</span>
<span id="cb23-130"><a href="#cb23-130"></a>                }</span>
<span id="cb23-131"><a href="#cb23-131"></a></span>
<span id="cb23-132"><a href="#cb23-132"></a>                <span class="co">// save the repetition data as a global property</span></span>
<span id="cb23-133"><a href="#cb23-133"></a>                jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({<span class="dt">image_repetition_map</span><span class="op">:</span> repetitions})</span>
<span id="cb23-134"><a href="#cb23-134"></a>        </span>
<span id="cb23-135"><a href="#cb23-135"></a>                <span class="co">// Shuffle so the repeated images appear in random order</span></span>
<span id="cb23-136"><a href="#cb23-136"></a>                output <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>(output)</span>
<span id="cb23-137"><a href="#cb23-137"></a>        </span>
<span id="cb23-138"><a href="#cb23-138"></a>                <span class="cf">return</span> output</span>
<span id="cb23-139"><a href="#cb23-139"></a>            }</span>
<span id="cb23-140"><a href="#cb23-140"></a>        }</span>
<span id="cb23-141"><a href="#cb23-141"></a>    }</span>
<span id="cb23-142"><a href="#cb23-142"></a></span>
<span id="cb23-143"><a href="#cb23-143"></a><span class="co">// ============================================</span></span>
<span id="cb23-144"><a href="#cb23-144"></a><span class="co">// Evaluation Phase</span></span>
<span id="cb23-145"><a href="#cb23-145"></a><span class="co">// ============================================</span></span>
<span id="cb23-146"><a href="#cb23-146"></a></span>
<span id="cb23-147"><a href="#cb23-147"></a><span class="kw">let</span> ai_evaluation_instructions <span class="op">=</span> {</span>
<span id="cb23-148"><a href="#cb23-148"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb23-149"><a href="#cb23-149"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb23-150"><a href="#cb23-150"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-151"><a href="#cb23-151"></a><span class="vs">         &lt;p&gt;You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.&lt;/p&gt;</span></span>
<span id="cb23-152"><a href="#cb23-152"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb23-153"><a href="#cb23-153"></a></span>
<span id="cb23-154"><a href="#cb23-154"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-155"><a href="#cb23-155"></a><span class="vs">          &lt;p&gt;For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.&lt;/p&gt;</span></span>
<span id="cb23-156"><a href="#cb23-156"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-157"><a href="#cb23-157"></a></span>
<span id="cb23-158"><a href="#cb23-158"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-159"><a href="#cb23-159"></a><span class="vs">           &lt;p&gt;Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.&lt;/p&gt;</span></span>
<span id="cb23-160"><a href="#cb23-160"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-161"><a href="#cb23-161"></a>    ]<span class="op">,</span></span>
<span id="cb23-162"><a href="#cb23-162"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-163"><a href="#cb23-163"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-164"><a href="#cb23-164"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-165"><a href="#cb23-165"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation_instructions"</span></span>
<span id="cb23-166"><a href="#cb23-166"></a>  }</span>
<span id="cb23-167"><a href="#cb23-167"></a>}</span>
<span id="cb23-168"><a href="#cb23-168"></a></span>
<span id="cb23-169"><a href="#cb23-169"></a><span class="kw">let</span> human_evaluation_instructions <span class="op">=</span> {</span>
<span id="cb23-170"><a href="#cb23-170"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb23-171"><a href="#cb23-171"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb23-172"><a href="#cb23-172"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-173"><a href="#cb23-173"></a><span class="vs">         &lt;p&gt;You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.&lt;/p&gt;</span></span>
<span id="cb23-174"><a href="#cb23-174"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb23-175"><a href="#cb23-175"></a></span>
<span id="cb23-176"><a href="#cb23-176"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-177"><a href="#cb23-177"></a><span class="vs">          &lt;p&gt;For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.&lt;/p&gt;</span></span>
<span id="cb23-178"><a href="#cb23-178"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-179"><a href="#cb23-179"></a></span>
<span id="cb23-180"><a href="#cb23-180"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb23-181"><a href="#cb23-181"></a><span class="vs">           &lt;p&gt;Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.&lt;/p&gt;</span></span>
<span id="cb23-182"><a href="#cb23-182"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb23-183"><a href="#cb23-183"></a>    ]<span class="op">,</span></span>
<span id="cb23-184"><a href="#cb23-184"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-185"><a href="#cb23-185"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-186"><a href="#cb23-186"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-187"><a href="#cb23-187"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation_instructions"</span></span>
<span id="cb23-188"><a href="#cb23-188"></a>  }</span>
<span id="cb23-189"><a href="#cb23-189"></a>}</span>
<span id="cb23-190"><a href="#cb23-190"></a></span>
<span id="cb23-191"><a href="#cb23-191"></a><span class="kw">let</span> evaluation <span class="op">=</span> {</span>
<span id="cb23-192"><a href="#cb23-192"></a>      <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb23-193"><a href="#cb23-193"></a>        {</span>
<span id="cb23-194"><a href="#cb23-194"></a>          <span class="dt">type</span><span class="op">:</span> jsPsychImageSliderResponse<span class="op">,</span></span>
<span id="cb23-195"><a href="#cb23-195"></a>          <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb23-196"><a href="#cb23-196"></a>          <span class="dt">prompt</span><span class="op">:</span> <span class="st">"&lt;p&gt;How much do you like this painting?&lt;/p&gt;"</span><span class="op">,</span></span>
<span id="cb23-197"><a href="#cb23-197"></a>          <span class="dt">labels</span><span class="op">:</span> [<span class="st">"Dislike Very Much"</span><span class="op">,</span> <span class="st">"Like Very Much"</span>]<span class="op">,</span></span>
<span id="cb23-198"><a href="#cb23-198"></a>          <span class="dt">min</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb23-199"><a href="#cb23-199"></a>          <span class="dt">max</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span></span>
<span id="cb23-200"><a href="#cb23-200"></a>          <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb23-201"><a href="#cb23-201"></a>          <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb23-202"><a href="#cb23-202"></a>          <span class="dt">slider_start</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb23-203"><a href="#cb23-203"></a>          <span class="dt">require_movement</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb23-204"><a href="#cb23-204"></a>          <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb23-205"><a href="#cb23-205"></a>          <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-206"><a href="#cb23-206"></a>              <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation"</span></span>
<span id="cb23-207"><a href="#cb23-207"></a>          }</span>
<span id="cb23-208"><a href="#cb23-208"></a>        }</span>
<span id="cb23-209"><a href="#cb23-209"></a>      ]<span class="op">,</span></span>
<span id="cb23-210"><a href="#cb23-210"></a>      <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb23-211"><a href="#cb23-211"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb23-212"><a href="#cb23-212"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb23-213"><a href="#cb23-213"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb23-214"><a href="#cb23-214"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb23-215"><a href="#cb23-215"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb23-216"><a href="#cb23-216"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb23-217"><a href="#cb23-217"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb23-218"><a href="#cb23-218"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb23-219"><a href="#cb23-219"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb23-220"><a href="#cb23-220"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb23-221"><a href="#cb23-221"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb23-222"><a href="#cb23-222"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb23-223"><a href="#cb23-223"></a>      ]<span class="op">,</span></span>
<span id="cb23-224"><a href="#cb23-224"></a>      <span class="dt">randomized_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb23-225"><a href="#cb23-225"></a>}</span>
<span id="cb23-226"><a href="#cb23-226"></a></span>
<span id="cb23-227"><a href="#cb23-227"></a><span class="co">// ============================================</span></span>
<span id="cb23-228"><a href="#cb23-228"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb23-229"><a href="#cb23-229"></a><span class="co">// ============================================</span></span>
<span id="cb23-230"><a href="#cb23-230"></a></span>
<span id="cb23-231"><a href="#cb23-231"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb23-232"><a href="#cb23-232"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb23-233"><a href="#cb23-233"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb23-234"><a href="#cb23-234"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb23-235"><a href="#cb23-235"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb23-236"><a href="#cb23-236"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb23-237"><a href="#cb23-237"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb23-238"><a href="#cb23-238"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb23-239"><a href="#cb23-239"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb23-240"><a href="#cb23-240"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb23-241"><a href="#cb23-241"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb23-242"><a href="#cb23-242"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb23-243"><a href="#cb23-243"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb23-244"><a href="#cb23-244"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb23-245"><a href="#cb23-245"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb23-246"><a href="#cb23-246"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb23-247"><a href="#cb23-247"></a>    })<span class="op">;</span></span>
<span id="cb23-248"><a href="#cb23-248"></a>  }<span class="op">,</span></span>
<span id="cb23-249"><a href="#cb23-249"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb23-250"><a href="#cb23-250"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb23-251"><a href="#cb23-251"></a>  }</span>
<span id="cb23-252"><a href="#cb23-252"></a>}<span class="op">;</span></span>
<span id="cb23-253"><a href="#cb23-253"></a></span>
<span id="cb23-254"><a href="#cb23-254"></a><span class="co">// ============================================</span></span>
<span id="cb23-255"><a href="#cb23-255"></a><span class="co">// Run jsPsych </span></span>
<span id="cb23-256"><a href="#cb23-256"></a><span class="co">// ============================================</span></span>
<span id="cb23-257"><a href="#cb23-257"></a></span>
<span id="cb23-258"><a href="#cb23-258"></a>  <span class="co">// run with ai instructions</span></span>
<span id="cb23-259"><a href="#cb23-259"></a> jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb23-260"><a href="#cb23-260"></a>    welcome<span class="op">,</span></span>
<span id="cb23-261"><a href="#cb23-261"></a>    preload<span class="op">,</span></span>
<span id="cb23-262"><a href="#cb23-262"></a>    ai_exposure_instructions<span class="op">,</span></span>
<span id="cb23-263"><a href="#cb23-263"></a>    exposure<span class="op">,</span></span>
<span id="cb23-264"><a href="#cb23-264"></a>    ai_evaluation_instructions<span class="op">,</span></span>
<span id="cb23-265"><a href="#cb23-265"></a>    evaluation<span class="op">,</span></span>
<span id="cb23-266"><a href="#cb23-266"></a>    saveData</span>
<span id="cb23-267"><a href="#cb23-267"></a>  ])<span class="op">;</span></span>
<span id="cb23-268"><a href="#cb23-268"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb24-1"><a href="#cb24-1"></a> </span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb24-3"><a href="#cb24-3"></a>     <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>     <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>}</span>
<span id="cb24-6"><a href="#cb24-6"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div id="demo-container-6" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-6" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      \n.instructionStyle {\n     max-width: 750px;\n     text-align: left;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Exposure Phase\n// ============================================\n\nlet ai_exposure_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>This is a study of people\'s responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it\'s presented.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>All of these paintings were generated by artificial intelligence. We\'re providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>\n       </div>`, \n      `<div class=&quot;instructionStyle&quot;>\n           <p>After all the paintings have been presented, We\'ll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;instructions&quot;\n  }\n}\n\nlet human_exposure_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>This is a study of people\'s responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it\'s presented.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>All of these paintings were created by professional abstract artists. We\'re providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>\n       </div>`, \n      `<div class=&quot;instructionStyle&quot;>\n          <p>After all the paintings have been presented, We\'ll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;instructions&quot;\n  }\n}\n\nlet exposure = {\n        timeline: [\n            {\n                type:jsPsychImageKeyboardResponse,\n                stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n                choices: &quot;NO_KEYS&quot;,\n                stimulus_width: 250,\n                trial_duration: 1000,\n                post_trial_gap: 200\n            }\n        ],\n        timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n        ],\n        sample: {\n            type: &quot;custom&quot;,\n            fn: function(indices){\n                let output = []\n\n                // Define how many times each image should appear\n                // shuffle so that it randomly paired with an image index\n                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])\n        \n                // Add each image the specified number of times\n                for (let i = 0; i < repetitions.length; i++) {\n                    const imageIndex = indices[i]\n                    const repeatCount = repetitions[i]\n        \n                    // Add this image repeatCount times to output\n                    for (let j = 0; j < repeatCount; j++) {\n                        output.push(imageIndex)\n                    }\n                }\n\n                // save the repetition data as a global property\n                jsPsych.data.addProperties({image_repetition_map: repetitions})\n        \n                // Shuffle so the repeated images appear in random order\n                output = jsPsych.randomization.shuffle(output)\n        \n                return output\n            }\n        }\n    }\n\n// ============================================\n// Evaluation Phase\n// ============================================\n\nlet ai_evaluation_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We\'re interested in your personal preferences.</p>\n       </div>`, \n\n      `<div class=&quot;instructionStyle&quot;>\n           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;evaluation_instructions&quot;\n  }\n}\n\nlet human_evaluation_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We\'re interested in your personal preferences.</p>\n       </div>`, \n\n      `<div class=&quot;instructionStyle&quot;>\n           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;evaluation_instructions&quot;\n  }\n}\n\nlet evaluation = {\n      timeline: [\n        {\n          type: jsPsychImageSliderResponse,\n          stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n          prompt: &quot;<p>How much do you like this painting?</p>&quot;,\n          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],\n          min: 1,\n          max: 9,\n          step: 1,\n          stimulus_width: 250,\n          slider_start: 5,\n          require_movement: true,\n          post_trial_gap: 200,\n          data: {\n              phase: &quot;evaluation&quot;\n          }\n        }\n      ],\n      timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n      ],\n      randomized_order: true\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\n  // run with ai instructions\n jsPsych.run([\n    welcome,\n    preload,\n    ai_exposure_instructions,\n    exposure,\n    ai_evaluation_instructions,\n    evaluation,\n    saveData\n  ]);\n\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-6');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-6" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      
.instructionStyle {
     max-width: 750px;
     text-align: left;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Exposure Phase
// ============================================

let ai_exposure_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>All of these paintings were generated by artificial intelligence. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>
       </div>`, 
      `<div class=&quot;instructionStyle&quot;>
           <p>After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;instructions&quot;
  }
}

let human_exposure_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>All of these paintings were created by professional abstract artists. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>
       </div>`, 
      `<div class=&quot;instructionStyle&quot;>
          <p>After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;instructions&quot;
  }
}

let exposure = {
        timeline: [
            {
                type:jsPsychImageKeyboardResponse,
                stimulus: jsPsych.timelineVariable(&quot;image&quot;),
                choices: &quot;NO_KEYS&quot;,
                stimulus_width: 250,
                trial_duration: 1000,
                post_trial_gap: 200
            }
        ],
        timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
        ],
        sample: {
            type: &quot;custom&quot;,
            fn: function(indices){
                let output = []

                // Define how many times each image should appear
                // shuffle so that it randomly paired with an image index
                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])
        
                // Add each image the specified number of times
                for (let i = 0; i < repetitions.length; i++) {
                    const imageIndex = indices[i]
                    const repeatCount = repetitions[i]
        
                    // Add this image repeatCount times to output
                    for (let j = 0; j < repeatCount; j++) {
                        output.push(imageIndex)
                    }
                }

                // save the repetition data as a global property
                jsPsych.data.addProperties({image_repetition_map: repetitions})
        
                // Shuffle so the repeated images appear in random order
                output = jsPsych.randomization.shuffle(output)
        
                return output
            }
        }
    }

// ============================================
// Evaluation Phase
// ============================================

let ai_evaluation_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.</p>
       </div>`, 

      `<div class=&quot;instructionStyle&quot;>
           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;evaluation_instructions&quot;
  }
}

let human_evaluation_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.</p>
       </div>`, 

      `<div class=&quot;instructionStyle&quot;>
           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;evaluation_instructions&quot;
  }
}

let evaluation = {
      timeline: [
        {
          type: jsPsychImageSliderResponse,
          stimulus: jsPsych.timelineVariable(&quot;image&quot;),
          prompt: &quot;<p>How much do you like this painting?</p>&quot;,
          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],
          min: 1,
          max: 9,
          step: 1,
          stimulus_width: 250,
          slider_start: 5,
          require_movement: true,
          post_trial_gap: 200,
          data: {
              phase: &quot;evaluation&quot;
          }
        }
      ],
      timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
      ],
      randomized_order: true
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

  // run with ai instructions
 jsPsych.run([
    welcome,
    preload,
    ai_exposure_instructions,
    exposure,
    ai_evaluation_instructions,
    evaluation,
    saveData
  ]);

  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-6&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-6&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
<section id="add-between-subjects-assignment" class="level3" data-number="23.2.7">
<h3 data-number="23.2.7" class="anchored" data-anchor-id="add-between-subjects-assignment"><span class="header-section-number">23.2.7</span> Add Between-Subjects Assignment</h3>
<p>Assign participants to conditions based on a numeric ID from the study URL. To test this code, modify your URL by adding <code>?id=1</code> or <code>?id=2</code>:</p>
<pre><code>file:///C:/Users/umbroson/L10/index.html?id=1
file:///C:/Users/umbroson/L10/index.html?id=2</code></pre>
<p>Use odd IDs for one condition and even IDs for the other. If no ID is provided in the URL, the code will randomly assign a condition. Refresh the page to see the assignment change.</p>
<p>In our code, we‚Äôve added <code>if-else</code> logic to change which <code>jsPsych.run</code> function we call.</p>
<div class="cell">
<style type="text/css">
/* CB26 */

/* CB27 */
[id^="cb27-"]:nth-child(n+8):nth-child(-n+23),
[id^="cb27-"]:nth-child(n+275):nth-child(-n+301){
  background-color: #e1f5fe;
  box-shadow: inset 5px 0 0 0 #0288d1; 
  padding-right: 1rem;
}


/* CB22 */

</style>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">index.html</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">exp.js</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">style.css</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Result</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb26-1"><a href="#cb26-1"></a> <span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Lab 10: Judgment <span class="er">&amp;</span> Decision-Making<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>    <span class="co">&lt;!-- jsPsych --&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/jspsych.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"jspsych/jspsych.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>    </span>
<span id="cb26-9"><a href="#cb26-9"></a>    <span class="co">&lt;!-- jPsych plugins --&gt;</span></span>
<span id="cb26-10"><a href="#cb26-10"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-instructions.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-preload.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-html-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-13"><a href="#cb26-13"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-keyboard-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-14"><a href="#cb26-14"></a>    <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"jspsych/plugin-image-slider-response.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-15"><a href="#cb26-15"></a></span>
<span id="cb26-16"><a href="#cb26-16"></a>    <span class="co">&lt;!-- custom CSS --&gt;</span></span>
<span id="cb26-17"><a href="#cb26-17"></a>    <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb26-18"><a href="#cb26-18"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-20"><a href="#cb26-20"></a>  <span class="co">&lt;!-- custom JS --&gt;</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>  <span class="dt">&lt;</span><span class="kw">script</span><span class="ot"> src</span><span class="op">=</span><span class="st">"exp.js"</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb26-22"><a href="#cb26-22"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb26-23"><a href="#cb26-23"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb26-24"><a href="#cb26-24"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1"></a> </span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="co">// ============================================</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="co">// Initiate jsPsych</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="co">// ============================================</span></span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="kw">const</span> jsPsych <span class="op">=</span> <span class="fu">initJsPsych</span>()<span class="op">;</span> </span>
<span id="cb27-7"><a href="#cb27-7"></a></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="co">// ============================================</span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="co">// Between-Subjects Condition Assignment</span></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="co">// ============================================</span></span>
<span id="cb27-11"><a href="#cb27-11"></a></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="co">// Get participant ID from URL, or generate random one if not found</span></span>
<span id="cb27-13"><a href="#cb27-13"></a><span class="kw">let</span> participant_id <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">getURLVariable</span>(<span class="st">"id"</span>) <span class="op">||</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">randomInt</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">100000</span>)<span class="op">;</span></span>
<span id="cb27-14"><a href="#cb27-14"></a></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="co">// Assign to one of three conditions based on ID</span></span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="kw">let</span> conditions <span class="op">=</span> [<span class="st">"ai"</span><span class="op">,</span> <span class="st">"human"</span>]<span class="op">;</span></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="kw">let</span> assigned_condition <span class="op">=</span> conditions[participant_id <span class="op">%</span> <span class="dv">2</span>]<span class="op">;</span></span>
<span id="cb27-18"><a href="#cb27-18"></a></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="co">// Save id and assignment to data</span></span>
<span id="cb27-20"><a href="#cb27-20"></a>jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({</span>
<span id="cb27-21"><a href="#cb27-21"></a>  <span class="dt">participant_id</span><span class="op">:</span> participant_id<span class="op">,</span></span>
<span id="cb27-22"><a href="#cb27-22"></a>  <span class="dt">assigned_condition</span><span class="op">:</span> assigned_condition</span>
<span id="cb27-23"><a href="#cb27-23"></a>})<span class="op">;</span></span>
<span id="cb27-24"><a href="#cb27-24"></a></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="co">// ============================================</span></span>
<span id="cb27-26"><a href="#cb27-26"></a><span class="co">// Preload Images</span></span>
<span id="cb27-27"><a href="#cb27-27"></a><span class="co">// ============================================</span></span>
<span id="cb27-28"><a href="#cb27-28"></a></span>
<span id="cb27-29"><a href="#cb27-29"></a><span class="kw">let</span> preload <span class="op">=</span> {</span>
<span id="cb27-30"><a href="#cb27-30"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychPreload<span class="op">,</span></span>
<span id="cb27-31"><a href="#cb27-31"></a>  <span class="dt">images</span><span class="op">:</span> [</span>
<span id="cb27-32"><a href="#cb27-32"></a>        <span class="st">"images/art/art_1.png"</span><span class="op">,</span></span>
<span id="cb27-33"><a href="#cb27-33"></a>        <span class="st">"images/art/art_2.png"</span><span class="op">,</span></span>
<span id="cb27-34"><a href="#cb27-34"></a>        <span class="st">"images/art/art_3.png"</span><span class="op">,</span></span>
<span id="cb27-35"><a href="#cb27-35"></a>        <span class="st">"images/art/art_4.png"</span><span class="op">,</span></span>
<span id="cb27-36"><a href="#cb27-36"></a>        <span class="st">"images/art/art_5.png"</span><span class="op">,</span></span>
<span id="cb27-37"><a href="#cb27-37"></a>        <span class="st">"images/art/art_6.png"</span><span class="op">,</span></span>
<span id="cb27-38"><a href="#cb27-38"></a>        <span class="st">"images/art/art_7.png"</span><span class="op">,</span></span>
<span id="cb27-39"><a href="#cb27-39"></a>        <span class="st">"images/art/art_8.png"</span><span class="op">,</span></span>
<span id="cb27-40"><a href="#cb27-40"></a>        <span class="st">"images/art/art_9.png"</span><span class="op">,</span></span>
<span id="cb27-41"><a href="#cb27-41"></a>        <span class="st">"images/art/art_10.png"</span><span class="op">,</span></span>
<span id="cb27-42"><a href="#cb27-42"></a>        <span class="st">"images/art/art_11.png"</span><span class="op">,</span></span>
<span id="cb27-43"><a href="#cb27-43"></a>        <span class="st">"images/art/art_12.png"</span>]<span class="op">,</span></span>
<span id="cb27-44"><a href="#cb27-44"></a>  <span class="dt">show_progress_bar</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-45"><a href="#cb27-45"></a>  <span class="dt">continue_after_error</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb27-46"><a href="#cb27-46"></a>}</span>
<span id="cb27-47"><a href="#cb27-47"></a></span>
<span id="cb27-48"><a href="#cb27-48"></a><span class="co">// ============================================</span></span>
<span id="cb27-49"><a href="#cb27-49"></a><span class="co">// Welcome</span></span>
<span id="cb27-50"><a href="#cb27-50"></a><span class="co">// ============================================</span></span>
<span id="cb27-51"><a href="#cb27-51"></a></span>
<span id="cb27-52"><a href="#cb27-52"></a><span class="kw">let</span> welcome <span class="op">=</span> {</span>
<span id="cb27-53"><a href="#cb27-53"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-54"><a href="#cb27-54"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="st">"Welcome to the experiment! Press the space bar to begin."</span><span class="op">,</span></span>
<span id="cb27-55"><a href="#cb27-55"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">" "</span></span>
<span id="cb27-56"><a href="#cb27-56"></a>}</span>
<span id="cb27-57"><a href="#cb27-57"></a></span>
<span id="cb27-58"><a href="#cb27-58"></a><span class="co">// ============================================</span></span>
<span id="cb27-59"><a href="#cb27-59"></a><span class="co">// Exposure Phase</span></span>
<span id="cb27-60"><a href="#cb27-60"></a><span class="co">// ============================================</span></span>
<span id="cb27-61"><a href="#cb27-61"></a></span>
<span id="cb27-62"><a href="#cb27-62"></a><span class="kw">let</span> ai_exposure_instructions <span class="op">=</span> {</span>
<span id="cb27-63"><a href="#cb27-63"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-64"><a href="#cb27-64"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb27-65"><a href="#cb27-65"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-66"><a href="#cb27-66"></a><span class="vs">         &lt;p&gt;This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.&lt;/p&gt;</span></span>
<span id="cb27-67"><a href="#cb27-67"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-68"><a href="#cb27-68"></a></span>
<span id="cb27-69"><a href="#cb27-69"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-70"><a href="#cb27-70"></a><span class="vs">          &lt;p&gt;All of these paintings were generated by artificial intelligence. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.&lt;/p&gt;</span></span>
<span id="cb27-71"><a href="#cb27-71"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-72"><a href="#cb27-72"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-73"><a href="#cb27-73"></a><span class="vs">           &lt;p&gt;After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.&lt;/p&gt;</span></span>
<span id="cb27-74"><a href="#cb27-74"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-75"><a href="#cb27-75"></a>    ]<span class="op">,</span></span>
<span id="cb27-76"><a href="#cb27-76"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-77"><a href="#cb27-77"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-78"><a href="#cb27-78"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-79"><a href="#cb27-79"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb27-80"><a href="#cb27-80"></a>  }</span>
<span id="cb27-81"><a href="#cb27-81"></a>}</span>
<span id="cb27-82"><a href="#cb27-82"></a></span>
<span id="cb27-83"><a href="#cb27-83"></a><span class="kw">let</span> human_exposure_instructions <span class="op">=</span> {</span>
<span id="cb27-84"><a href="#cb27-84"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-85"><a href="#cb27-85"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb27-86"><a href="#cb27-86"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-87"><a href="#cb27-87"></a><span class="vs">         &lt;p&gt;This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.&lt;/p&gt;</span></span>
<span id="cb27-88"><a href="#cb27-88"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-89"><a href="#cb27-89"></a></span>
<span id="cb27-90"><a href="#cb27-90"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-91"><a href="#cb27-91"></a><span class="vs">          &lt;p&gt;All of these paintings were created by professional abstract artists. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.&lt;/p&gt;</span></span>
<span id="cb27-92"><a href="#cb27-92"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-93"><a href="#cb27-93"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-94"><a href="#cb27-94"></a><span class="vs">          &lt;p&gt;After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.&lt;/p&gt;</span></span>
<span id="cb27-95"><a href="#cb27-95"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-96"><a href="#cb27-96"></a>    ]<span class="op">,</span></span>
<span id="cb27-97"><a href="#cb27-97"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-98"><a href="#cb27-98"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-99"><a href="#cb27-99"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-100"><a href="#cb27-100"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"instructions"</span></span>
<span id="cb27-101"><a href="#cb27-101"></a>  }</span>
<span id="cb27-102"><a href="#cb27-102"></a>}</span>
<span id="cb27-103"><a href="#cb27-103"></a></span>
<span id="cb27-104"><a href="#cb27-104"></a><span class="kw">let</span> exposure <span class="op">=</span> {</span>
<span id="cb27-105"><a href="#cb27-105"></a>        <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb27-106"><a href="#cb27-106"></a>            {</span>
<span id="cb27-107"><a href="#cb27-107"></a>                <span class="dt">type</span><span class="op">:</span>jsPsychImageKeyboardResponse<span class="op">,</span></span>
<span id="cb27-108"><a href="#cb27-108"></a>                <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb27-109"><a href="#cb27-109"></a>                <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-110"><a href="#cb27-110"></a>                <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb27-111"><a href="#cb27-111"></a>                <span class="dt">trial_duration</span><span class="op">:</span> <span class="dv">1000</span><span class="op">,</span></span>
<span id="cb27-112"><a href="#cb27-112"></a>                <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span></span>
<span id="cb27-113"><a href="#cb27-113"></a>            }</span>
<span id="cb27-114"><a href="#cb27-114"></a>        ]<span class="op">,</span></span>
<span id="cb27-115"><a href="#cb27-115"></a>        <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb27-116"><a href="#cb27-116"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb27-117"><a href="#cb27-117"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb27-118"><a href="#cb27-118"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb27-119"><a href="#cb27-119"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb27-120"><a href="#cb27-120"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb27-121"><a href="#cb27-121"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb27-122"><a href="#cb27-122"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb27-123"><a href="#cb27-123"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb27-124"><a href="#cb27-124"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb27-125"><a href="#cb27-125"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb27-126"><a href="#cb27-126"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb27-127"><a href="#cb27-127"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb27-128"><a href="#cb27-128"></a>        ]<span class="op">,</span></span>
<span id="cb27-129"><a href="#cb27-129"></a>        <span class="dt">sample</span><span class="op">:</span> {</span>
<span id="cb27-130"><a href="#cb27-130"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">"custom"</span><span class="op">,</span></span>
<span id="cb27-131"><a href="#cb27-131"></a>            <span class="dt">fn</span><span class="op">:</span> <span class="kw">function</span>(indices){</span>
<span id="cb27-132"><a href="#cb27-132"></a>                <span class="kw">let</span> output <span class="op">=</span> []</span>
<span id="cb27-133"><a href="#cb27-133"></a></span>
<span id="cb27-134"><a href="#cb27-134"></a>                <span class="co">// Define how many times each image should appear</span></span>
<span id="cb27-135"><a href="#cb27-135"></a>                <span class="co">// shuffle so that it randomly paired with an image index</span></span>
<span id="cb27-136"><a href="#cb27-136"></a>                <span class="kw">const</span> repetitions <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">10</span>])</span>
<span id="cb27-137"><a href="#cb27-137"></a>        </span>
<span id="cb27-138"><a href="#cb27-138"></a>                <span class="co">// Add each image the specified number of times</span></span>
<span id="cb27-139"><a href="#cb27-139"></a>                <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> repetitions<span class="op">.</span><span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb27-140"><a href="#cb27-140"></a>                    <span class="kw">const</span> imageIndex <span class="op">=</span> indices[i]</span>
<span id="cb27-141"><a href="#cb27-141"></a>                    <span class="kw">const</span> repeatCount <span class="op">=</span> repetitions[i]</span>
<span id="cb27-142"><a href="#cb27-142"></a>        </span>
<span id="cb27-143"><a href="#cb27-143"></a>                    <span class="co">// Add this image repeatCount times to output</span></span>
<span id="cb27-144"><a href="#cb27-144"></a>                    <span class="cf">for</span> (<span class="kw">let</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> repeatCount<span class="op">;</span> j<span class="op">++</span>) {</span>
<span id="cb27-145"><a href="#cb27-145"></a>                        output<span class="op">.</span><span class="fu">push</span>(imageIndex)</span>
<span id="cb27-146"><a href="#cb27-146"></a>                    }</span>
<span id="cb27-147"><a href="#cb27-147"></a>                }</span>
<span id="cb27-148"><a href="#cb27-148"></a></span>
<span id="cb27-149"><a href="#cb27-149"></a>                <span class="co">// save the repetition data as a global property</span></span>
<span id="cb27-150"><a href="#cb27-150"></a>                jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">addProperties</span>({<span class="dt">image_repetition_map</span><span class="op">:</span> repetitions})</span>
<span id="cb27-151"><a href="#cb27-151"></a>        </span>
<span id="cb27-152"><a href="#cb27-152"></a>                <span class="co">// Shuffle so the repeated images appear in random order</span></span>
<span id="cb27-153"><a href="#cb27-153"></a>                output <span class="op">=</span> jsPsych<span class="op">.</span><span class="at">randomization</span><span class="op">.</span><span class="fu">shuffle</span>(output)</span>
<span id="cb27-154"><a href="#cb27-154"></a>        </span>
<span id="cb27-155"><a href="#cb27-155"></a>                <span class="cf">return</span> output</span>
<span id="cb27-156"><a href="#cb27-156"></a>            }</span>
<span id="cb27-157"><a href="#cb27-157"></a>        }</span>
<span id="cb27-158"><a href="#cb27-158"></a>    }</span>
<span id="cb27-159"><a href="#cb27-159"></a></span>
<span id="cb27-160"><a href="#cb27-160"></a><span class="co">// ============================================</span></span>
<span id="cb27-161"><a href="#cb27-161"></a><span class="co">// Evaluation Phase</span></span>
<span id="cb27-162"><a href="#cb27-162"></a><span class="co">// ============================================</span></span>
<span id="cb27-163"><a href="#cb27-163"></a></span>
<span id="cb27-164"><a href="#cb27-164"></a><span class="kw">let</span> ai_evaluation_instructions <span class="op">=</span> {</span>
<span id="cb27-165"><a href="#cb27-165"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-166"><a href="#cb27-166"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb27-167"><a href="#cb27-167"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-168"><a href="#cb27-168"></a><span class="vs">         &lt;p&gt;You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.&lt;/p&gt;</span></span>
<span id="cb27-169"><a href="#cb27-169"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-170"><a href="#cb27-170"></a></span>
<span id="cb27-171"><a href="#cb27-171"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-172"><a href="#cb27-172"></a><span class="vs">          &lt;p&gt;For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.&lt;/p&gt;</span></span>
<span id="cb27-173"><a href="#cb27-173"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-174"><a href="#cb27-174"></a></span>
<span id="cb27-175"><a href="#cb27-175"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-176"><a href="#cb27-176"></a><span class="vs">           &lt;p&gt;Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.&lt;/p&gt;</span></span>
<span id="cb27-177"><a href="#cb27-177"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-178"><a href="#cb27-178"></a>    ]<span class="op">,</span></span>
<span id="cb27-179"><a href="#cb27-179"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-180"><a href="#cb27-180"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-181"><a href="#cb27-181"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-182"><a href="#cb27-182"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation_instructions"</span></span>
<span id="cb27-183"><a href="#cb27-183"></a>  }</span>
<span id="cb27-184"><a href="#cb27-184"></a>}</span>
<span id="cb27-185"><a href="#cb27-185"></a></span>
<span id="cb27-186"><a href="#cb27-186"></a><span class="kw">let</span> human_evaluation_instructions <span class="op">=</span> {</span>
<span id="cb27-187"><a href="#cb27-187"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychInstructions<span class="op">,</span></span>
<span id="cb27-188"><a href="#cb27-188"></a>  <span class="dt">pages</span><span class="op">:</span> [</span>
<span id="cb27-189"><a href="#cb27-189"></a>     <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-190"><a href="#cb27-190"></a><span class="vs">         &lt;p&gt;You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.&lt;/p&gt;</span></span>
<span id="cb27-191"><a href="#cb27-191"></a><span class="vs">      &lt;/div&gt;`</span><span class="op">,</span></span>
<span id="cb27-192"><a href="#cb27-192"></a></span>
<span id="cb27-193"><a href="#cb27-193"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-194"><a href="#cb27-194"></a><span class="vs">          &lt;p&gt;For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.&lt;/p&gt;</span></span>
<span id="cb27-195"><a href="#cb27-195"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-196"><a href="#cb27-196"></a></span>
<span id="cb27-197"><a href="#cb27-197"></a>      <span class="vs">`&lt;div class="instructionStyle"&gt;</span></span>
<span id="cb27-198"><a href="#cb27-198"></a><span class="vs">           &lt;p&gt;Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.&lt;/p&gt;</span></span>
<span id="cb27-199"><a href="#cb27-199"></a><span class="vs">       &lt;/div&gt;`</span><span class="op">,</span> </span>
<span id="cb27-200"><a href="#cb27-200"></a>    ]<span class="op">,</span></span>
<span id="cb27-201"><a href="#cb27-201"></a>  <span class="dt">show_clickable_nav</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-202"><a href="#cb27-202"></a>  <span class="dt">show_page_number</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-203"><a href="#cb27-203"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-204"><a href="#cb27-204"></a>      <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation_instructions"</span></span>
<span id="cb27-205"><a href="#cb27-205"></a>  }</span>
<span id="cb27-206"><a href="#cb27-206"></a>}</span>
<span id="cb27-207"><a href="#cb27-207"></a></span>
<span id="cb27-208"><a href="#cb27-208"></a><span class="kw">let</span> evaluation <span class="op">=</span> {</span>
<span id="cb27-209"><a href="#cb27-209"></a>      <span class="dt">timeline</span><span class="op">:</span> [</span>
<span id="cb27-210"><a href="#cb27-210"></a>        {</span>
<span id="cb27-211"><a href="#cb27-211"></a>          <span class="dt">type</span><span class="op">:</span> jsPsychImageSliderResponse<span class="op">,</span></span>
<span id="cb27-212"><a href="#cb27-212"></a>          <span class="dt">stimulus</span><span class="op">:</span> jsPsych<span class="op">.</span><span class="fu">timelineVariable</span>(<span class="st">"image"</span>)<span class="op">,</span></span>
<span id="cb27-213"><a href="#cb27-213"></a>          <span class="dt">prompt</span><span class="op">:</span> <span class="st">"&lt;p&gt;How much do you like this painting?&lt;/p&gt;"</span><span class="op">,</span></span>
<span id="cb27-214"><a href="#cb27-214"></a>          <span class="dt">labels</span><span class="op">:</span> [<span class="st">"Dislike Very Much"</span><span class="op">,</span> <span class="st">"Like Very Much"</span>]<span class="op">,</span></span>
<span id="cb27-215"><a href="#cb27-215"></a>          <span class="dt">min</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb27-216"><a href="#cb27-216"></a>          <span class="dt">max</span><span class="op">:</span> <span class="dv">9</span><span class="op">,</span></span>
<span id="cb27-217"><a href="#cb27-217"></a>          <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb27-218"><a href="#cb27-218"></a>          <span class="dt">stimulus_width</span><span class="op">:</span> <span class="dv">250</span><span class="op">,</span></span>
<span id="cb27-219"><a href="#cb27-219"></a>          <span class="dt">slider_start</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb27-220"><a href="#cb27-220"></a>          <span class="dt">require_movement</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb27-221"><a href="#cb27-221"></a>          <span class="dt">post_trial_gap</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb27-222"><a href="#cb27-222"></a>          <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-223"><a href="#cb27-223"></a>              <span class="dt">phase</span><span class="op">:</span> <span class="st">"evaluation"</span></span>
<span id="cb27-224"><a href="#cb27-224"></a>          }</span>
<span id="cb27-225"><a href="#cb27-225"></a>        }</span>
<span id="cb27-226"><a href="#cb27-226"></a>      ]<span class="op">,</span></span>
<span id="cb27-227"><a href="#cb27-227"></a>      <span class="dt">timeline_variables</span><span class="op">:</span> [</span>
<span id="cb27-228"><a href="#cb27-228"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_1.png"</span>}<span class="op">,</span></span>
<span id="cb27-229"><a href="#cb27-229"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_2.png"</span>}<span class="op">,</span></span>
<span id="cb27-230"><a href="#cb27-230"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_3.png"</span>}<span class="op">,</span></span>
<span id="cb27-231"><a href="#cb27-231"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_4.png"</span>}<span class="op">,</span></span>
<span id="cb27-232"><a href="#cb27-232"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_5.png"</span>}<span class="op">,</span></span>
<span id="cb27-233"><a href="#cb27-233"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_6.png"</span>}<span class="op">,</span></span>
<span id="cb27-234"><a href="#cb27-234"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_7.png"</span>}<span class="op">,</span></span>
<span id="cb27-235"><a href="#cb27-235"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_8.png"</span>}<span class="op">,</span></span>
<span id="cb27-236"><a href="#cb27-236"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_9.png"</span>}<span class="op">,</span></span>
<span id="cb27-237"><a href="#cb27-237"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_10.png"</span>}<span class="op">,</span></span>
<span id="cb27-238"><a href="#cb27-238"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_11.png"</span>}<span class="op">,</span></span>
<span id="cb27-239"><a href="#cb27-239"></a>            {<span class="dt">image</span><span class="op">:</span> <span class="st">"images/art/art_12.png"</span>}</span>
<span id="cb27-240"><a href="#cb27-240"></a>      ]<span class="op">,</span></span>
<span id="cb27-241"><a href="#cb27-241"></a>      <span class="dt">randomized_order</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb27-242"><a href="#cb27-242"></a>}</span>
<span id="cb27-243"><a href="#cb27-243"></a></span>
<span id="cb27-244"><a href="#cb27-244"></a><span class="co">// ============================================</span></span>
<span id="cb27-245"><a href="#cb27-245"></a><span class="co">// Savd Data Trial</span></span>
<span id="cb27-246"><a href="#cb27-246"></a><span class="co">// ============================================</span></span>
<span id="cb27-247"><a href="#cb27-247"></a></span>
<span id="cb27-248"><a href="#cb27-248"></a><span class="kw">const</span> saveData <span class="op">=</span> {</span>
<span id="cb27-249"><a href="#cb27-249"></a>  <span class="dt">type</span><span class="op">:</span> jsPsychHtmlKeyboardResponse<span class="op">,</span></span>
<span id="cb27-250"><a href="#cb27-250"></a>  <span class="dt">stimulus</span><span class="op">:</span> <span class="vs">`</span></span>
<span id="cb27-251"><a href="#cb27-251"></a><span class="vs">    &lt;div style="text-align: center;"&gt;</span></span>
<span id="cb27-252"><a href="#cb27-252"></a><span class="vs">      &lt;p&gt;Experiment complete!&lt;/p&gt;</span></span>
<span id="cb27-253"><a href="#cb27-253"></a><span class="vs">      &lt;p&gt;Click the button below to save your data locally:&lt;/p&gt;</span></span>
<span id="cb27-254"><a href="#cb27-254"></a><span class="vs">      &lt;button id="save-btn" style="padding: 10px 20px; font-size: 16px; cursor: pointer;"&gt;</span></span>
<span id="cb27-255"><a href="#cb27-255"></a><span class="vs">        Click here to save the data locally</span></span>
<span id="cb27-256"><a href="#cb27-256"></a><span class="vs">      &lt;/button&gt;</span></span>
<span id="cb27-257"><a href="#cb27-257"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb27-258"><a href="#cb27-258"></a><span class="vs">  `</span><span class="op">,</span></span>
<span id="cb27-259"><a href="#cb27-259"></a>  <span class="dt">choices</span><span class="op">:</span> <span class="st">"NO_KEYS"</span><span class="op">,</span></span>
<span id="cb27-260"><a href="#cb27-260"></a>  <span class="dt">trial_duration</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb27-261"><a href="#cb27-261"></a>  <span class="dt">on_load</span><span class="op">:</span> <span class="kw">function</span>() {</span>
<span id="cb27-262"><a href="#cb27-262"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"save-btn"</span>)<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"click"</span><span class="op">,</span> <span class="kw">function</span>() {</span>
<span id="cb27-263"><a href="#cb27-263"></a>      jsPsych<span class="op">.</span><span class="at">data</span><span class="op">.</span><span class="fu">get</span>()<span class="op">.</span><span class="fu">localSave</span>(<span class="st">"csv"</span><span class="op">,</span> <span class="st">"mereExposure_data.csv"</span>)<span class="op">;</span></span>
<span id="cb27-264"><a href="#cb27-264"></a>    })<span class="op">;</span></span>
<span id="cb27-265"><a href="#cb27-265"></a>  }<span class="op">,</span></span>
<span id="cb27-266"><a href="#cb27-266"></a>  <span class="dt">data</span><span class="op">:</span> {</span>
<span id="cb27-267"><a href="#cb27-267"></a>    <span class="dt">phase</span><span class="op">:</span> <span class="st">"save data trial"</span></span>
<span id="cb27-268"><a href="#cb27-268"></a>  }</span>
<span id="cb27-269"><a href="#cb27-269"></a>}<span class="op">;</span></span>
<span id="cb27-270"><a href="#cb27-270"></a></span>
<span id="cb27-271"><a href="#cb27-271"></a><span class="co">// ============================================</span></span>
<span id="cb27-272"><a href="#cb27-272"></a><span class="co">// Run jsPsych </span></span>
<span id="cb27-273"><a href="#cb27-273"></a><span class="co">// ============================================</span></span>
<span id="cb27-274"><a href="#cb27-274"></a></span>
<span id="cb27-275"><a href="#cb27-275"></a><span class="cf">if</span>(assigned_condition <span class="op">==</span> <span class="st">"ai"</span>){</span>
<span id="cb27-276"><a href="#cb27-276"></a></span>
<span id="cb27-277"><a href="#cb27-277"></a>  <span class="co">// run with ai instructions</span></span>
<span id="cb27-278"><a href="#cb27-278"></a>  jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb27-279"><a href="#cb27-279"></a>    welcome<span class="op">,</span></span>
<span id="cb27-280"><a href="#cb27-280"></a>    preload<span class="op">,</span></span>
<span id="cb27-281"><a href="#cb27-281"></a>    ai_exposure_instructions<span class="op">,</span></span>
<span id="cb27-282"><a href="#cb27-282"></a>    exposure<span class="op">,</span></span>
<span id="cb27-283"><a href="#cb27-283"></a>    ai_evaluation_instructions<span class="op">,</span></span>
<span id="cb27-284"><a href="#cb27-284"></a>    evaluation<span class="op">,</span></span>
<span id="cb27-285"><a href="#cb27-285"></a>    saveData</span>
<span id="cb27-286"><a href="#cb27-286"></a>  ])<span class="op">;</span></span>
<span id="cb27-287"><a href="#cb27-287"></a></span>
<span id="cb27-288"><a href="#cb27-288"></a>} <span class="cf">else</span> <span class="cf">if</span> (assigned_condition <span class="op">==</span> <span class="st">"human"</span>){</span>
<span id="cb27-289"><a href="#cb27-289"></a></span>
<span id="cb27-290"><a href="#cb27-290"></a>  <span class="co">// run with human instructions</span></span>
<span id="cb27-291"><a href="#cb27-291"></a>  jsPsych<span class="op">.</span><span class="fu">run</span>([</span>
<span id="cb27-292"><a href="#cb27-292"></a>    welcome<span class="op">,</span></span>
<span id="cb27-293"><a href="#cb27-293"></a>    preload<span class="op">,</span></span>
<span id="cb27-294"><a href="#cb27-294"></a>    human_exposure_instructions<span class="op">,</span></span>
<span id="cb27-295"><a href="#cb27-295"></a>    exposure<span class="op">,</span></span>
<span id="cb27-296"><a href="#cb27-296"></a>    human_evaluation_instructions<span class="op">,</span></span>
<span id="cb27-297"><a href="#cb27-297"></a>    evaluation<span class="op">,</span></span>
<span id="cb27-298"><a href="#cb27-298"></a>    saveData</span>
<span id="cb27-299"><a href="#cb27-299"></a>  ])<span class="op">;</span></span>
<span id="cb27-300"><a href="#cb27-300"></a></span>
<span id="cb27-301"><a href="#cb27-301"></a>}</span>
<span id="cb27-302"><a href="#cb27-302"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource css number-lines code-with-copy"><code class="sourceCode css"><span id="cb28-1"><a href="#cb28-1"></a> </span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">.instructionStyle</span> {</span>
<span id="cb28-3"><a href="#cb28-3"></a>     <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">750</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>     <span class="kw">text-align</span><span class="ch">:</span> <span class="dv">left</span><span class="op">;</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>}</span>
<span id="cb28-6"><a href="#cb28-6"></a> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div id="demo-container-7" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; transition: box-shadow 0.2s ease;">
<div style="background-color: #f8f9fa; padding: 8px 12px; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
<div>
<span style="font-weight: bold; color: #495057;">Live JsPsych Demo</span>
<span class="focus-indicator-7" style="margin-left: 10px; font-size: 11px; color: #6c757d; font-style: italic;">Click inside the demo to activate demo</span>
</div>
<div style="display: flex; gap: 8px;">
<button onclick="
            console.log('Full screen button clicked');
            var htmlContent = '<!DOCTYPE html>\n<html>\n  <head>\n    <title>Live JsPsych Demo</title>\n    <script src=\'https://unpkg.com/jspsych@8.2.2\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0\' crossorigin></script>\n      <script src=\'https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0\' crossorigin></script>\n    \n    <script src=\'https://unpkg.com/@jspsych/plugin-preload@2.1.0\' crossorigin></script>\n    <script src=\'https://unpkg.com/@jspsych/plugin-instructions@2.1.0\' crossorigin></script>\n    <link href=\'https://unpkg.com/jspsych@8.2.2/css/jspsych.css\' rel=\'stylesheet\' type=\'text/css\' crossorigin />\n    <style>\n      \n.instructionStyle {\n     max-width: 750px;\n     text-align: left;\n}\n\n    </style>\n    <style>\n      /* Paused overlay styles */\n      #paused-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0, 0, 0, 0.7);\n        display: none;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999;\n        font-family: Arial, sans-serif;\n      }\n\n      #paused-message {\n        background-color: white;\n        padding: 30px;\n        border-radius: 10px;\n        text-align: center;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n        max-width: 300px;\n      }\n\n      #paused-message h2 {\n        margin-top: 0;\n        color: #dc3545;\n        font-size: 24px;\n      }\n\n      #paused-message p {\n        color: #666;\n        margin-bottom: 0;\n        font-size: 16px;\n      }\n\n      .pulse {\n        animation: pulse 2s infinite;\n      }\n\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    </style>\n  </head>\n  <body>\n    <!-- Paused overlay -->\n    <div id=\'paused-overlay\'>\n      <div id=\'paused-message\'>\n        <h2>Demo Paused</h2>\n        <p class=\'pulse\'>Click Anywhere to Resume</p>\n      </div>\n    </div>\n  </body>\n  <script>\n// Initialize jsPsych with interaction tracking and overlay control\nconst jsPsych = initJsPsych({\n  on_interaction_data_update: function(data) {\n    const overlay = document.getElementById(\'paused-overlay\');\n\n    if (data.event === \'blur\') {\n      // User clicked away - pause experiment and show overlay\n      jsPsych.pauseExperiment();\n      if (overlay) {\n        overlay.style.display = \'flex\';\n      }\n    } else if (data.event === \'focus\') {\n      // User returned - resume experiment and hide overlay\n      jsPsych.resumeExperiment();\n      if (overlay) {\n        overlay.style.display = \'none\';\n      }\n    }\n  }\n});\n\n// Make the overlay clickable to resume\ndocument.addEventListener(\'DOMContentLoaded\', function() {\n  const overlay = document.getElementById(\'paused-overlay\');\n  if (overlay) {\n    overlay.addEventListener(\'click\', function() {\n      // Focus the window and let the interaction handler resume\n      window.focus();\n    });\n  }\n});\n\n\n\n// ============================================\n// Between-Subjects Condition Assignment\n// ============================================\n\n// Get participant ID from URL, or generate random one if not found\nlet participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000);\n\n// Assign to one of three conditions based on ID\nlet conditions = [&quot;ai&quot;, &quot;human&quot;];\nlet assigned_condition = conditions[participant_id % 2];\n\n// Save id and assignment to data\njsPsych.data.addProperties({\n  participant_id: participant_id,\n  assigned_condition: assigned_condition\n});\n\n// ============================================\n// Preload Images\n// ============================================\n\nlet preload = {\n  type: jsPsychPreload,\n  images: [\n        &quot;images/art/art_1.png&quot;,\n        &quot;images/art/art_2.png&quot;,\n        &quot;images/art/art_3.png&quot;,\n        &quot;images/art/art_4.png&quot;,\n        &quot;images/art/art_5.png&quot;,\n        &quot;images/art/art_6.png&quot;,\n        &quot;images/art/art_7.png&quot;,\n        &quot;images/art/art_8.png&quot;,\n        &quot;images/art/art_9.png&quot;,\n        &quot;images/art/art_10.png&quot;,\n        &quot;images/art/art_11.png&quot;,\n        &quot;images/art/art_12.png&quot;],\n  show_progress_bar: true,\n  continue_after_error: false\n}\n\n// ============================================\n// Welcome\n// ============================================\n\nlet welcome = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,\n  choices: &quot; &quot;\n}\n\n// ============================================\n// Exposure Phase\n// ============================================\n\nlet ai_exposure_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>This is a study of people\'s responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it\'s presented.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>All of these paintings were generated by artificial intelligence. We\'re providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>\n       </div>`, \n      `<div class=&quot;instructionStyle&quot;>\n           <p>After all the paintings have been presented, We\'ll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;instructions&quot;\n  }\n}\n\nlet human_exposure_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>This is a study of people\'s responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it\'s presented.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>All of these paintings were created by professional abstract artists. We\'re providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>\n       </div>`, \n      `<div class=&quot;instructionStyle&quot;>\n          <p>After all the paintings have been presented, We\'ll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;instructions&quot;\n  }\n}\n\nlet exposure = {\n        timeline: [\n            {\n                type:jsPsychImageKeyboardResponse,\n                stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n                choices: &quot;NO_KEYS&quot;,\n                stimulus_width: 250,\n                trial_duration: 1000,\n                post_trial_gap: 200\n            }\n        ],\n        timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n        ],\n        sample: {\n            type: &quot;custom&quot;,\n            fn: function(indices){\n                let output = []\n\n                // Define how many times each image should appear\n                // shuffle so that it randomly paired with an image index\n                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])\n        \n                // Add each image the specified number of times\n                for (let i = 0; i < repetitions.length; i++) {\n                    const imageIndex = indices[i]\n                    const repeatCount = repetitions[i]\n        \n                    // Add this image repeatCount times to output\n                    for (let j = 0; j < repeatCount; j++) {\n                        output.push(imageIndex)\n                    }\n                }\n\n                // save the repetition data as a global property\n                jsPsych.data.addProperties({image_repetition_map: repetitions})\n        \n                // Shuffle so the repeated images appear in random order\n                output = jsPsych.randomization.shuffle(output)\n        \n                return output\n            }\n        }\n    }\n\n// ============================================\n// Evaluation Phase\n// ============================================\n\nlet ai_evaluation_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We\'re interested in your personal preferences.</p>\n       </div>`, \n\n      `<div class=&quot;instructionStyle&quot;>\n           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;evaluation_instructions&quot;\n  }\n}\n\nlet human_evaluation_instructions = {\n  type: jsPsychInstructions,\n  pages: [\n     `<div class=&quot;instructionStyle&quot;>\n         <p>You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.</p>\n      </div>`,\n\n      `<div class=&quot;instructionStyle&quot;>\n          <p>For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We\'re interested in your personal preferences.</p>\n       </div>`, \n\n      `<div class=&quot;instructionStyle&quot;>\n           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>\n       </div>`, \n    ],\n  show_clickable_nav: true,\n  show_page_number: true,\n  data: {\n      phase: &quot;evaluation_instructions&quot;\n  }\n}\n\nlet evaluation = {\n      timeline: [\n        {\n          type: jsPsychImageSliderResponse,\n          stimulus: jsPsych.timelineVariable(&quot;image&quot;),\n          prompt: &quot;<p>How much do you like this painting?</p>&quot;,\n          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],\n          min: 1,\n          max: 9,\n          step: 1,\n          stimulus_width: 250,\n          slider_start: 5,\n          require_movement: true,\n          post_trial_gap: 200,\n          data: {\n              phase: &quot;evaluation&quot;\n          }\n        }\n      ],\n      timeline_variables: [\n            {image: &quot;images/art/art_1.png&quot;},\n            {image: &quot;images/art/art_2.png&quot;},\n            {image: &quot;images/art/art_3.png&quot;},\n            {image: &quot;images/art/art_4.png&quot;},\n            {image: &quot;images/art/art_5.png&quot;},\n            {image: &quot;images/art/art_6.png&quot;},\n            {image: &quot;images/art/art_7.png&quot;},\n            {image: &quot;images/art/art_8.png&quot;},\n            {image: &quot;images/art/art_9.png&quot;},\n            {image: &quot;images/art/art_10.png&quot;},\n            {image: &quot;images/art/art_11.png&quot;},\n            {image: &quot;images/art/art_12.png&quot;}\n      ],\n      randomized_order: true\n}\n\n// ============================================\n// Savd Data Trial\n// ============================================\n\nconst saveData = {\n  type: jsPsychHtmlKeyboardResponse,\n  stimulus: `\n    <div style=&quot;text-align: center;&quot;>\n      <p>Experiment complete!</p>\n      <p>Click the button below to save your data locally:</p>\n      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>\n        Click here to save the data locally\n      </button>\n    </div>\n  `,\n  choices: &quot;NO_KEYS&quot;,\n  trial_duration: null,\n  on_load: function() {\n    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {\n      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);\n    });\n  },\n  data: {\n    phase: &quot;save data trial&quot;\n  }\n};\n\n// ============================================\n// Run jsPsych \n// ============================================\n\nif(assigned_condition == &quot;ai&quot;){\n\n  // run with ai instructions\n  jsPsych.run([\n    welcome,\n    preload,\n    ai_exposure_instructions,\n    exposure,\n    ai_evaluation_instructions,\n    evaluation,\n    saveData\n  ]);\n\n} else if (assigned_condition == &quot;human&quot;){\n\n  // run with human instructions\n  jsPsych.run([\n    welcome,\n    preload,\n    human_exposure_instructions,\n    exposure,\n    human_evaluation_instructions,\n    evaluation,\n    saveData\n  ]);\n\n}\n\n  </script>\n</html>';
            var newWindow = window.open('', '_blank');
            if (newWindow) {
              newWindow.document.write(htmlContent);
              newWindow.document.close();
            } else {
              alert('Pop-up blocked! Please allow pop-ups for this site.');
            }
          " style="background-color: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Open in New Tab</button>
<button onclick="
            var iframe = document.getElementById('demo-iframe-7');
            var srcdoc = iframe.getAttribute('srcdoc');
            iframe.setAttribute('srcdoc', '');
            setTimeout(function() {
              iframe.setAttribute('srcdoc', srcdoc);
            }, 10);
          " style="background-color: #007bff; color: white; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 12px;">Refresh</button>
</div>
</div>
<iframe id="demo-iframe-7" srcdoc="<!DOCTYPE html>
<html>
  <head>
    <title>Live JsPsych Demo</title>
    <script src='https://unpkg.com/jspsych@8.2.2' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-button-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-image-keyboard-response@2.1.0' crossorigin></script>
      <script src='https://unpkg.com/@jspsych/plugin-image-slider-response@2.1.0' crossorigin></script>
    
    <script src='https://unpkg.com/@jspsych/plugin-preload@2.1.0' crossorigin></script>
    <script src='https://unpkg.com/@jspsych/plugin-instructions@2.1.0' crossorigin></script>
    <link href='https://unpkg.com/jspsych@8.2.2/css/jspsych.css' rel='stylesheet' type='text/css' crossorigin />
    <style>
      
.instructionStyle {
     max-width: 750px;
     text-align: left;
}

    </style>
    <style>
      /* Paused overlay styles */
      #paused-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        font-family: Arial, sans-serif;
      }

      #paused-message {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 300px;
      }

      #paused-message h2 {
        margin-top: 0;
        color: #dc3545;
        font-size: 24px;
      }

      #paused-message p {
        color: #666;
        margin-bottom: 0;
        font-size: 16px;
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
  </head>
  <body style='max-height: 300px'>
    <!-- Paused overlay -->
    <div id='paused-overlay'>
      <div id='paused-message'>
        <h2>Demo Paused</h2>
        <p class='pulse'>Click Anywhere to Resume</p>
      </div>
    </div>
  </body>
  <script>
// Initialize jsPsych with interaction tracking and overlay control
const jsPsych = initJsPsych({
  on_interaction_data_update: function(data) {
    const overlay = document.getElementById('paused-overlay');

    if (data.event === 'blur') {
      // User clicked away - pause experiment and show overlay
      jsPsych.pauseExperiment();
      if (overlay) {
        overlay.style.display = 'flex';
      }
    } else if (data.event === 'focus') {
      // User returned - resume experiment and hide overlay
      jsPsych.resumeExperiment();
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
  }
});

// Make the overlay clickable to resume
document.addEventListener('DOMContentLoaded', function() {
  const overlay = document.getElementById('paused-overlay');
  if (overlay) {
    overlay.addEventListener('click', function() {
      // Focus the window and let the interaction handler resume
      window.focus();
    });
  }
});



// ============================================
// Between-Subjects Condition Assignment
// ============================================

// Get participant ID from URL, or generate random one if not found
let participant_id = jsPsych.data.getURLVariable(&quot;id&quot;) || jsPsych.randomization.randomInt(1, 100000);

// Assign to one of three conditions based on ID
let conditions = [&quot;ai&quot;, &quot;human&quot;];
let assigned_condition = conditions[participant_id % 2];

// Save id and assignment to data
jsPsych.data.addProperties({
  participant_id: participant_id,
  assigned_condition: assigned_condition
});

// ============================================
// Preload Images
// ============================================

let preload = {
  type: jsPsychPreload,
  images: [
        &quot;images/art/art_1.png&quot;,
        &quot;images/art/art_2.png&quot;,
        &quot;images/art/art_3.png&quot;,
        &quot;images/art/art_4.png&quot;,
        &quot;images/art/art_5.png&quot;,
        &quot;images/art/art_6.png&quot;,
        &quot;images/art/art_7.png&quot;,
        &quot;images/art/art_8.png&quot;,
        &quot;images/art/art_9.png&quot;,
        &quot;images/art/art_10.png&quot;,
        &quot;images/art/art_11.png&quot;,
        &quot;images/art/art_12.png&quot;],
  show_progress_bar: true,
  continue_after_error: false
}

// ============================================
// Welcome
// ============================================

let welcome = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: &quot;Welcome to the experiment! Press the space bar to begin.&quot;,
  choices: &quot; &quot;
}

// ============================================
// Exposure Phase
// ============================================

let ai_exposure_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>All of these paintings were generated by artificial intelligence. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>
       </div>`, 
      `<div class=&quot;instructionStyle&quot;>
           <p>After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;instructions&quot;
  }
}

let human_exposure_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>This is a study of people's responses to visual stimuli. You will be presented with a series of abstract paintings one at a time, and you should examine each painting as it's presented.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>All of these paintings were created by professional abstract artists. We're providing this information because research suggests that knowing the source of artwork may influence how people perceive it.</p>
       </div>`, 
      `<div class=&quot;instructionStyle&quot;>
          <p>After all the paintings have been presented, We'll ask you some questions about your reactions to the stimuli. There are about 50 stimuli in all, and this part of the experiment will take about 4 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;instructions&quot;
  }
}

let exposure = {
        timeline: [
            {
                type:jsPsychImageKeyboardResponse,
                stimulus: jsPsych.timelineVariable(&quot;image&quot;),
                choices: &quot;NO_KEYS&quot;,
                stimulus_width: 250,
                trial_duration: 1000,
                post_trial_gap: 200
            }
        ],
        timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
        ],
        sample: {
            type: &quot;custom&quot;,
            fn: function(indices){
                let output = []

                // Define how many times each image should appear
                // shuffle so that it randomly paired with an image index
                const repetitions = jsPsych.randomization.shuffle([0, 1, 2, 5, 8, 10, 0, 1, 2, 5, 8, 10])
        
                // Add each image the specified number of times
                for (let i = 0; i < repetitions.length; i++) {
                    const imageIndex = indices[i]
                    const repeatCount = repetitions[i]
        
                    // Add this image repeatCount times to output
                    for (let j = 0; j < repeatCount; j++) {
                        output.push(imageIndex)
                    }
                }

                // save the repetition data as a global property
                jsPsych.data.addProperties({image_repetition_map: repetitions})
        
                // Shuffle so the repeated images appear in random order
                output = jsPsych.randomization.shuffle(output)
        
                return output
            }
        }
    }

// ============================================
// Evaluation Phase
// ============================================

let ai_evaluation_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>You will now see a series of AI-generated abstract paintings, some of which you may have seen before and some that are new.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>For each AI-generated painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.</p>
       </div>`, 

      `<div class=&quot;instructionStyle&quot;>
           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;evaluation_instructions&quot;
  }
}

let human_evaluation_instructions = {
  type: jsPsychInstructions,
  pages: [
     `<div class=&quot;instructionStyle&quot;>
         <p>You will now see a series of abstract paintings created by professional artists, some of which you may have seen before and some that are new.</p>
      </div>`,

      `<div class=&quot;instructionStyle&quot;>
          <p>For each artist-created painting, please rate how much you like it using the scale provided. There are no right or wrong answers. We're interested in your personal preferences.</p>
       </div>`, 

      `<div class=&quot;instructionStyle&quot;>
           <p>Please respond based on your immediate impression of each painting. This part of the experiment will take about 3 minutes.</p>
       </div>`, 
    ],
  show_clickable_nav: true,
  show_page_number: true,
  data: {
      phase: &quot;evaluation_instructions&quot;
  }
}

let evaluation = {
      timeline: [
        {
          type: jsPsychImageSliderResponse,
          stimulus: jsPsych.timelineVariable(&quot;image&quot;),
          prompt: &quot;<p>How much do you like this painting?</p>&quot;,
          labels: [&quot;Dislike Very Much&quot;, &quot;Like Very Much&quot;],
          min: 1,
          max: 9,
          step: 1,
          stimulus_width: 250,
          slider_start: 5,
          require_movement: true,
          post_trial_gap: 200,
          data: {
              phase: &quot;evaluation&quot;
          }
        }
      ],
      timeline_variables: [
            {image: &quot;images/art/art_1.png&quot;},
            {image: &quot;images/art/art_2.png&quot;},
            {image: &quot;images/art/art_3.png&quot;},
            {image: &quot;images/art/art_4.png&quot;},
            {image: &quot;images/art/art_5.png&quot;},
            {image: &quot;images/art/art_6.png&quot;},
            {image: &quot;images/art/art_7.png&quot;},
            {image: &quot;images/art/art_8.png&quot;},
            {image: &quot;images/art/art_9.png&quot;},
            {image: &quot;images/art/art_10.png&quot;},
            {image: &quot;images/art/art_11.png&quot;},
            {image: &quot;images/art/art_12.png&quot;}
      ],
      randomized_order: true
}

// ============================================
// Savd Data Trial
// ============================================

const saveData = {
  type: jsPsychHtmlKeyboardResponse,
  stimulus: `
    <div style=&quot;text-align: center;&quot;>
      <p>Experiment complete!</p>
      <p>Click the button below to save your data locally:</p>
      <button id=&quot;save-btn&quot; style=&quot;padding: 10px 20px; font-size: 16px; cursor: pointer;&quot;>
        Click here to save the data locally
      </button>
    </div>
  `,
  choices: &quot;NO_KEYS&quot;,
  trial_duration: null,
  on_load: function() {
    document.getElementById(&quot;save-btn&quot;).addEventListener(&quot;click&quot;, function() {
      jsPsych.data.get().localSave(&quot;csv&quot;, &quot;mereExposure_data.csv&quot;);
    });
  },
  data: {
    phase: &quot;save data trial&quot;
  }
};

// ============================================
// Run jsPsych 
// ============================================

if(assigned_condition == &quot;ai&quot;){

  // run with ai instructions
  jsPsych.run([
    welcome,
    preload,
    ai_exposure_instructions,
    exposure,
    ai_evaluation_instructions,
    evaluation,
    saveData
  ]);

} else if (assigned_condition == &quot;human&quot;){

  // run with human instructions
  jsPsych.run([
    welcome,
    preload,
    human_exposure_instructions,
    exposure,
    human_evaluation_instructions,
    evaluation,
    saveData
  ]);

}

  </script>
</html>" width="100%" height="300px" scrolling="yes" style="border: none; display: block;" onload="javascript:(function(iframe){
        var container = document.getElementById(&quot;demo-container-7&quot;);
        var indicator = container.querySelector(&quot;.focus-indicator-7&quot;);

        function showFocus() {
          container.style.boxShadow = &quot;0 0 0 3px #007bff&quot;;
          if (indicator) {
            indicator.textContent = &quot;‚úì Demo Active&quot;;
            indicator.style.color = &quot;#28a745&quot;;
          }
        }

        function hideFocus() {
          container.style.boxShadow = &quot;none&quot;;
          if (indicator) {
            indicator.textContent = &quot;Click inside the demo to activate&quot;;
            indicator.style.color = &quot;#6c757d&quot;;
          }
        }

        var iframeWindow = iframe.contentWindow;
        if (iframeWindow) {
          iframeWindow.onfocus = showFocus;
          iframeWindow.onblur = hideFocus;
          iframeWindow.document.addEventListener(&quot;click&quot;, function() {
            iframeWindow.focus();
            showFocus();
          });
          document.addEventListener(&quot;click&quot;, function(e) {
            if (!container.contains(e.target)) {
              iframeWindow.blur();
              hideFocus();
            }
          });
        }
      }(this));"></iframe>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="stretch-goals" class="level2" data-number="23.3">
<h2 data-number="23.3" class="anchored" data-anchor-id="stretch-goals"><span class="header-section-number">23.3</span> Stretch Goals</h2>
<section id="add-a-third-between-subjects-condition" class="level3" data-number="23.3.1">
<h3 data-number="23.3.1" class="anchored" data-anchor-id="add-a-third-between-subjects-condition"><span class="header-section-number">23.3.1</span> Add a third between-subjects condition</h3>
<p>Let‚Äôs add another condition to our experiment. The mere exposure effect for artwork might change due to AI vs.&nbsp;Professional Artists because of perceived skill. Let‚Äôs add a third condition that tells participants that the artworks were created by ‚Äôamateur artists as a hobby‚Äù.</p>
<p>The instructions should read:</p>
<ul>
<li>‚ÄúAll of these paintings were created by amateur artists as a hobby‚Ä¶‚Äù</li>
<li>‚ÄúFor each amateur artist-created painting, please rate how much you like it‚Ä¶‚Äù</li>
</ul>
</section>
<section id="add-a-deception-debrief" class="level3" data-number="23.3.2">
<h3 data-number="23.3.2" class="anchored" data-anchor-id="add-a-deception-debrief"><span class="header-section-number">23.3.2</span> Add a deception debrief</h3>
<p>This experiment, although fairly benign, does involve deception. We have lied to some participants, telling them that the paintings were created by artists, when in truth they were all created by an AI image generator.</p>
<p>Let‚Äôs two things. Add a deception debrief before the save data screen. This deception screen ONLY needs to be present for the artist/amateur-artist participants. The AI condition has no deception involved.</p>
<p>Here is the text, you can use the instruction plugin and style it properly:</p>
<p>‚ÄúDeception Notice</p>
<p>Before we finish, we need to inform you about an important aspect of this study:</p>
<p>The labels indicating that the paintings were ‚ÄúArtist-created‚Äù was assigned randomly and did not reflect the true source of the paintings. In fact, all images were AI-generated.</p>
<p>This study investigated the ‚Äúmere exposure effect‚Äù: people‚Äôs tendency to develop preferences for things they‚Äôve encountered before, even without conscious awareness. We specifically tested whether this effect is influenced by beliefs about whether artwork was created by AI or by human artists.</p>
<p>To answer this question, we needed participants to genuinely believe the source labels. If you had known the labels were random, you would not have formed real beliefs about each painting‚Äôs origin, making it impossible to test our hypothesis.‚Äù</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./22-randomization.html" class="pagination-link" aria-label="Randomization in Experimental Design">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Randomization in Experimental Design</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./24-L11.html" class="pagination-link" aria-label="Lab 11: Face Perception">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Lab 11: Face Perception</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/icoglab/online-behavioural-research-methods/edit/main/23-L10.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/icoglab/online-behavioural-research-methods/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>